/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.0.0(41688566cb498e29099b192002bde8b98c1585b2)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ee=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/base/common/errors","vs/editor/browser/editorExtensions","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/languages","vs/base/common/arrays","vs/base/common/types","vs/base/common/cancellation","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/editor/common/editorContextKeys","vs/base/common/uri","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/editor/common/config/editorOptions","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/base/browser/browser","vs/editor/common/services/language","vs/editor/common/languages/languageConfigurationRegistry","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/base/common/objects","vs/platform/configuration/common/configuration","vs/platform/notification/common/notification","vs/base/common/resources","vs/platform/keybinding/common/keybinding","vs/base/browser/ui/aria/aria","vs/base/common/actions","vs/editor/common/services/model","vs/editor/common/controller/cursorCommon","vs/base/browser/keyboardEvent","vs/base/common/map","vs/base/common/network","vs/editor/common/model","vs/editor/browser/view/viewPart","vs/platform/opener/common/opener","vs/editor/common/view/editorColorRegistry","vs/platform/instantiation/common/extensions","vs/base/common/iterator","vs/base/common/keyCodes","vs/base/browser/mouseEvent","vs/base/browser/touch","vs/editor/common/services/resolverService","vs/base/browser/ui/widget","vs/editor/common/core/editOperation","vs/editor/browser/config/domFontInfo","vs/platform/accessibility/common/accessibility","vs/platform/log/common/log","vs/base/common/htmlContent","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/progress/common/progress","vs/editor/browser/core/editorState","vs/platform/theme/common/iconRegistry","vs/base/common/filters","vs/base/common/severity","vs/editor/common/model/tokens/lineTokens","vs/platform/contextview/browser/contextView","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/editor/common/languages/modesRegistry","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/editorWorker","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/common/stopwatch","vs/base/browser/event","vs/editor/common/core/stringBuilder","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/model/textModelEvents","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/iconLabels","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/browser/view/dynamicViewOverlay","vs/editor/standalone/common/standaloneTheme","vs/platform/clipboard/common/clipboardService","vs/platform/configuration/common/configurationRegistry","vs/editor/browser/core/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/suggest/suggest","vs/editor/contrib/peekView/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/hash","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/cursorColumns","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/languages/languageConfiguration","vs/editor/common/languages/nullMode","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/model/pieceTreeTextBuffer/eolCounter","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/platform/layout/browser/layoutService","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/platform/theme/common/theme","vs/base/common/idGenerator","vs/base/common/lazy","vs/base/common/mime","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/types","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/common/controller/cursorWordOperations","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/findModel","vs/base/browser/dnd","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/model/utils","vs/editor/common/model/guidesTextModelPart","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/inlineCompletions/ghostText","vs/editor/contrib/inlineCompletions/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/platform/instantiation/common/descriptors","vs/editor/browser/services/bulkEditService","vs/editor/common/services/markerDecorations","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/editor/common/services/languageFeatureDebounce","vs/editor/contrib/documentSymbols/outlineModel","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/contrib/hover/markdownHoverParticipant","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/diff/diffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/textChange","vs/editor/common/languages/unicodeTextModelHighlighter","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/modelLineProjectionData","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/inlineCompletions/consts","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/browser/services/editorWorkerService","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/hover/getHover","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/browser/controller/mouseTarget","vs/editor/common/controller/cursor","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/find/findController","vs/editor/contrib/wordOperations/wordOperations","vs/editor/contrib/gotoError/gotoError","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/contrib/inlayHints/inlayHintsController","vs/platform/workspace/common/workspace","vs/platform/workspace/common/workspaceTrust","vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/cache","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/fuzzyScorer","vs/base/common/search","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/languages/languageSelector","vs/editor/common/languages/linkComputer","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/languages/supports/tokenization","vs/editor/common/languages/tokenizationRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/tokens/contiguousMultilineTokens","vs/editor/common/model/tokens/contiguousMultilineTokensBuilder","vs/editor/common/model/tokens/sparseMultilineTokens","vs/editor/common/services/languagesAssociations","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/colorPicker/colorPickerWidget","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/lineSelection","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspaces/common/workspaces","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/languages/languageFeatureRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokens/contiguousTokensEditing","vs/editor/common/model/tokens/contiguousTokensStore","vs/editor/common/model/tokens/sparseTokensStore","vs/editor/common/viewModel/modelLineProjection","vs/editor/contrib/inlayHints/inlayHints","vs/editor/standalone/browser/colorizer","vs/editor/contrib/links/getLinks","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/browser/services/webWorker","vs/editor/contrib/documentSymbols/documentSymbols","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/config/editorConfigurationSchema","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/marginHover","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeService","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/common/controller/cursorColumnSelection","vs/editor/browser/view/viewController","vs/editor/browser/view/view","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/dnd/dnd","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/lineSelection/lineSelection","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/suggest/suggestWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/inlayHints/inlayHintsLocations","vs/editor/contrib/inlayHints/inlayHintsHover","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/ghostTextModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/contentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/browser/dompurify/dompurify","vs/base/common/marked/marked","vs/editor/editor.main"],te=function(K){for(var e=[],y=0,m=K.length;y<m;y++)e[y]=ee[K[y]];return e},ai;(function(K){var e=function(){function m(){this._pendingLoads=0}return m.prototype.attachListeners=function(N,I,S,b){var C=function(){I.removeEventListener("load",h),I.removeEventListener("error",g)},h=function(t){C(),S()},g=function(t){C(),b(t)};I.addEventListener("load",h),I.addEventListener("error",g)},m.prototype._onLoad=function(N,I){this._pendingLoads--,I()},m.prototype._onLoadError=function(N,I,S){this._pendingLoads--,I(S)},m.prototype._insertLinkNode=function(N){this._pendingLoads++;var I=document.head||document.getElementsByTagName("head")[0];I.appendChild(N)},m.prototype.createLinkTag=function(N,I,S,b){var C=this,h=document.createElement("link");h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("data-name",N);var g=function(){return C._onLoad(N,S)},t=function(i){return C._onLoadError(N,b,i)};return this.attachListeners(N,h,g,t),h.setAttribute("href",I),h},m.prototype._linkTagExists=function(N,I){var S,b,C,h,g=document.getElementsByTagName("link");for(S=0,b=g.length;S<b;S++)if(C=g[S].getAttribute("data-name"),h=g[S].getAttribute("href"),C===N||h===I)return!0;return!1},m.prototype.load=function(N,I,S,b){if(this._linkTagExists(N,I)){S();return}var C=this.createLinkTag(N,I,S,b);this._insertLinkNode(C)},m}(),y=function(){function m(){this._cssLoader=new e}return m.prototype.load=function(N,I,S,b){b=b||{};var C=b["vs/css"]||{};if(C.disabled){S({});return}var h=I.toUrl(N+".css");this._cssLoader.load(N,h,function(g){S({})},function(g){typeof S.error=="function"&&S.error("Could not find "+h+" or it was empty")})},m}();K.CSSPlugin=y,define("vs/css",new y)})(ai||(ai={}));var Gi=this&&this.__spreadArrays||function(){for(var K=0,e=0,y=arguments.length;e<y;e++)K+=arguments[e].length;for(var m=Array(K),N=0,e=0;e<y;e++)for(var I=arguments[e],S=0,b=I.length;S<b;S++,N++)m[N]=I[S];return m},li;(function(K){var e=function(){function b(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(b.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),b.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},b}();function y(b,C,h){var g;return C.length===0?g=b:g=b.replace(/\{(\d+)\}/g,function(t,i){var n=i[0],o=C[n],d=t;return typeof o=="string"?d=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(d=String(o)),d}),h.isPseudo&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),g}function m(b,C){var h=b[C];return h||(h=b["*"],h)?h:null}function N(b,C,h){for(var g=[],t=3;t<arguments.length;t++)g[t-3]=arguments[t];return y(h,g,b)}function I(b,C){return function(h,g){var t=Array.prototype.slice.call(arguments,2);return y(b[h],t,C)}}var S=function(){function b(C){var h=this;this._env=C,this.localize=function(g,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return N.apply(void 0,Gi([h._env,g,t],i))}}return b.prototype.setPseudoTranslation=function(C){this._env._isPseudo=C},b.prototype.create=function(C,h){return{localize:I(h[C],this._env)}},b.prototype.load=function(C,h,g,t){var i=this;if(t=t||{},!C||C.length===0)g({localize:this.localize});else{var n=t["vs/nls"]||{},o=n.availableLanguages?m(n.availableLanguages,C):null,d=".nls";o!==null&&o!==b.DEFAULT_TAG&&(d=d+"."+o);var c=function(s){Array.isArray(s)?s.localize=I(s,i._env):s.localize=I(s[C],i._env),g(s)};typeof n.loadBundle=="function"?n.loadBundle(C,o,function(s,a){s?h([C+".nls"],c):c(a)}):h([C+d],c)}},b.DEFAULT_TAG="i-default",b}();K.NLSPlugin=S,define("vs/nls",new S(new e))})(li||(li={}));/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function Zi(K){if(Array.isArray(K)){for(var e=0,y=Array(K.length);e<K.length;e++)y[e]=K[e];return y}else return Array.from(K)}var Yi=Object.hasOwnProperty,di=Object.setPrototypeOf,Xi=Object.isFrozen,Qi=Object.getPrototypeOf,Ji=Object.getOwnPropertyDescriptor,dt=Object.freeze,mt=Object.seal,en=Object.create,ci=typeof Reflect!="undefined"&&Reflect,Mt=ci.apply,Ht=ci.construct;Mt||(Mt=function(e,y,m){return e.apply(y,m)}),dt||(dt=function(e){return e}),mt||(mt=function(e){return e}),Ht||(Ht=function(e,y){return new(Function.prototype.bind.apply(e,[null].concat(Zi(y))))});var tn=ut(Array.prototype.forEach),ui=ut(Array.prototype.pop),Et=ut(Array.prototype.push),St=ut(String.prototype.toLowerCase),hi=ut(String.prototype.match),bt=ut(String.prototype.replace),nn=ut(String.prototype.indexOf),sn=ut(String.prototype.trim),pt=ut(RegExp.prototype.test),gi=on(TypeError);function ut(K){return function(e){for(var y=arguments.length,m=Array(y>1?y-1:0),N=1;N<y;N++)m[N-1]=arguments[N];return Mt(K,e,m)}}function on(K){return function(){for(var e=arguments.length,y=Array(e),m=0;m<e;m++)y[m]=arguments[m];return Ht(K,y)}}function tt(K,e){di&&di(K,null);for(var y=e.length;y--;){var m=e[y];if(typeof m=="string"){var N=St(m);N!==m&&(Xi(e)||(e[y]=N),m=N)}K[m]=!0}return K}function wt(K){var e=en(null),y=void 0;for(y in K)Mt(Yi,K,[y])&&(e[y]=K[y]);return e}function At(K,e){for(;K!==null;){var y=Ji(K,e);if(y){if(y.get)return ut(y.get);if(typeof y.value=="function")return ut(y.value)}K=Qi(K)}function m(N){return console.warn("fallback value for",N),null}return m}var fi=dt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ut=dt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kt=dt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rn=dt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),jt=dt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),an=dt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mi=dt(["#text"]),pi=dt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),qt=dt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ci=dt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rt=dt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ln=mt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),dn=mt(/<%[\s\S]*|[\s\S]*%>/gm),cn=mt(/^data-[\-\w.\u00B7-\uFFFF]/),un=mt(/^aria-[\-\w]+$/),hn=mt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gn=mt(/^(?:\w+script|data):/i),fn=mt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K};function gt(K){if(Array.isArray(K)){for(var e=0,y=Array(K.length);e<K.length;e++)y[e]=K[e];return y}else return Array.from(K)}var mn=function(){return typeof window=="undefined"?null:window},pn=function(e,y){if((typeof e=="undefined"?"undefined":It(e))!=="object"||typeof e.createPolicy!="function")return null;var m=null,N="data-tt-policy-suffix";y.currentScript&&y.currentScript.hasAttribute(N)&&(m=y.currentScript.getAttribute(N));var I="dompurify"+(m?"#"+m:"");try{return e.createPolicy(I,{createHTML:function(b){return b}})}catch{return console.warn("TrustedTypes policy "+I+" could not be created."),null}};function vi(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mn(),e=function(_e){return vi(_e)};if(e.version="2.3.1",e.removed=[],!K||!K.document||K.document.nodeType!==9)return e.isSupported=!1,e;var y=K.document,m=K.document,N=K.DocumentFragment,I=K.HTMLTemplateElement,S=K.Node,b=K.Element,C=K.NodeFilter,h=K.NamedNodeMap,g=h===void 0?K.NamedNodeMap||K.MozNamedAttrMap:h,t=K.Text,i=K.Comment,n=K.DOMParser,o=K.trustedTypes,d=b.prototype,c=At(d,"cloneNode"),s=At(d,"nextSibling"),a=At(d,"childNodes"),r=At(d,"parentNode");if(typeof I=="function"){var l=m.createElement("template");l.content&&l.content.ownerDocument&&(m=l.content.ownerDocument)}var u=pn(o,y),f=u&&de?u.createHTML(""):"",w=m,v=w.implementation,p=w.createNodeIterator,_=w.createDocumentFragment,L=w.getElementsByTagName,E=y.importNode,M={};try{M=wt(m).documentMode?m.documentMode:{}}catch{}var k={};e.isSupported=typeof r=="function"&&v&&typeof v.createHTMLDocument!="undefined"&&M!==9;var A=ln,F=dn,B=cn,T=un,R=gn,O=fn,P=hn,D=null,x=tt({},[].concat(gt(fi),gt(Ut),gt(Kt),gt(jt),gt(mi))),H=null,j=tt({},[].concat(gt(pi),gt(qt),gt(Ci),gt(Rt))),Q=null,G=null,se=!0,ne=!0,Z=!1,U=!1,W=!1,V=!1,Y=!1,X=!1,ae=!1,J=!0,de=!1,q=!0,z=!0,$=!1,ie={},ce=null,oe=tt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),he=null,ve=tt({},["audio","video","img","source","image","track"]),Se=null,le=tt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",ue="http://www.w3.org/2000/svg",be="http://www.w3.org/1999/xhtml",re=be,fe=!1,ye=null,Me=m.createElement("form"),Oe=function(_e){ye&&ye===_e||((!_e||(typeof _e=="undefined"?"undefined":It(_e))!=="object")&&(_e={}),_e=wt(_e),D="ALLOWED_TAGS"in _e?tt({},_e.ALLOWED_TAGS):x,H="ALLOWED_ATTR"in _e?tt({},_e.ALLOWED_ATTR):j,Se="ADD_URI_SAFE_ATTR"in _e?tt(wt(le),_e.ADD_URI_SAFE_ATTR):le,he="ADD_DATA_URI_TAGS"in _e?tt(wt(ve),_e.ADD_DATA_URI_TAGS):ve,ce="FORBID_CONTENTS"in _e?tt({},_e.FORBID_CONTENTS):oe,Q="FORBID_TAGS"in _e?tt({},_e.FORBID_TAGS):{},G="FORBID_ATTR"in _e?tt({},_e.FORBID_ATTR):{},ie="USE_PROFILES"in _e?_e.USE_PROFILES:!1,se=_e.ALLOW_ARIA_ATTR!==!1,ne=_e.ALLOW_DATA_ATTR!==!1,Z=_e.ALLOW_UNKNOWN_PROTOCOLS||!1,U=_e.SAFE_FOR_TEMPLATES||!1,W=_e.WHOLE_DOCUMENT||!1,X=_e.RETURN_DOM||!1,ae=_e.RETURN_DOM_FRAGMENT||!1,J=_e.RETURN_DOM_IMPORT!==!1,de=_e.RETURN_TRUSTED_TYPE||!1,Y=_e.FORCE_BODY||!1,q=_e.SANITIZE_DOM!==!1,z=_e.KEEP_CONTENT!==!1,$=_e.IN_PLACE||!1,P=_e.ALLOWED_URI_REGEXP||P,re=_e.NAMESPACE||be,U&&(ne=!1),ae&&(X=!0),ie&&(D=tt({},[].concat(gt(mi))),H=[],ie.html===!0&&(tt(D,fi),tt(H,pi)),ie.svg===!0&&(tt(D,Ut),tt(H,qt),tt(H,Rt)),ie.svgFilters===!0&&(tt(D,Kt),tt(H,qt),tt(H,Rt)),ie.mathMl===!0&&(tt(D,jt),tt(H,Ci),tt(H,Rt))),_e.ADD_TAGS&&(D===x&&(D=wt(D)),tt(D,_e.ADD_TAGS)),_e.ADD_ATTR&&(H===j&&(H=wt(H)),tt(H,_e.ADD_ATTR)),_e.ADD_URI_SAFE_ATTR&&tt(Se,_e.ADD_URI_SAFE_ATTR),_e.FORBID_CONTENTS&&(ce===oe&&(ce=wt(ce)),tt(ce,_e.FORBID_CONTENTS)),z&&(D["#text"]=!0),W&&tt(D,["html","head","body"]),D.table&&(tt(D,["tbody"]),delete Q.tbody),dt&&dt(_e),ye=_e)},He=tt({},["mi","mo","mn","ms","mtext"]),Ve=tt({},["foreignobject","desc","title","annotation-xml"]),Ge=tt({},Ut);tt(Ge,Kt),tt(Ge,rn);var Je=tt({},jt);tt(Je,an);var Ze=function(_e){var Pe=r(_e);(!Pe||!Pe.tagName)&&(Pe={namespaceURI:be,tagName:"template"});var Ae=St(_e.tagName),xe=St(Pe.tagName);if(_e.namespaceURI===ue)return Pe.namespaceURI===be?Ae==="svg":Pe.namespaceURI===ge?Ae==="svg"&&(xe==="annotation-xml"||He[xe]):Boolean(Ge[Ae]);if(_e.namespaceURI===ge)return Pe.namespaceURI===be?Ae==="math":Pe.namespaceURI===ue?Ae==="math"&&Ve[xe]:Boolean(Je[Ae]);if(_e.namespaceURI===be){if(Pe.namespaceURI===ue&&!Ve[xe]||Pe.namespaceURI===ge&&!He[xe])return!1;var je=tt({},["title","style","font","a","script"]);return!Je[Ae]&&(je[Ae]||!Ge[Ae])}return!1},et=function(_e){Et(e.removed,{element:_e});try{_e.parentNode.removeChild(_e)}catch{try{_e.outerHTML=f}catch{_e.remove()}}},Ee=function(_e,Pe){try{Et(e.removed,{attribute:Pe.getAttributeNode(_e),from:Pe})}catch{Et(e.removed,{attribute:null,from:Pe})}if(Pe.removeAttribute(_e),_e==="is"&&!H[_e])if(X||ae)try{et(Pe)}catch{}else try{Pe.setAttribute(_e,"")}catch{}},Ie=function(_e){var Pe=void 0,Ae=void 0;if(Y)_e="<remove></remove>"+_e;else{var xe=hi(_e,/^[\r\n\t ]+/);Ae=xe&&xe[0]}var je=u?u.createHTML(_e):_e;if(re===be)try{Pe=new n().parseFromString(je,"text/html")}catch{}if(!Pe||!Pe.documentElement){Pe=v.createDocument(re,"template",null);try{Pe.documentElement.innerHTML=fe?"":je}catch{}}var qe=Pe.body||Pe.documentElement;return _e&&Ae&&qe.insertBefore(m.createTextNode(Ae),qe.childNodes[0]||null),re===be?L.call(Pe,W?"html":"body")[0]:W?Pe.documentElement:qe},Re=function(_e){return p.call(_e.ownerDocument||_e,_e,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},Ue=function(_e){return _e instanceof t||_e instanceof i?!1:typeof _e.nodeName!="string"||typeof _e.textContent!="string"||typeof _e.removeChild!="function"||!(_e.attributes instanceof g)||typeof _e.removeAttribute!="function"||typeof _e.setAttribute!="function"||typeof _e.namespaceURI!="string"||typeof _e.insertBefore!="function"},Ne=function(_e){return(typeof S=="undefined"?"undefined":It(S))==="object"?_e instanceof S:_e&&(typeof _e=="undefined"?"undefined":It(_e))==="object"&&typeof _e.nodeType=="number"&&typeof _e.nodeName=="string"},ke=function(_e,Pe,Ae){!k[_e]||tn(k[_e],function(xe){xe.call(e,Pe,Ae,ye)})},Te=function(_e){var Pe=void 0;if(ke("beforeSanitizeElements",_e,null),Ue(_e)||hi(_e.nodeName,/[\u0080-\uFFFF]/))return et(_e),!0;var Ae=St(_e.nodeName);if(ke("uponSanitizeElement",_e,{tagName:Ae,allowedTags:D}),!Ne(_e.firstElementChild)&&(!Ne(_e.content)||!Ne(_e.content.firstElementChild))&&pt(/<[/\w]/g,_e.innerHTML)&&pt(/<[/\w]/g,_e.textContent)||Ae==="select"&&pt(/<template/i,_e.innerHTML))return et(_e),!0;if(!D[Ae]||Q[Ae]){if(z&&!ce[Ae]){var xe=r(_e)||_e.parentNode,je=a(_e)||_e.childNodes;if(je&&xe)for(var qe=je.length,ze=qe-1;ze>=0;--ze)xe.insertBefore(c(je[ze],!0),s(_e))}return et(_e),!0}return _e instanceof b&&!Ze(_e)||(Ae==="noscript"||Ae==="noembed")&&pt(/<\/no(script|embed)/i,_e.innerHTML)?(et(_e),!0):(U&&_e.nodeType===3&&(Pe=_e.textContent,Pe=bt(Pe,A," "),Pe=bt(Pe,F," "),_e.textContent!==Pe&&(Et(e.removed,{element:_e.cloneNode()}),_e.textContent=Pe)),ke("afterSanitizeElements",_e,null),!1)},pe=function(_e,Pe,Ae){if(q&&(Pe==="id"||Pe==="name")&&(Ae in m||Ae in Me))return!1;if(!(ne&&!G[Pe]&&pt(B,Pe))){if(!(se&&pt(T,Pe))){if(!H[Pe]||G[Pe])return!1;if(!Se[Pe]){if(!pt(P,bt(Ae,O,""))){if(!((Pe==="src"||Pe==="xlink:href"||Pe==="href")&&_e!=="script"&&nn(Ae,"data:")===0&&he[_e])){if(!(Z&&!pt(R,bt(Ae,O,"")))){if(Ae)return!1}}}}}}return!0},Ce=function(_e){var Pe=void 0,Ae=void 0,xe=void 0,je=void 0;ke("beforeSanitizeAttributes",_e,null);var qe=_e.attributes;if(!!qe){var ze={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};for(je=qe.length;je--;){Pe=qe[je];var Fe=Pe,We=Fe.name,$e=Fe.namespaceURI;if(Ae=sn(Pe.value),xe=St(We),ze.attrName=xe,ze.attrValue=Ae,ze.keepAttr=!0,ze.forceKeepAttr=void 0,ke("uponSanitizeAttribute",_e,ze),Ae=ze.attrValue,!ze.forceKeepAttr&&(Ee(We,_e),!!ze.keepAttr)){if(pt(/\/>/i,Ae)){Ee(We,_e);continue}U&&(Ae=bt(Ae,A," "),Ae=bt(Ae,F," "));var Ke=_e.nodeName.toLowerCase();if(!!pe(Ke,xe,Ae))try{$e?_e.setAttributeNS($e,We,Ae):_e.setAttribute(We,Ae),ui(e.removed)}catch{}}}ke("afterSanitizeAttributes",_e,null)}},Le=function we(_e){var Pe=void 0,Ae=Re(_e);for(ke("beforeSanitizeShadowDOM",_e,null);Pe=Ae.nextNode();)ke("uponSanitizeShadowNode",Pe,null),!Te(Pe)&&(Pe.content instanceof N&&we(Pe.content),Ce(Pe));ke("afterSanitizeShadowDOM",_e,null)};return e.sanitize=function(we,_e){var Pe=void 0,Ae=void 0,xe=void 0,je=void 0,qe=void 0;if(fe=!we,fe&&(we="<!-->"),typeof we!="string"&&!Ne(we)){if(typeof we.toString!="function")throw gi("toString is not a function");if(we=we.toString(),typeof we!="string")throw gi("dirty is not a string, aborting")}if(!e.isSupported){if(It(K.toStaticHTML)==="object"||typeof K.toStaticHTML=="function"){if(typeof we=="string")return K.toStaticHTML(we);if(Ne(we))return K.toStaticHTML(we.outerHTML)}return we}if(V||Oe(_e),e.removed=[],typeof we=="string"&&($=!1),!$)if(we instanceof S)Pe=Ie("<!---->"),Ae=Pe.ownerDocument.importNode(we,!0),Ae.nodeType===1&&Ae.nodeName==="BODY"||Ae.nodeName==="HTML"?Pe=Ae:Pe.appendChild(Ae);else{if(!X&&!U&&!W&&we.indexOf("<")===-1)return u&&de?u.createHTML(we):we;if(Pe=Ie(we),!Pe)return X?null:f}Pe&&Y&&et(Pe.firstChild);for(var ze=Re($?we:Pe);xe=ze.nextNode();)xe.nodeType===3&&xe===je||Te(xe)||(xe.content instanceof N&&Le(xe.content),Ce(xe),je=xe);if(je=null,$)return we;if(X){if(ae)for(qe=_.call(Pe.ownerDocument);Pe.firstChild;)qe.appendChild(Pe.firstChild);else qe=Pe;return J&&(qe=E.call(y,qe,!0)),qe}var Fe=W?Pe.outerHTML:Pe.innerHTML;return U&&(Fe=bt(Fe,A," "),Fe=bt(Fe,F," ")),u&&de?u.createHTML(Fe):Fe},e.setConfig=function(we){Oe(we),V=!0},e.clearConfig=function(){ye=null,V=!1},e.isValidAttribute=function(we,_e,Pe){ye||Oe({});var Ae=St(we),xe=St(_e);return pe(Ae,xe,Pe)},e.addHook=function(we,_e){typeof _e=="function"&&(k[we]=k[we]||[],Et(k[we],_e))},e.removeHook=function(we){k[we]&&ui(k[we])},e.removeHooks=function(we){k[we]&&(k[we]=[])},e.removeAllHooks=function(){k={}},e}var Cn=vi();define("vs/base/browser/dompurify/dompurify",function(){return Cn}),define(ee[31],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class y{constructor(I){this.domNode=I,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(I){this._maxWidth!==I&&(this._maxWidth=I,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(I){this._width!==I&&(this._width=I,this.domNode.style.width=this._width+"px")}setHeight(I){this._height!==I&&(this._height=I,this.domNode.style.height=this._height+"px")}setTop(I){this._top!==I&&(this._top=I,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(I){this._left!==I&&(this._left=I,this.domNode.style.left=this._left+"px")}setBottom(I){this._bottom!==I&&(this._bottom=I,this.domNode.style.bottom=this._bottom+"px")}setRight(I){this._right!==I&&(this._right=I,this.domNode.style.right=this._right+"px")}setFontFamily(I){this._fontFamily!==I&&(this._fontFamily=I,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(I){this._fontWeight!==I&&(this._fontWeight=I,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(I){this._fontSize!==I&&(this._fontSize=I,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(I){this._fontFeatureSettings!==I&&(this._fontFeatureSettings=I,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(I){this._lineHeight!==I&&(this._lineHeight=I,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(I){this._letterSpacing!==I&&(this._letterSpacing=I,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(I){this._className!==I&&(this._className=I,this.domNode.className=this._className)}toggleClassName(I,S){this.domNode.classList.toggle(I,S),this._className=this.domNode.className}setDisplay(I){this._display!==I&&(this._display=I,this.domNode.style.display=this._display)}setPosition(I){this._position!==I&&(this._position=I,this.domNode.style.position=this._position)}setVisibility(I){this._visibility!==I&&(this._visibility=I,this.domNode.style.visibility=this._visibility)}setBackgroundColor(I){this._backgroundColor!==I&&(this._backgroundColor=I,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(I){this._layerHint!==I&&(this._layerHint=I,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(I){this._boxShadow!==I&&(this._boxShadow=I,this.domNode.style.boxShadow=I)}setContain(I){this._contain!==I&&(this._contain=I,this.domNode.style.contain=this._contain)}setAttribute(I,S){this.domNode.setAttribute(I,S)}removeAttribute(I){this.domNode.removeAttribute(I)}appendChild(I){this.domNode.appendChild(I.domNode)}removeChild(I){this.domNode.removeChild(I.domNode)}}e.FastDomNode=y;function m(N){return new y(N)}e.createFastDomNode=m}),define(ee[209],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let y=!1,m=null;function N(S){if(!S.parent||S.parent===S)return null;try{let b=S.location,C=S.parent.location;if(b.origin!=="null"&&C.origin!=="null"&&b.origin!==C.origin)return y=!0,null}catch{return y=!0,null}return S.parent}class I{static getSameOriginWindowChain(){if(!m){m=[];let b=window,C;do C=N(b),C?m.push({window:b,iframeElement:b.frameElement||null}):m.push({window:b,iframeElement:null}),b=C;while(b)}return m.slice(0)}static hasDifferentOriginAncestor(){return m||this.getSameOriginWindowChain(),y}static getPositionOfChildWindowRelativeToAncestorWindow(b,C){if(!C||b===C)return{top:0,left:0};let h=0,g=0,t=this.getSameOriginWindowChain();for(const i of t){if(h+=i.window.scrollY,g+=i.window.scrollX,i.window===C||!i.iframeElement)break;let n=i.iframeElement.getBoundingClientRect();h+=n.top,g+=n.left}return{top:h,left:g}}}e.IframeUtils=I}),define(ee[304],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class y extends Error{constructor(N,I){super(`ListError [${N}] ${I}`)}}e.ListError=y}),define(ee[305],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class y{constructor(N){this.spliceables=N}splice(N,I,S){this.spliceables.forEach(b=>b.splice(N,I,S))}}e.CombinedSpliceable=y}),define(ee[210],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const y=20;class m{constructor(I,S,b,C,h,g){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(b),this._arrowSize=Math.round(I),this._visibleSize=C,this._scrollSize=h,this._scrollPosition=g,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new m(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(I){const S=Math.round(I);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(I){const S=Math.round(I);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(I){const S=Math.round(I);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(I){this._scrollbarSize=Math.round(I)}setOppositeScrollbarSize(I){this._oppositeScrollbarSize=Math.round(I)}static _computeValues(I,S,b,C,h){const g=Math.max(0,b-I),t=Math.max(0,g-2*S),i=C>0&&C>b;if(!i)return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(t),computedSliderRatio:0,computedSliderPosition:0};const n=Math.round(Math.max(y,Math.floor(b*t/C))),o=(t-n)/(C-b),d=h*o;return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(n),computedSliderRatio:o,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const I=m._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=I.computedAvailableSize,this._computedIsNeeded=I.computedIsNeeded,this._computedSliderSize=I.computedSliderSize,this._computedSliderRatio=I.computedSliderRatio,this._computedSliderPosition=I.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(I){if(!this._computedIsNeeded)return 0;const S=I-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(I){if(!this._computedIsNeeded)return 0;const S=I-this._arrowSize;let b=this._scrollPosition;return S<this._computedSliderPosition?b-=this._visibleSize:b+=this._visibleSize,b}getDesiredScrollPositionFromDelta(I){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+I;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=m}),define(ee[106],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var y;(function(I){I[I.Unknown=0]="Unknown",I[I.Twistie=1]="Twistie",I[I.Element=2]="Element"})(y=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class m extends Error{constructor(S,b){super(`TreeError [${S}] ${b}`)}}e.TreeError=m;class N{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let b=this._map.get(S);return b||(b=this.fn(S),this._map.set(S,b)),b}}e.WeakMapper=N}),define(ee[19],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.splice=e.insertInto=e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function y(A,F=0){return A[A.length-(1+F)]}e.tail=y;function m(A){if(A.length===0)throw new Error("Invalid tail call");return[A.slice(0,A.length-1),A[A.length-1]]}e.tail2=m;function N(A,F,B=(T,R)=>T===R){if(A===F)return!0;if(!A||!F||A.length!==F.length)return!1;for(let T=0,R=A.length;T<R;T++)if(!B(A[T],F[T]))return!1;return!0}e.equals=N;function I(A,F,B){let T=0,R=A.length-1;for(;T<=R;){const O=(T+R)/2|0,P=B(A[O],F);if(P<0)T=O+1;else if(P>0)R=O-1;else return O}return-(T+1)}e.binarySearch=I;function S(A,F){let B=0,T=A.length;if(T===0)return 0;for(;B<T;){const R=Math.floor((B+T)/2);F(A[R])?T=R:B=R+1}return B}e.findFirstInSorted=S;function b(A,F,B){if(A=A|0,A>=F.length)throw new TypeError("invalid index");let T=F[Math.floor(F.length*Math.random())],R=[],O=[],P=[];for(let D of F){const x=B(D,T);x<0?R.push(D):x>0?O.push(D):P.push(D)}return A<R.length?b(A,R,B):A<R.length+P.length?P[0]:b(A-(R.length+P.length),O,B)}e.quickSelect=b;function C(A,F){const B=[];let T;for(const R of A.slice(0).sort(F))!T||F(T[0],R)!==0?(T=[R],B.push(T)):T.push(R);return B}e.groupBy=C;function h(A){return A.filter(F=>!!F)}e.coalesce=h;function g(A){return!Array.isArray(A)||A.length===0}e.isFalsyOrEmpty=g;function t(A){return Array.isArray(A)&&A.length>0}e.isNonEmptyArray=t;function i(A,F=B=>B){const B=new Set;return A.filter(T=>{const R=F(T);return B.has(R)?!1:(B.add(R),!0)})}e.distinct=i;function n(A,F){const B=o(A,F);if(B!==-1)return A[B]}e.findLast=n;function o(A,F){for(let B=A.length-1;B>=0;B--){const T=A[B];if(F(T))return B}return-1}e.lastIndex=o;function d(A,F){return A.length>0?A[0]:F}e.firstOrDefault=d;function c(A){return[].concat(...A)}e.flatten=c;function s(A,F){let B=typeof F=="number"?A:0;typeof F=="number"?B=A:(B=0,F=A);const T=[];if(B<=F)for(let R=B;R<F;R++)T.push(R);else for(let R=B;R>F;R--)T.push(R);return T}e.range=s;function a(A,F,B){const T=A.slice(0,F),R=A.slice(F);return T.concat(B,R)}e.arrayInsert=a;function r(A,F){const B=A.indexOf(F);B>-1&&(A.splice(B,1),A.unshift(F))}e.pushToStart=r;function l(A,F){const B=A.indexOf(F);B>-1&&(A.splice(B,1),A.push(F))}e.pushToEnd=l;function u(A){return Array.isArray(A)?A:[A]}e.asArray=u;function f(A,F,B){const T=v(A,F),R=A.length,O=B.length;A.length=R+O;for(let P=R-1;P>=T;P--)A[P+O]=A[P];for(let P=0;P<O;P++)A[P+T]=B[P]}e.insertInto=f;function w(A,F,B,T){const R=v(A,F),O=A.splice(R,B);return f(A,R,T),O}e.splice=w;function v(A,F){return F<0?Math.max(F+A.length,0):Math.min(F,A.length)}function p(A,F){return(B,T)=>F(A(B),A(T))}e.compareBy=p;const _=(A,F)=>A-F;e.numberComparator=_;function L(A,F){if(A.length===0)return;let B=A[0];for(let T=1;T<A.length;T++){const R=A[T];F(R,B)>0&&(B=R)}return B}e.findMaxBy=L;function E(A,F){if(A.length===0)return;let B=A[0];for(let T=1;T<A.length;T++){const R=A[T];F(R,B)>=0&&(B=R)}return B}e.findLastMaxBy=E;function M(A,F){return L(A,(B,T)=>-F(B,T))}e.findMinBy=M;class k{constructor(F){this.items=F,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(F){let B=this.firstIdx;for(;B<this.items.length&&F(this.items[B]);)B++;const T=B===this.firstIdx?null:this.items.slice(this.firstIdx,B);return this.firstIdx=B,T}takeFromEndWhile(F){let B=this.lastIdx;for(;B>=0&&F(this.items[B]);)B--;const T=B===this.lastIdx?null:this.items.slice(B+1,this.lastIdx+1);return this.lastIdx=B,T}peek(){return this.items[this.firstIdx]}dequeue(){const F=this.items[this.firstIdx];return this.firstIdx++,F}takeCount(F){const B=this.items.slice(this.firstIdx,this.firstIdx+F);return this.firstIdx+=F,B}}e.ArrayQueue=k}),define(ee[211],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function y(m,N){if(!m)throw new Error(N?`Assertion failed (${N})`:"Assertion Failed")}e.ok=y}),define(ee[107],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const y=typeof Buffer!="undefined";let m;class N{constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}static wrap(i){return y&&!Buffer.isBuffer(i)&&(i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)),new N(i)}toString(){return y?this.buffer.toString():(m||(m=new TextDecoder),m.decode(this.buffer))}}e.VSBuffer=N;function I(t,i){return t[i+0]<<0>>>0|t[i+1]<<8>>>0}e.readUInt16LE=I;function S(t,i,n){t[n+0]=i&255,i=i>>>8,t[n+1]=i&255}e.writeUInt16LE=S;function b(t,i){return t[i]*Math.pow(2,24)+t[i+1]*Math.pow(2,16)+t[i+2]*Math.pow(2,8)+t[i+3]}e.readUInt32BE=b;function C(t,i,n){t[n+3]=i,i=i>>>8,t[n+2]=i,i=i>>>8,t[n+1]=i,i=i>>>8,t[n]=i}e.writeUInt32BE=C;function h(t,i){return t[i]}e.readUInt8=h;function g(t,i,n){t[n]=i}e.writeUInt8=g}),define(ee[306],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCachedComputed=void 0;class y{constructor(N){this.computeFn=N,this.lastCache=void 0,this.lastArgKey=void 0}get(N){const I=JSON.stringify(N);return this.lastArgKey!==I&&(this.lastArgKey=I,this.lastCache=this.computeFn(N)),this.lastCache}}e.LRUCachedComputed=y}),define(ee[27],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=void 0;function y(I){return I?I.replace(/\$\((.*?)\)/g,(S,b)=>` ${b} `).trim():""}e.getCodiconAriaLabel=y;class m{constructor(S,b,C){this.id=S,this.definition=b,this.description=C,m._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return m._allCodicons}}e.Codicon=m,m._allCodicons=[],m.add=new m("add",{fontCharacter:"\\ea60"}),m.plus=new m("plus",m.add.definition),m.gistNew=new m("gist-new",m.add.definition),m.repoCreate=new m("repo-create",m.add.definition),m.lightbulb=new m("lightbulb",{fontCharacter:"\\ea61"}),m.lightBulb=new m("light-bulb",{fontCharacter:"\\ea61"}),m.repo=new m("repo",{fontCharacter:"\\ea62"}),m.repoDelete=new m("repo-delete",{fontCharacter:"\\ea62"}),m.gistFork=new m("gist-fork",{fontCharacter:"\\ea63"}),m.repoForked=new m("repo-forked",{fontCharacter:"\\ea63"}),m.gitPullRequest=new m("git-pull-request",{fontCharacter:"\\ea64"}),m.gitPullRequestAbandoned=new m("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),m.recordKeys=new m("record-keys",{fontCharacter:"\\ea65"}),m.keyboard=new m("keyboard",{fontCharacter:"\\ea65"}),m.tag=new m("tag",{fontCharacter:"\\ea66"}),m.tagAdd=new m("tag-add",{fontCharacter:"\\ea66"}),m.tagRemove=new m("tag-remove",{fontCharacter:"\\ea66"}),m.person=new m("person",{fontCharacter:"\\ea67"}),m.personFollow=new m("person-follow",{fontCharacter:"\\ea67"}),m.personOutline=new m("person-outline",{fontCharacter:"\\ea67"}),m.personFilled=new m("person-filled",{fontCharacter:"\\ea67"}),m.gitBranch=new m("git-branch",{fontCharacter:"\\ea68"}),m.gitBranchCreate=new m("git-branch-create",{fontCharacter:"\\ea68"}),m.gitBranchDelete=new m("git-branch-delete",{fontCharacter:"\\ea68"}),m.sourceControl=new m("source-control",{fontCharacter:"\\ea68"}),m.mirror=new m("mirror",{fontCharacter:"\\ea69"}),m.mirrorPublic=new m("mirror-public",{fontCharacter:"\\ea69"}),m.star=new m("star",{fontCharacter:"\\ea6a"}),m.starAdd=new m("star-add",{fontCharacter:"\\ea6a"}),m.starDelete=new m("star-delete",{fontCharacter:"\\ea6a"}),m.starEmpty=new m("star-empty",{fontCharacter:"\\ea6a"}),m.comment=new m("comment",{fontCharacter:"\\ea6b"}),m.commentAdd=new m("comment-add",{fontCharacter:"\\ea6b"}),m.alert=new m("alert",{fontCharacter:"\\ea6c"}),m.warning=new m("warning",{fontCharacter:"\\ea6c"}),m.search=new m("search",{fontCharacter:"\\ea6d"}),m.searchSave=new m("search-save",{fontCharacter:"\\ea6d"}),m.logOut=new m("log-out",{fontCharacter:"\\ea6e"}),m.signOut=new m("sign-out",{fontCharacter:"\\ea6e"}),m.logIn=new m("log-in",{fontCharacter:"\\ea6f"}),m.signIn=new m("sign-in",{fontCharacter:"\\ea6f"}),m.eye=new m("eye",{fontCharacter:"\\ea70"}),m.eyeUnwatch=new m("eye-unwatch",{fontCharacter:"\\ea70"}),m.eyeWatch=new m("eye-watch",{fontCharacter:"\\ea70"}),m.circleFilled=new m("circle-filled",{fontCharacter:"\\ea71"}),m.primitiveDot=new m("primitive-dot",{fontCharacter:"\\ea71"}),m.closeDirty=new m("close-dirty",{fontCharacter:"\\ea71"}),m.debugBreakpoint=new m("debug-breakpoint",{fontCharacter:"\\ea71"}),m.debugBreakpointDisabled=new m("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),m.debugHint=new m("debug-hint",{fontCharacter:"\\ea71"}),m.primitiveSquare=new m("primitive-square",{fontCharacter:"\\ea72"}),m.edit=new m("edit",{fontCharacter:"\\ea73"}),m.pencil=new m("pencil",{fontCharacter:"\\ea73"}),m.info=new m("info",{fontCharacter:"\\ea74"}),m.issueOpened=new m("issue-opened",{fontCharacter:"\\ea74"}),m.gistPrivate=new m("gist-private",{fontCharacter:"\\ea75"}),m.gitForkPrivate=new m("git-fork-private",{fontCharacter:"\\ea75"}),m.lock=new m("lock",{fontCharacter:"\\ea75"}),m.mirrorPrivate=new m("mirror-private",{fontCharacter:"\\ea75"}),m.close=new m("close",{fontCharacter:"\\ea76"}),m.removeClose=new m("remove-close",{fontCharacter:"\\ea76"}),m.x=new m("x",{fontCharacter:"\\ea76"}),m.repoSync=new m("repo-sync",{fontCharacter:"\\ea77"}),m.sync=new m("sync",{fontCharacter:"\\ea77"}),m.clone=new m("clone",{fontCharacter:"\\ea78"}),m.desktopDownload=new m("desktop-download",{fontCharacter:"\\ea78"}),m.beaker=new m("beaker",{fontCharacter:"\\ea79"}),m.microscope=new m("microscope",{fontCharacter:"\\ea79"}),m.vm=new m("vm",{fontCharacter:"\\ea7a"}),m.deviceDesktop=new m("device-desktop",{fontCharacter:"\\ea7a"}),m.file=new m("file",{fontCharacter:"\\ea7b"}),m.fileText=new m("file-text",{fontCharacter:"\\ea7b"}),m.more=new m("more",{fontCharacter:"\\ea7c"}),m.ellipsis=new m("ellipsis",{fontCharacter:"\\ea7c"}),m.kebabHorizontal=new m("kebab-horizontal",{fontCharacter:"\\ea7c"}),m.mailReply=new m("mail-reply",{fontCharacter:"\\ea7d"}),m.reply=new m("reply",{fontCharacter:"\\ea7d"}),m.organization=new m("organization",{fontCharacter:"\\ea7e"}),m.organizationFilled=new m("organization-filled",{fontCharacter:"\\ea7e"}),m.organizationOutline=new m("organization-outline",{fontCharacter:"\\ea7e"}),m.newFile=new m("new-file",{fontCharacter:"\\ea7f"}),m.fileAdd=new m("file-add",{fontCharacter:"\\ea7f"}),m.newFolder=new m("new-folder",{fontCharacter:"\\ea80"}),m.fileDirectoryCreate=new m("file-directory-create",{fontCharacter:"\\ea80"}),m.trash=new m("trash",{fontCharacter:"\\ea81"}),m.trashcan=new m("trashcan",{fontCharacter:"\\ea81"}),m.history=new m("history",{fontCharacter:"\\ea82"}),m.clock=new m("clock",{fontCharacter:"\\ea82"}),m.folder=new m("folder",{fontCharacter:"\\ea83"}),m.fileDirectory=new m("file-directory",{fontCharacter:"\\ea83"}),m.symbolFolder=new m("symbol-folder",{fontCharacter:"\\ea83"}),m.logoGithub=new m("logo-github",{fontCharacter:"\\ea84"}),m.markGithub=new m("mark-github",{fontCharacter:"\\ea84"}),m.github=new m("github",{fontCharacter:"\\ea84"}),m.terminal=new m("terminal",{fontCharacter:"\\ea85"}),m.console=new m("console",{fontCharacter:"\\ea85"}),m.repl=new m("repl",{fontCharacter:"\\ea85"}),m.zap=new m("zap",{fontCharacter:"\\ea86"}),m.symbolEvent=new m("symbol-event",{fontCharacter:"\\ea86"}),m.error=new m("error",{fontCharacter:"\\ea87"}),m.stop=new m("stop",{fontCharacter:"\\ea87"}),m.variable=new m("variable",{fontCharacter:"\\ea88"}),m.symbolVariable=new m("symbol-variable",{fontCharacter:"\\ea88"}),m.array=new m("array",{fontCharacter:"\\ea8a"}),m.symbolArray=new m("symbol-array",{fontCharacter:"\\ea8a"}),m.symbolModule=new m("symbol-module",{fontCharacter:"\\ea8b"}),m.symbolPackage=new m("symbol-package",{fontCharacter:"\\ea8b"}),m.symbolNamespace=new m("symbol-namespace",{fontCharacter:"\\ea8b"}),m.symbolObject=new m("symbol-object",{fontCharacter:"\\ea8b"}),m.symbolMethod=new m("symbol-method",{fontCharacter:"\\ea8c"}),m.symbolFunction=new m("symbol-function",{fontCharacter:"\\ea8c"}),m.symbolConstructor=new m("symbol-constructor",{fontCharacter:"\\ea8c"}),m.symbolBoolean=new m("symbol-boolean",{fontCharacter:"\\ea8f"}),m.symbolNull=new m("symbol-null",{fontCharacter:"\\ea8f"}),m.symbolNumeric=new m("symbol-numeric",{fontCharacter:"\\ea90"}),m.symbolNumber=new m("symbol-number",{fontCharacter:"\\ea90"}),m.symbolStructure=new m("symbol-structure",{fontCharacter:"\\ea91"}),m.symbolStruct=new m("symbol-struct",{fontCharacter:"\\ea91"}),m.symbolParameter=new m("symbol-parameter",{fontCharacter:"\\ea92"}),m.symbolTypeParameter=new m("symbol-type-parameter",{fontCharacter:"\\ea92"}),m.symbolKey=new m("symbol-key",{fontCharacter:"\\ea93"}),m.symbolText=new m("symbol-text",{fontCharacter:"\\ea93"}),m.symbolReference=new m("symbol-reference",{fontCharacter:"\\ea94"}),m.goToFile=new m("go-to-file",{fontCharacter:"\\ea94"}),m.symbolEnum=new m("symbol-enum",{fontCharacter:"\\ea95"}),m.symbolValue=new m("symbol-value",{fontCharacter:"\\ea95"}),m.symbolRuler=new m("symbol-ruler",{fontCharacter:"\\ea96"}),m.symbolUnit=new m("symbol-unit",{fontCharacter:"\\ea96"}),m.activateBreakpoints=new m("activate-breakpoints",{fontCharacter:"\\ea97"}),m.archive=new m("archive",{fontCharacter:"\\ea98"}),m.arrowBoth=new m("arrow-both",{fontCharacter:"\\ea99"}),m.arrowDown=new m("arrow-down",{fontCharacter:"\\ea9a"}),m.arrowLeft=new m("arrow-left",{fontCharacter:"\\ea9b"}),m.arrowRight=new m("arrow-right",{fontCharacter:"\\ea9c"}),m.arrowSmallDown=new m("arrow-small-down",{fontCharacter:"\\ea9d"}),m.arrowSmallLeft=new m("arrow-small-left",{fontCharacter:"\\ea9e"}),m.arrowSmallRight=new m("arrow-small-right",{fontCharacter:"\\ea9f"}),m.arrowSmallUp=new m("arrow-small-up",{fontCharacter:"\\eaa0"}),m.arrowUp=new m("arrow-up",{fontCharacter:"\\eaa1"}),m.bell=new m("bell",{fontCharacter:"\\eaa2"}),m.bold=new m("bold",{fontCharacter:"\\eaa3"}),m.book=new m("book",{fontCharacter:"\\eaa4"}),m.bookmark=new m("bookmark",{fontCharacter:"\\eaa5"}),m.debugBreakpointConditionalUnverified=new m("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),m.debugBreakpointConditional=new m("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),m.debugBreakpointConditionalDisabled=new m("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),m.debugBreakpointDataUnverified=new m("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),m.debugBreakpointData=new m("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),m.debugBreakpointDataDisabled=new m("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),m.debugBreakpointLogUnverified=new m("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),m.debugBreakpointLog=new m("debug-breakpoint-log",{fontCharacter:"\\eaab"}),m.debugBreakpointLogDisabled=new m("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),m.briefcase=new m("briefcase",{fontCharacter:"\\eaac"}),m.broadcast=new m("broadcast",{fontCharacter:"\\eaad"}),m.browser=new m("browser",{fontCharacter:"\\eaae"}),m.bug=new m("bug",{fontCharacter:"\\eaaf"}),m.calendar=new m("calendar",{fontCharacter:"\\eab0"}),m.caseSensitive=new m("case-sensitive",{fontCharacter:"\\eab1"}),m.check=new m("check",{fontCharacter:"\\eab2"}),m.checklist=new m("checklist",{fontCharacter:"\\eab3"}),m.chevronDown=new m("chevron-down",{fontCharacter:"\\eab4"}),m.dropDownButton=new m("drop-down-button",m.chevronDown.definition),m.chevronLeft=new m("chevron-left",{fontCharacter:"\\eab5"}),m.chevronRight=new m("chevron-right",{fontCharacter:"\\eab6"}),m.chevronUp=new m("chevron-up",{fontCharacter:"\\eab7"}),m.chromeClose=new m("chrome-close",{fontCharacter:"\\eab8"}),m.chromeMaximize=new m("chrome-maximize",{fontCharacter:"\\eab9"}),m.chromeMinimize=new m("chrome-minimize",{fontCharacter:"\\eaba"}),m.chromeRestore=new m("chrome-restore",{fontCharacter:"\\eabb"}),m.circleOutline=new m("circle-outline",{fontCharacter:"\\eabc"}),m.debugBreakpointUnverified=new m("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),m.circleSlash=new m("circle-slash",{fontCharacter:"\\eabd"}),m.circuitBoard=new m("circuit-board",{fontCharacter:"\\eabe"}),m.clearAll=new m("clear-all",{fontCharacter:"\\eabf"}),m.clippy=new m("clippy",{fontCharacter:"\\eac0"}),m.closeAll=new m("close-all",{fontCharacter:"\\eac1"}),m.cloudDownload=new m("cloud-download",{fontCharacter:"\\eac2"}),m.cloudUpload=new m("cloud-upload",{fontCharacter:"\\eac3"}),m.code=new m("code",{fontCharacter:"\\eac4"}),m.collapseAll=new m("collapse-all",{fontCharacter:"\\eac5"}),m.colorMode=new m("color-mode",{fontCharacter:"\\eac6"}),m.commentDiscussion=new m("comment-discussion",{fontCharacter:"\\eac7"}),m.compareChanges=new m("compare-changes",{fontCharacter:"\\eafd"}),m.creditCard=new m("credit-card",{fontCharacter:"\\eac9"}),m.dash=new m("dash",{fontCharacter:"\\eacc"}),m.dashboard=new m("dashboard",{fontCharacter:"\\eacd"}),m.database=new m("database",{fontCharacter:"\\eace"}),m.debugContinue=new m("debug-continue",{fontCharacter:"\\eacf"}),m.debugDisconnect=new m("debug-disconnect",{fontCharacter:"\\ead0"}),m.debugPause=new m("debug-pause",{fontCharacter:"\\ead1"}),m.debugRestart=new m("debug-restart",{fontCharacter:"\\ead2"}),m.debugStart=new m("debug-start",{fontCharacter:"\\ead3"}),m.debugStepInto=new m("debug-step-into",{fontCharacter:"\\ead4"}),m.debugStepOut=new m("debug-step-out",{fontCharacter:"\\ead5"}),m.debugStepOver=new m("debug-step-over",{fontCharacter:"\\ead6"}),m.debugStop=new m("debug-stop",{fontCharacter:"\\ead7"}),m.debug=new m("debug",{fontCharacter:"\\ead8"}),m.deviceCameraVideo=new m("device-camera-video",{fontCharacter:"\\ead9"}),m.deviceCamera=new m("device-camera",{fontCharacter:"\\eada"}),m.deviceMobile=new m("device-mobile",{fontCharacter:"\\eadb"}),m.diffAdded=new m("diff-added",{fontCharacter:"\\eadc"}),m.diffIgnored=new m("diff-ignored",{fontCharacter:"\\eadd"}),m.diffModified=new m("diff-modified",{fontCharacter:"\\eade"}),m.diffRemoved=new m("diff-removed",{fontCharacter:"\\eadf"}),m.diffRenamed=new m("diff-renamed",{fontCharacter:"\\eae0"}),m.diff=new m("diff",{fontCharacter:"\\eae1"}),m.discard=new m("discard",{fontCharacter:"\\eae2"}),m.editorLayout=new m("editor-layout",{fontCharacter:"\\eae3"}),m.emptyWindow=new m("empty-window",{fontCharacter:"\\eae4"}),m.exclude=new m("exclude",{fontCharacter:"\\eae5"}),m.extensions=new m("extensions",{fontCharacter:"\\eae6"}),m.eyeClosed=new m("eye-closed",{fontCharacter:"\\eae7"}),m.fileBinary=new m("file-binary",{fontCharacter:"\\eae8"}),m.fileCode=new m("file-code",{fontCharacter:"\\eae9"}),m.fileMedia=new m("file-media",{fontCharacter:"\\eaea"}),m.filePdf=new m("file-pdf",{fontCharacter:"\\eaeb"}),m.fileSubmodule=new m("file-submodule",{fontCharacter:"\\eaec"}),m.fileSymlinkDirectory=new m("file-symlink-directory",{fontCharacter:"\\eaed"}),m.fileSymlinkFile=new m("file-symlink-file",{fontCharacter:"\\eaee"}),m.fileZip=new m("file-zip",{fontCharacter:"\\eaef"}),m.files=new m("files",{fontCharacter:"\\eaf0"}),m.filter=new m("filter",{fontCharacter:"\\eaf1"}),m.flame=new m("flame",{fontCharacter:"\\eaf2"}),m.foldDown=new m("fold-down",{fontCharacter:"\\eaf3"}),m.foldUp=new m("fold-up",{fontCharacter:"\\eaf4"}),m.fold=new m("fold",{fontCharacter:"\\eaf5"}),m.folderActive=new m("folder-active",{fontCharacter:"\\eaf6"}),m.folderOpened=new m("folder-opened",{fontCharacter:"\\eaf7"}),m.gear=new m("gear",{fontCharacter:"\\eaf8"}),m.gift=new m("gift",{fontCharacter:"\\eaf9"}),m.gistSecret=new m("gist-secret",{fontCharacter:"\\eafa"}),m.gist=new m("gist",{fontCharacter:"\\eafb"}),m.gitCommit=new m("git-commit",{fontCharacter:"\\eafc"}),m.gitCompare=new m("git-compare",{fontCharacter:"\\eafd"}),m.gitMerge=new m("git-merge",{fontCharacter:"\\eafe"}),m.githubAction=new m("github-action",{fontCharacter:"\\eaff"}),m.githubAlt=new m("github-alt",{fontCharacter:"\\eb00"}),m.globe=new m("globe",{fontCharacter:"\\eb01"}),m.grabber=new m("grabber",{fontCharacter:"\\eb02"}),m.graph=new m("graph",{fontCharacter:"\\eb03"}),m.gripper=new m("gripper",{fontCharacter:"\\eb04"}),m.heart=new m("heart",{fontCharacter:"\\eb05"}),m.home=new m("home",{fontCharacter:"\\eb06"}),m.horizontalRule=new m("horizontal-rule",{fontCharacter:"\\eb07"}),m.hubot=new m("hubot",{fontCharacter:"\\eb08"}),m.inbox=new m("inbox",{fontCharacter:"\\eb09"}),m.issueClosed=new m("issue-closed",{fontCharacter:"\\eba4"}),m.issueReopened=new m("issue-reopened",{fontCharacter:"\\eb0b"}),m.issues=new m("issues",{fontCharacter:"\\eb0c"}),m.italic=new m("italic",{fontCharacter:"\\eb0d"}),m.jersey=new m("jersey",{fontCharacter:"\\eb0e"}),m.json=new m("json",{fontCharacter:"\\eb0f"}),m.kebabVertical=new m("kebab-vertical",{fontCharacter:"\\eb10"}),m.key=new m("key",{fontCharacter:"\\eb11"}),m.law=new m("law",{fontCharacter:"\\eb12"}),m.lightbulbAutofix=new m("lightbulb-autofix",{fontCharacter:"\\eb13"}),m.linkExternal=new m("link-external",{fontCharacter:"\\eb14"}),m.link=new m("link",{fontCharacter:"\\eb15"}),m.listOrdered=new m("list-ordered",{fontCharacter:"\\eb16"}),m.listUnordered=new m("list-unordered",{fontCharacter:"\\eb17"}),m.liveShare=new m("live-share",{fontCharacter:"\\eb18"}),m.loading=new m("loading",{fontCharacter:"\\eb19"}),m.location=new m("location",{fontCharacter:"\\eb1a"}),m.mailRead=new m("mail-read",{fontCharacter:"\\eb1b"}),m.mail=new m("mail",{fontCharacter:"\\eb1c"}),m.markdown=new m("markdown",{fontCharacter:"\\eb1d"}),m.megaphone=new m("megaphone",{fontCharacter:"\\eb1e"}),m.mention=new m("mention",{fontCharacter:"\\eb1f"}),m.milestone=new m("milestone",{fontCharacter:"\\eb20"}),m.mortarBoard=new m("mortar-board",{fontCharacter:"\\eb21"}),m.move=new m("move",{fontCharacter:"\\eb22"}),m.multipleWindows=new m("multiple-windows",{fontCharacter:"\\eb23"}),m.mute=new m("mute",{fontCharacter:"\\eb24"}),m.noNewline=new m("no-newline",{fontCharacter:"\\eb25"}),m.note=new m("note",{fontCharacter:"\\eb26"}),m.octoface=new m("octoface",{fontCharacter:"\\eb27"}),m.openPreview=new m("open-preview",{fontCharacter:"\\eb28"}),m.package_=new m("package",{fontCharacter:"\\eb29"}),m.paintcan=new m("paintcan",{fontCharacter:"\\eb2a"}),m.pin=new m("pin",{fontCharacter:"\\eb2b"}),m.play=new m("play",{fontCharacter:"\\eb2c"}),m.run=new m("run",{fontCharacter:"\\eb2c"}),m.plug=new m("plug",{fontCharacter:"\\eb2d"}),m.preserveCase=new m("preserve-case",{fontCharacter:"\\eb2e"}),m.preview=new m("preview",{fontCharacter:"\\eb2f"}),m.project=new m("project",{fontCharacter:"\\eb30"}),m.pulse=new m("pulse",{fontCharacter:"\\eb31"}),m.question=new m("question",{fontCharacter:"\\eb32"}),m.quote=new m("quote",{fontCharacter:"\\eb33"}),m.radioTower=new m("radio-tower",{fontCharacter:"\\eb34"}),m.reactions=new m("reactions",{fontCharacter:"\\eb35"}),m.references=new m("references",{fontCharacter:"\\eb36"}),m.refresh=new m("refresh",{fontCharacter:"\\eb37"}),m.regex=new m("regex",{fontCharacter:"\\eb38"}),m.remoteExplorer=new m("remote-explorer",{fontCharacter:"\\eb39"}),m.remote=new m("remote",{fontCharacter:"\\eb3a"}),m.remove=new m("remove",{fontCharacter:"\\eb3b"}),m.replaceAll=new m("replace-all",{fontCharacter:"\\eb3c"}),m.replace=new m("replace",{fontCharacter:"\\eb3d"}),m.repoClone=new m("repo-clone",{fontCharacter:"\\eb3e"}),m.repoForcePush=new m("repo-force-push",{fontCharacter:"\\eb3f"}),m.repoPull=new m("repo-pull",{fontCharacter:"\\eb40"}),m.repoPush=new m("repo-push",{fontCharacter:"\\eb41"}),m.report=new m("report",{fontCharacter:"\\eb42"}),m.requestChanges=new m("request-changes",{fontCharacter:"\\eb43"}),m.rocket=new m("rocket",{fontCharacter:"\\eb44"}),m.rootFolderOpened=new m("root-folder-opened",{fontCharacter:"\\eb45"}),m.rootFolder=new m("root-folder",{fontCharacter:"\\eb46"}),m.rss=new m("rss",{fontCharacter:"\\eb47"}),m.ruby=new m("ruby",{fontCharacter:"\\eb48"}),m.saveAll=new m("save-all",{fontCharacter:"\\eb49"}),m.saveAs=new m("save-as",{fontCharacter:"\\eb4a"}),m.save=new m("save",{fontCharacter:"\\eb4b"}),m.screenFull=new m("screen-full",{fontCharacter:"\\eb4c"}),m.screenNormal=new m("screen-normal",{fontCharacter:"\\eb4d"}),m.searchStop=new m("search-stop",{fontCharacter:"\\eb4e"}),m.server=new m("server",{fontCharacter:"\\eb50"}),m.settingsGear=new m("settings-gear",{fontCharacter:"\\eb51"}),m.settings=new m("settings",{fontCharacter:"\\eb52"}),m.shield=new m("shield",{fontCharacter:"\\eb53"}),m.smiley=new m("smiley",{fontCharacter:"\\eb54"}),m.sortPrecedence=new m("sort-precedence",{fontCharacter:"\\eb55"}),m.splitHorizontal=new m("split-horizontal",{fontCharacter:"\\eb56"}),m.splitVertical=new m("split-vertical",{fontCharacter:"\\eb57"}),m.squirrel=new m("squirrel",{fontCharacter:"\\eb58"}),m.starFull=new m("star-full",{fontCharacter:"\\eb59"}),m.starHalf=new m("star-half",{fontCharacter:"\\eb5a"}),m.symbolClass=new m("symbol-class",{fontCharacter:"\\eb5b"}),m.symbolColor=new m("symbol-color",{fontCharacter:"\\eb5c"}),m.symbolCustomColor=new m("symbol-customcolor",{fontCharacter:"\\eb5c"}),m.symbolConstant=new m("symbol-constant",{fontCharacter:"\\eb5d"}),m.symbolEnumMember=new m("symbol-enum-member",{fontCharacter:"\\eb5e"}),m.symbolField=new m("symbol-field",{fontCharacter:"\\eb5f"}),m.symbolFile=new m("symbol-file",{fontCharacter:"\\eb60"}),m.symbolInterface=new m("symbol-interface",{fontCharacter:"\\eb61"}),m.symbolKeyword=new m("symbol-keyword",{fontCharacter:"\\eb62"}),m.symbolMisc=new m("symbol-misc",{fontCharacter:"\\eb63"}),m.symbolOperator=new m("symbol-operator",{fontCharacter:"\\eb64"}),m.symbolProperty=new m("symbol-property",{fontCharacter:"\\eb65"}),m.wrench=new m("wrench",{fontCharacter:"\\eb65"}),m.wrenchSubaction=new m("wrench-subaction",{fontCharacter:"\\eb65"}),m.symbolSnippet=new m("symbol-snippet",{fontCharacter:"\\eb66"}),m.tasklist=new m("tasklist",{fontCharacter:"\\eb67"}),m.telescope=new m("telescope",{fontCharacter:"\\eb68"}),m.textSize=new m("text-size",{fontCharacter:"\\eb69"}),m.threeBars=new m("three-bars",{fontCharacter:"\\eb6a"}),m.thumbsdown=new m("thumbsdown",{fontCharacter:"\\eb6b"}),m.thumbsup=new m("thumbsup",{fontCharacter:"\\eb6c"}),m.tools=new m("tools",{fontCharacter:"\\eb6d"}),m.triangleDown=new m("triangle-down",{fontCharacter:"\\eb6e"}),m.triangleLeft=new m("triangle-left",{fontCharacter:"\\eb6f"}),m.triangleRight=new m("triangle-right",{fontCharacter:"\\eb70"}),m.triangleUp=new m("triangle-up",{fontCharacter:"\\eb71"}),m.twitter=new m("twitter",{fontCharacter:"\\eb72"}),m.unfold=new m("unfold",{fontCharacter:"\\eb73"}),m.unlock=new m("unlock",{fontCharacter:"\\eb74"}),m.unmute=new m("unmute",{fontCharacter:"\\eb75"}),m.unverified=new m("unverified",{fontCharacter:"\\eb76"}),m.verified=new m("verified",{fontCharacter:"\\eb77"}),m.versions=new m("versions",{fontCharacter:"\\eb78"}),m.vmActive=new m("vm-active",{fontCharacter:"\\eb79"}),m.vmOutline=new m("vm-outline",{fontCharacter:"\\eb7a"}),m.vmRunning=new m("vm-running",{fontCharacter:"\\eb7b"}),m.watch=new m("watch",{fontCharacter:"\\eb7c"}),m.whitespace=new m("whitespace",{fontCharacter:"\\eb7d"}),m.wholeWord=new m("whole-word",{fontCharacter:"\\eb7e"}),m.window=new m("window",{fontCharacter:"\\eb7f"}),m.wordWrap=new m("word-wrap",{fontCharacter:"\\eb80"}),m.zoomIn=new m("zoom-in",{fontCharacter:"\\eb81"}),m.zoomOut=new m("zoom-out",{fontCharacter:"\\eb82"}),m.listFilter=new m("list-filter",{fontCharacter:"\\eb83"}),m.listFlat=new m("list-flat",{fontCharacter:"\\eb84"}),m.listSelection=new m("list-selection",{fontCharacter:"\\eb85"}),m.selection=new m("selection",{fontCharacter:"\\eb85"}),m.listTree=new m("list-tree",{fontCharacter:"\\eb86"}),m.debugBreakpointFunctionUnverified=new m("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),m.debugBreakpointFunction=new m("debug-breakpoint-function",{fontCharacter:"\\eb88"}),m.debugBreakpointFunctionDisabled=new m("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),m.debugStackframeActive=new m("debug-stackframe-active",{fontCharacter:"\\eb89"}),m.debugStackframeDot=new m("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),m.debugStackframe=new m("debug-stackframe",{fontCharacter:"\\eb8b"}),m.debugStackframeFocused=new m("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),m.debugBreakpointUnsupported=new m("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),m.symbolString=new m("symbol-string",{fontCharacter:"\\eb8d"}),m.debugReverseContinue=new m("debug-reverse-continue",{fontCharacter:"\\eb8e"}),m.debugStepBack=new m("debug-step-back",{fontCharacter:"\\eb8f"}),m.debugRestartFrame=new m("debug-restart-frame",{fontCharacter:"\\eb90"}),m.callIncoming=new m("call-incoming",{fontCharacter:"\\eb92"}),m.callOutgoing=new m("call-outgoing",{fontCharacter:"\\eb93"}),m.menu=new m("menu",{fontCharacter:"\\eb94"}),m.expandAll=new m("expand-all",{fontCharacter:"\\eb95"}),m.feedback=new m("feedback",{fontCharacter:"\\eb96"}),m.groupByRefType=new m("group-by-ref-type",{fontCharacter:"\\eb97"}),m.ungroupByRefType=new m("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),m.account=new m("account",{fontCharacter:"\\eb99"}),m.bellDot=new m("bell-dot",{fontCharacter:"\\eb9a"}),m.debugConsole=new m("debug-console",{fontCharacter:"\\eb9b"}),m.library=new m("library",{fontCharacter:"\\eb9c"}),m.output=new m("output",{fontCharacter:"\\eb9d"}),m.runAll=new m("run-all",{fontCharacter:"\\eb9e"}),m.syncIgnored=new m("sync-ignored",{fontCharacter:"\\eb9f"}),m.pinned=new m("pinned",{fontCharacter:"\\eba0"}),m.githubInverted=new m("github-inverted",{fontCharacter:"\\eba1"}),m.debugAlt=new m("debug-alt",{fontCharacter:"\\eb91"}),m.serverProcess=new m("server-process",{fontCharacter:"\\eba2"}),m.serverEnvironment=new m("server-environment",{fontCharacter:"\\eba3"}),m.pass=new m("pass",{fontCharacter:"\\eba4"}),m.stopCircle=new m("stop-circle",{fontCharacter:"\\eba5"}),m.playCircle=new m("play-circle",{fontCharacter:"\\eba6"}),m.record=new m("record",{fontCharacter:"\\eba7"}),m.debugAltSmall=new m("debug-alt-small",{fontCharacter:"\\eba8"}),m.vmConnect=new m("vm-connect",{fontCharacter:"\\eba9"}),m.cloud=new m("cloud",{fontCharacter:"\\ebaa"}),m.merge=new m("merge",{fontCharacter:"\\ebab"}),m.exportIcon=new m("export",{fontCharacter:"\\ebac"}),m.graphLeft=new m("graph-left",{fontCharacter:"\\ebad"}),m.magnet=new m("magnet",{fontCharacter:"\\ebae"}),m.notebook=new m("notebook",{fontCharacter:"\\ebaf"}),m.redo=new m("redo",{fontCharacter:"\\ebb0"}),m.checkAll=new m("check-all",{fontCharacter:"\\ebb1"}),m.pinnedDirty=new m("pinned-dirty",{fontCharacter:"\\ebb2"}),m.passFilled=new m("pass-filled",{fontCharacter:"\\ebb3"}),m.circleLargeFilled=new m("circle-large-filled",{fontCharacter:"\\ebb4"}),m.circleLargeOutline=new m("circle-large-outline",{fontCharacter:"\\ebb5"}),m.combine=new m("combine",{fontCharacter:"\\ebb6"}),m.gather=new m("gather",{fontCharacter:"\\ebb6"}),m.table=new m("table",{fontCharacter:"\\ebb7"}),m.variableGroup=new m("variable-group",{fontCharacter:"\\ebb8"}),m.typeHierarchy=new m("type-hierarchy",{fontCharacter:"\\ebb9"}),m.typeHierarchySub=new m("type-hierarchy-sub",{fontCharacter:"\\ebba"}),m.typeHierarchySuper=new m("type-hierarchy-super",{fontCharacter:"\\ebbb"}),m.gitPullRequestCreate=new m("git-pull-request-create",{fontCharacter:"\\ebbc"}),m.runAbove=new m("run-above",{fontCharacter:"\\ebbd"}),m.runBelow=new m("run-below",{fontCharacter:"\\ebbe"}),m.notebookTemplate=new m("notebook-template",{fontCharacter:"\\ebbf"}),m.debugRerun=new m("debug-rerun",{fontCharacter:"\\ebc0"}),m.workspaceTrusted=new m("workspace-trusted",{fontCharacter:"\\ebc1"}),m.workspaceUntrusted=new m("workspace-untrusted",{fontCharacter:"\\ebc2"}),m.workspaceUnspecified=new m("workspace-unspecified",{fontCharacter:"\\ebc3"}),m.terminalCmd=new m("terminal-cmd",{fontCharacter:"\\ebc4"}),m.terminalDebian=new m("terminal-debian",{fontCharacter:"\\ebc5"}),m.terminalLinux=new m("terminal-linux",{fontCharacter:"\\ebc6"}),m.terminalPowershell=new m("terminal-powershell",{fontCharacter:"\\ebc7"}),m.terminalTmux=new m("terminal-tmux",{fontCharacter:"\\ebc8"}),m.terminalUbuntu=new m("terminal-ubuntu",{fontCharacter:"\\ebc9"}),m.terminalBash=new m("terminal-bash",{fontCharacter:"\\ebca"}),m.arrowSwap=new m("arrow-swap",{fontCharacter:"\\ebcb"}),m.copy=new m("copy",{fontCharacter:"\\ebcc"}),m.personAdd=new m("person-add",{fontCharacter:"\\ebcd"}),m.filterFilled=new m("filter-filled",{fontCharacter:"\\ebce"}),m.wand=new m("wand",{fontCharacter:"\\ebcf"}),m.debugLineByLine=new m("debug-line-by-line",{fontCharacter:"\\ebd0"}),m.inspect=new m("inspect",{fontCharacter:"\\ebd1"}),m.layers=new m("layers",{fontCharacter:"\\ebd2"}),m.layersDot=new m("layers-dot",{fontCharacter:"\\ebd3"}),m.layersActive=new m("layers-active",{fontCharacter:"\\ebd4"}),m.compass=new m("compass",{fontCharacter:"\\ebd5"}),m.compassDot=new m("compass-dot",{fontCharacter:"\\ebd6"}),m.compassActive=new m("compass-active",{fontCharacter:"\\ebd7"}),m.azure=new m("azure",{fontCharacter:"\\ebd8"}),m.issueDraft=new m("issue-draft",{fontCharacter:"\\ebd9"}),m.gitPullRequestClosed=new m("git-pull-request-closed",{fontCharacter:"\\ebda"}),m.gitPullRequestDraft=new m("git-pull-request-draft",{fontCharacter:"\\ebdb"}),m.debugAll=new m("debug-all",{fontCharacter:"\\ebdc"}),m.debugCoverage=new m("debug-coverage",{fontCharacter:"\\ebdd"}),m.runErrors=new m("run-errors",{fontCharacter:"\\ebde"}),m.folderLibrary=new m("folder-library",{fontCharacter:"\\ebdf"}),m.debugContinueSmall=new m("debug-continue-small",{fontCharacter:"\\ebe0"}),m.beakerStop=new m("beaker-stop",{fontCharacter:"\\ebe1"}),m.graphLine=new m("graph-line",{fontCharacter:"\\ebe2"}),m.graphScatter=new m("graph-scatter",{fontCharacter:"\\ebe3"}),m.pieChart=new m("pie-chart",{fontCharacter:"\\ebe4"}),m.bracket=new m("bracket",m.json.definition),m.bracketDot=new m("bracket-dot",{fontCharacter:"\\ebe5"}),m.bracketError=new m("bracket-error",{fontCharacter:"\\ebe6"}),m.lockSmall=new m("lock-small",{fontCharacter:"\\ebe7"}),m.azureDevops=new m("azure-devops",{fontCharacter:"\\ebe8"}),m.verifiedFilled=new m("verified-filled",{fontCharacter:"\\ebe9"}),m.newLine=new m("newline",{fontCharacter:"\\ebea"}),m.layout=new m("layout",{fontCharacter:"\\ebeb"}),m.dialogError=new m("dialog-error",m.error.definition),m.dialogWarning=new m("dialog-warning",m.warning.definition),m.dialogInfo=new m("dialog-info",m.info.definition),m.dialogClose=new m("dialog-close",m.close.definition),m.treeItemExpanded=new m("tree-item-expanded",m.chevronDown.definition),m.treeFilterOnTypeOn=new m("tree-filter-on-type-on",m.listFilter.definition),m.treeFilterOnTypeOff=new m("tree-filter-on-type-off",m.listSelection.definition),m.treeFilterClear=new m("tree-filter-clear",m.close.definition),m.treeItemLoading=new m("tree-item-loading",m.loading.definition),m.menuSelection=new m("menu-selection",m.check.definition),m.menuSubmenu=new m("menu-submenu",m.chevronRight.definition),m.menuBarMore=new m("menubar-more",m.more.definition),m.scrollbarButtonLeft=new m("scrollbar-button-left",m.triangleLeft.definition),m.scrollbarButtonRight=new m("scrollbar-button-right",m.triangleRight.definition),m.scrollbarButtonUp=new m("scrollbar-button-up",m.triangleUp.definition),m.scrollbarButtonDown=new m("scrollbar-button-down",m.triangleDown.definition),m.toolBarMore=new m("toolbar-more",m.more.definition),m.quickInputBack=new m("quick-input-back",m.arrowLeft.definition);var N;(function(I){I.iconNameSegment="[A-Za-z0-9]+",I.iconNameExpression="[A-Za-z0-9-]+",I.iconModifierExpression="~[A-Za-z]+",I.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${I.iconNameExpression})(${I.iconModifierExpression})?$`);function b(g){if(g instanceof m)return["codicon","codicon-"+g.id];const t=S.exec(g.id);if(!t)return b(m.error);let[,i,n]=t;const o=["codicon","codicon-"+i];return n&&o.push("codicon-modifier-"+n.substr(1)),o}I.asClassNameArray=b;function C(g){return b(g).join(" ")}I.asClassName=C;function h(g){return"."+b(g).join(".")}I.asCSSSelector=h})(N=e.CSSIcon||(e.CSSIcon={}))}),define(ee[212],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const y=Object.prototype.hasOwnProperty;function m(I,S){for(let b in I)if(y.call(I,b)&&S({key:b,value:I[b]},function(){delete I[b]})===!1)return}e.forEach=m;class N{constructor(){this.map=new Map}add(S,b){let C=this.map.get(S);C||(C=new Set,this.map.set(S,C)),C.add(b)}delete(S,b){const C=this.map.get(S);!C||(C.delete(b),C.size===0&&this.map.delete(S))}forEach(S,b){const C=this.map.get(S);!C||C.forEach(b)}}e.SetMap=N}),define(ee[29],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function y(b,C){const h=Math.pow(10,C);return Math.round(b*h)/h}class m{constructor(C,h,g,t=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,C))|0,this.g=Math.min(255,Math.max(0,h))|0,this.b=Math.min(255,Math.max(0,g))|0,this.a=y(Math.max(Math.min(1,t),0),3)}static equals(C,h){return C.r===h.r&&C.g===h.g&&C.b===h.b&&C.a===h.a}}e.RGBA=m;class N{constructor(C,h,g,t){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=y(Math.max(Math.min(1,h),0),3),this.l=y(Math.max(Math.min(1,g),0),3),this.a=y(Math.max(Math.min(1,t),0),3)}static equals(C,h){return C.h===h.h&&C.s===h.s&&C.l===h.l&&C.a===h.a}static fromRGBA(C){const h=C.r/255,g=C.g/255,t=C.b/255,i=C.a,n=Math.max(h,g,t),o=Math.min(h,g,t);let d=0,c=0;const s=(o+n)/2,a=n-o;if(a>0){switch(c=Math.min(s<=.5?a/(2*s):a/(2-2*s),1),n){case h:d=(g-t)/a+(g<t?6:0);break;case g:d=(t-h)/a+2;break;case t:d=(h-g)/a+4;break}d*=60,d=Math.round(d)}return new N(d,c,s,i)}static _hue2rgb(C,h,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?C+(h-C)*6*g:g<1/2?h:g<2/3?C+(h-C)*(2/3-g)*6:C}static toRGBA(C){const h=C.h/360,{s:g,l:t,a:i}=C;let n,o,d;if(g===0)n=o=d=t;else{const c=t<.5?t*(1+g):t+g-t*g,s=2*t-c;n=N._hue2rgb(s,c,h+1/3),o=N._hue2rgb(s,c,h),d=N._hue2rgb(s,c,h-1/3)}return new m(Math.round(n*255),Math.round(o*255),Math.round(d*255),i)}}e.HSLA=N;class I{constructor(C,h,g,t){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=y(Math.max(Math.min(1,h),0),3),this.v=y(Math.max(Math.min(1,g),0),3),this.a=y(Math.max(Math.min(1,t),0),3)}static equals(C,h){return C.h===h.h&&C.s===h.s&&C.v===h.v&&C.a===h.a}static fromRGBA(C){const h=C.r/255,g=C.g/255,t=C.b/255,i=Math.max(h,g,t),n=Math.min(h,g,t),o=i-n,d=i===0?0:o/i;let c;return o===0?c=0:i===h?c=((g-t)/o%6+6)%6:i===g?c=(t-h)/o+2:c=(h-g)/o+4,new I(Math.round(c*60),d,i,C.a)}static toRGBA(C){const{h,s:g,v:t,a:i}=C,n=t*g,o=n*(1-Math.abs(h/60%2-1)),d=t-n;let[c,s,a]=[0,0,0];return h<60?(c=n,s=o):h<120?(c=o,s=n):h<180?(s=n,a=o):h<240?(s=o,a=n):h<300?(c=o,a=n):h<=360&&(c=n,a=o),c=Math.round((c+d)*255),s=Math.round((s+d)*255),a=Math.round((a+d)*255),new m(c,s,a,i)}}e.HSVA=I;class S{constructor(C){if(C)if(C instanceof m)this.rgba=C;else if(C instanceof N)this._hsla=C,this.rgba=N.toRGBA(C);else if(C instanceof I)this._hsva=C,this.rgba=I.toRGBA(C);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(C){return S.Format.CSS.parseHex(C)||S.red}get hsla(){return this._hsla?this._hsla:N.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:I.fromRGBA(this.rgba)}equals(C){return!!C&&m.equals(this.rgba,C.rgba)&&N.equals(this.hsla,C.hsla)&&I.equals(this.hsva,C.hsva)}getRelativeLuminance(){const C=S._relativeLuminanceForComponent(this.rgba.r),h=S._relativeLuminanceForComponent(this.rgba.g),g=S._relativeLuminanceForComponent(this.rgba.b),t=.2126*C+.7152*h+.0722*g;return y(t,4)}static _relativeLuminanceForComponent(C){const h=C/255;return h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(C){const h=this.getRelativeLuminance(),g=C.getRelativeLuminance();return h>g}isDarkerThan(C){const h=this.getRelativeLuminance(),g=C.getRelativeLuminance();return h<g}lighten(C){return new S(new N(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new S(new N(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:h,g,b:t,a:i}=this.rgba;return new S(new m(h,g,t,i*C))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new m(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(C,h,g){if(C.isLighterThan(h))return C;g=g||.5;const t=C.getRelativeLuminance(),i=h.getRelativeLuminance();return g=g*(i-t)/i,C.lighten(g)}static getDarkerColor(C,h,g){if(C.isDarkerThan(h))return C;g=g||.5;const t=C.getRelativeLuminance(),i=h.getRelativeLuminance();return g=g*(t-i)/t,C.darken(g)}}e.Color=S,S.white=new S(new m(255,255,255,1)),S.black=new S(new m(0,0,0,1)),S.red=new S(new m(255,0,0,1)),S.blue=new S(new m(0,0,255,1)),S.green=new S(new m(0,255,0,1)),S.cyan=new S(new m(0,255,255,1)),S.lightgrey=new S(new m(211,211,211,1)),S.transparent=new S(new m(0,0,0,0)),function(b){let C;(function(h){let g;(function(t){function i(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:b.Format.CSS.formatRGBA(f)}t.formatRGB=i;function n(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}t.formatRGBA=n;function o(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:b.Format.CSS.formatHSLA(f)}t.formatHSL=o;function d(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}t.formatHSLA=d;function c(f){const w=f.toString(16);return w.length!==2?"0"+w:w}function s(f){return`#${c(f.rgba.r)}${c(f.rgba.g)}${c(f.rgba.b)}`}t.formatHex=s;function a(f,w=!1){return w&&f.rgba.a===1?b.Format.CSS.formatHex(f):`#${c(f.rgba.r)}${c(f.rgba.g)}${c(f.rgba.b)}${c(Math.round(f.rgba.a*255))}`}t.formatHexA=a;function r(f){return f.isOpaque()?b.Format.CSS.formatHex(f):b.Format.CSS.formatRGBA(f)}t.format=r;function l(f){const w=f.length;if(w===0||f.charCodeAt(0)!==35)return null;if(w===7){const v=16*u(f.charCodeAt(1))+u(f.charCodeAt(2)),p=16*u(f.charCodeAt(3))+u(f.charCodeAt(4)),_=16*u(f.charCodeAt(5))+u(f.charCodeAt(6));return new b(new m(v,p,_,1))}if(w===9){const v=16*u(f.charCodeAt(1))+u(f.charCodeAt(2)),p=16*u(f.charCodeAt(3))+u(f.charCodeAt(4)),_=16*u(f.charCodeAt(5))+u(f.charCodeAt(6)),L=16*u(f.charCodeAt(7))+u(f.charCodeAt(8));return new b(new m(v,p,_,L/255))}if(w===4){const v=u(f.charCodeAt(1)),p=u(f.charCodeAt(2)),_=u(f.charCodeAt(3));return new b(new m(16*v+v,16*p+p,16*_+_))}if(w===5){const v=u(f.charCodeAt(1)),p=u(f.charCodeAt(2)),_=u(f.charCodeAt(3)),L=u(f.charCodeAt(4));return new b(new m(16*v+v,16*p+p,16*_+_,(16*L+L)/255))}return null}t.parseHex=l;function u(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(g=h.CSS||(h.CSS={}))})(C=b.Format||(b.Format={}))}(S=e.Color||(e.Color={}))}),define(ee[92],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function y(m,N,I){let S=null,b=null;if(typeof I.value=="function"?(S="value",b=I.value,b.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof I.get=="function"&&(S="get",b=I.get),!b)throw new Error("not supported");const C=`$memoize$${N}`;I[S]=function(...h){return this.hasOwnProperty(C)||Object.defineProperty(this,C,{configurable:!1,enumerable:!1,writable:!1,value:b.apply(this,h)}),this[C]}}e.memoize=y}),define(ee[307],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class y{constructor(N,I,S,b){this.originalStart=N,this.originalLength=I,this.modifiedStart=S,this.modifiedLength=b}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=y}),define(ee[14],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class y{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(o){setTimeout(()=>{throw o.stack?new Error(o.message+`

`+o.stack):o},0)}}emit(o){this.listeners.forEach(d=>{d(o)})}onUnexpectedError(o){this.unexpectedErrorHandler(o),this.emit(o)}onUnexpectedExternalError(o){this.unexpectedErrorHandler(o)}}e.ErrorHandler=y,e.errorHandler=new y;function m(n){b(n)||e.errorHandler.onUnexpectedError(n)}e.onUnexpectedError=m;function N(n){b(n)||e.errorHandler.onUnexpectedExternalError(n)}e.onUnexpectedExternalError=N;function I(n){if(n instanceof Error){let{name:o,message:d}=n;const c=n.stacktrace||n.stack;return{$isError:!0,name:o,message:d,stack:c}}return n}e.transformErrorForSerialization=I;const S="Canceled";function b(n){return n instanceof C?!0:n instanceof Error&&n.name===S&&n.message===S}e.isCancellationError=b;class C extends Error{constructor(){super(S);this.name=this.message}}e.CancellationError=C;function h(){const n=new Error(S);return n.name=n.message,n}e.canceled=h;function g(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}e.illegalArgument=g;function t(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}e.illegalState=t;class i extends Error{constructor(o){super("NotSupported");o&&(this.message=o)}}e.NotSupportedError=i}),define(ee[86],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function y(m){const N=this;let I=!1,S;return function(){return I||(I=!0,S=m.apply(N,arguments)),S}}e.once=y}),define(ee[132],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class y{constructor(N){this._prefix=N,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=y,e.defaultGenerator=new y("id#")}),define(ee[55],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var y;(function(m){function N(u){return u&&typeof u=="object"&&typeof u[Symbol.iterator]=="function"}m.is=N;const I=Object.freeze([]);function S(){return I}m.empty=S;function*b(u){yield u}m.single=b;function C(u){return u||I}m.from=C;function h(u){return!u||u[Symbol.iterator]().next().done===!0}m.isEmpty=h;function g(u){return u[Symbol.iterator]().next().value}m.first=g;function t(u,f){for(const w of u)if(f(w))return!0;return!1}m.some=t;function i(u,f){for(const w of u)if(f(w))return w}m.find=i;function*n(u,f){for(const w of u)f(w)&&(yield w)}m.filter=n;function*o(u,f){let w=0;for(const v of u)yield f(v,w++)}m.map=o;function*d(...u){for(const f of u)for(const w of f)yield w}m.concat=d;function*c(u){for(const f of u)for(const w of f)yield w}m.concatNested=c;function s(u,f,w){let v=w;for(const p of u)v=f(v,p);return v}m.reduce=s;function*a(u,f,w=u.length){for(f<0&&(f+=u.length),w<0?w+=u.length:w>u.length&&(w=u.length);f<w;f++)yield u[f]}m.slice=a;function r(u,f=Number.POSITIVE_INFINITY){const w=[];if(f===0)return[w,u];const v=u[Symbol.iterator]();for(let p=0;p<f;p++){const _=v.next();if(_.done)return[w,m.empty()];w.push(_.value)}return[w,{[Symbol.iterator](){return v}}]}m.consume=r;function l(u,f,w=(v,p)=>v===p){const v=u[Symbol.iterator](),p=f[Symbol.iterator]();for(;;){const _=v.next(),L=p.next();if(_.done!==L.done)return!1;if(_.done)return!0;if(!w(_.value,L.value))return!1}}m.equals=l})(y=e.Iterable||(e.Iterable={}))}),define(ee[56],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class y{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,n){this._keyCodeToStr[i]=n,this._strToKeyCode[n.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const m=new y,N=new y,I=new y;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const S=[],b=Object.create(null),C=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let t=0;t<=193;t++)e.IMMUTABLE_CODE_TO_KEY_CODE[t]=-1;for(let t=0;t<=126;t++)e.IMMUTABLE_KEY_CODE_TO_CODE[t]=-1;(function(){const t="",i=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",t,t],[0,1,1,"Hyper",0,t,0,t,t,t],[0,1,2,"Super",0,t,0,t,t,t],[0,1,3,"Fn",0,t,0,t,t,t],[0,1,4,"FnLock",0,t,0,t,t,t],[0,1,5,"Suspend",0,t,0,t,t,t],[0,1,6,"Resume",0,t,0,t,t,t],[0,1,7,"Turbo",0,t,0,t,t,t],[0,1,8,"Sleep",0,t,0,"VK_SLEEP",t,t],[0,1,9,"WakeUp",0,t,0,t,t,t],[31,0,10,"KeyA",31,"A",65,"VK_A",t,t],[32,0,11,"KeyB",32,"B",66,"VK_B",t,t],[33,0,12,"KeyC",33,"C",67,"VK_C",t,t],[34,0,13,"KeyD",34,"D",68,"VK_D",t,t],[35,0,14,"KeyE",35,"E",69,"VK_E",t,t],[36,0,15,"KeyF",36,"F",70,"VK_F",t,t],[37,0,16,"KeyG",37,"G",71,"VK_G",t,t],[38,0,17,"KeyH",38,"H",72,"VK_H",t,t],[39,0,18,"KeyI",39,"I",73,"VK_I",t,t],[40,0,19,"KeyJ",40,"J",74,"VK_J",t,t],[41,0,20,"KeyK",41,"K",75,"VK_K",t,t],[42,0,21,"KeyL",42,"L",76,"VK_L",t,t],[43,0,22,"KeyM",43,"M",77,"VK_M",t,t],[44,0,23,"KeyN",44,"N",78,"VK_N",t,t],[45,0,24,"KeyO",45,"O",79,"VK_O",t,t],[46,0,25,"KeyP",46,"P",80,"VK_P",t,t],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",t,t],[48,0,27,"KeyR",48,"R",82,"VK_R",t,t],[49,0,28,"KeyS",49,"S",83,"VK_S",t,t],[50,0,29,"KeyT",50,"T",84,"VK_T",t,t],[51,0,30,"KeyU",51,"U",85,"VK_U",t,t],[52,0,31,"KeyV",52,"V",86,"VK_V",t,t],[53,0,32,"KeyW",53,"W",87,"VK_W",t,t],[54,0,33,"KeyX",54,"X",88,"VK_X",t,t],[55,0,34,"KeyY",55,"Y",89,"VK_Y",t,t],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",t,t],[22,0,36,"Digit1",22,"1",49,"VK_1",t,t],[23,0,37,"Digit2",23,"2",50,"VK_2",t,t],[24,0,38,"Digit3",24,"3",51,"VK_3",t,t],[25,0,39,"Digit4",25,"4",52,"VK_4",t,t],[26,0,40,"Digit5",26,"5",53,"VK_5",t,t],[27,0,41,"Digit6",27,"6",54,"VK_6",t,t],[28,0,42,"Digit7",28,"7",55,"VK_7",t,t],[29,0,43,"Digit8",29,"8",56,"VK_8",t,t],[30,0,44,"Digit9",30,"9",57,"VK_9",t,t],[21,0,45,"Digit0",21,"0",48,"VK_0",t,t],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",t,t],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",t,t],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",t,t],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",t,t],[10,1,50,"Space",10,"Space",32,"VK_SPACE",t,t],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,t,0,t,t,t],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",t,t],[59,1,64,"F1",59,"F1",112,"VK_F1",t,t],[60,1,65,"F2",60,"F2",113,"VK_F2",t,t],[61,1,66,"F3",61,"F3",114,"VK_F3",t,t],[62,1,67,"F4",62,"F4",115,"VK_F4",t,t],[63,1,68,"F5",63,"F5",116,"VK_F5",t,t],[64,1,69,"F6",64,"F6",117,"VK_F6",t,t],[65,1,70,"F7",65,"F7",118,"VK_F7",t,t],[66,1,71,"F8",66,"F8",119,"VK_F8",t,t],[67,1,72,"F9",67,"F9",120,"VK_F9",t,t],[68,1,73,"F10",68,"F10",121,"VK_F10",t,t],[69,1,74,"F11",69,"F11",122,"VK_F11",t,t],[70,1,75,"F12",70,"F12",123,"VK_F12",t,t],[0,1,76,"PrintScreen",0,t,0,t,t,t],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",t,t],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",t,t],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",t,t],[14,1,80,"Home",14,"Home",36,"VK_HOME",t,t],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",t,t],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",t,t],[13,1,83,"End",13,"End",35,"VK_END",t,t],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",t,t],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",t],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",t],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",t],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",t],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",t,t],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",t,t],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",t,t],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",t,t],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",t,t],[3,1,94,"NumpadEnter",3,t,0,t,t,t],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",t,t],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",t,t],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",t,t],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",t,t],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",t,t],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",t,t],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",t,t],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",t,t],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",t,t],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",t,t],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",t,t],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",t,t],[58,1,107,"ContextMenu",58,"ContextMenu",93,t,t,t],[0,1,108,"Power",0,t,0,t,t,t],[0,1,109,"NumpadEqual",0,t,0,t,t,t],[71,1,110,"F13",71,"F13",124,"VK_F13",t,t],[72,1,111,"F14",72,"F14",125,"VK_F14",t,t],[73,1,112,"F15",73,"F15",126,"VK_F15",t,t],[74,1,113,"F16",74,"F16",127,"VK_F16",t,t],[75,1,114,"F17",75,"F17",128,"VK_F17",t,t],[76,1,115,"F18",76,"F18",129,"VK_F18",t,t],[77,1,116,"F19",77,"F19",130,"VK_F19",t,t],[0,1,117,"F20",0,t,0,"VK_F20",t,t],[0,1,118,"F21",0,t,0,"VK_F21",t,t],[0,1,119,"F22",0,t,0,"VK_F22",t,t],[0,1,120,"F23",0,t,0,"VK_F23",t,t],[0,1,121,"F24",0,t,0,"VK_F24",t,t],[0,1,122,"Open",0,t,0,t,t,t],[0,1,123,"Help",0,t,0,t,t,t],[0,1,124,"Select",0,t,0,t,t,t],[0,1,125,"Again",0,t,0,t,t,t],[0,1,126,"Undo",0,t,0,t,t,t],[0,1,127,"Cut",0,t,0,t,t,t],[0,1,128,"Copy",0,t,0,t,t,t],[0,1,129,"Paste",0,t,0,t,t,t],[0,1,130,"Find",0,t,0,t,t,t],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",t,t],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",t,t],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",t,t],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",t,t],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",t,t],[0,1,136,"KanaMode",0,t,0,t,t,t],[0,0,137,"IntlYen",0,t,0,t,t,t],[0,1,138,"Convert",0,t,0,t,t,t],[0,1,139,"NonConvert",0,t,0,t,t,t],[0,1,140,"Lang1",0,t,0,t,t,t],[0,1,141,"Lang2",0,t,0,t,t,t],[0,1,142,"Lang3",0,t,0,t,t,t],[0,1,143,"Lang4",0,t,0,t,t,t],[0,1,144,"Lang5",0,t,0,t,t,t],[0,1,145,"Abort",0,t,0,t,t,t],[0,1,146,"Props",0,t,0,t,t,t],[0,1,147,"NumpadParenLeft",0,t,0,t,t,t],[0,1,148,"NumpadParenRight",0,t,0,t,t,t],[0,1,149,"NumpadBackspace",0,t,0,t,t,t],[0,1,150,"NumpadMemoryStore",0,t,0,t,t,t],[0,1,151,"NumpadMemoryRecall",0,t,0,t,t,t],[0,1,152,"NumpadMemoryClear",0,t,0,t,t,t],[0,1,153,"NumpadMemoryAdd",0,t,0,t,t,t],[0,1,154,"NumpadMemorySubtract",0,t,0,t,t,t],[0,1,155,"NumpadClear",0,t,0,t,t,t],[0,1,156,"NumpadClearEntry",0,t,0,t,t,t],[5,1,0,t,5,"Ctrl",17,"VK_CONTROL",t,t],[4,1,0,t,4,"Shift",16,"VK_SHIFT",t,t],[6,1,0,t,6,"Alt",18,"VK_MENU",t,t],[57,1,0,t,57,"Meta",0,"VK_COMMAND",t,t],[5,1,157,"ControlLeft",5,t,0,"VK_LCONTROL",t,t],[4,1,158,"ShiftLeft",4,t,0,"VK_LSHIFT",t,t],[6,1,159,"AltLeft",6,t,0,"VK_LMENU",t,t],[57,1,160,"MetaLeft",57,t,0,"VK_LWIN",t,t],[5,1,161,"ControlRight",5,t,0,"VK_RCONTROL",t,t],[4,1,162,"ShiftRight",4,t,0,"VK_RSHIFT",t,t],[6,1,163,"AltRight",6,t,0,"VK_RMENU",t,t],[57,1,164,"MetaRight",57,t,0,"VK_RWIN",t,t],[0,1,165,"BrightnessUp",0,t,0,t,t,t],[0,1,166,"BrightnessDown",0,t,0,t,t,t],[0,1,167,"MediaPlay",0,t,0,t,t,t],[0,1,168,"MediaRecord",0,t,0,t,t,t],[0,1,169,"MediaFastForward",0,t,0,t,t,t],[0,1,170,"MediaRewind",0,t,0,t,t,t],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",t,t],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",t,t],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",t,t],[0,1,174,"Eject",0,t,0,t,t,t],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",t,t],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",t,t],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",t,t],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",t,t],[0,1,179,"LaunchApp1",0,t,0,"VK_MEDIA_LAUNCH_APP1",t,t],[0,1,180,"SelectTask",0,t,0,t,t,t],[0,1,181,"LaunchScreenSaver",0,t,0,t,t,t],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",t,t],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",t,t],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",t,t],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",t,t],[0,1,186,"BrowserStop",0,t,0,"VK_BROWSER_STOP",t,t],[0,1,187,"BrowserRefresh",0,t,0,"VK_BROWSER_REFRESH",t,t],[0,1,188,"BrowserFavorites",0,t,0,"VK_BROWSER_FAVORITES",t,t],[0,1,189,"ZoomToggle",0,t,0,t,t,t],[0,1,190,"MailReply",0,t,0,t,t,t],[0,1,191,"MailForward",0,t,0,t,t,t],[0,1,192,"MailSend",0,t,0,t,t,t],[109,1,0,t,109,"KeyInComposition",229,t,t,t],[111,1,0,t,111,"ABNT_C2",194,"VK_ABNT_C2",t,t],[91,1,0,t,91,"OEM_8",223,"VK_OEM_8",t,t],[0,1,0,t,0,t,0,"VK_CLEAR",t,t],[0,1,0,t,0,t,0,"VK_KANA",t,t],[0,1,0,t,0,t,0,"VK_HANGUL",t,t],[0,1,0,t,0,t,0,"VK_JUNJA",t,t],[0,1,0,t,0,t,0,"VK_FINAL",t,t],[0,1,0,t,0,t,0,"VK_HANJA",t,t],[0,1,0,t,0,t,0,"VK_KANJI",t,t],[0,1,0,t,0,t,0,"VK_CONVERT",t,t],[0,1,0,t,0,t,0,"VK_NONCONVERT",t,t],[0,1,0,t,0,t,0,"VK_ACCEPT",t,t],[0,1,0,t,0,t,0,"VK_MODECHANGE",t,t],[0,1,0,t,0,t,0,"VK_SELECT",t,t],[0,1,0,t,0,t,0,"VK_PRINT",t,t],[0,1,0,t,0,t,0,"VK_EXECUTE",t,t],[0,1,0,t,0,t,0,"VK_SNAPSHOT",t,t],[0,1,0,t,0,t,0,"VK_HELP",t,t],[0,1,0,t,0,t,0,"VK_APPS",t,t],[0,1,0,t,0,t,0,"VK_PROCESSKEY",t,t],[0,1,0,t,0,t,0,"VK_PACKET",t,t],[0,1,0,t,0,t,0,"VK_DBE_SBCSCHAR",t,t],[0,1,0,t,0,t,0,"VK_DBE_DBCSCHAR",t,t],[0,1,0,t,0,t,0,"VK_ATTN",t,t],[0,1,0,t,0,t,0,"VK_CRSEL",t,t],[0,1,0,t,0,t,0,"VK_EXSEL",t,t],[0,1,0,t,0,t,0,"VK_EREOF",t,t],[0,1,0,t,0,t,0,"VK_PLAY",t,t],[0,1,0,t,0,t,0,"VK_ZOOM",t,t],[0,1,0,t,0,t,0,"VK_NONAME",t,t],[0,1,0,t,0,t,0,"VK_PA1",t,t],[0,1,0,t,0,t,0,"VK_OEM_CLEAR",t,t]];let n=[],o=[];for(const d of i){const[c,s,a,r,l,u,f,w,v,p]=d;if(o[a]||(o[a]=!0,S[a]=r,b[r]=a,C[r.toLowerCase()]=a,s&&(e.IMMUTABLE_CODE_TO_KEY_CODE[a]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[l]=a))),!n[l]){if(n[l]=!0,!u)throw new Error(`String representation missing for key code ${l} around scan code ${r}`);m.define(l,u),N.define(l,v||u),I.define(l,p||v||u)}f&&(e.EVENT_KEY_CODE_MAP[f]=l),w&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[w]=l)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var h;(function(t){function i(a){return m.keyCodeToStr(a)}t.toString=i;function n(a){return m.strToKeyCode(a)}t.fromString=n;function o(a){return N.keyCodeToStr(a)}t.toUserSettingsUS=o;function d(a){return I.keyCodeToStr(a)}t.toUserSettingsGeneral=d;function c(a){return N.strToKeyCode(a)||I.strToKeyCode(a)}t.fromUserSettings=c;function s(a){if(a>=93&&a<=108)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return m.keyCodeToStr(a)}t.toElectronAccelerator=s})(h=e.KeyCodeUtils||(e.KeyCodeUtils={}));function g(t,i){const n=(i&65535)<<16>>>0;return(t|n)>>>0}e.KeyChord=g}),define(ee[93],te([0,1,14]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function m(g,t){if(g===0)return null;const i=(g&65535)>>>0,n=(g&4294901760)>>>16;return n!==0?new S([N(i,t),N(n,t)]):new S([N(i,t)])}e.createKeybinding=m;function N(g,t){const i=!!(g&2048),n=!!(g&256),o=t===2?n:i,d=!!(g&1024),c=!!(g&512),s=t===2?i:n,a=g&255;return new I(o,d,c,s,a)}e.createSimpleKeybinding=N;class I{constructor(t,i,n,o,d){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=o,this.keyCode=d}equals(t){return this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new S([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=I;class S{constructor(t){if(t.length===0)throw(0,y.illegalArgument)("parts");this.parts=t}}e.ChordKeybinding=S;class b{constructor(t,i,n,o,d){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=o,this.scanCode=d}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=b;class C{constructor(t,i,n,o,d,c){this.ctrlKey=t,this.shiftKey=i,this.altKey=n,this.metaKey=o,this.keyLabel=d,this.keyAriaLabel=c}}e.ResolvedKeybindingPart=C;class h{}e.ResolvedKeybinding=h}),define(ee[133],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class y{constructor(N){this.executor=N,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(N){this._error=N}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=y}),define(ee[2],te([0,1,86,55]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const N=!1;let I=null;function S(u){I=u}if(e.setDisposableTracker=S,N){const u="__is_disposable_tracked__";S(new class{trackDisposable(f){const w=new Error("Potentially leaked disposable").stack;setTimeout(()=>{f[u]||console.log(w)},3e3)}setParent(f,w){if(f&&f!==a.None)try{f[u]=!0}catch{}}markAsDisposed(f){if(f&&f!==a.None)try{f[u]=!0}catch{}}markAsSingleton(f){}})}function b(u){return I==null||I.trackDisposable(u),u}function C(u){I==null||I.markAsDisposed(u)}function h(u,f){I==null||I.setParent(u,f)}function g(u,f){if(!!I)for(const w of u)I.setParent(w,f)}function t(u){return I==null||I.markAsSingleton(u),u}e.markAsSingleton=t;class i extends Error{constructor(f){super(`Encountered errors while disposing of store. Errors: [${f.join(", ")}]`);this.errors=f}}e.MultiDisposeError=i;function n(u){return typeof u.dispose=="function"&&u.dispose.length===0}e.isDisposable=n;function o(u){if(m.Iterable.is(u)){let f=[];for(const w of u)if(w)try{w.dispose()}catch(v){f.push(v)}if(f.length===1)throw f[0];if(f.length>1)throw new i(f);return Array.isArray(u)?[]:u}else if(u)return u.dispose(),u}e.dispose=o;function d(...u){const f=c(()=>o(u));return g(u,f),f}e.combinedDisposable=d;function c(u){const f=b({dispose:(0,y.once)(()=>{C(f),u()})});return f}e.toDisposable=c;class s{constructor(){this._toDispose=new Set,this._isDisposed=!1,b(this)}dispose(){this._isDisposed||(C(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{o(this._toDispose.values())}finally{this._toDispose.clear()}}add(f){if(!f)return f;if(f===this)throw new Error("Cannot register a disposable on itself!");return h(f,this),this._isDisposed?s.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(f),f}}e.DisposableStore=s,s.DISABLE_DISPOSED_WARNING=!1;class a{constructor(){this._store=new s,b(this),h(this._store,this)}dispose(){C(this),this._store.dispose()}_register(f){if(f===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(f)}}e.Disposable=a,a.None=Object.freeze({dispose(){}});class r{constructor(){this._isDisposed=!1,b(this)}get value(){return this._isDisposed?void 0:this._value}set value(f){var w;this._isDisposed||f===this._value||((w=this._value)===null||w===void 0||w.dispose(),f&&h(f,this),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,C(this),(f=this._value)===null||f===void 0||f.dispose(),this._value=void 0}clearAndLeak(){const f=this._value;return this._value=void 0,f&&h(f,null),f}}e.MutableDisposable=r;class l{constructor(f){this.object=f}dispose(){}}e.ImmortalReference=l}),define(ee[80],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class y{constructor(I){this.element=I,this.next=y.Undefined,this.prev=y.Undefined}}y.Undefined=new y(void 0);class m{constructor(){this._first=y.Undefined,this._last=y.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===y.Undefined}clear(){let I=this._first;for(;I!==y.Undefined;){const S=I.next;I.prev=y.Undefined,I.next=y.Undefined,I=S}this._first=y.Undefined,this._last=y.Undefined,this._size=0}unshift(I){return this._insert(I,!1)}push(I){return this._insert(I,!0)}_insert(I,S){const b=new y(I);if(this._first===y.Undefined)this._first=b,this._last=b;else if(S){const h=this._last;this._last=b,b.prev=h,h.next=b}else{const h=this._first;this._first=b,b.next=h,h.prev=b}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(b))}}shift(){if(this._first!==y.Undefined){const I=this._first.element;return this._remove(this._first),I}}pop(){if(this._last!==y.Undefined){const I=this._last.element;return this._remove(this._last),I}}_remove(I){if(I.prev!==y.Undefined&&I.next!==y.Undefined){const S=I.prev;S.next=I.next,I.next.prev=S}else I.prev===y.Undefined&&I.next===y.Undefined?(this._first=y.Undefined,this._last=y.Undefined):I.next===y.Undefined?(this._last=this._last.prev,this._last.next=y.Undefined):I.prev===y.Undefined&&(this._first=this._first.next,this._first.prev=y.Undefined);this._size-=1}*[Symbol.iterator](){let I=this._first;for(;I!==y.Undefined;)yield I.element,I=I.next}}e.LinkedList=m}),function(K,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(K=typeof globalThis!="undefined"?globalThis:K||self,K.marked=e())}(this,function(){"use strict";function K(Ne,ke){for(var Te=0;Te<ke.length;Te++){var pe=ke[Te];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Ne,pe.key,pe)}}function e(Ne,ke,Te){return ke&&K(Ne.prototype,ke),Te&&K(Ne,Te),Ne}function y(Ne,ke){if(!!Ne){if(typeof Ne=="string")return m(Ne,ke);var Te=Object.prototype.toString.call(Ne).slice(8,-1);if(Te==="Object"&&Ne.constructor&&(Te=Ne.constructor.name),Te==="Map"||Te==="Set")return Array.from(Ne);if(Te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Te))return m(Ne,ke)}}function m(Ne,ke){(ke==null||ke>Ne.length)&&(ke=Ne.length);for(var Te=0,pe=new Array(ke);Te<ke;Te++)pe[Te]=Ne[Te];return pe}function N(Ne,ke){var Te=typeof Symbol!="undefined"&&Ne[Symbol.iterator]||Ne["@@iterator"];if(Te)return(Te=Te.call(Ne)).next.bind(Te);if(Array.isArray(Ne)||(Te=y(Ne))||ke&&Ne&&typeof Ne.length=="number"){Te&&(Ne=Te);var pe=0;return function(){return pe>=Ne.length?{done:!0}:{done:!1,value:Ne[pe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I={exports:{}};function S(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function b(Ne){I.exports.defaults=Ne}I.exports={defaults:S(),getDefaults:S,changeDefaults:b};var C=/[&<>"']/,h=/[&<>"']/g,g=/[<>"']|&(?!#?\w+;)/,t=/[<>"']|&(?!#?\w+;)/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=function(ke){return i[ke]};function o(Ne,ke){if(ke){if(C.test(Ne))return Ne.replace(h,n)}else if(g.test(Ne))return Ne.replace(t,n);return Ne}var d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function c(Ne){return Ne.replace(d,function(ke,Te){return Te=Te.toLowerCase(),Te==="colon"?":":Te.charAt(0)==="#"?Te.charAt(1)==="x"?String.fromCharCode(parseInt(Te.substring(2),16)):String.fromCharCode(+Te.substring(1)):""})}var s=/(^|[^\[])\^/g;function a(Ne,ke){Ne=Ne.source||Ne,ke=ke||"";var Te={replace:function(Ce,Le){return Le=Le.source||Le,Le=Le.replace(s,"$1"),Ne=Ne.replace(Ce,Le),Te},getRegex:function(){return new RegExp(Ne,ke)}};return Te}var r=/[^\w:]/g,l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function u(Ne,ke,Te){if(Ne){var pe;try{pe=decodeURIComponent(c(Te)).replace(r,"").toLowerCase()}catch{return null}if(pe.indexOf("javascript:")===0||pe.indexOf("vbscript:")===0||pe.indexOf("data:")===0)return null}ke&&!l.test(Te)&&(Te=_(ke,Te));try{Te=encodeURI(Te).replace(/%25/g,"%")}catch{return null}return Te}var f={},w=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,p=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(Ne,ke){f[" "+Ne]||(w.test(Ne)?f[" "+Ne]=Ne+"/":f[" "+Ne]=k(Ne,"/",!0)),Ne=f[" "+Ne];var Te=Ne.indexOf(":")===-1;return ke.substring(0,2)==="//"?Te?ke:Ne.replace(v,"$1")+ke:ke.charAt(0)==="/"?Te?ke:Ne.replace(p,"$1")+ke:Ne+ke}var L={exec:function(){}};function E(Ne){for(var ke=1,Te,pe;ke<arguments.length;ke++){Te=arguments[ke];for(pe in Te)Object.prototype.hasOwnProperty.call(Te,pe)&&(Ne[pe]=Te[pe])}return Ne}function M(Ne,ke){var Te=Ne.replace(/\|/g,function(Le,we,_e){for(var Pe=!1,Ae=we;--Ae>=0&&_e[Ae]==="\\";)Pe=!Pe;return Pe?"|":" |"}),pe=Te.split(/ \|/),Ce=0;if(pe[0].trim()||pe.shift(),pe[pe.length-1].trim()||pe.pop(),pe.length>ke)pe.splice(ke);else for(;pe.length<ke;)pe.push("");for(;Ce<pe.length;Ce++)pe[Ce]=pe[Ce].trim().replace(/\\\|/g,"|");return pe}function k(Ne,ke,Te){var pe=Ne.length;if(pe===0)return"";for(var Ce=0;Ce<pe;){var Le=Ne.charAt(pe-Ce-1);if(Le===ke&&!Te)Ce++;else if(Le!==ke&&Te)Ce++;else break}return Ne.substr(0,pe-Ce)}function A(Ne,ke){if(Ne.indexOf(ke[1])===-1)return-1;for(var Te=Ne.length,pe=0,Ce=0;Ce<Te;Ce++)if(Ne[Ce]==="\\")Ce++;else if(Ne[Ce]===ke[0])pe++;else if(Ne[Ce]===ke[1]&&(pe--,pe<0))return Ce;return-1}function F(Ne){Ne&&Ne.sanitize&&!Ne.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function B(Ne,ke){if(ke<1)return"";for(var Te="";ke>1;)ke&1&&(Te+=Ne),ke>>=1,Ne+=Ne;return Te+Ne}var T={escape:o,unescape:c,edit:a,cleanUrl:u,resolveUrl:_,noopTest:L,merge:E,splitCells:M,rtrim:k,findClosingBracket:A,checkSanitizeDeprecation:F,repeatString:B},R=I.exports.defaults,O=T.rtrim,P=T.splitCells,D=T.escape,x=T.findClosingBracket;function H(Ne,ke,Te,pe){var Ce=ke.href,Le=ke.title?D(ke.title):null,we=Ne[1].replace(/\\([\[\]])/g,"$1");if(Ne[0].charAt(0)!=="!"){pe.state.inLink=!0;var _e={type:"link",raw:Te,href:Ce,title:Le,text:we,tokens:pe.inlineTokens(we,[])};return pe.state.inLink=!1,_e}else return{type:"image",raw:Te,href:Ce,title:Le,text:D(we)}}function j(Ne,ke){var Te=Ne.match(/^(\s+)(?:```)/);if(Te===null)return ke;var pe=Te[1];return ke.split(`
`).map(function(Ce){var Le=Ce.match(/^\s+/);if(Le===null)return Ce;var we=Le[0];return we.length>=pe.length?Ce.slice(pe.length):Ce}).join(`
`)}var Q=function(){function Ne(Te){this.options=Te||R}var ke=Ne.prototype;return ke.space=function(pe){var Ce=this.rules.block.newline.exec(pe);if(Ce)return Ce[0].length>1?{type:"space",raw:Ce[0]}:{raw:`
`}},ke.code=function(pe){var Ce=this.rules.block.code.exec(pe);if(Ce){var Le=Ce[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ce[0],codeBlockStyle:"indented",text:this.options.pedantic?Le:O(Le,`
`)}}},ke.fences=function(pe){var Ce=this.rules.block.fences.exec(pe);if(Ce){var Le=Ce[0],we=j(Le,Ce[3]||"");return{type:"code",raw:Le,lang:Ce[2]?Ce[2].trim():Ce[2],text:we}}},ke.heading=function(pe){var Ce=this.rules.block.heading.exec(pe);if(Ce){var Le=Ce[2].trim();if(/#$/.test(Le)){var we=O(Le,"#");(this.options.pedantic||!we||/ $/.test(we))&&(Le=we.trim())}var _e={type:"heading",raw:Ce[0],depth:Ce[1].length,text:Le,tokens:[]};return this.lexer.inline(_e.text,_e.tokens),_e}},ke.hr=function(pe){var Ce=this.rules.block.hr.exec(pe);if(Ce)return{type:"hr",raw:Ce[0]}},ke.blockquote=function(pe){var Ce=this.rules.block.blockquote.exec(pe);if(Ce){var Le=Ce[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Ce[0],tokens:this.lexer.blockTokens(Le,[]),text:Le}}},ke.list=function(pe){var Ce=this.rules.block.list.exec(pe);if(Ce){var Le,we,_e,Pe,Ae,xe,je,qe,ze,Fe,We=Ce[1].trim(),$e=We.length>1,Ke={type:"list",raw:"",ordered:$e,start:$e?+We.slice(0,-1):"",loose:!1,items:[]};We=$e?"\\d{1,9}\\"+We.slice(-1):"\\"+We,this.options.pedantic&&(We=$e?We:"[*+-]");for(var Xe=new RegExp("^( {0,3}"+We+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");pe&&!(this.rules.block.hr.test(pe)||!(Ce=Xe.exec(pe)));){ze=Ce[2].split(`
`),this.options.pedantic?(Pe=2,Fe=ze[0].trimLeft()):(Pe=Ce[2].search(/[^ ]/),Pe=Ce[1].length+(Pe>4?1:Pe),Fe=ze[0].slice(Pe-Ce[1].length)),xe=!1,Le=Ce[0],!ze[0]&&/^ *$/.test(ze[1])&&(Le=Ce[1]+ze.slice(0,2).join(`
`)+`
`,Ke.loose=!0,ze=[]);var Qe=new RegExp("^ {0,"+Math.min(3,Pe-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Ae=1;Ae<ze.length;Ae++){if(qe=ze[Ae],this.options.pedantic&&(qe=qe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Qe.test(qe)){Le=Ce[1]+ze.slice(0,Ae).join(`
`)+`
`;break}if(!xe){qe.trim()||(xe=!0),qe.search(/[^ ]/)>=Pe?Fe+=`
`+qe.slice(Pe):Fe+=`
`+qe;continue}if(qe.search(/[^ ]/)>=Pe||!qe.trim()){Fe+=`
`+qe.slice(Pe);continue}else{Le=Ce[1]+ze.slice(0,Ae).join(`
`)+`
`;break}}Ke.loose||(je?Ke.loose=!0:/\n *\n *$/.test(Le)&&(je=!0)),this.options.gfm&&(we=/^\[[ xX]\] /.exec(Fe),we&&(_e=we[0]!=="[ ] ",Fe=Fe.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:Le,task:!!we,checked:_e,loose:!1,text:Fe}),Ke.raw+=Le,pe=pe.slice(Le.length)}Ke.items[Ke.items.length-1].raw=Le.trimRight(),Ke.items[Ke.items.length-1].text=Fe.trimRight(),Ke.raw=Ke.raw.trimRight();var Ye=Ke.items.length;for(Ae=0;Ae<Ye;Ae++)this.lexer.state.top=!1,Ke.items[Ae].tokens=this.lexer.blockTokens(Ke.items[Ae].text,[]),Ke.items[Ae].tokens.some(function(it){return it.type==="space"})&&(Ke.loose=!0,Ke.items[Ae].loose=!0);return Ke}},ke.html=function(pe){var Ce=this.rules.block.html.exec(pe);if(Ce){var Le={type:"html",raw:Ce[0],pre:!this.options.sanitizer&&(Ce[1]==="pre"||Ce[1]==="script"||Ce[1]==="style"),text:Ce[0]};return this.options.sanitize&&(Le.type="paragraph",Le.text=this.options.sanitizer?this.options.sanitizer(Ce[0]):D(Ce[0]),Le.tokens=[],this.lexer.inline(Le.text,Le.tokens)),Le}},ke.def=function(pe){var Ce=this.rules.block.def.exec(pe);if(Ce){Ce[3]&&(Ce[3]=Ce[3].substring(1,Ce[3].length-1));var Le=Ce[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Le,raw:Ce[0],href:Ce[2],title:Ce[3]}}},ke.table=function(pe){var Ce=this.rules.block.table.exec(pe);if(Ce){var Le={type:"table",header:P(Ce[1]).map(function(je){return{text:je}}),align:Ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ce[3]?Ce[3].replace(/\n$/,"").split(`
`):[]};if(Le.header.length===Le.align.length){Le.raw=Ce[0];var we=Le.align.length,_e,Pe,Ae,xe;for(_e=0;_e<we;_e++)/^ *-+: *$/.test(Le.align[_e])?Le.align[_e]="right":/^ *:-+: *$/.test(Le.align[_e])?Le.align[_e]="center":/^ *:-+ *$/.test(Le.align[_e])?Le.align[_e]="left":Le.align[_e]=null;for(we=Le.rows.length,_e=0;_e<we;_e++)Le.rows[_e]=P(Le.rows[_e],Le.header.length).map(function(je){return{text:je}});for(we=Le.header.length,Pe=0;Pe<we;Pe++)Le.header[Pe].tokens=[],this.lexer.inlineTokens(Le.header[Pe].text,Le.header[Pe].tokens);for(we=Le.rows.length,Pe=0;Pe<we;Pe++)for(xe=Le.rows[Pe],Ae=0;Ae<xe.length;Ae++)xe[Ae].tokens=[],this.lexer.inlineTokens(xe[Ae].text,xe[Ae].tokens);return Le}}},ke.lheading=function(pe){var Ce=this.rules.block.lheading.exec(pe);if(Ce){var Le={type:"heading",raw:Ce[0],depth:Ce[2].charAt(0)==="="?1:2,text:Ce[1],tokens:[]};return this.lexer.inline(Le.text,Le.tokens),Le}},ke.paragraph=function(pe){var Ce=this.rules.block.paragraph.exec(pe);if(Ce){var Le={type:"paragraph",raw:Ce[0],text:Ce[1].charAt(Ce[1].length-1)===`
`?Ce[1].slice(0,-1):Ce[1],tokens:[]};return this.lexer.inline(Le.text,Le.tokens),Le}},ke.text=function(pe){var Ce=this.rules.block.text.exec(pe);if(Ce){var Le={type:"text",raw:Ce[0],text:Ce[0],tokens:[]};return this.lexer.inline(Le.text,Le.tokens),Le}},ke.escape=function(pe){var Ce=this.rules.inline.escape.exec(pe);if(Ce)return{type:"escape",raw:Ce[0],text:D(Ce[1])}},ke.tag=function(pe){var Ce=this.rules.inline.tag.exec(pe);if(Ce)return!this.lexer.state.inLink&&/^<a /i.test(Ce[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ce[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ce[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ce[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ce[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ce[0]):D(Ce[0]):Ce[0]}},ke.link=function(pe){var Ce=this.rules.inline.link.exec(pe);if(Ce){var Le=Ce[2].trim();if(!this.options.pedantic&&/^</.test(Le)){if(!/>$/.test(Le))return;var we=O(Le.slice(0,-1),"\\");if((Le.length-we.length)%2==0)return}else{var _e=x(Ce[2],"()");if(_e>-1){var Pe=Ce[0].indexOf("!")===0?5:4,Ae=Pe+Ce[1].length+_e;Ce[2]=Ce[2].substring(0,_e),Ce[0]=Ce[0].substring(0,Ae).trim(),Ce[3]=""}}var xe=Ce[2],je="";if(this.options.pedantic){var qe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(xe);qe&&(xe=qe[1],je=qe[3])}else je=Ce[3]?Ce[3].slice(1,-1):"";return xe=xe.trim(),/^</.test(xe)&&(this.options.pedantic&&!/>$/.test(Le)?xe=xe.slice(1):xe=xe.slice(1,-1)),H(Ce,{href:xe&&xe.replace(this.rules.inline._escapes,"$1"),title:je&&je.replace(this.rules.inline._escapes,"$1")},Ce[0],this.lexer)}},ke.reflink=function(pe,Ce){var Le;if((Le=this.rules.inline.reflink.exec(pe))||(Le=this.rules.inline.nolink.exec(pe))){var we=(Le[2]||Le[1]).replace(/\s+/g," ");if(we=Ce[we.toLowerCase()],!we||!we.href){var _e=Le[0].charAt(0);return{type:"text",raw:_e,text:_e}}return H(Le,we,Le[0],this.lexer)}},ke.emStrong=function(pe,Ce,Le){Le===void 0&&(Le="");var we=this.rules.inline.emStrong.lDelim.exec(pe);if(!!we&&!(we[3]&&Le.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var _e=we[1]||we[2]||"";if(!_e||_e&&(Le===""||this.rules.inline.punctuation.exec(Le))){var Pe=we[0].length-1,Ae,xe,je=Pe,qe=0,ze=we[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ze.lastIndex=0,Ce=Ce.slice(-1*pe.length+Pe);(we=ze.exec(Ce))!=null;)if(Ae=we[1]||we[2]||we[3]||we[4]||we[5]||we[6],!!Ae){if(xe=Ae.length,we[3]||we[4]){je+=xe;continue}else if((we[5]||we[6])&&Pe%3&&!((Pe+xe)%3)){qe+=xe;continue}if(je-=xe,!(je>0)){if(xe=Math.min(xe,xe+je+qe),Math.min(Pe,xe)%2){var Fe=pe.slice(1,Pe+we.index+xe);return{type:"em",raw:pe.slice(0,Pe+we.index+xe+1),text:Fe,tokens:this.lexer.inlineTokens(Fe,[])}}var We=pe.slice(2,Pe+we.index+xe-1);return{type:"strong",raw:pe.slice(0,Pe+we.index+xe+1),text:We,tokens:this.lexer.inlineTokens(We,[])}}}}}},ke.codespan=function(pe){var Ce=this.rules.inline.code.exec(pe);if(Ce){var Le=Ce[2].replace(/\n/g," "),we=/[^ ]/.test(Le),_e=/^ /.test(Le)&&/ $/.test(Le);return we&&_e&&(Le=Le.substring(1,Le.length-1)),Le=D(Le,!0),{type:"codespan",raw:Ce[0],text:Le}}},ke.br=function(pe){var Ce=this.rules.inline.br.exec(pe);if(Ce)return{type:"br",raw:Ce[0]}},ke.del=function(pe){var Ce=this.rules.inline.del.exec(pe);if(Ce)return{type:"del",raw:Ce[0],text:Ce[2],tokens:this.lexer.inlineTokens(Ce[2],[])}},ke.autolink=function(pe,Ce){var Le=this.rules.inline.autolink.exec(pe);if(Le){var we,_e;return Le[2]==="@"?(we=D(this.options.mangle?Ce(Le[1]):Le[1]),_e="mailto:"+we):(we=D(Le[1]),_e=we),{type:"link",raw:Le[0],text:we,href:_e,tokens:[{type:"text",raw:we,text:we}]}}},ke.url=function(pe,Ce){var Le;if(Le=this.rules.inline.url.exec(pe)){var we,_e;if(Le[2]==="@")we=D(this.options.mangle?Ce(Le[0]):Le[0]),_e="mailto:"+we;else{var Pe;do Pe=Le[0],Le[0]=this.rules.inline._backpedal.exec(Le[0])[0];while(Pe!==Le[0]);we=D(Le[0]),Le[1]==="www."?_e="http://"+we:_e=we}return{type:"link",raw:Le[0],text:we,href:_e,tokens:[{type:"text",raw:we,text:we}]}}},ke.inlineText=function(pe,Ce){var Le=this.rules.inline.text.exec(pe);if(Le){var we;return this.lexer.state.inRawBlock?we=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Le[0]):D(Le[0]):Le[0]:we=D(this.options.smartypants?Ce(Le[0]):Le[0]),{type:"text",raw:Le[0],text:we}}},Ne}(),G=T.noopTest,se=T.edit,ne=T.merge,Z={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:G,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};Z._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,Z._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Z.def=se(Z.def).replace("label",Z._label).replace("title",Z._title).getRegex(),Z.bullet=/(?:[*+-]|\d{1,9}[.)])/,Z.listItemStart=se(/^( *)(bull) */).replace("bull",Z.bullet).getRegex(),Z.list=se(Z.list).replace(/bull/g,Z.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Z.def.source+")").getRegex(),Z._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Z._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Z.html=se(Z.html,"i").replace("comment",Z._comment).replace("tag",Z._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Z.paragraph=se(Z._paragraph).replace("hr",Z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Z._tag).getRegex(),Z.blockquote=se(Z.blockquote).replace("paragraph",Z.paragraph).getRegex(),Z.normal=ne({},Z),Z.gfm=ne({},Z.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Z.gfm.table=se(Z.gfm.table).replace("hr",Z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Z._tag).getRegex(),Z.pedantic=ne({},Z.normal,{html:se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Z._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:G,paragraph:se(Z.normal._paragraph).replace("hr",Z.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Z.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var U={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:G,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:G,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};U._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",U.punctuation=se(U.punctuation).replace(/punctuation/g,U._punctuation).getRegex(),U.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,U.escapedEmSt=/\\\*|\\_/g,U._comment=se(Z._comment).replace("(?:-->|$)","-->").getRegex(),U.emStrong.lDelim=se(U.emStrong.lDelim).replace(/punct/g,U._punctuation).getRegex(),U.emStrong.rDelimAst=se(U.emStrong.rDelimAst,"g").replace(/punct/g,U._punctuation).getRegex(),U.emStrong.rDelimUnd=se(U.emStrong.rDelimUnd,"g").replace(/punct/g,U._punctuation).getRegex(),U._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,U._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,U._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,U.autolink=se(U.autolink).replace("scheme",U._scheme).replace("email",U._email).getRegex(),U._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,U.tag=se(U.tag).replace("comment",U._comment).replace("attribute",U._attribute).getRegex(),U._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,U._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,U._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,U.link=se(U.link).replace("label",U._label).replace("href",U._href).replace("title",U._title).getRegex(),U.reflink=se(U.reflink).replace("label",U._label).getRegex(),U.reflinkSearch=se(U.reflinkSearch,"g").replace("reflink",U.reflink).replace("nolink",U.nolink).getRegex(),U.normal=ne({},U),U.pedantic=ne({},U.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:se(/^!?\[(label)\]\((.*?)\)/).replace("label",U._label).getRegex(),reflink:se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",U._label).getRegex()}),U.gfm=ne({},U.normal,{escape:se(U.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),U.gfm.url=se(U.gfm.url,"i").replace("email",U.gfm._extended_email).getRegex(),U.breaks=ne({},U.gfm,{br:se(U.br).replace("{2,}","*").getRegex(),text:se(U.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var W={block:Z,inline:U},V=Q,Y=I.exports.defaults,X=W.block,ae=W.inline,J=T.repeatString;function de(Ne){return Ne.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function q(Ne){var ke="",Te,pe,Ce=Ne.length;for(Te=0;Te<Ce;Te++)pe=Ne.charCodeAt(Te),Math.random()>.5&&(pe="x"+pe.toString(16)),ke+="&#"+pe+";";return ke}var z=function(){function Ne(Te){this.tokens=[],this.tokens.links=Object.create(null),this.options=Te||Y,this.options.tokenizer=this.options.tokenizer||new V,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var pe={block:X.normal,inline:ae.normal};this.options.pedantic?(pe.block=X.pedantic,pe.inline=ae.pedantic):this.options.gfm&&(pe.block=X.gfm,this.options.breaks?pe.inline=ae.breaks:pe.inline=ae.gfm),this.tokenizer.rules=pe}Ne.lex=function(pe,Ce){var Le=new Ne(Ce);return Le.lex(pe)},Ne.lexInline=function(pe,Ce){var Le=new Ne(Ce);return Le.inlineTokens(pe)};var ke=Ne.prototype;return ke.lex=function(pe){pe=pe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(pe,this.tokens);for(var Ce;Ce=this.inlineQueue.shift();)this.inlineTokens(Ce.src,Ce.tokens);return this.tokens},ke.blockTokens=function(pe,Ce){var Le=this;Ce===void 0&&(Ce=[]),this.options.pedantic&&(pe=pe.replace(/^ +$/gm,""));for(var we,_e,Pe,Ae;pe;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(je){return(we=je.call({lexer:Le},pe,Ce))?(pe=pe.substring(we.raw.length),Ce.push(we),!0):!1}))){if(we=this.tokenizer.space(pe)){pe=pe.substring(we.raw.length),we.type&&Ce.push(we);continue}if(we=this.tokenizer.code(pe)){pe=pe.substring(we.raw.length),_e=Ce[Ce.length-1],_e&&(_e.type==="paragraph"||_e.type==="text")?(_e.raw+=`
`+we.raw,_e.text+=`
`+we.text,this.inlineQueue[this.inlineQueue.length-1].src=_e.text):Ce.push(we);continue}if(we=this.tokenizer.fences(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.heading(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.hr(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.blockquote(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.list(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.html(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.def(pe)){pe=pe.substring(we.raw.length),_e=Ce[Ce.length-1],_e&&(_e.type==="paragraph"||_e.type==="text")?(_e.raw+=`
`+we.raw,_e.text+=`
`+we.raw,this.inlineQueue[this.inlineQueue.length-1].src=_e.text):this.tokens.links[we.tag]||(this.tokens.links[we.tag]={href:we.href,title:we.title});continue}if(we=this.tokenizer.table(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.lheading(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(Pe=pe,this.options.extensions&&this.options.extensions.startBlock&&function(){var je=1/0,qe=pe.slice(1),ze=void 0;Le.options.extensions.startBlock.forEach(function(Fe){ze=Fe.call({lexer:this},qe),typeof ze=="number"&&ze>=0&&(je=Math.min(je,ze))}),je<1/0&&je>=0&&(Pe=pe.substring(0,je+1))}(),this.state.top&&(we=this.tokenizer.paragraph(Pe))){_e=Ce[Ce.length-1],Ae&&_e.type==="paragraph"?(_e.raw+=`
`+we.raw,_e.text+=`
`+we.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=_e.text):Ce.push(we),Ae=Pe.length!==pe.length,pe=pe.substring(we.raw.length);continue}if(we=this.tokenizer.text(pe)){pe=pe.substring(we.raw.length),_e=Ce[Ce.length-1],_e&&_e.type==="text"?(_e.raw+=`
`+we.raw,_e.text+=`
`+we.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=_e.text):Ce.push(we);continue}if(pe){var xe="Infinite loop on byte: "+pe.charCodeAt(0);if(this.options.silent){console.error(xe);break}else throw new Error(xe)}}return this.state.top=!0,Ce},ke.inline=function(pe,Ce){this.inlineQueue.push({src:pe,tokens:Ce})},ke.inlineTokens=function(pe,Ce){var Le=this;Ce===void 0&&(Ce=[]);var we,_e,Pe,Ae=pe,xe,je,qe;if(this.tokens.links){var ze=Object.keys(this.tokens.links);if(ze.length>0)for(;(xe=this.tokenizer.rules.inline.reflinkSearch.exec(Ae))!=null;)ze.includes(xe[0].slice(xe[0].lastIndexOf("[")+1,-1))&&(Ae=Ae.slice(0,xe.index)+"["+J("a",xe[0].length-2)+"]"+Ae.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(xe=this.tokenizer.rules.inline.blockSkip.exec(Ae))!=null;)Ae=Ae.slice(0,xe.index)+"["+J("a",xe[0].length-2)+"]"+Ae.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(xe=this.tokenizer.rules.inline.escapedEmSt.exec(Ae))!=null;)Ae=Ae.slice(0,xe.index)+"++"+Ae.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;pe;)if(je||(qe=""),je=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(We){return(we=We.call({lexer:Le},pe,Ce))?(pe=pe.substring(we.raw.length),Ce.push(we),!0):!1}))){if(we=this.tokenizer.escape(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.tag(pe)){pe=pe.substring(we.raw.length),_e=Ce[Ce.length-1],_e&&we.type==="text"&&_e.type==="text"?(_e.raw+=we.raw,_e.text+=we.text):Ce.push(we);continue}if(we=this.tokenizer.link(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.reflink(pe,this.tokens.links)){pe=pe.substring(we.raw.length),_e=Ce[Ce.length-1],_e&&we.type==="text"&&_e.type==="text"?(_e.raw+=we.raw,_e.text+=we.text):Ce.push(we);continue}if(we=this.tokenizer.emStrong(pe,Ae,qe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.codespan(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.br(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.del(pe)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(we=this.tokenizer.autolink(pe,q)){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(!this.state.inLink&&(we=this.tokenizer.url(pe,q))){pe=pe.substring(we.raw.length),Ce.push(we);continue}if(Pe=pe,this.options.extensions&&this.options.extensions.startInline&&function(){var We=1/0,$e=pe.slice(1),Ke=void 0;Le.options.extensions.startInline.forEach(function(Xe){Ke=Xe.call({lexer:this},$e),typeof Ke=="number"&&Ke>=0&&(We=Math.min(We,Ke))}),We<1/0&&We>=0&&(Pe=pe.substring(0,We+1))}(),we=this.tokenizer.inlineText(Pe,de)){pe=pe.substring(we.raw.length),we.raw.slice(-1)!=="_"&&(qe=we.raw.slice(-1)),je=!0,_e=Ce[Ce.length-1],_e&&_e.type==="text"?(_e.raw+=we.raw,_e.text+=we.text):Ce.push(we);continue}if(pe){var Fe="Infinite loop on byte: "+pe.charCodeAt(0);if(this.options.silent){console.error(Fe);break}else throw new Error(Fe)}}return Ce},e(Ne,null,[{key:"rules",get:function(){return{block:X,inline:ae}}}]),Ne}(),$=I.exports.defaults,ie=T.cleanUrl,ce=T.escape,oe=function(){function Ne(Te){this.options=Te||$}var ke=Ne.prototype;return ke.code=function(pe,Ce,Le){var we=(Ce||"").match(/\S*/)[0];if(this.options.highlight){var _e=this.options.highlight(pe,we);_e!=null&&_e!==pe&&(Le=!0,pe=_e)}return pe=pe.replace(/\n$/,"")+`
`,we?'<pre><code class="'+this.options.langPrefix+ce(we,!0)+'">'+(Le?pe:ce(pe,!0))+`</code></pre>
`:"<pre><code>"+(Le?pe:ce(pe,!0))+`</code></pre>
`},ke.blockquote=function(pe){return`<blockquote>
`+pe+`</blockquote>
`},ke.html=function(pe){return pe},ke.heading=function(pe,Ce,Le,we){return this.options.headerIds?"<h"+Ce+' id="'+this.options.headerPrefix+we.slug(Le)+'">'+pe+"</h"+Ce+`>
`:"<h"+Ce+">"+pe+"</h"+Ce+`>
`},ke.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ke.list=function(pe,Ce,Le){var we=Ce?"ol":"ul",_e=Ce&&Le!==1?' start="'+Le+'"':"";return"<"+we+_e+`>
`+pe+"</"+we+`>
`},ke.listitem=function(pe){return"<li>"+pe+`</li>
`},ke.checkbox=function(pe){return"<input "+(pe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ke.paragraph=function(pe){return"<p>"+pe+`</p>
`},ke.table=function(pe,Ce){return Ce&&(Ce="<tbody>"+Ce+"</tbody>"),`<table>
<thead>
`+pe+`</thead>
`+Ce+`</table>
`},ke.tablerow=function(pe){return`<tr>
`+pe+`</tr>
`},ke.tablecell=function(pe,Ce){var Le=Ce.header?"th":"td",we=Ce.align?"<"+Le+' align="'+Ce.align+'">':"<"+Le+">";return we+pe+"</"+Le+`>
`},ke.strong=function(pe){return"<strong>"+pe+"</strong>"},ke.em=function(pe){return"<em>"+pe+"</em>"},ke.codespan=function(pe){return"<code>"+pe+"</code>"},ke.br=function(){return this.options.xhtml?"<br/>":"<br>"},ke.del=function(pe){return"<del>"+pe+"</del>"},ke.link=function(pe,Ce,Le){if(pe=ie(this.options.sanitize,this.options.baseUrl,pe),pe===null)return Le;var we='<a href="'+ce(pe)+'"';return Ce&&(we+=' title="'+Ce+'"'),we+=">"+Le+"</a>",we},ke.image=function(pe,Ce,Le){if(pe=ie(this.options.sanitize,this.options.baseUrl,pe),pe===null)return Le;var we='<img src="'+pe+'" alt="'+Le+'"';return Ce&&(we+=' title="'+Ce+'"'),we+=this.options.xhtml?"/>":">",we},ke.text=function(pe){return pe},Ne}(),he=function(){function Ne(){}var ke=Ne.prototype;return ke.strong=function(pe){return pe},ke.em=function(pe){return pe},ke.codespan=function(pe){return pe},ke.del=function(pe){return pe},ke.html=function(pe){return pe},ke.text=function(pe){return pe},ke.link=function(pe,Ce,Le){return""+Le},ke.image=function(pe,Ce,Le){return""+Le},ke.br=function(){return""},Ne}(),ve=function(){function Ne(){this.seen={}}var ke=Ne.prototype;return ke.serialize=function(pe){return pe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ke.getNextSafeSlug=function(pe,Ce){var Le=pe,we=0;if(this.seen.hasOwnProperty(Le)){we=this.seen[pe];do we++,Le=pe+"-"+we;while(this.seen.hasOwnProperty(Le))}return Ce||(this.seen[pe]=we,this.seen[Le]=0),Le},ke.slug=function(pe,Ce){Ce===void 0&&(Ce={});var Le=this.serialize(pe);return this.getNextSafeSlug(Le,Ce.dryrun)},Ne}(),Se=oe,le=he,ge=ve,ue=I.exports.defaults,be=T.unescape,re=function(){function Ne(Te){this.options=Te||ue,this.options.renderer=this.options.renderer||new Se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new le,this.slugger=new ge}Ne.parse=function(pe,Ce){var Le=new Ne(Ce);return Le.parse(pe)},Ne.parseInline=function(pe,Ce){var Le=new Ne(Ce);return Le.parseInline(pe)};var ke=Ne.prototype;return ke.parse=function(pe,Ce){Ce===void 0&&(Ce=!0);var Le="",we,_e,Pe,Ae,xe,je,qe,ze,Fe,We,$e,Ke,Xe,Qe,Ye,it,at,lt,ot,ct=pe.length;for(we=0;we<ct;we++){if(We=pe[we],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[We.type]&&(ot=this.options.extensions.renderers[We.type].call({parser:this},We),ot!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(We.type))){Le+=ot||"";continue}switch(We.type){case"space":continue;case"hr":{Le+=this.renderer.hr();continue}case"heading":{Le+=this.renderer.heading(this.parseInline(We.tokens),We.depth,be(this.parseInline(We.tokens,this.textRenderer)),this.slugger);continue}case"code":{Le+=this.renderer.code(We.text,We.lang,We.escaped);continue}case"table":{for(ze="",qe="",Ae=We.header.length,_e=0;_e<Ae;_e++)qe+=this.renderer.tablecell(this.parseInline(We.header[_e].tokens),{header:!0,align:We.align[_e]});for(ze+=this.renderer.tablerow(qe),Fe="",Ae=We.rows.length,_e=0;_e<Ae;_e++){for(je=We.rows[_e],qe="",xe=je.length,Pe=0;Pe<xe;Pe++)qe+=this.renderer.tablecell(this.parseInline(je[Pe].tokens),{header:!1,align:We.align[Pe]});Fe+=this.renderer.tablerow(qe)}Le+=this.renderer.table(ze,Fe);continue}case"blockquote":{Fe=this.parse(We.tokens),Le+=this.renderer.blockquote(Fe);continue}case"list":{for($e=We.ordered,Ke=We.start,Xe=We.loose,Ae=We.items.length,Fe="",_e=0;_e<Ae;_e++)Ye=We.items[_e],it=Ye.checked,at=Ye.task,Qe="",Ye.task&&(lt=this.renderer.checkbox(it),Xe?Ye.tokens.length>0&&Ye.tokens[0].type==="paragraph"?(Ye.tokens[0].text=lt+" "+Ye.tokens[0].text,Ye.tokens[0].tokens&&Ye.tokens[0].tokens.length>0&&Ye.tokens[0].tokens[0].type==="text"&&(Ye.tokens[0].tokens[0].text=lt+" "+Ye.tokens[0].tokens[0].text)):Ye.tokens.unshift({type:"text",text:lt}):Qe+=lt),Qe+=this.parse(Ye.tokens,Xe),Fe+=this.renderer.listitem(Qe,at,it);Le+=this.renderer.list(Fe,$e,Ke);continue}case"html":{Le+=this.renderer.html(We.text);continue}case"paragraph":{Le+=this.renderer.paragraph(this.parseInline(We.tokens));continue}case"text":{for(Fe=We.tokens?this.parseInline(We.tokens):We.text;we+1<ct&&pe[we+1].type==="text";)We=pe[++we],Fe+=`
`+(We.tokens?this.parseInline(We.tokens):We.text);Le+=Ce?this.renderer.paragraph(Fe):Fe;continue}default:{var st='Token with "'+We.type+'" type was not found.';if(this.options.silent){console.error(st);return}else throw new Error(st)}}}return Le},ke.parseInline=function(pe,Ce){Ce=Ce||this.renderer;var Le="",we,_e,Pe,Ae=pe.length;for(we=0;we<Ae;we++){if(_e=pe[we],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_e.type]&&(Pe=this.options.extensions.renderers[_e.type].call({parser:this},_e),Pe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(_e.type))){Le+=Pe||"";continue}switch(_e.type){case"escape":{Le+=Ce.text(_e.text);break}case"html":{Le+=Ce.html(_e.text);break}case"link":{Le+=Ce.link(_e.href,_e.title,this.parseInline(_e.tokens,Ce));break}case"image":{Le+=Ce.image(_e.href,_e.title,_e.text);break}case"strong":{Le+=Ce.strong(this.parseInline(_e.tokens,Ce));break}case"em":{Le+=Ce.em(this.parseInline(_e.tokens,Ce));break}case"codespan":{Le+=Ce.codespan(_e.text);break}case"br":{Le+=Ce.br();break}case"del":{Le+=Ce.del(this.parseInline(_e.tokens,Ce));break}case"text":{Le+=Ce.text(_e.text);break}default:{var xe='Token with "'+_e.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return Le},Ne}(),fe=z,ye=re,Me=Q,Oe=oe,He=he,Ve=ve,Ge=T.merge,Je=T.checkSanitizeDeprecation,Ze=T.escape,et=I.exports.getDefaults,Ee=I.exports.changeDefaults,Ie=I.exports.defaults;function Re(Ne,ke,Te){if(typeof Ne=="undefined"||Ne===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");if(typeof ke=="function"&&(Te=ke,ke=null),ke=Ge({},Re.defaults,ke||{}),Je(ke),Te){var pe=ke.highlight,Ce;try{Ce=fe.lex(Ne,ke)}catch(Pe){return Te(Pe)}var Le=function(Ae){var xe;if(!Ae)try{ke.walkTokens&&Re.walkTokens(Ce,ke.walkTokens),xe=ye.parse(Ce,ke)}catch(je){Ae=je}return ke.highlight=pe,Ae?Te(Ae):Te(null,xe)};if(!pe||pe.length<3||(delete ke.highlight,!Ce.length))return Le();var we=0;Re.walkTokens(Ce,function(Pe){Pe.type==="code"&&(we++,setTimeout(function(){pe(Pe.text,Pe.lang,function(Ae,xe){if(Ae)return Le(Ae);xe!=null&&xe!==Pe.text&&(Pe.text=xe,Pe.escaped=!0),we--,we===0&&Le()})},0))}),we===0&&Le();return}try{var _e=fe.lex(Ne,ke);return ke.walkTokens&&Re.walkTokens(_e,ke.walkTokens),ye.parse(_e,ke)}catch(Pe){if(Pe.message+=`
Please report this to https://github.com/markedjs/marked.`,ke.silent)return"<p>An error occurred:</p><pre>"+Ze(Pe.message+"",!0)+"</pre>";throw Pe}}Re.options=Re.setOptions=function(Ne){return Ge(Re.defaults,Ne),Ee(Re.defaults),Re},Re.getDefaults=et,Re.defaults=Ie,Re.use=function(){for(var Ne=this,ke=arguments.length,Te=new Array(ke),pe=0;pe<ke;pe++)Te[pe]=arguments[pe];var Ce=Ge.apply(void 0,[{}].concat(Te)),Le=Re.defaults.extensions||{renderers:{},childTokens:{}},we;Te.forEach(function(_e){if(_e.extensions&&(we=!0,_e.extensions.forEach(function(Ae){if(!Ae.name)throw new Error("extension name required");if(Ae.renderer){var xe=Le.renderers?Le.renderers[Ae.name]:null;xe?Le.renderers[Ae.name]=function(){for(var je=arguments.length,qe=new Array(je),ze=0;ze<je;ze++)qe[ze]=arguments[ze];var Fe=Ae.renderer.apply(this,qe);return Fe===!1&&(Fe=xe.apply(this,qe)),Fe}:Le.renderers[Ae.name]=Ae.renderer}if(Ae.tokenizer){if(!Ae.level||Ae.level!=="block"&&Ae.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Le[Ae.level]?Le[Ae.level].unshift(Ae.tokenizer):Le[Ae.level]=[Ae.tokenizer],Ae.start&&(Ae.level==="block"?Le.startBlock?Le.startBlock.push(Ae.start):Le.startBlock=[Ae.start]:Ae.level==="inline"&&(Le.startInline?Le.startInline.push(Ae.start):Le.startInline=[Ae.start]))}Ae.childTokens&&(Le.childTokens[Ae.name]=Ae.childTokens)})),_e.renderer&&function(){var Ae=Re.defaults.renderer||new Oe,xe=function(ze){var Fe=Ae[ze];Ae[ze]=function(){for(var We=arguments.length,$e=new Array(We),Ke=0;Ke<We;Ke++)$e[Ke]=arguments[Ke];var Xe=_e.renderer[ze].apply(Ae,$e);return Xe===!1&&(Xe=Fe.apply(Ae,$e)),Xe}};for(var je in _e.renderer)xe(je);Ce.renderer=Ae}(),_e.tokenizer&&function(){var Ae=Re.defaults.tokenizer||new Me,xe=function(ze){var Fe=Ae[ze];Ae[ze]=function(){for(var We=arguments.length,$e=new Array(We),Ke=0;Ke<We;Ke++)$e[Ke]=arguments[Ke];var Xe=_e.tokenizer[ze].apply(Ae,$e);return Xe===!1&&(Xe=Fe.apply(Ae,$e)),Xe}};for(var je in _e.tokenizer)xe(je);Ce.tokenizer=Ae}(),_e.walkTokens){var Pe=Re.defaults.walkTokens;Ce.walkTokens=function(Ae){_e.walkTokens.call(Ne,Ae),Pe&&Pe(Ae)}}we&&(Ce.extensions=Le),Re.setOptions(Ce)})},Re.walkTokens=function(Ne,ke){for(var Te=function(){var we=Ce.value;switch(ke(we),we.type){case"table":{for(var _e=N(we.header),Pe;!(Pe=_e()).done;){var Ae=Pe.value;Re.walkTokens(Ae.tokens,ke)}for(var xe=N(we.rows),je;!(je=xe()).done;)for(var qe=je.value,ze=N(qe),Fe;!(Fe=ze()).done;){var We=Fe.value;Re.walkTokens(We.tokens,ke)}break}case"list":{Re.walkTokens(we.items,ke);break}default:Re.defaults.extensions&&Re.defaults.extensions.childTokens&&Re.defaults.extensions.childTokens[we.type]?Re.defaults.extensions.childTokens[we.type].forEach(function($e){Re.walkTokens(we[$e],ke)}):we.tokens&&Re.walkTokens(we.tokens,ke)}},pe=N(Ne),Ce;!(Ce=pe()).done;)Te()},Re.parseInline=function(Ne,ke){if(typeof Ne=="undefined"||Ne===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");ke=Ge({},Re.defaults,ke||{}),Je(ke);try{var Te=fe.lexInline(Ne,ke);return ke.walkTokens&&Re.walkTokens(Te,ke.walkTokens),ye.parseInline(Te,ke)}catch(pe){if(pe.message+=`
Please report this to https://github.com/markedjs/marked.`,ke.silent)return"<p>An error occurred:</p><pre>"+Ze(pe.message+"",!0)+"</pre>";throw pe}},Re.Parser=ye,Re.parser=ye.parse,Re.Renderer=Oe,Re.TextRenderer=He,Re.Lexer=fe,Re.lexer=fe.lex,Re.Tokenizer=Me,Re.Slugger=Ve,Re.parse=Re;var Ue=Re;return Ue}),define(ee[134],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0;var y;(function(m){m.text="text/plain",m.binary="application/octet-stream",m.unknown="application/unknown",m.markdown="text/markdown",m.latex="text/latex"})(y=e.Mimes||(e.Mimes={}))}),define(ee[162],te([0,1,134]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:y.Mimes.text,TERMINALS:"Terminals"};class m{constructor(I){this.data=I}update(){}getData(){return this.data}}e.DragAndDropData=m,e.StaticDND={CurrentDragAndDropData:void 0}}),define(ee[308],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class y{constructor(N,I=0,S=N.length,b=I-1){this.items=N,this.start=I,this.end=S,this.index=b}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=y}),define(ee[309],te([0,1,308]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class m{constructor(I=[],S=10){this._initialize(I),this._limit=S,this._onChange()}getHistory(){return this._elements}add(I){this._history.delete(I),this._history.add(I),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(I){return this._history.has(I)}_onChange(){this._reduceToLimit();const I=this._elements;this._navigator=new y.ArrayNavigator(I,0,I.length,I.length)}_reduceToLimit(){const I=this._elements;I.length>this._limit&&this._initialize(I.slice(I.length-this._limit))}_currentPosition(){const I=this._navigator.current();return I?this._elements.indexOf(I):-1}_initialize(I){this._history=new Set;for(const S of I)this._history.add(S)}get _elements(){const I=[];return this._history.forEach(S=>I.push(S)),I}}e.HistoryNavigator=m}),define(ee[108],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function y(I,S,b){return Math.min(Math.max(I,S),b)}e.clamp=y;class m{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=m;class N{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const b=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=b,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=N}),define(ee[17],te([0,1]),function(K,e){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.language=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const m="en";let N=!1,I=!1,S=!1,b=!1,C=!1,h=!1,g=!1,t=!1,i,n=m,o,d;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let c;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?c=e.globals.vscode.process:typeof process!="undefined"&&(c=process);const s=typeof((y=c==null?void 0:c.versions)===null||y===void 0?void 0:y.electron)=="string",a=s&&(c==null?void 0:c.type)==="renderer";if(typeof navigator=="object"&&!a)d=navigator.userAgent,N=d.indexOf("Windows")>=0,I=d.indexOf("Macintosh")>=0,t=(d.indexOf("Macintosh")>=0||d.indexOf("iPad")>=0||d.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=d.indexOf("Linux")>=0,h=!0,i=navigator.language,n=i;else if(typeof c=="object"){N=c.platform==="win32",I=c.platform==="darwin",S=c.platform==="linux",b=S&&!!c.env.SNAP&&!!c.env.SNAP_REVISION,g=s,i=m,n=m;const w=c.env.VSCODE_NLS_CONFIG;if(w)try{const v=JSON.parse(w),p=v.availableLanguages["*"];i=v.locale,n=p||m,o=v._translationsConfigFile}catch{}C=!0}else console.error("Unable to resolve platform.");let r=0;I?r=1:N?r=3:S&&(r=2),e.isWindows=N,e.isMacintosh=I,e.isLinux=S,e.isNative=C,e.isWeb=h,e.isIOS=t,e.userAgent=d,e.language=n,e.setTimeout0=(()=>{if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let w=[];e.globals.addEventListener("message",p=>{if(p.data&&p.data.vscodeScheduleAsyncWork)for(let _=0,L=w.length;_<L;_++){const E=w[_];if(E.id===p.data.vscodeScheduleAsyncWork){w.splice(_,1),E.callback();return}}});let v=0;return p=>{const _=++v;w.push({id:_,callback:p}),e.globals.postMessage({vscodeScheduleAsyncWork:_},"*")}}return w=>setTimeout(w)})(),e.OS=I||t?2:N?1:3;let l=!0,u=!1;function f(){if(!u){u=!0;const w=new Uint8Array(2);w[0]=1,w[1]=2,l=new Uint16Array(w.buffer)[0]===(2<<8)+1}return l}e.isLittleEndian=f,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ee[310],te([0,1,17]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let m;if(typeof y.globals.vscode!="undefined"&&typeof y.globals.vscode.process!="undefined"){const N=y.globals.vscode.process;m={get platform(){return N.platform},get arch(){return N.arch},get env(){return N.env},cwd(){return N.cwd()}}}else typeof process!="undefined"?m={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:m={get platform(){return y.isWindows?"win32":y.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=m.cwd,e.env=m.env,e.platform=m.platform}),define(ee[81],te([0,1,310]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const m=65,N=97,I=90,S=122,b=46,C=47,h=92,g=58,t=63;class i extends Error{constructor(l,u,f){let w;typeof u=="string"&&u.indexOf("not ")===0?(w="must not be",u=u.replace(/^not /,"")):w="must be";const v=l.indexOf(".")!==-1?"property":"argument";let p=`The "${l}" ${v} ${w} of type ${u}`;p+=`. Received type ${typeof f}`;super(p);this.code="ERR_INVALID_ARG_TYPE"}}function n(r,l){if(typeof r!="string")throw new i(l,"string",r)}function o(r){return r===C||r===h}function d(r){return r===C}function c(r){return r>=m&&r<=I||r>=N&&r<=S}function s(r,l,u,f){let w="",v=0,p=-1,_=0,L=0;for(let E=0;E<=r.length;++E){if(E<r.length)L=r.charCodeAt(E);else{if(f(L))break;L=C}if(f(L)){if(!(p===E-1||_===1))if(_===2){if(w.length<2||v!==2||w.charCodeAt(w.length-1)!==b||w.charCodeAt(w.length-2)!==b){if(w.length>2){const M=w.lastIndexOf(u);M===-1?(w="",v=0):(w=w.slice(0,M),v=w.length-1-w.lastIndexOf(u)),p=E,_=0;continue}else if(w.length!==0){w="",v=0,p=E,_=0;continue}}l&&(w+=w.length>0?`${u}..`:"..",v=2)}else w.length>0?w+=`${u}${r.slice(p+1,E)}`:w=r.slice(p+1,E),v=E-p-1;p=E,_=0}else L===b&&_!==-1?++_:_=-1}return w}function a(r,l){if(l===null||typeof l!="object")throw new i("pathObject","Object",l);const u=l.dir||l.root,f=l.base||`${l.name||""}${l.ext||""}`;return u?u===l.root?`${u}${f}`:`${u}${r}${f}`:f}e.win32={resolve(...r){let l="",u="",f=!1;for(let w=r.length-1;w>=-1;w--){let v;if(w>=0){if(v=r[w],n(v,"path"),v.length===0)continue}else l.length===0?v=y.cwd():(v=y.env[`=${l}`]||y.cwd(),(v===void 0||v.slice(0,2).toLowerCase()!==l.toLowerCase()&&v.charCodeAt(2)===h)&&(v=`${l}\\`));const p=v.length;let _=0,L="",E=!1;const M=v.charCodeAt(0);if(p===1)o(M)&&(_=1,E=!0);else if(o(M))if(E=!0,o(v.charCodeAt(1))){let k=2,A=k;for(;k<p&&!o(v.charCodeAt(k));)k++;if(k<p&&k!==A){const F=v.slice(A,k);for(A=k;k<p&&o(v.charCodeAt(k));)k++;if(k<p&&k!==A){for(A=k;k<p&&!o(v.charCodeAt(k));)k++;(k===p||k!==A)&&(L=`\\\\${F}\\${v.slice(A,k)}`,_=k)}}}else _=1;else c(M)&&v.charCodeAt(1)===g&&(L=v.slice(0,2),_=2,p>2&&o(v.charCodeAt(2))&&(E=!0,_=3));if(L.length>0)if(l.length>0){if(L.toLowerCase()!==l.toLowerCase())continue}else l=L;if(f){if(l.length>0)break}else if(u=`${v.slice(_)}\\${u}`,f=E,E&&l.length>0)break}return u=s(u,!f,"\\",o),f?`${l}\\${u}`:`${l}${u}`||"."},normalize(r){n(r,"path");const l=r.length;if(l===0)return".";let u=0,f,w=!1;const v=r.charCodeAt(0);if(l===1)return d(v)?"\\":r;if(o(v))if(w=!0,o(r.charCodeAt(1))){let _=2,L=_;for(;_<l&&!o(r.charCodeAt(_));)_++;if(_<l&&_!==L){const E=r.slice(L,_);for(L=_;_<l&&o(r.charCodeAt(_));)_++;if(_<l&&_!==L){for(L=_;_<l&&!o(r.charCodeAt(_));)_++;if(_===l)return`\\\\${E}\\${r.slice(L)}\\`;_!==L&&(f=`\\\\${E}\\${r.slice(L,_)}`,u=_)}}}else u=1;else c(v)&&r.charCodeAt(1)===g&&(f=r.slice(0,2),u=2,l>2&&o(r.charCodeAt(2))&&(w=!0,u=3));let p=u<l?s(r.slice(u),!w,"\\",o):"";return p.length===0&&!w&&(p="."),p.length>0&&o(r.charCodeAt(l-1))&&(p+="\\"),f===void 0?w?`\\${p}`:p:w?`${f}\\${p}`:`${f}${p}`},isAbsolute(r){n(r,"path");const l=r.length;if(l===0)return!1;const u=r.charCodeAt(0);return o(u)||l>2&&c(u)&&r.charCodeAt(1)===g&&o(r.charCodeAt(2))},join(...r){if(r.length===0)return".";let l,u;for(let v=0;v<r.length;++v){const p=r[v];n(p,"path"),p.length>0&&(l===void 0?l=u=p:l+=`\\${p}`)}if(l===void 0)return".";let f=!0,w=0;if(typeof u=="string"&&o(u.charCodeAt(0))){++w;const v=u.length;v>1&&o(u.charCodeAt(1))&&(++w,v>2&&(o(u.charCodeAt(2))?++w:f=!1))}if(f){for(;w<l.length&&o(l.charCodeAt(w));)w++;w>=2&&(l=`\\${l.slice(w)}`)}return e.win32.normalize(l)},relative(r,l){if(n(r,"from"),n(l,"to"),r===l)return"";const u=e.win32.resolve(r),f=e.win32.resolve(l);if(u===f||(r=u.toLowerCase(),l=f.toLowerCase(),r===l))return"";let w=0;for(;w<r.length&&r.charCodeAt(w)===h;)w++;let v=r.length;for(;v-1>w&&r.charCodeAt(v-1)===h;)v--;const p=v-w;let _=0;for(;_<l.length&&l.charCodeAt(_)===h;)_++;let L=l.length;for(;L-1>_&&l.charCodeAt(L-1)===h;)L--;const E=L-_,M=p<E?p:E;let k=-1,A=0;for(;A<M;A++){const B=r.charCodeAt(w+A);if(B!==l.charCodeAt(_+A))break;B===h&&(k=A)}if(A!==M){if(k===-1)return f}else{if(E>M){if(l.charCodeAt(_+A)===h)return f.slice(_+A+1);if(A===2)return f.slice(_+A)}p>M&&(r.charCodeAt(w+A)===h?k=A:A===2&&(k=3)),k===-1&&(k=0)}let F="";for(A=w+k+1;A<=v;++A)(A===v||r.charCodeAt(A)===h)&&(F+=F.length===0?"..":"\\..");return _+=k,F.length>0?`${F}${f.slice(_,L)}`:(f.charCodeAt(_)===h&&++_,f.slice(_,L))},toNamespacedPath(r){if(typeof r!="string")return r;if(r.length===0)return"";const l=e.win32.resolve(r);if(l.length<=2)return r;if(l.charCodeAt(0)===h){if(l.charCodeAt(1)===h){const u=l.charCodeAt(2);if(u!==t&&u!==b)return`\\\\?\\UNC\\${l.slice(2)}`}}else if(c(l.charCodeAt(0))&&l.charCodeAt(1)===g&&l.charCodeAt(2)===h)return`\\\\?\\${l}`;return r},dirname(r){n(r,"path");const l=r.length;if(l===0)return".";let u=-1,f=0;const w=r.charCodeAt(0);if(l===1)return o(w)?r:".";if(o(w)){if(u=f=1,o(r.charCodeAt(1))){let _=2,L=_;for(;_<l&&!o(r.charCodeAt(_));)_++;if(_<l&&_!==L){for(L=_;_<l&&o(r.charCodeAt(_));)_++;if(_<l&&_!==L){for(L=_;_<l&&!o(r.charCodeAt(_));)_++;if(_===l)return r;_!==L&&(u=f=_+1)}}}}else c(w)&&r.charCodeAt(1)===g&&(u=l>2&&o(r.charCodeAt(2))?3:2,f=u);let v=-1,p=!0;for(let _=l-1;_>=f;--_)if(o(r.charCodeAt(_))){if(!p){v=_;break}}else p=!1;if(v===-1){if(u===-1)return".";v=u}return r.slice(0,v)},basename(r,l){l!==void 0&&n(l,"ext"),n(r,"path");let u=0,f=-1,w=!0,v;if(r.length>=2&&c(r.charCodeAt(0))&&r.charCodeAt(1)===g&&(u=2),l!==void 0&&l.length>0&&l.length<=r.length){if(l===r)return"";let p=l.length-1,_=-1;for(v=r.length-1;v>=u;--v){const L=r.charCodeAt(v);if(o(L)){if(!w){u=v+1;break}}else _===-1&&(w=!1,_=v+1),p>=0&&(L===l.charCodeAt(p)?--p==-1&&(f=v):(p=-1,f=_))}return u===f?f=_:f===-1&&(f=r.length),r.slice(u,f)}for(v=r.length-1;v>=u;--v)if(o(r.charCodeAt(v))){if(!w){u=v+1;break}}else f===-1&&(w=!1,f=v+1);return f===-1?"":r.slice(u,f)},extname(r){n(r,"path");let l=0,u=-1,f=0,w=-1,v=!0,p=0;r.length>=2&&r.charCodeAt(1)===g&&c(r.charCodeAt(0))&&(l=f=2);for(let _=r.length-1;_>=l;--_){const L=r.charCodeAt(_);if(o(L)){if(!v){f=_+1;break}continue}w===-1&&(v=!1,w=_+1),L===b?u===-1?u=_:p!==1&&(p=1):u!==-1&&(p=-1)}return u===-1||w===-1||p===0||p===1&&u===w-1&&u===f+1?"":r.slice(u,w)},format:a.bind(null,"\\"),parse(r){n(r,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return l;const u=r.length;let f=0,w=r.charCodeAt(0);if(u===1)return o(w)?(l.root=l.dir=r,l):(l.base=l.name=r,l);if(o(w)){if(f=1,o(r.charCodeAt(1))){let k=2,A=k;for(;k<u&&!o(r.charCodeAt(k));)k++;if(k<u&&k!==A){for(A=k;k<u&&o(r.charCodeAt(k));)k++;if(k<u&&k!==A){for(A=k;k<u&&!o(r.charCodeAt(k));)k++;k===u?f=k:k!==A&&(f=k+1)}}}}else if(c(w)&&r.charCodeAt(1)===g){if(u<=2)return l.root=l.dir=r,l;if(f=2,o(r.charCodeAt(2))){if(u===3)return l.root=l.dir=r,l;f=3}}f>0&&(l.root=r.slice(0,f));let v=-1,p=f,_=-1,L=!0,E=r.length-1,M=0;for(;E>=f;--E){if(w=r.charCodeAt(E),o(w)){if(!L){p=E+1;break}continue}_===-1&&(L=!1,_=E+1),w===b?v===-1?v=E:M!==1&&(M=1):v!==-1&&(M=-1)}return _!==-1&&(v===-1||M===0||M===1&&v===_-1&&v===p+1?l.base=l.name=r.slice(p,_):(l.name=r.slice(p,v),l.base=r.slice(p,_),l.ext=r.slice(v,_))),p>0&&p!==f?l.dir=r.slice(0,p-1):l.dir=l.root,l},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...r){let l="",u=!1;for(let f=r.length-1;f>=-1&&!u;f--){const w=f>=0?r[f]:y.cwd();n(w,"path"),w.length!==0&&(l=`${w}/${l}`,u=w.charCodeAt(0)===C)}return l=s(l,!u,"/",d),u?`/${l}`:l.length>0?l:"."},normalize(r){if(n(r,"path"),r.length===0)return".";const l=r.charCodeAt(0)===C,u=r.charCodeAt(r.length-1)===C;return r=s(r,!l,"/",d),r.length===0?l?"/":u?"./":".":(u&&(r+="/"),l?`/${r}`:r)},isAbsolute(r){return n(r,"path"),r.length>0&&r.charCodeAt(0)===C},join(...r){if(r.length===0)return".";let l;for(let u=0;u<r.length;++u){const f=r[u];n(f,"path"),f.length>0&&(l===void 0?l=f:l+=`/${f}`)}return l===void 0?".":e.posix.normalize(l)},relative(r,l){if(n(r,"from"),n(l,"to"),r===l||(r=e.posix.resolve(r),l=e.posix.resolve(l),r===l))return"";const u=1,f=r.length,w=f-u,v=1,p=l.length-v,_=w<p?w:p;let L=-1,E=0;for(;E<_;E++){const k=r.charCodeAt(u+E);if(k!==l.charCodeAt(v+E))break;k===C&&(L=E)}if(E===_)if(p>_){if(l.charCodeAt(v+E)===C)return l.slice(v+E+1);if(E===0)return l.slice(v+E)}else w>_&&(r.charCodeAt(u+E)===C?L=E:E===0&&(L=0));let M="";for(E=u+L+1;E<=f;++E)(E===f||r.charCodeAt(E)===C)&&(M+=M.length===0?"..":"/..");return`${M}${l.slice(v+L)}`},toNamespacedPath(r){return r},dirname(r){if(n(r,"path"),r.length===0)return".";const l=r.charCodeAt(0)===C;let u=-1,f=!0;for(let w=r.length-1;w>=1;--w)if(r.charCodeAt(w)===C){if(!f){u=w;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":r.slice(0,u)},basename(r,l){l!==void 0&&n(l,"ext"),n(r,"path");let u=0,f=-1,w=!0,v;if(l!==void 0&&l.length>0&&l.length<=r.length){if(l===r)return"";let p=l.length-1,_=-1;for(v=r.length-1;v>=0;--v){const L=r.charCodeAt(v);if(L===C){if(!w){u=v+1;break}}else _===-1&&(w=!1,_=v+1),p>=0&&(L===l.charCodeAt(p)?--p==-1&&(f=v):(p=-1,f=_))}return u===f?f=_:f===-1&&(f=r.length),r.slice(u,f)}for(v=r.length-1;v>=0;--v)if(r.charCodeAt(v)===C){if(!w){u=v+1;break}}else f===-1&&(w=!1,f=v+1);return f===-1?"":r.slice(u,f)},extname(r){n(r,"path");let l=-1,u=0,f=-1,w=!0,v=0;for(let p=r.length-1;p>=0;--p){const _=r.charCodeAt(p);if(_===C){if(!w){u=p+1;break}continue}f===-1&&(w=!1,f=p+1),_===b?l===-1?l=p:v!==1&&(v=1):l!==-1&&(v=-1)}return l===-1||f===-1||v===0||v===1&&l===f-1&&l===u+1?"":r.slice(l,f)},format:a.bind(null,"/"),parse(r){n(r,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return l;const u=r.charCodeAt(0)===C;let f;u?(l.root="/",f=1):f=0;let w=-1,v=0,p=-1,_=!0,L=r.length-1,E=0;for(;L>=f;--L){const M=r.charCodeAt(L);if(M===C){if(!_){v=L+1;break}continue}p===-1&&(_=!1,p=L+1),M===b?w===-1?w=L:E!==1&&(E=1):w!==-1&&(E=-1)}if(p!==-1){const M=v===0&&u?1:v;w===-1||E===0||E===1&&w===p-1&&w===v+1?l.base=l.name=r.slice(M,p):(l.name=r.slice(M,w),l.base=r.slice(M,p),l.ext=r.slice(w,p))}return v>0?l.dir=r.slice(0,v-1):u&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=y.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=y.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=y.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=y.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=y.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=y.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=y.platform==="win32"?e.win32.sep:e.posix.sep}),define(ee[135],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var y;(function(m){function N(C,h){if(C.start>=h.end||h.start>=C.end)return{start:0,end:0};const g=Math.max(C.start,h.start),t=Math.min(C.end,h.end);return t-g<=0?{start:0,end:0}:{start:g,end:t}}m.intersect=N;function I(C){return C.end-C.start<=0}m.isEmpty=I;function S(C,h){return!I(N(C,h))}m.intersects=S;function b(C,h){const g=[],t={start:C.start,end:Math.min(h.start,C.end)},i={start:Math.max(h.end,C.start),end:C.end};return I(t)||g.push(t),I(i)||g.push(i),g}m.relativeComplement=b})(y=e.Range||(e.Range={}))}),define(ee[311],te([0,1,135]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function m(C,h){const g=[];for(let t of h){if(C.start>=t.range.end)continue;if(C.end<t.range.start)break;const i=y.Range.intersect(C,t.range);y.Range.isEmpty(i)||g.push({range:i,size:t.size})}return g}e.groupIntersect=m;function N({start:C,end:h},g){return{start:C+g,end:h+g}}e.shift=N;function I(C){const h=[];let g=null;for(let t of C){const i=t.range.start,n=t.range.end,o=t.size;if(g&&o===g.size){g.range.end=n;continue}g={range:{start:i,end:n},size:o},h.push(g)}return h}e.consolidate=I;function S(...C){return I(C.reduce((h,g)=>h.concat(g),[]))}class b{constructor(){this.groups=[],this._size=0}splice(h,g,t=[]){const i=t.length-g,n=m({start:0,end:h},this.groups),o=m({start:h+g,end:Number.POSITIVE_INFINITY},this.groups).map(c=>({range:N(c.range,i),size:c.size})),d=t.map((c,s)=>({range:{start:h+s,end:h+s+1},size:c.size}));this.groups=S(n,d,o),this._size=this.groups.reduce((c,s)=>c+s.size*(s.range.end-s.range.start),0)}get count(){const h=this.groups.length;return h?this.groups[h-1].range.end:0}get size(){return this._size}indexAt(h){if(h<0)return-1;let g=0,t=0;for(let i of this.groups){const n=i.range.end-i.range.start,o=t+n*i.size;if(h<o)return g+Math.floor((h-t)/i.size);g+=n,t=o}return g}indexAfter(h){return Math.min(this.indexAt(h)+1,this.count)}positionAt(h){if(h<0)return-1;let g=0,t=0;for(let i of this.groups){const n=i.range.end-i.range.start,o=t+n;if(h<o)return g+(h-t)*i.size;g+=n*i.size,t=o}return-1}}e.RangeMap=b}),define(ee[87],te([0,1,17]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const m=y.globals.performance&&typeof y.globals.performance.now=="function";class N{constructor(S){this._highResolution=m&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new N(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?y.globals.performance.now():Date.now()}}e.StopWatch=N}),define(ee[4],te([0,1,14,2,80,87]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(d){d.None=()=>m.Disposable.None;function c(O){return(P,D=null,x)=>{let H=!1,j;return j=O(Q=>{if(!H)return j?j.dispose():H=!0,P.call(D,Q)},null,x),H&&j.dispose(),j}}d.once=c;function s(O,P){return w((D,x=null,H)=>O(j=>D.call(x,P(j)),null,H))}d.map=s;function a(O,P){return w((D,x=null,H)=>O(j=>{P(j),D.call(x,j)},null,H))}d.forEach=a;function r(O,P){return w((D,x=null,H)=>O(j=>P(j)&&D.call(x,j),null,H))}d.filter=r;function l(O){return O}d.signal=l;function u(...O){return(P,D=null,x)=>(0,m.combinedDisposable)(...O.map(H=>H(j=>P.call(D,j),null,x)))}d.any=u;function f(O,P,D){let x=D;return s(O,H=>(x=P(x,H),x))}d.reduce=f;function w(O){let P;const D=new g({onFirstListenerAdd(){P=O(D.fire,D)},onLastListenerRemove(){P.dispose()}});return D.event}function v(O,P,D,x=100,H=!1){let j,Q,G=0;return O(se=>{G++,j=D(j,se),H&&!Q&&(P(j),j=void 0),clearTimeout(Q),Q=setTimeout(()=>{const ne=j;j=void 0,Q=void 0,(!H||G>1)&&P(ne),G=0},x)})}d.debouncedListener=v;function p(O,P,D=100,x=!1,H){let j,Q,G,se=0;const ne=new g({leakWarningThreshold:H,onFirstListenerAdd(){j=O(Z=>{se++,Q=P(Q,Z),x&&!G&&(ne.fire(Q),Q=void 0),clearTimeout(G),G=setTimeout(()=>{const U=Q;Q=void 0,G=void 0,(!x||se>1)&&ne.fire(U),se=0},D)})},onLastListenerRemove(){j.dispose()}});return ne.event}d.debounce=p;function _(O,P=(D,x)=>D===x){let D=!0,x;return r(O,H=>{const j=D||!P(H,x);return D=!1,x=H,j})}d.latch=_;function L(O,P){return[d.filter(O,P),d.filter(O,D=>!P(D))]}d.split=L;function E(O,P=!1,D=[]){let x=D.slice(),H=O(G=>{x?x.push(G):Q.fire(G)});const j=()=>{x&&x.forEach(G=>Q.fire(G)),x=null},Q=new g({onFirstListenerAdd(){H||(H=O(G=>Q.fire(G)))},onFirstListenerDidAdd(){x&&(P?setTimeout(j):j())},onLastListenerRemove(){H&&H.dispose(),H=null}});return Q.event}d.buffer=E;class M{constructor(P){this.event=P}map(P){return new M(s(this.event,P))}forEach(P){return new M(a(this.event,P))}filter(P){return new M(r(this.event,P))}reduce(P,D){return new M(f(this.event,P,D))}latch(){return new M(_(this.event))}debounce(P,D=100,x=!1,H){return new M(p(this.event,P,D,x,H))}on(P,D,x){return this.event(P,D,x)}once(P,D,x){return c(this.event)(P,D,x)}}function k(O){return new M(O)}d.chain=k;function A(O,P,D=x=>x){const x=(...G)=>Q.fire(D(...G)),H=()=>O.on(P,x),j=()=>O.removeListener(P,x),Q=new g({onFirstListenerAdd:H,onLastListenerRemove:j});return Q.event}d.fromNodeEventEmitter=A;function F(O,P,D=x=>x){const x=(...G)=>Q.fire(D(...G)),H=()=>O.addEventListener(P,x),j=()=>O.removeEventListener(P,x),Q=new g({onFirstListenerAdd:H,onLastListenerRemove:j});return Q.event}d.fromDOMEventEmitter=F;function B(O){return new Promise(P=>c(O)(P))}d.toPromise=B;function T(O,P){return P(void 0),O(D=>P(D))}d.runAndSubscribe=T;function R(O,P){let D=null;function x(j){D==null||D.dispose(),D=new m.DisposableStore,P(j,D)}x(void 0);const H=O(j=>x(j));return(0,m.toDisposable)(()=>{H.dispose(),D==null||D.dispose()})}d.runAndSubscribeWithStore=R})(S=e.Event||(e.Event={}));class b{constructor(c){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${c}_${b._idPool++}`}start(c){this._stopWatch=new I.StopWatch(!0),this._listenerCount=c}stop(){if(this._stopWatch){const c=this._stopWatch.elapsed();this._elapsedOverall+=c,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${c.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}b._idPool=0;let C=-1;class h{constructor(c,s=Math.random().toString(18).slice(2,5)){this.customThreshold=c,this.name=s,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(c){let s=C;if(typeof this.customThreshold=="number"&&(s=this.customThreshold),s<=0||c<s)return;this._stacks||(this._stacks=new Map);const a=new Error().stack.split(`
`).slice(3).join(`
`),r=this._stacks.get(a)||0;if(this._stacks.set(a,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=s*.5;let l,u=0;for(const[f,w]of this._stacks)(!l||u<w)&&(l=f,u=w);console.warn(`[${this.name}] potential listener LEAK detected, having ${c} listeners already. MOST frequent listener (${u}):`),console.warn(l)}return()=>{const l=this._stacks.get(a)||0;this._stacks.set(a,l-1)}}}class g{constructor(c){var s;this._disposed=!1,this._options=c,this._leakageMon=C>0?new h(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((s=this._options)===null||s===void 0?void 0:s._profName)?new b(this._options._profName):void 0}get event(){return this._event||(this._event=(c,s,a)=>{var r;this._listeners||(this._listeners=new N.LinkedList);const l=this._listeners.isEmpty();l&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const u=this._listeners.push(s?[c,s]:c);l&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,c,s);const f=(r=this._leakageMon)===null||r===void 0?void 0:r.check(this._listeners.size),w=(0,m.toDisposable)(()=>{f&&f(),this._disposed||(u(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return a instanceof m.DisposableStore?a.add(w):Array.isArray(a)&&a.push(w),w}),this._event}fire(c){var s,a;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new N.LinkedList);for(let r of this._listeners)this._deliveryQueue.push([r,c]);for((s=this._perfMon)===null||s===void 0||s.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[r,l]=this._deliveryQueue.shift();try{typeof r=="function"?r.call(void 0,l):r[0].call(r[1],l)}catch(u){(0,y.onUnexpectedError)(u)}}(a=this._perfMon)===null||a===void 0||a.stop()}}dispose(){var c,s,a,r,l;this._disposed||(this._disposed=!0,(c=this._listeners)===null||c===void 0||c.clear(),(s=this._deliveryQueue)===null||s===void 0||s.clear(),(r=(a=this._options)===null||a===void 0?void 0:a.onLastListenerRemove)===null||r===void 0||r.call(a),(l=this._leakageMon)===null||l===void 0||l.dispose())}}e.Emitter=g;class t extends g{constructor(c){super(c);this._isPaused=0,this._eventQueue=new N.LinkedList,this._mergeFn=c==null?void 0:c.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const c=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(c))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(c){this._listeners&&(this._isPaused!==0?this._eventQueue.push(c):super.fire(c))}}e.PauseableEmitter=t;class i extends t{constructor(c){var s;super(c);this._delay=(s=c.delay)!==null&&s!==void 0?s:100}fire(c){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(c)}}e.DebounceEmitter=i;class n{constructor(){this.buffers=[]}wrapEvent(c){return(s,a,r)=>c(l=>{const u=this.buffers[this.buffers.length-1];u?u.push(()=>s.call(a,l)):s.call(a,l)},void 0,r)}bufferEvents(c){const s=[];this.buffers.push(s);const a=c();return this.buffers.pop(),s.forEach(r=>r()),a}}e.EventBufferer=n;class o{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=m.Disposable.None,this.emitter=new g({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(c){this.inputEvent=c,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=c(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=o}),define(ee[33],te([0,1,4,2]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isEdgeLegacyWebView=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=void 0;class N{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}N.INSTANCE=new N;class I extends m.Disposable{constructor(){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(),this._removeListener=this._installResolutionListener()}get value(){return this._value}dispose(){this._removeListener(),super.dispose()}_installResolutionListener(){const g=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),t=()=>this._updateValue();return g.addEventListener("change",t),()=>{g.removeEventListener("change",t)}}_updateValue(){this._value=this._getPixelRatio(),this._onDidChange.fire(this._value),this._removeListener=this._installResolutionListener()}_getPixelRatio(){const g=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1;return t/i}}class S{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new I),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}e.PixelRatio=new S;function b(){return N.INSTANCE.getZoomFactor()}e.getZoomFactor=b;const C=navigator.userAgent;e.isFirefox=C.indexOf("Firefox")>=0,e.isWebKit=C.indexOf("AppleWebKit")>=0,e.isChrome=C.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&C.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isEdgeLegacyWebView=C.indexOf("Edge/")>=0&&C.indexOf("WebView/")>=0,e.isElectron=C.indexOf("Electron/")>=0,e.isAndroid=C.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(ee[163],te([0,1,33,17]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:m.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:m.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>m.isNative||y.isStandalone?0:navigator.keyboard||y.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(ee[88],te([0,1,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class m{constructor(S,b,C){const h=g=>this.emitter.fire(g);this.emitter=new y.Emitter({onFirstListenerAdd:()=>S.addEventListener(b,h,C),onLastListenerRemove:()=>S.removeEventListener(b,h,C)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=m;function N(I){return I.preventDefault(),I.stopPropagation(),I}e.stopEvent=N}),define(ee[47],te([0,1,33,56,93,17]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function S(i){if(i.charCode){let o=String.fromCharCode(i.charCode).toUpperCase();return m.KeyCodeUtils.fromString(o)}const n=i.keyCode;if(n===3)return 7;if(y.isFirefox){if(n===59)return 80;if(n===107)return 81;if(n===109)return 83;if(I.isMacintosh&&n===224)return 57}else if(y.isWebKit){if(n===91)return 57;if(I.isMacintosh&&n===93)return 57;if(!I.isMacintosh&&n===92)return 57}return m.EVENT_KEY_CODE_MAP[n]||0}const b=I.isMacintosh?256:2048,C=512,h=1024,g=I.isMacintosh?2048:256;class t{constructor(n){this._standardKeyboardEventBrand=!0;let o=n;this.browserEvent=o,this.target=o.target,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.altKey=o.altKey,this.metaKey=o.metaKey,this.keyCode=S(o),this.code=o.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(n){return this._asKeybinding===n}_computeKeybinding(){let n=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode);let o=0;return this.ctrlKey&&(o|=b),this.altKey&&(o|=C),this.shiftKey&&(o|=h),this.metaKey&&(o|=g),o|=n,o}_computeRuntimeKeybinding(){let n=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(n=this.keyCode),new N.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,n)}}e.StandardKeyboardEvent=t}),define(ee[57],te([0,1,33,209,17]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class I{constructor(C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=C.clientY+document.body.scrollTop+document.documentElement.scrollTop);let h=m.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,C.view);this.posx-=h.left,this.posy-=h.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=I;class S{constructor(C,h=0,g=0){if(this.browserEvent=C||null,this.target=C?C.target||C.targetNode||C.srcElement:null,this.deltaY=g,this.deltaX=h,C){let t=C,i=C;if(typeof t.wheelDeltaY!="undefined")this.deltaY=t.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS!="undefined"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(C.type==="wheel"){const n=C;n.deltaMode===n.DOM_DELTA_LINE?y.isFirefox&&!N.isMacintosh?this.deltaY=-C.deltaY/3:this.deltaY=-C.deltaY:this.deltaY=-C.deltaY/40}if(typeof t.wheelDeltaX!="undefined")y.isSafari&&N.isWindows?this.deltaX=-(t.wheelDeltaX/120):this.deltaX=t.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS!="undefined"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-C.detail/3;else if(C.type==="wheel"){const n=C;n.deltaMode===n.DOM_DELTA_LINE?y.isFirefox&&!N.isMacintosh?this.deltaX=-C.deltaX/3:this.deltaX=-C.deltaX:this.deltaX=-C.deltaX/40}this.deltaY===0&&this.deltaX===0&&C.wheelDelta&&(this.deltaY=C.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(ee[21],te([0,1,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const m=Object.freeze(function(b,C){const h=setTimeout(b.bind(C),0);return{dispose(){clearTimeout(h)}}});var N;(function(b){function C(h){return h===b.None||h===b.Cancelled||h instanceof I?!0:!h||typeof h!="object"?!1:typeof h.isCancellationRequested=="boolean"&&typeof h.onCancellationRequested=="function"}b.isCancellationToken=C,b.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:y.Event.None}),b.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:m})})(N=e.CancellationToken||(e.CancellationToken={}));class I{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?m:(this._emitter||(this._emitter=new y.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new I),this._token}cancel(){this._token?this._token instanceof I&&this._token.cancel():this._token=N.Cancelled}dispose(C=!1){C&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof I&&this._token.dispose():this._token=N.None}}e.CancellationTokenSource=S});var De=this&&this.__awaiter||function(K,e,y,m){function N(I){return I instanceof y?I:new y(function(S){S(I)})}return new(y||(y=Promise))(function(I,S){function b(g){try{h(m.next(g))}catch(t){S(t)}}function C(g){try{h(m.throw(g))}catch(t){S(t)}}function h(g){g.done?I(g.value):N(g.value).then(b,C)}h((m=m.apply(K,e||[])).next())})},Ct=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],y;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),y={},m("next"),m("throw"),m("return"),y[Symbol.asyncIterator]=function(){return this},y);function m(I){y[I]=K[I]&&function(S){return new Promise(function(b,C){S=K[I](S),N(b,C,S.done,S.value)})}}function N(I,S,b,C){Promise.resolve(C).then(function(h){I({value:h,done:b})},S)}};define(ee[10],te([0,1,21,14,4,2,17]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(L){return!!L&&typeof L.then=="function"}e.isThenable=b;function C(L){const E=new y.CancellationTokenSource,M=L(E.token),k=new Promise((A,F)=>{const B=E.token.onCancellationRequested(()=>{B.dispose(),E.dispose(),F(new m.CancellationError)});Promise.resolve(M).then(T=>{B.dispose(),E.dispose(),A(T)},T=>{B.dispose(),E.dispose(),F(T)})});return new class{cancel(){E.cancel()}then(A,F){return k.then(A,F)}catch(A){return this.then(void 0,A)}finally(A){return k.finally(A)}}}e.createCancelablePromise=C;function h(L,E,M){return new Promise((k,A)=>{const F=E.onCancellationRequested(()=>{F.dispose(),k(M)});L.then(k,A).finally(()=>F.dispose())})}e.raceCancellation=h;class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(E){if(this.activePromise){if(this.queuedPromiseFactory=E,!this.queuedPromise){const M=()=>{this.queuedPromise=null;const k=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,k};this.queuedPromise=new Promise(k=>{this.activePromise.then(M,M).then(k)})}return new Promise((M,k)=>{this.queuedPromise.then(M,k)})}return this.activePromise=E(),new Promise((M,k)=>{this.activePromise.then(A=>{this.activePromise=null,M(A)},A=>{this.activePromise=null,k(A)})})}}e.Throttler=g;const t=(L,E)=>{let M=!0;const k=setTimeout(()=>{M=!1,E()},L);return{isTriggered:()=>M,dispose:()=>{clearTimeout(k),M=!1}}},i=L=>{let E=!0;return queueMicrotask(()=>{E&&(E=!1,L())}),{isTriggered:()=>E,dispose:()=>{E=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class n{constructor(E){this.defaultDelay=E,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(E,M=this.defaultDelay){this.task=E,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((A,F)=>{this.doResolve=A,this.doReject=F}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const A=this.task;return this.task=null,A()}}));const k=()=>{var A;this.deferred=null,(A=this.doResolve)===null||A===void 0||A.call(this,null)};return this.deferred=M===e.MicrotaskDelay?i(k):t(M,k),this.completionPromise}isTriggered(){var E;return!!((E=this.deferred)===null||E===void 0?void 0:E.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new m.CancellationError),this.completionPromise=null)}cancelTimeout(){var E;(E=this.deferred)===null||E===void 0||E.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=n;class o{constructor(E){this.delayer=new n(E),this.throttler=new g}trigger(E,M){return this.delayer.trigger(()=>this.throttler.queue(E),M)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=o;function d(L,E){return E?new Promise((M,k)=>{const A=setTimeout(()=>{F.dispose(),M()},L),F=E.onCancellationRequested(()=>{clearTimeout(A),F.dispose(),k(new m.CancellationError)})}):C(M=>d(L,M))}e.timeout=d;function c(L,E=0){const M=setTimeout(L,E);return(0,I.toDisposable)(()=>clearTimeout(M))}e.disposableTimeout=c;function s(L,E=k=>!!k,M=null){let k=0;const A=L.length,F=()=>{if(k>=A)return Promise.resolve(M);const B=L[k++];return Promise.resolve(B()).then(R=>E(R)?Promise.resolve(R):F())};return F()}e.first=s;class a{constructor(E,M){this._token=-1,typeof E=="function"&&typeof M=="number"&&this.setIfNotSet(E,M)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(E,M){this.cancel(),this._token=setTimeout(()=>{this._token=-1,E()},M)}setIfNotSet(E,M){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,E()},M))}}e.TimeoutTimer=a;class r{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(E,M){this.cancel(),this._token=setInterval(()=>{E()},M)}}e.IntervalTimer=r;class l{constructor(E,M){this.timeoutToken=-1,this.runner=E,this.timeout=M,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(E=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,E)}get delay(){return this.timeout}set delay(E){this.timeout=E}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=l,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=L=>{(0,S.setTimeout0)(()=>{if(E)return;const M=Date.now()+15;L(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,M-Date.now())}}))});let E=!1;return{dispose(){E||(E=!0)}}}:e.runWhenIdle=(L,E)=>{const M=requestIdleCallback(L,typeof E=="number"?{timeout:E}:void 0);let k=!1;return{dispose(){k||(k=!0,cancelIdleCallback(M))}}}}();class u{constructor(E){this._didRun=!1,this._executor=()=>{try{this._value=E()}catch(M){this._error=M}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=u;class f{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((E,M)=>{this.completeCallback=E,this.errorCallback=M})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(E){return new Promise(M=>{this.completeCallback(E),this.resolved=!0,M()})}cancel(){new Promise(E=>{this.errorCallback(new m.CancellationError),this.rejected=!0,E()})}}e.DeferredPromise=f;var w;(function(L){function E(k){return De(this,void 0,void 0,function*(){let A;const F=yield Promise.all(k.map(B=>B.then(T=>T,T=>{A||(A=T)})));if(typeof A!="undefined")throw A;return F})}L.settled=E;function M(k){return new Promise((A,F)=>De(this,void 0,void 0,function*(){try{yield k(A,F)}catch(B){F(B)}}))}L.withAsyncBody=M})(w=e.Promises||(e.Promises={}));class v{constructor(E){this._state=0,this._results=[],this._error=null,this._onStateChanged=new N.Emitter,queueMicrotask(()=>De(this,void 0,void 0,function*(){const M={emitOne:k=>this.emitOne(k),emitMany:k=>this.emitMany(k),reject:k=>this.reject(k)};try{yield Promise.resolve(E(M)),this.resolve()}catch(k){this.reject(k)}finally{M.emitOne=void 0,M.emitMany=void 0,M.reject=void 0}}))}static fromArray(E){return new v(M=>{M.emitMany(E)})}static fromPromise(E){return new v(M=>De(this,void 0,void 0,function*(){M.emitMany(yield E)}))}static fromPromises(E){return new v(M=>De(this,void 0,void 0,function*(){yield Promise.all(E.map(k=>De(this,void 0,void 0,function*(){return M.emitOne(yield k)})))}))}static merge(E){return new v(M=>De(this,void 0,void 0,function*(){yield Promise.all(E.map(k=>{var A,F;return De(this,void 0,void 0,function*(){var B,T;try{for(A=Ct(k);F=yield A.next(),!F.done;){const R=F.value;M.emitOne(R)}}catch(R){B={error:R}}finally{try{F&&!F.done&&(T=A.return)&&(yield T.call(A))}finally{if(B)throw B.error}}})}))}))}[Symbol.asyncIterator](){let E=0;return{next:()=>De(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(E<this._results.length)return{done:!1,value:this._results[E++]};if(this._state===1)return{done:!0,value:void 0};yield N.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(E,M){return new v(k=>De(this,void 0,void 0,function*(){var A,F;try{for(var B=Ct(E),T;T=yield B.next(),!T.done;){const R=T.value;k.emitOne(M(R))}}catch(R){A={error:R}}finally{try{T&&!T.done&&(F=B.return)&&(yield F.call(B))}finally{if(A)throw A.error}}}))}map(E){return v.map(this,E)}static filter(E,M){return new v(k=>De(this,void 0,void 0,function*(){var A,F;try{for(var B=Ct(E),T;T=yield B.next(),!T.done;){const R=T.value;M(R)&&k.emitOne(R)}}catch(R){A={error:R}}finally{try{T&&!T.done&&(F=B.return)&&(yield F.call(B))}finally{if(A)throw A.error}}}))}filter(E){return v.filter(this,E)}static coalesce(E){return v.filter(E,M=>!!M)}coalesce(){return v.coalesce(this)}static toPromise(E){var M,k,A,F;return De(this,void 0,void 0,function*(){const B=[];try{for(M=Ct(E);k=yield M.next(),!k.done;){const T=k.value;B.push(T)}}catch(T){A={error:T}}finally{try{k&&!k.done&&(F=M.return)&&(yield F.call(M))}finally{if(A)throw A.error}}return B})}toPromise(){return v.toPromise(this)}emitOne(E){this._state===0&&(this._results.push(E),this._onStateChanged.fire())}emitMany(E){this._state===0&&(this._results=this._results.concat(E),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(E){this._state===0&&(this._state=2,this._error=E,this._onStateChanged.fire())}}e.AsyncIterableObject=v,v.EMPTY=v.fromArray([]);class p extends v{constructor(E,M){super(M);this._source=E}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=p;function _(L){const E=new y.CancellationTokenSource,M=L(E.token);return new p(E,k=>De(this,void 0,void 0,function*(){var A,F;const B=E.token.onCancellationRequested(()=>{B.dispose(),E.dispose(),k.reject(new m.CancellationError)});try{try{for(var T=Ct(M),R;R=yield T.next(),!R.done;){const O=R.value;if(E.token.isCancellationRequested)return;k.emitOne(O)}}catch(O){A={error:O}}finally{try{R&&!R.done&&(F=T.return)&&(yield F.call(T))}finally{if(A)throw A.error}}B.dispose(),E.dispose()}catch(O){B.dispose(),E.dispose(),k.reject(O)}}))}e.createCancelableAsyncIterable=_}),define(ee[312],te([0,1,10,2]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class N extends m.Disposable{constructor(S,b,C){super();this._visibility=S,this._visibleClassName=b,this._invisibleClassName=C,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new y.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=N}),define(ee[313],te([0,1,10]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const m=new y.IdleValue(()=>{const h=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:h,collatorIsNumeric:h.resolvedOptions().numeric}}),N=new y.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),I=new y.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function S(h,g,t=!1){const i=h||"",n=g||"",o=m.value.collator.compare(i,n);return m.value.collatorIsNumeric&&o===0&&i!==n?i<n?-1:1:o}e.compareFileNames=S;function b(h,g,t){const i=h.toLowerCase(),n=g.toLowerCase(),o=C(h,g,t);if(o)return o;const d=i.endsWith(t),c=n.endsWith(t);if(d!==c)return d?-1:1;const s=S(i,n);return s!==0?s:i.localeCompare(n)}e.compareAnything=b;function C(h,g,t){const i=h.toLowerCase(),n=g.toLowerCase(),o=i.startsWith(t),d=n.startsWith(t);if(o!==d)return o?-1:1;if(o&&d){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}e.compareByPrefix=C}),define(ee[136],te([0,1,4,2]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class N{constructor(n,o,d,c,s,a){this._scrollStateBrand=void 0,n=n|0,o=o|0,d=d|0,c=c|0,s=s|0,a=a|0,this.rawScrollLeft=d,this.rawScrollTop=a,n<0&&(n=0),d+n>o&&(d=o-n),d<0&&(d=0),c<0&&(c=0),a+c>s&&(a=s-c),a<0&&(a=0),this.width=n,this.scrollWidth=o,this.scrollLeft=d,this.height=c,this.scrollHeight=s,this.scrollTop=a}equals(n){return this.rawScrollLeft===n.rawScrollLeft&&this.rawScrollTop===n.rawScrollTop&&this.width===n.width&&this.scrollWidth===n.scrollWidth&&this.scrollLeft===n.scrollLeft&&this.height===n.height&&this.scrollHeight===n.scrollHeight&&this.scrollTop===n.scrollTop}withScrollDimensions(n,o){return new N(typeof n.width!="undefined"?n.width:this.width,typeof n.scrollWidth!="undefined"?n.scrollWidth:this.scrollWidth,o?this.rawScrollLeft:this.scrollLeft,typeof n.height!="undefined"?n.height:this.height,typeof n.scrollHeight!="undefined"?n.scrollHeight:this.scrollHeight,o?this.rawScrollTop:this.scrollTop)}withScrollPosition(n){return new N(this.width,this.scrollWidth,typeof n.scrollLeft!="undefined"?n.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof n.scrollTop!="undefined"?n.scrollTop:this.rawScrollTop)}createScrollEvent(n,o){const d=this.width!==n.width,c=this.scrollWidth!==n.scrollWidth,s=this.scrollLeft!==n.scrollLeft,a=this.height!==n.height,r=this.scrollHeight!==n.scrollHeight,l=this.scrollTop!==n.scrollTop;return{inSmoothScrolling:o,oldWidth:n.width,oldScrollWidth:n.scrollWidth,oldScrollLeft:n.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:n.height,oldScrollHeight:n.scrollHeight,oldScrollTop:n.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:c,scrollLeftChanged:s,heightChanged:a,scrollHeightChanged:r,scrollTopChanged:l}}}e.ScrollState=N;class I extends m.Disposable{constructor(n,o){super();this._scrollableBrand=void 0,this._onScroll=this._register(new y.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=n,this._scheduleAtNextAnimationFrame=o,this._state=new N(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(n){this._smoothScrollDuration=n}validateScrollPosition(n){return this._state.withScrollPosition(n)}getScrollDimensions(){return this._state}setScrollDimensions(n,o){const d=this._state.withScrollDimensions(n,o);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(n){const o=this._state.withScrollPosition(n);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(o,!1)}setScrollPositionSmooth(n,o){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(n);if(this._smoothScrolling){n={scrollLeft:typeof n.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:n.scrollLeft,scrollTop:typeof n.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:n.scrollTop};const d=this._state.withScrollPosition(n);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let c;o?c=new h(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):c=this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=c}else{const d=this._state.withScrollPosition(n);this._smoothScrolling=h.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const n=this._smoothScrolling.tick(),o=this._state.withScrollPosition(n);if(this._setState(o,!0),!!this._smoothScrolling){if(n.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(n,o){const d=this._state;d.equals(n)||(this._state=n,this._onScroll.fire(this._state.createScrollEvent(d,o)))}}e.Scrollable=I;class S{constructor(n,o,d){this.scrollLeft=n,this.scrollTop=o,this.isDone=d}}e.SmoothScrollingUpdate=S;function b(i,n){const o=n-i;return function(d){return i+o*t(d)}}function C(i,n,o){return function(d){return d<o?i(d/o):n((d-o)/(1-o))}}class h{constructor(n,o,d,c){this.from=n,this.to=o,this.duration=c,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(n,o,d){if(Math.abs(n-o)>2.5*d){let s,a;return n<o?(s=n+.75*d,a=o-.75*d):(s=n-.75*d,a=o+.75*d),C(b(n,s),b(a,o),.33)}return b(n,o)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(n){this.to=n.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(n){const o=(n-this.startTime)/this.duration;if(o<1){const d=this.scrollLeft(o),c=this.scrollTop(o);return new S(d,c,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(n,o,d){return h.start(n,o,d)}static start(n,o,d){d=d+10;const c=Date.now()-10;return new h(n,o,c,d)}}e.SmoothScrollingOperation=h;function g(i){return Math.pow(i,3)}function t(i){return 1-g(1-i)}}),define(ee[8],te([0,1,306,133]),function(K,e,y,m){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function I(oe){return!oe||typeof oe!="string"?!0:oe.trim().length===0}e.isFalsyOrWhitespace=I;const S=/{(\d+)}/g;function b(oe,...he){return he.length===0?oe:oe.replace(S,function(ve,Se){const le=parseInt(Se,10);return isNaN(le)||le<0||le>=he.length?ve:he[le]})}e.format=b;function C(oe){return oe.replace(/[<>&]/g,function(he){switch(he){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return he}})}e.escape=C;function h(oe){return oe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=h;function g(oe,he=" "){const ve=t(oe,he);return i(ve,he)}e.trim=g;function t(oe,he){if(!oe||!he)return oe;const ve=he.length;if(ve===0||oe.length===0)return oe;let Se=0;for(;oe.indexOf(he,Se)===Se;)Se=Se+ve;return oe.substring(Se)}e.ltrim=t;function i(oe,he){if(!oe||!he)return oe;const ve=he.length,Se=oe.length;if(ve===0||Se===0)return oe;let le=Se,ge=-1;for(;ge=oe.lastIndexOf(he,le-1),!(ge===-1||ge+ve!==le);){if(ge===0)return"";le=ge}return oe.substring(0,le)}e.rtrim=i;function n(oe){return oe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=n;function o(oe){return oe.replace(/\*/g,"")}e.stripWildcards=o;function d(oe,he,ve={}){if(!oe)throw new Error("Cannot create regex from empty string");he||(oe=h(oe)),ve.wholeWord&&(/\B/.test(oe.charAt(0))||(oe="\\b"+oe),/\B/.test(oe.charAt(oe.length-1))||(oe=oe+"\\b"));let Se="";return ve.global&&(Se+="g"),ve.matchCase||(Se+="i"),ve.multiline&&(Se+="m"),ve.unicode&&(Se+="u"),new RegExp(oe,Se)}e.createRegExp=d;function c(oe){return oe.source==="^"||oe.source==="^$"||oe.source==="$"||oe.source==="^\\s*$"?!1:!!(oe.exec("")&&oe.lastIndex===0)}e.regExpLeadsToEndlessLoop=c;function s(oe){return(oe.global?"g":"")+(oe.ignoreCase?"i":"")+(oe.multiline?"m":"")+(oe.unicode?"u":"")}e.regExpFlags=s;function a(oe){return oe.split(/\r\n|\r|\n/)}e.splitLines=a;function r(oe){for(let he=0,ve=oe.length;he<ve;he++){const Se=oe.charCodeAt(he);if(Se!==32&&Se!==9)return he}return-1}e.firstNonWhitespaceIndex=r;function l(oe,he=0,ve=oe.length){for(let Se=he;Se<ve;Se++){const le=oe.charCodeAt(Se);if(le!==32&&le!==9)return oe.substring(he,Se)}return oe.substring(he,ve)}e.getLeadingWhitespace=l;function u(oe,he=oe.length-1){for(let ve=he;ve>=0;ve--){const Se=oe.charCodeAt(ve);if(Se!==32&&Se!==9)return ve}return-1}e.lastNonWhitespaceIndex=u;function f(oe,he){return oe<he?-1:oe>he?1:0}e.compare=f;function w(oe,he,ve=0,Se=oe.length,le=0,ge=he.length){for(;ve<Se&&le<ge;ve++,le++){let re=oe.charCodeAt(ve),fe=he.charCodeAt(le);if(re<fe)return-1;if(re>fe)return 1}const ue=Se-ve,be=ge-le;return ue<be?-1:ue>be?1:0}e.compareSubstring=w;function v(oe,he){return p(oe,he,0,oe.length,0,he.length)}e.compareIgnoreCase=v;function p(oe,he,ve=0,Se=oe.length,le=0,ge=he.length){for(;ve<Se&&le<ge;ve++,le++){let re=oe.charCodeAt(ve),fe=he.charCodeAt(le);if(re===fe)continue;if(re>=128||fe>=128)return w(oe.toLowerCase(),he.toLowerCase(),ve,Se,le,ge);_(re)&&(re-=32),_(fe)&&(fe-=32);const ye=re-fe;if(ye!==0)return ye}const ue=Se-ve,be=ge-le;return ue<be?-1:ue>be?1:0}e.compareSubstringIgnoreCase=p;function _(oe){return oe>=97&&oe<=122}e.isLowerAsciiLetter=_;function L(oe){return oe>=65&&oe<=90}e.isUpperAsciiLetter=L;function E(oe,he){return oe.length===he.length&&p(oe,he)===0}e.equalsIgnoreCase=E;function M(oe,he){const ve=he.length;return he.length>oe.length?!1:p(oe,he,0,ve)===0}e.startsWithIgnoreCase=M;function k(oe,he){let ve,Se=Math.min(oe.length,he.length);for(ve=0;ve<Se;ve++)if(oe.charCodeAt(ve)!==he.charCodeAt(ve))return ve;return Se}e.commonPrefixLength=k;function A(oe,he){let ve,Se=Math.min(oe.length,he.length);const le=oe.length-1,ge=he.length-1;for(ve=0;ve<Se;ve++)if(oe.charCodeAt(le-ve)!==he.charCodeAt(ge-ve))return ve;return Se}e.commonSuffixLength=A;function F(oe){return 55296<=oe&&oe<=56319}e.isHighSurrogate=F;function B(oe){return 56320<=oe&&oe<=57343}e.isLowSurrogate=B;function T(oe,he){return(oe-55296<<10)+(he-56320)+65536}e.computeCodePoint=T;function R(oe,he,ve){const Se=oe.charCodeAt(ve);if(F(Se)&&ve+1<he){const le=oe.charCodeAt(ve+1);if(B(le))return T(Se,le)}return Se}e.getNextCodePoint=R;function O(oe,he){const ve=oe.charCodeAt(he-1);if(B(ve)&&he>1){const Se=oe.charCodeAt(he-2);if(F(Se))return T(Se,ve)}return ve}class P{constructor(he,ve=0){this._str=he,this._len=he.length,this._offset=ve}get offset(){return this._offset}setOffset(he){this._offset=he}prevCodePoint(){const he=O(this._str,this._offset);return this._offset-=he>=65536?2:1,he}nextCodePoint(){const he=R(this._str,this._len,this._offset);return this._offset+=he>=65536?2:1,he}eol(){return this._offset>=this._len}}e.CodePointIterator=P;class D{constructor(he,ve=0){this._iterator=new P(he,ve)}get offset(){return this._iterator.offset}nextGraphemeLength(){const he=J.getInstance(),ve=this._iterator,Se=ve.offset;let le=he.getGraphemeBreakType(ve.nextCodePoint());for(;!ve.eol();){const ge=ve.offset,ue=he.getGraphemeBreakType(ve.nextCodePoint());if(ae(le,ue)){ve.setOffset(ge);break}le=ue}return ve.offset-Se}prevGraphemeLength(){const he=J.getInstance(),ve=this._iterator,Se=ve.offset;let le=he.getGraphemeBreakType(ve.prevCodePoint());for(;ve.offset>0;){const ge=ve.offset,ue=he.getGraphemeBreakType(ve.prevCodePoint());if(ae(ue,le)){ve.setOffset(ge);break}le=ue}return Se-ve.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=D;function x(oe,he){return new D(oe,he).nextGraphemeLength()}e.nextCharLength=x;function H(oe,he){return new D(oe,he).prevGraphemeLength()}e.prevCharLength=H;function j(oe,he){he>0&&B(oe.charCodeAt(he))&&he--;const ve=he+x(oe,he);return[ve-H(oe,ve),ve]}e.getCharContainingOffset=j;const Q=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function G(oe){return Q.test(oe)}e.containsRTL=G;const se=/^[\t\n\r\x20-\x7E]*$/;function ne(oe){return se.test(oe)}e.isBasicASCII=ne,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Z(oe){return e.UNUSUAL_LINE_TERMINATORS.test(oe)}e.containsUnusualLineTerminators=Z;function U(oe){return oe>=11904&&oe<=55215||oe>=63744&&oe<=64255||oe>=65281&&oe<=65374}e.isFullWidthCharacter=U;function W(oe){return oe>=127462&&oe<=127487||oe===8986||oe===8987||oe===9200||oe===9203||oe>=9728&&oe<=10175||oe===11088||oe===11093||oe>=127744&&oe<=128591||oe>=128640&&oe<=128764||oe>=128992&&oe<=129008||oe>=129280&&oe<=129535||oe>=129648&&oe<=129782}e.isEmojiImprecise=W,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function V(oe){return!!(oe&&oe.length>0&&oe.charCodeAt(0)===65279)}e.startsWithUTF8BOM=V;function Y(oe,he=!1){return oe?(he&&(oe=oe.replace(/\\./g,"")),oe.toLowerCase()!==oe):!1}e.containsUppercaseCharacter=Y;function X(oe){const he=90-65+1;return oe=oe%(2*he),oe<he?String.fromCharCode(97+oe):String.fromCharCode(65+oe-he)}e.singleLetterHash=X;function ae(oe,he){return oe===0?he!==5&&he!==7:oe===2&&he===3?!1:oe===4||oe===2||oe===3||he===4||he===2||he===3?!0:!(oe===8&&(he===8||he===9||he===11||he===12)||(oe===11||oe===9)&&(he===9||he===10)||(oe===12||oe===10)&&he===10||he===5||he===13||he===7||oe===1||oe===13&&he===14||oe===6&&he===6)}class J{constructor(){this._data=de()}static getInstance(){return J._INSTANCE||(J._INSTANCE=new J),J._INSTANCE}getGraphemeBreakType(he){if(he<32)return he===10?3:he===13?2:4;if(he<127)return 0;const ve=this._data,Se=ve.length/3;let le=1;for(;le<=Se;)if(he<ve[3*le])le=2*le;else if(he>ve[3*le+1])le=2*le+1;else return ve[3*le+2];return 0}}J._INSTANCE=null;function de(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function q(oe,he){if(oe===0)return 0;const ve=z(oe,he);if(ve!==void 0)return ve;const Se=new P(he,oe);return Se.prevCodePoint(),Se.offset}e.getLeftDeleteOffset=q;function z(oe,he){const ve=new P(he,oe);let Se=ve.prevCodePoint();for(;$(Se)||Se===65039||Se===8419;){if(ve.offset===0)return;Se=ve.prevCodePoint()}if(!W(Se))return;let le=ve.offset;return le>0&&ve.prevCodePoint()===8205&&(le=ve.offset),le}function $(oe){return 127995<=oe&&oe<=127999}e.noBreakWhitespace="\xA0";class ie{constructor(he){this.confusableDictionary=he}static getInstance(he){return ie.cache.get(Array.from(he))}static getLocales(){return ie._locales.getValue()}isAmbiguous(he){return this.confusableDictionary.has(he)}getPrimaryConfusable(he){return this.confusableDictionary.get(he)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=ie,N=ie,ie.ambiguousCharacterData=new m.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),ie.cache=new y.LRUCachedComputed(oe=>{function he(fe){const ye=new Map;for(let Me=0;Me<fe.length;Me+=2)ye.set(fe[Me],fe[Me+1]);return ye}function ve(fe,ye){const Me=new Map(fe);for(const[Oe,He]of ye)Me.set(Oe,He);return Me}function Se(fe,ye){if(!fe)return ye;const Me=new Map;for(const[Oe,He]of fe)ye.has(Oe)&&Me.set(Oe,He);return Me}const le=N.ambiguousCharacterData.getValue();let ge=oe.filter(fe=>!fe.startsWith("_")&&fe in le);ge.length===0&&(ge=["_default"]);let ue;for(const fe of ge){const ye=he(le[fe]);ue=Se(ue,ye)}const be=he(le._common),re=ve(be,ue);return new ie(re)}),ie._locales=new m.Lazy(()=>Object.keys(ie.ambiguousCharacterData.getValue()).filter(oe=>!oe.startsWith("_")));class ce{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ce.getRawData())),this._data}static isInvisibleCharacter(he){return ce.getData().has(he)}static get codePoints(){return ce.getData()}}e.InvisibleCharacters=ce,ce._data=void 0}),define(ee[164],te([0,1,81,17,8]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function I(n){return n===47||n===92}e.isPathSeparator=I;function S(n){return n.replace(/[\\/]/g,y.posix.sep)}e.toSlashes=S;function b(n){return n.indexOf("/")===-1&&(n=S(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}e.toPosixPath=b;function C(n,o=y.posix.sep){if(!n)return"";const d=n.length,c=n.charCodeAt(0);if(I(c)){if(I(n.charCodeAt(1))&&!I(n.charCodeAt(2))){let a=3;const r=a;for(;a<d&&!I(n.charCodeAt(a));a++);if(r!==a&&!I(n.charCodeAt(a+1))){for(a+=1;a<d;a++)if(I(n.charCodeAt(a)))return n.slice(0,a+1).replace(/[\\/]/g,o)}}return o}else if(g(c)&&n.charCodeAt(1)===58)return I(n.charCodeAt(2))?n.slice(0,2)+o:n.slice(0,2);let s=n.indexOf("://");if(s!==-1){for(s+=3;s<d;s++)if(I(n.charCodeAt(s)))return n.slice(0,s+1)}return""}e.getRoot=C;function h(n,o,d,c=y.sep){if(n===o)return!0;if(!n||!o||o.length>n.length)return!1;if(d){if(!(0,N.startsWithIgnoreCase)(n,o))return!1;if(o.length===n.length)return!0;let a=o.length;return o.charAt(o.length-1)===c&&a--,n.charAt(a)===c}return o.charAt(o.length-1)!==c&&(o+=c),n.indexOf(o)===0}e.isEqualOrParent=h;function g(n){return n>=65&&n<=90||n>=97&&n<=122}e.isWindowsDriveLetter=g;function t(n){const o=(0,y.normalize)(n);return m.isWindows?n.length>3?!1:i(o)&&(n.length===2||o.charCodeAt(2)===92):o===y.posix.sep}e.isRootOrDriveLetter=t;function i(n,o){return(o!==void 0?o:m.isWindows)?g(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}e.hasDriveLetter=i}),define(ee[109],te([0,1,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function m(d){return N(d,0)}e.hash=m;function N(d,c){switch(typeof d){case"object":return d===null?I(349,c):Array.isArray(d)?C(d,c):h(d,c);case"string":return b(d,c);case"boolean":return S(d,c);case"number":return I(d,c);case"undefined":return I(937,c);default:return I(617,c)}}e.doHash=N;function I(d,c){return(c<<5)-c+d|0}e.numberHash=I;function S(d,c){return I(d?433:863,c)}function b(d,c){c=I(149417,c);for(let s=0,a=d.length;s<a;s++)c=I(d.charCodeAt(s),c);return c}e.stringHash=b;function C(d,c){return c=I(104579,c),d.reduce((s,a)=>N(a,s),c)}function h(d,c){return c=I(181387,c),Object.keys(d).sort().reduce((s,a)=>(s=b(a,s),N(d[a],s)),c)}function g(d,c,s=32){const a=s-c,r=~((1<<a)-1);return(d<<c|(r&d)>>>a)>>>0}function t(d,c=0,s=d.byteLength,a=0){for(let r=0;r<s;r++)d[c+r]=a}function i(d,c,s="0"){for(;d.length<c;)d=s+d;return d}function n(d,c=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(s=>s.toString(16).padStart(2,"0")).join(""):i((d>>>0).toString(16),c/4)}e.toHexString=n;class o{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(c){const s=c.length;if(s===0)return;const a=this._buff;let r=this._buffLen,l=this._leftoverHighSurrogate,u,f;for(l!==0?(u=l,f=-1,l=0):(u=c.charCodeAt(0),f=0);;){let w=u;if(y.isHighSurrogate(u))if(f+1<s){const v=c.charCodeAt(f+1);y.isLowSurrogate(v)?(f++,w=y.computeCodePoint(u,v)):w=65533}else{l=u;break}else y.isLowSurrogate(u)&&(w=65533);if(r=this._push(a,r,w),f++,f<s)u=c.charCodeAt(f);else break}this._buffLen=r,this._leftoverHighSurrogate=l}_push(c,s,a){return a<128?c[s++]=a:a<2048?(c[s++]=192|(a&1984)>>>6,c[s++]=128|(a&63)>>>0):a<65536?(c[s++]=224|(a&61440)>>>12,c[s++]=128|(a&4032)>>>6,c[s++]=128|(a&63)>>>0):(c[s++]=240|(a&1835008)>>>18,c[s++]=128|(a&258048)>>>12,c[s++]=128|(a&4032)>>>6,c[s++]=128|(a&63)>>>0),s>=64&&(this._step(),s-=64,this._totalLen+=64,c[0]=c[64+0],c[1]=c[64+1],c[2]=c[64+2]),s}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),n(this._h0)+n(this._h1)+n(this._h2)+n(this._h3)+n(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,t(this._buff,this._buffLen),this._buffLen>56&&(this._step(),t(this._buff));const c=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(c/4294967296),!1),this._buffDV.setUint32(60,c%4294967296,!1),this._step()}_step(){const c=o._bigBlock32,s=this._buffDV;for(let _=0;_<64;_+=4)c.setUint32(_,s.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)c.setUint32(_,g(c.getUint32(_-12,!1)^c.getUint32(_-32,!1)^c.getUint32(_-56,!1)^c.getUint32(_-64,!1),1),!1);let a=this._h0,r=this._h1,l=this._h2,u=this._h3,f=this._h4,w,v,p;for(let _=0;_<80;_++)_<20?(w=r&l|~r&u,v=1518500249):_<40?(w=r^l^u,v=1859775393):_<60?(w=r&l|r&u|l&u,v=2400959708):(w=r^l^u,v=3395469782),p=g(a,5)+w+f+v+c.getUint32(_*4,!1)&4294967295,f=u,u=l,l=g(r,30),r=a,a=p;this._h0=this._h0+a&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+l&4294967295,this._h3=this._h3+u&4294967295,this._h4=this._h4+f&4294967295}}e.StringSHA1=o,o._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ee[137],te([0,1,307,109]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class N{constructor(t){this.source=t}getElements(){const t=this.source,i=new Int32Array(t.length);for(let n=0,o=t.length;n<o;n++)i[n]=t.charCodeAt(n);return i}}e.StringDiffSequence=N;function I(g,t,i){return new h(new N(g),new N(t)).ComputeDiff(i).changes}e.stringDiff=I;class S{static Assert(t,i){if(!t)throw new Error(i)}}e.Debug=S;class b{static Copy(t,i,n,o,d){for(let c=0;c<d;c++)n[o+c]=t[i+c]}static Copy2(t,i,n,o,d){for(let c=0;c<d;c++)n[o+c]=t[i+c]}}e.MyArray=b;class C{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new y.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,i){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(t,i){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class h{constructor(t,i,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=t,this._modifiedSequence=i;const[o,d,c]=h._getElements(t),[s,a,r]=h._getElements(i);this._hasStrings=c&&r,this._originalStringElements=o,this._originalElementsOrHash=d,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(t){return t.length>0&&typeof t[0]=="string"}static _getElements(t){const i=t.getElements();if(h._isStringArray(i)){const n=new Int32Array(i.length);for(let o=0,d=i.length;o<d;o++)n[o]=(0,m.stringHash)(i[o],0);return[i,n,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(t,i){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[t]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(t,i){if(!this.ElementsAreEqual(t,i))return!1;const n=h._getStrictElement(this._originalSequence,t),o=h._getStrictElement(this._modifiedSequence,i);return n===o}static _getStrictElement(t,i){return typeof t.getStrictElement=="function"?t.getStrictElement(i):null}OriginalElementsAreEqual(t,i){return this._originalElementsOrHash[t]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[t]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(t,i){return this._modifiedElementsOrHash[t]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[t]===this._modifiedStringElements[i]:!0}ComputeDiff(t){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,t)}_ComputeDiff(t,i,n,o,d){const c=[!1];let s=this.ComputeDiffRecursive(t,i,n,o,c);return d&&(s=this.PrettifyChanges(s)),{quitEarly:c[0],changes:s}}ComputeDiffRecursive(t,i,n,o,d){for(d[0]=!1;t<=i&&n<=o&&this.ElementsAreEqual(t,n);)t++,n++;for(;i>=t&&o>=n&&this.ElementsAreEqual(i,o);)i--,o--;if(t>i||n>o){let u;return n<=o?(S.Assert(t===i+1,"originalStart should only be one more than originalEnd"),u=[new y.DiffChange(t,0,n,o-n+1)]):t<=i?(S.Assert(n===o+1,"modifiedStart should only be one more than modifiedEnd"),u=[new y.DiffChange(t,i-t+1,n,0)]):(S.Assert(t===i+1,"originalStart should only be one more than originalEnd"),S.Assert(n===o+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const c=[0],s=[0],a=this.ComputeRecursionPoint(t,i,n,o,c,s,d),r=c[0],l=s[0];if(a!==null)return a;if(!d[0]){const u=this.ComputeDiffRecursive(t,r,n,l,d);let f=[];return d[0]?f=[new y.DiffChange(r+1,i-(r+1)+1,l+1,o-(l+1)+1)]:f=this.ComputeDiffRecursive(r+1,i,l+1,o,d),this.ConcatenateChanges(u,f)}return[new y.DiffChange(t,i-t+1,n,o-n+1)]}WALKTRACE(t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E){let M=null,k=null,A=new C,F=i,B=n,T=w[0]-_[0]-o,R=-1073741824,O=this.m_forwardHistory.length-1;do{const P=T+t;P===F||P<B&&r[P-1]<r[P+1]?(u=r[P+1],v=u-T-o,u<R&&A.MarkNextChange(),R=u,A.AddModifiedElement(u+1,v),T=P+1-t):(u=r[P-1]+1,v=u-T-o,u<R&&A.MarkNextChange(),R=u-1,A.AddOriginalElement(u,v+1),T=P-1-t),O>=0&&(r=this.m_forwardHistory[O],t=r[0],F=1,B=r.length-1)}while(--O>=-1);if(M=A.getReverseChanges(),E[0]){let P=w[0]+1,D=_[0]+1;if(M!==null&&M.length>0){const x=M[M.length-1];P=Math.max(P,x.getOriginalEnd()),D=Math.max(D,x.getModifiedEnd())}k=[new y.DiffChange(P,f-P+1,D,p-D+1)]}else{A=new C,F=c,B=s,T=w[0]-_[0]-a,R=1073741824,O=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const P=T+d;P===F||P<B&&l[P-1]>=l[P+1]?(u=l[P+1]-1,v=u-T-a,u>R&&A.MarkNextChange(),R=u+1,A.AddOriginalElement(u+1,v+1),T=P+1-d):(u=l[P-1],v=u-T-a,u>R&&A.MarkNextChange(),R=u,A.AddModifiedElement(u+1,v+1),T=P-1-d),O>=0&&(l=this.m_reverseHistory[O],d=l[0],F=1,B=l.length-1)}while(--O>=-1);k=A.getChanges()}return this.ConcatenateChanges(M,k)}ComputeRecursionPoint(t,i,n,o,d,c,s){let a=0,r=0,l=0,u=0,f=0,w=0;t--,n--,d[0]=0,c[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const v=i-t+(o-n),p=v+1,_=new Int32Array(p),L=new Int32Array(p),E=o-n,M=i-t,k=t-n,A=i-o,B=(M-E)%2==0;_[E]=t,L[M]=i,s[0]=!1;for(let T=1;T<=v/2+1;T++){let R=0,O=0;l=this.ClipDiagonalBound(E-T,T,E,p),u=this.ClipDiagonalBound(E+T,T,E,p);for(let D=l;D<=u;D+=2){D===l||D<u&&_[D-1]<_[D+1]?a=_[D+1]:a=_[D-1]+1,r=a-(D-E)-k;const x=a;for(;a<i&&r<o&&this.ElementsAreEqual(a+1,r+1);)a++,r++;if(_[D]=a,a+r>R+O&&(R=a,O=r),!B&&Math.abs(D-M)<=T-1&&a>=L[D])return d[0]=a,c[0]=r,x<=L[D]&&1447>0&&T<=1447+1?this.WALKTRACE(E,l,u,k,M,f,w,A,_,L,a,i,d,r,o,c,B,s):null}const P=(R-t+(O-n)-T)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(R,P))return s[0]=!0,d[0]=R,c[0]=O,P>0&&1447>0&&T<=1447+1?this.WALKTRACE(E,l,u,k,M,f,w,A,_,L,a,i,d,r,o,c,B,s):(t++,n++,[new y.DiffChange(t,i-t+1,n,o-n+1)]);f=this.ClipDiagonalBound(M-T,T,M,p),w=this.ClipDiagonalBound(M+T,T,M,p);for(let D=f;D<=w;D+=2){D===f||D<w&&L[D-1]>=L[D+1]?a=L[D+1]-1:a=L[D-1],r=a-(D-M)-A;const x=a;for(;a>t&&r>n&&this.ElementsAreEqual(a,r);)a--,r--;if(L[D]=a,B&&Math.abs(D-E)<=T&&a<=_[D])return d[0]=a,c[0]=r,x>=_[D]&&1447>0&&T<=1447+1?this.WALKTRACE(E,l,u,k,M,f,w,A,_,L,a,i,d,r,o,c,B,s):null}if(T<=1447){let D=new Int32Array(u-l+2);D[0]=E-l+1,b.Copy2(_,l,D,1,u-l+1),this.m_forwardHistory.push(D),D=new Int32Array(w-f+2),D[0]=M-f+1,b.Copy2(L,f,D,1,w-f+1),this.m_reverseHistory.push(D)}}return this.WALKTRACE(E,l,u,k,M,f,w,A,_,L,a,i,d,r,o,c,B,s)}PrettifyChanges(t){for(let i=0;i<t.length;i++){const n=t[i],o=i<t.length-1?t[i+1].originalStart:this._originalElementsOrHash.length,d=i<t.length-1?t[i+1].modifiedStart:this._modifiedElementsOrHash.length,c=n.originalLength>0,s=n.modifiedLength>0;for(;n.originalStart+n.originalLength<o&&n.modifiedStart+n.modifiedLength<d&&(!c||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!s||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const r=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!r)break;n.originalStart++,n.modifiedStart++}let a=[null];if(i<t.length-1&&this.ChangesOverlap(t[i],t[i+1],a)){t[i]=a[0],t.splice(i+1,1),i--;continue}}for(let i=t.length-1;i>=0;i--){const n=t[i];let o=0,d=0;if(i>0){const u=t[i-1];o=u.originalStart+u.originalLength,d=u.modifiedStart+u.modifiedLength}const c=n.originalLength>0,s=n.modifiedLength>0;let a=0,r=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let u=1;;u++){const f=n.originalStart-u,w=n.modifiedStart-u;if(f<o||w<d||c&&!this.OriginalElementsAreEqual(f,f+n.originalLength)||s&&!this.ModifiedElementsAreEqual(w,w+n.modifiedLength))break;const p=(f===o&&w===d?5:0)+this._boundaryScore(f,n.originalLength,w,n.modifiedLength);p>r&&(r=p,a=u)}n.originalStart-=a,n.modifiedStart-=a;const l=[null];if(i>0&&this.ChangesOverlap(t[i-1],t[i],l)){t[i-1]=l[0],t.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,n=t.length;i<n;i++){const o=t[i-1],d=t[i],c=d.originalStart-o.originalStart-o.originalLength,s=o.originalStart,a=d.originalStart+d.originalLength,r=a-s,l=o.modifiedStart,u=d.modifiedStart+d.modifiedLength,f=u-l;if(c<5&&r<20&&f<20){const w=this._findBetterContiguousSequence(s,r,l,f,c);if(w){const[v,p]=w;(v!==o.originalStart+o.originalLength||p!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=v-o.originalStart,o.modifiedLength=p-o.modifiedStart,d.originalStart=v+c,d.modifiedStart=p+c,d.originalLength=a-d.originalStart,d.modifiedLength=u-d.modifiedStart)}}}return t}_findBetterContiguousSequence(t,i,n,o,d){if(i<d||o<d)return null;const c=t+i-d+1,s=n+o-d+1;let a=0,r=0,l=0;for(let u=t;u<c;u++)for(let f=n;f<s;f++){const w=this._contiguousSequenceScore(u,f,d);w>0&&w>a&&(a=w,r=u,l=f)}return a>0?[r,l]:null}_contiguousSequenceScore(t,i,n){let o=0;for(let d=0;d<n;d++){if(!this.ElementsAreEqual(t+d,i+d))return 0;o+=this._originalStringElements[t+d].length}return o}_OriginalIsBoundary(t){return t<=0||t>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[t])}_OriginalRegionIsBoundary(t,i){if(this._OriginalIsBoundary(t)||this._OriginalIsBoundary(t-1))return!0;if(i>0){const n=t+i;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(t){return t<=0||t>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[t])}_ModifiedRegionIsBoundary(t,i){if(this._ModifiedIsBoundary(t)||this._ModifiedIsBoundary(t-1))return!0;if(i>0){const n=t+i;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(t,i,n,o){const d=this._OriginalRegionIsBoundary(t,i)?1:0,c=this._ModifiedRegionIsBoundary(n,o)?1:0;return d+c}ConcatenateChanges(t,i){let n=[];if(t.length===0||i.length===0)return i.length>0?i:t;if(this.ChangesOverlap(t[t.length-1],i[0],n)){const o=new Array(t.length+i.length-1);return b.Copy(t,0,o,0,t.length-1),o[t.length-1]=n[0],b.Copy(i,1,o,t.length,i.length-1),o}else{const o=new Array(t.length+i.length);return b.Copy(t,0,o,0,t.length),b.Copy(i,0,o,t.length,i.length),o}}ChangesOverlap(t,i,n){if(S.Assert(t.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),S.Assert(t.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=i.originalStart||t.modifiedStart+t.modifiedLength>=i.modifiedStart){const o=t.originalStart;let d=t.originalLength;const c=t.modifiedStart;let s=t.modifiedLength;return t.originalStart+t.originalLength>=i.originalStart&&(d=i.originalStart+i.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=i.modifiedStart&&(s=i.modifiedStart+i.modifiedLength-t.modifiedStart),n[0]=new y.DiffChange(o,d,c,s),!0}else return n[0]=null,!1}ClipDiagonalBound(t,i,n,o){if(t>=0&&t<o)return t;const d=n,c=o-n-1,s=i%2==0;if(t<0){const a=d%2==0;return s===a?0:1}else{const a=c%2==0;return s===a?o-1:o-2}}}e.LcsDiff=h}),define(ee[165],te([0,1,106,19,10,137,4,55]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function C(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=C;function h(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=h;function g(i){return typeof i.collapsible=="boolean"}class t{constructor(n,o,d,c={}){this.user=n,this.list=o,this.rootRef=[],this.eventBufferer=new S.EventBufferer,this._onDidChangeCollapseState=new S.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new S.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new S.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new N.Delayer(N.MicrotaskDelay),this.collapseByDefault=typeof c.collapseByDefault=="undefined"?!1:c.collapseByDefault,this.filter=c.filter,this.autoExpandSingleChildren=typeof c.autoExpandSingleChildren=="undefined"?!1:c.autoExpandSingleChildren,this.root={parent:void 0,element:d,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(n,o,d=b.Iterable.empty(),c={}){if(n.length===0)throw new y.TreeError(this.user,"Invalid tree location");c.diffIdentityProvider?this.spliceSmart(c.diffIdentityProvider,n,o,d,c):this.spliceSimple(n,o,d,c)}spliceSmart(n,o,d,c,s,a){var r;c===void 0&&(c=b.Iterable.empty()),a===void 0&&(a=(r=s.diffDepth)!==null&&r!==void 0?r:0);const{parentNode:l}=this.getParentNodeWithListIndex(o);if(!l.lastDiffIds)return this.spliceSimple(o,d,c,s);const u=[...c],f=o[o.length-1],w=new I.LcsDiff({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,f),...u,...l.children.slice(f+d)].map(E=>n.getId(E.element).toString())}).ComputeDiff(!1);if(w.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(o,d,u,s);const v=o.slice(0,-1),p=(E,M,k)=>{if(a>0)for(let A=0;A<k;A++)E--,M--,this.spliceSmart(n,[...v,E,0],Number.MAX_SAFE_INTEGER,u[M].children,s,a-1)};let _=Math.min(l.children.length,f+d),L=u.length;for(const E of w.changes.sort((M,k)=>k.originalStart-M.originalStart))p(_,L,_-(E.originalStart+E.originalLength)),_=E.originalStart,L=E.modifiedStart-f,this.spliceSimple([...v,_],E.originalLength,b.Iterable.slice(u,L,L+E.modifiedLength),s);p(_,L,_)}spliceSimple(n,o,d=b.Iterable.empty(),{onDidCreateNode:c,onDidDeleteNode:s,diffIdentityProvider:a}){const{parentNode:r,listIndex:l,revealed:u,visible:f}=this.getParentNodeWithListIndex(n),w=[],v=b.Iterable.map(d,R=>this.createTreeNode(R,r,r.visible?1:0,u,w,c)),p=n[n.length-1],_=r.children.length>0;let L=0;for(let R=p;R>=0&&R<r.children.length;R--){const O=r.children[R];if(O.visible){L=O.visibleChildIndex;break}}const E=[];let M=0,k=0;for(const R of v)E.push(R),k+=R.renderNodeCount,R.visible&&(R.visibleChildIndex=L+M++);const A=(0,m.splice)(r.children,p,o,E);a?r.lastDiffIds?(0,m.splice)(r.lastDiffIds,p,o,E.map(R=>a.getId(R.element).toString())):r.lastDiffIds=r.children.map(R=>a.getId(R.element).toString()):r.lastDiffIds=void 0;let F=0;for(const R of A)R.visible&&F++;if(F!==0)for(let R=p+E.length;R<r.children.length;R++){const O=r.children[R];O.visible&&(O.visibleChildIndex-=F)}if(r.visibleChildrenCount+=M-F,u&&f){const R=A.reduce((O,P)=>O+(P.visible?P.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(r,k-R),this.list.splice(l,R,w)}if(A.length>0&&s){const R=O=>{s(O),O.children.forEach(R)};A.forEach(R)}const B=r.children.length>0;_!==B&&this.setCollapsible(n.slice(0,-1),B),this._onDidSplice.fire({insertedNodes:E,deletedNodes:A});let T=r;for(;T;){if(T.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}T=T.parent}}rerender(n){if(n.length===0)throw new y.TreeError(this.user,"Invalid tree location");const{node:o,listIndex:d,revealed:c}=this.getTreeNodeWithListIndex(n);o.visible&&c&&this.list.splice(d,1,[o])}has(n){return this.hasTreeNode(n)}getListIndex(n){const{listIndex:o,visible:d,revealed:c}=this.getTreeNodeWithListIndex(n);return d&&c?o:-1}getListRenderCount(n){return this.getTreeNode(n).renderNodeCount}isCollapsible(n){return this.getTreeNode(n).collapsible}setCollapsible(n,o){const d=this.getTreeNode(n);typeof o=="undefined"&&(o=!d.collapsible);const c={collapsible:o};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(n,c))}isCollapsed(n){return this.getTreeNode(n).collapsed}setCollapsed(n,o,d){const c=this.getTreeNode(n);typeof o=="undefined"&&(o=!c.collapsed);const s={collapsed:o,recursive:d||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(n,s))}_setCollapseState(n,o){const{node:d,listIndex:c,revealed:s}=this.getTreeNodeWithListIndex(n),a=this._setListNodeCollapseState(d,c,s,o);if(d!==this.root&&this.autoExpandSingleChildren&&a&&!g(o)&&d.collapsible&&!d.collapsed&&!o.recursive){let r=-1;for(let l=0;l<d.children.length;l++)if(d.children[l].visible)if(r>-1){r=-1;break}else r=l;r>-1&&this._setCollapseState([...n,r],o)}return a}_setListNodeCollapseState(n,o,d,c){const s=this._setNodeCollapseState(n,c,!1);if(!d||!n.visible||!s)return s;const a=n.renderNodeCount,r=this.updateNodeAfterCollapseChange(n),l=a-(o===-1?0:1);return this.list.splice(o+1,l,r.slice(1)),s}_setNodeCollapseState(n,o,d){let c;if(n===this.root?c=!1:(g(o)?(c=n.collapsible!==o.collapsible,n.collapsible=o.collapsible):n.collapsible?(c=n.collapsed!==o.collapsed,n.collapsed=o.collapsed):c=!1,c&&this._onDidChangeCollapseState.fire({node:n,deep:d})),!g(o)&&o.recursive)for(const s of n.children)c=this._setNodeCollapseState(s,o,!0)||c;return c}expandTo(n){this.eventBufferer.bufferEvents(()=>{let o=this.getTreeNode(n);for(;o.parent;)o=o.parent,n=n.slice(0,n.length-1),o.collapsed&&this._setCollapseState(n,{collapsed:!1,recursive:!1})})}refilter(){const n=this.root.renderNodeCount,o=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,n,o),this.refilterDelayer.cancel()}createTreeNode(n,o,d,c,s,a){const r={parent:o,element:n.element,children:[],depth:o.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof n.collapsible=="boolean"?n.collapsible:typeof n.collapsed!="undefined",collapsed:typeof n.collapsed=="undefined"?this.collapseByDefault:n.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(r,d);r.visibility=l,c&&s.push(r);const u=n.children||b.Iterable.empty(),f=c&&l!==0&&!r.collapsed,w=b.Iterable.map(u,_=>this.createTreeNode(_,r,l,f,s,a));let v=0,p=1;for(const _ of w)r.children.push(_),p+=_.renderNodeCount,_.visible&&(_.visibleChildIndex=v++);return r.collapsible=r.collapsible||r.children.length>0,r.visibleChildrenCount=v,r.visible=l===2?v>0:l===1,r.visible?r.collapsed||(r.renderNodeCount=p):(r.renderNodeCount=0,c&&s.pop()),a&&a(r),r}updateNodeAfterCollapseChange(n){const o=n.renderNodeCount,d=[];return this._updateNodeAfterCollapseChange(n,d),this._updateAncestorsRenderNodeCount(n.parent,d.length-o),d}_updateNodeAfterCollapseChange(n,o){if(n.visible===!1)return 0;if(o.push(n),n.renderNodeCount=1,!n.collapsed)for(const d of n.children)n.renderNodeCount+=this._updateNodeAfterCollapseChange(d,o);return this._onDidChangeRenderNodeCount.fire(n),n.renderNodeCount}updateNodeAfterFilterChange(n){const o=n.renderNodeCount,d=[];return this._updateNodeAfterFilterChange(n,n.visible?1:0,d),this._updateAncestorsRenderNodeCount(n.parent,d.length-o),d}_updateNodeAfterFilterChange(n,o,d,c=!0){let s;if(n!==this.root){if(s=this._filterNode(n,o),s===0)return n.visible=!1,n.renderNodeCount=0,!1;c&&d.push(n)}const a=d.length;n.renderNodeCount=n===this.root?0:1;let r=!1;if(!n.collapsed||s!==0){let l=0;for(const u of n.children)r=this._updateNodeAfterFilterChange(u,s,d,c&&!n.collapsed)||r,u.visible&&(u.visibleChildIndex=l++);n.visibleChildrenCount=l}else n.visibleChildrenCount=0;return n!==this.root&&(n.visible=s===2?r:s===1,n.visibility=s),n.visible?n.collapsed||(n.renderNodeCount+=d.length-a):(n.renderNodeCount=0,c&&d.pop()),this._onDidChangeRenderNodeCount.fire(n),n.visible}_updateAncestorsRenderNodeCount(n,o){if(o!==0)for(;n;)n.renderNodeCount+=o,this._onDidChangeRenderNodeCount.fire(n),n=n.parent}_filterNode(n,o){const d=this.filter?this.filter.filter(n.element,o):1;return typeof d=="boolean"?(n.filterData=void 0,d?1:0):C(d)?(n.filterData=d.data,h(d.visibility)):(n.filterData=void 0,h(d))}hasTreeNode(n,o=this.root){if(!n||n.length===0)return!0;const[d,...c]=n;return d<0||d>o.children.length?!1:this.hasTreeNode(c,o.children[d])}getTreeNode(n,o=this.root){if(!n||n.length===0)return o;const[d,...c]=n;if(d<0||d>o.children.length)throw new y.TreeError(this.user,"Invalid tree location");return this.getTreeNode(c,o.children[d])}getTreeNodeWithListIndex(n){if(n.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:o,listIndex:d,revealed:c,visible:s}=this.getParentNodeWithListIndex(n),a=n[n.length-1];if(a<0||a>o.children.length)throw new y.TreeError(this.user,"Invalid tree location");const r=o.children[a];return{node:r,listIndex:d,revealed:c,visible:s&&r.visible}}getParentNodeWithListIndex(n,o=this.root,d=0,c=!0,s=!0){const[a,...r]=n;if(a<0||a>o.children.length)throw new y.TreeError(this.user,"Invalid tree location");for(let l=0;l<a;l++)d+=o.children[l].renderNodeCount;return c=c&&!o.collapsed,s=s&&o.visible,r.length===0?{parentNode:o,listIndex:d,revealed:c,visible:s}:this.getParentNodeWithListIndex(r,o.children[a],d+1,c,s)}getNode(n=[]){return this.getTreeNode(n)}getNodeLocation(n){const o=[];let d=n;for(;d.parent;)o.push(d.parent.children.indexOf(d)),d=d.parent;return o.reverse()}getParentNodeLocation(n){if(n.length!==0)return n.length===1?[]:(0,m.tail2)(n)[0]}getFirstElementChild(n){const o=this.getTreeNode(n);if(o.children.length!==0)return o.children[0].element}}e.IndexTreeModel=t}),define(ee[166],te([0,1,165,106,55]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class I{constructor(b,C,h={}){this.user=b,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new y.IndexTreeModel(b,C,null,h),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,h.sorter&&(this.sorter={compare(g,t){return h.sorter.compare(g.element,t.element)}}),this.identityProvider=h.identityProvider}setChildren(b,C=N.Iterable.empty(),h={}){const g=this.getElementLocation(b);this._setChildren(g,this.preserveCollapseState(C),h)}_setChildren(b,C=N.Iterable.empty(),h){const g=new Set,t=new Set,i=o=>{var d;if(o.element===null)return;const c=o;if(g.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const s=this.identityProvider.getId(c.element).toString();t.add(s),this.nodesByIdentity.set(s,c)}(d=h.onDidCreateNode)===null||d===void 0||d.call(h,c)},n=o=>{var d;if(o.element===null)return;const c=o;if(g.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const s=this.identityProvider.getId(c.element).toString();t.has(s)||this.nodesByIdentity.delete(s)}(d=h.onDidDeleteNode)===null||d===void 0||d.call(h,c)};this.model.splice([...b,0],Number.MAX_VALUE,C,Object.assign(Object.assign({},h),{onDidCreateNode:i,onDidDeleteNode:n}))}preserveCollapseState(b=N.Iterable.empty()){return this.sorter&&(b=[...b].sort(this.sorter.compare.bind(this.sorter))),N.Iterable.map(b,C=>{let h=this.nodes.get(C.element);if(!h&&this.identityProvider){const i=this.identityProvider.getId(C.element).toString();h=this.nodesByIdentity.get(i)}if(!h)return Object.assign(Object.assign({},C),{children:this.preserveCollapseState(C.children)});const g=typeof C.collapsible=="boolean"?C.collapsible:h.collapsible,t=typeof C.collapsed!="undefined"?C.collapsed:h.collapsed;return Object.assign(Object.assign({},C),{collapsible:g,collapsed:t,children:this.preserveCollapseState(C.children)})})}rerender(b){const C=this.getElementLocation(b);this.model.rerender(C)}getFirstElementChild(b=null){const C=this.getElementLocation(b);return this.model.getFirstElementChild(C)}has(b){return this.nodes.has(b)}getListIndex(b){const C=this.getElementLocation(b);return this.model.getListIndex(C)}getListRenderCount(b){const C=this.getElementLocation(b);return this.model.getListRenderCount(C)}isCollapsible(b){const C=this.getElementLocation(b);return this.model.isCollapsible(C)}setCollapsible(b,C){const h=this.getElementLocation(b);return this.model.setCollapsible(h,C)}isCollapsed(b){const C=this.getElementLocation(b);return this.model.isCollapsed(C)}setCollapsed(b,C,h){const g=this.getElementLocation(b);return this.model.setCollapsed(g,C,h)}expandTo(b){const C=this.getElementLocation(b);this.model.expandTo(C)}refilter(){this.model.refilter()}getNode(b=null){if(b===null)return this.model.getNode(this.model.rootRef);const C=this.nodes.get(b);if(!C)throw new m.TreeError(this.user,`Tree element not found: ${b}`);return C}getNodeLocation(b){return b.element}getParentNodeLocation(b){if(b===null)throw new m.TreeError(this.user,"Invalid getParentNodeLocation call");const C=this.nodes.get(b);if(!C)throw new m.TreeError(this.user,`Tree element not found: ${b}`);const h=this.model.getNodeLocation(C),g=this.model.getParentNodeLocation(h);return this.model.getNode(g).element}getElementLocation(b){if(b===null)return[];const C=this.nodes.get(b);if(!C)throw new m.TreeError(this.user,`Tree element not found: ${b}`);return this.model.getNodeLocation(C)}}e.ObjectTreeModel=I}),define(ee[314],te([0,1,166,106,4,55]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(a){const r=[a.element],l=a.incompressible||!1;return{element:{elements:r,incompressible:l},children:I.Iterable.map(I.Iterable.from(a.children),S),collapsible:a.collapsible,collapsed:a.collapsed}}function b(a){const r=[a.element],l=a.incompressible||!1;let u,f;for(;[f,u]=I.Iterable.consume(I.Iterable.from(a.children),2),!(f.length!==1||f[0].incompressible);)a=f[0],r.push(a.element);return{element:{elements:r,incompressible:l},children:I.Iterable.map(I.Iterable.concat(f,u),b),collapsible:a.collapsible,collapsed:a.collapsed}}e.compress=b;function C(a,r=0){let l;return r<a.element.elements.length-1?l=[C(a,r+1)]:l=I.Iterable.map(I.Iterable.from(a.children),u=>C(u,0)),r===0&&a.element.incompressible?{element:a.element.elements[r],children:l,incompressible:!0,collapsible:a.collapsible,collapsed:a.collapsed}:{element:a.element.elements[r],children:l,collapsible:a.collapsible,collapsed:a.collapsed}}function h(a){return C(a,0)}e.decompress=h;function g(a,r,l){return a.element===r?Object.assign(Object.assign({},a),{children:l}):Object.assign(Object.assign({},a),{children:I.Iterable.map(I.Iterable.from(a.children),u=>g(u,r,l))})}const t=a=>({getId(r){return r.elements.map(l=>a.getId(l).toString()).join("\0")}});class i{constructor(r,l,u={}){this.user=r,this.rootRef=null,this.nodes=new Map,this.model=new y.ObjectTreeModel(r,l,u),this.enabled=typeof u.compressionEnabled=="undefined"?!0:u.compressionEnabled,this.identityProvider=u.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(r,l=I.Iterable.empty(),u){const f=u.diffIdentityProvider&&t(u.diffIdentityProvider);if(r===null){const A=I.Iterable.map(l,this.enabled?b:S);this._setChildren(null,A,{diffIdentityProvider:f,diffDepth:1/0});return}const w=this.nodes.get(r);if(!w)throw new Error("Unknown compressed tree node");const v=this.model.getNode(w),p=this.model.getParentNodeLocation(w),_=this.model.getNode(p),L=h(v),E=g(L,r,l),M=(this.enabled?b:S)(E),k=_.children.map(A=>A===v?M:A);this._setChildren(_.element,k,{diffIdentityProvider:f,diffDepth:v.depth-_.depth})}setCompressionEnabled(r){if(r===this.enabled)return;this.enabled=r;const u=this.model.getNode().children,f=I.Iterable.map(u,h),w=I.Iterable.map(f,r?b:S);this._setChildren(null,w,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(r,l,u){const f=new Set,w=p=>{for(const _ of p.element.elements)f.add(_),this.nodes.set(_,p.element)},v=p=>{for(const _ of p.element.elements)f.has(_)||this.nodes.delete(_)};this.model.setChildren(r,l,Object.assign(Object.assign({},u),{onDidCreateNode:w,onDidDeleteNode:v}))}has(r){return this.nodes.has(r)}getListIndex(r){const l=this.getCompressedNode(r);return this.model.getListIndex(l)}getListRenderCount(r){const l=this.getCompressedNode(r);return this.model.getListRenderCount(l)}getNode(r){if(typeof r=="undefined")return this.model.getNode();const l=this.getCompressedNode(r);return this.model.getNode(l)}getNodeLocation(r){const l=this.model.getNodeLocation(r);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(r){const l=this.getCompressedNode(r),u=this.model.getParentNodeLocation(l);return u===null?null:u.elements[u.elements.length-1]}getFirstElementChild(r){const l=this.getCompressedNode(r);return this.model.getFirstElementChild(l)}isCollapsible(r){const l=this.getCompressedNode(r);return this.model.isCollapsible(l)}setCollapsible(r,l){const u=this.getCompressedNode(r);return this.model.setCollapsible(u,l)}isCollapsed(r){const l=this.getCompressedNode(r);return this.model.isCollapsed(l)}setCollapsed(r,l,u){const f=this.getCompressedNode(r);return this.model.setCollapsed(f,l,u)}expandTo(r){const l=this.getCompressedNode(r);this.model.expandTo(l)}rerender(r){const l=this.getCompressedNode(r);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(r){if(r===null)return null;const l=this.nodes.get(r);if(!l)throw new m.TreeError(this.user,`Tree element not found: ${r}`);return l}}e.CompressedObjectTreeModel=i;const n=a=>a[a.length-1];e.DefaultElementMapper=n;class o{constructor(r,l){this.unwrapper=r,this.node=l}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(r=>new o(this.unwrapper,r))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function d(a,r){return{splice(l,u,f){r.splice(l,u,f.map(w=>a.map(w)))},updateElementHeight(l,u){r.updateElementHeight(l,u)}}}function c(a,r){return Object.assign(Object.assign({},r),{identityProvider:r.identityProvider&&{getId(l){return r.identityProvider.getId(a(l))}},sorter:r.sorter&&{compare(l,u){return r.sorter.compare(l.elements[0],u.elements[0])}},filter:r.filter&&{filter(l,u){return r.filter.filter(a(l),u)}}})}class s{constructor(r,l,u={}){this.rootRef=null,this.elementMapper=u.elementMapper||e.DefaultElementMapper;const f=w=>this.elementMapper(w.elements);this.nodeMapper=new m.WeakMapper(w=>new o(f,w)),this.model=new i(r,d(this.nodeMapper,l),c(f,u))}get onDidSplice(){return N.Event.map(this.model.onDidSplice,({insertedNodes:r,deletedNodes:l})=>({insertedNodes:r.map(u=>this.nodeMapper.map(u)),deletedNodes:l.map(u=>this.nodeMapper.map(u))}))}get onDidChangeCollapseState(){return N.Event.map(this.model.onDidChangeCollapseState,({node:r,deep:l})=>({node:this.nodeMapper.map(r),deep:l}))}get onDidChangeRenderNodeCount(){return N.Event.map(this.model.onDidChangeRenderNodeCount,r=>this.nodeMapper.map(r))}setChildren(r,l=I.Iterable.empty(),u={}){this.model.setChildren(r,l,u)}setCompressionEnabled(r){this.model.setCompressionEnabled(r)}has(r){return this.model.has(r)}getListIndex(r){return this.model.getListIndex(r)}getListRenderCount(r){return this.model.getListRenderCount(r)}getNode(r){return this.nodeMapper.map(this.model.getNode(r))}getNodeLocation(r){return r.element}getParentNodeLocation(r){return this.model.getParentNodeLocation(r)}getFirstElementChild(r){const l=this.model.getFirstElementChild(r);return l===null||typeof l=="undefined"?l:this.elementMapper(l.elements)}isCollapsible(r){return this.model.isCollapsible(r)}setCollapsible(r,l){return this.model.setCollapsible(r,l)}isCollapsed(r){return this.model.isCollapsed(r)}setCollapsed(r,l,u){return this.model.setCollapsed(r,l,u)}expandTo(r){return this.model.expandTo(r)}rerender(r){return this.model.rerender(r)}refilter(){return this.model.refilter()}getCompressedTreeNode(r=null){return this.model.getNode(r)}}e.CompressibleObjectTreeModel=s}),define(ee[48],te([0,1,8]),function(K,e,y){"use strict";var m,N;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class I{constructor(){this._value="",this._pos=0}reset(c){return this._value=c,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(c){const s=c.charCodeAt(0),a=this._value.charCodeAt(this._pos);return s-a}value(){return this._value[this._pos]}}e.StringIterator=I;class S{constructor(c=!0){this._caseSensitive=c}reset(c){return this._value=c,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let c=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(c)this._from++;else break;else c=!1;return this}cmp(c){return this._caseSensitive?(0,y.compareSubstring)(c,this._value,0,c.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(c,this._value,0,c.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=S;class b{constructor(c=!0,s=!0){this._splitOnBackslash=c,this._caseSensitive=s}reset(c){this._from=0,this._to=0,this._value=c,this._valueLen=c.length;for(let s=c.length-1;s>=0;s--,this._valueLen--){const a=this._value.charCodeAt(s);if(!(a===47||this._splitOnBackslash&&a===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let c=!0;for(;this._to<this._valueLen;this._to++){const s=this._value.charCodeAt(this._to);if(s===47||this._splitOnBackslash&&s===92)if(c)this._from++;else break;else c=!1}return this}cmp(c){return this._caseSensitive?(0,y.compareSubstring)(c,this._value,0,c.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(c,this._value,0,c.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=b;class C{constructor(c){this._ignorePathCasing=c,this._states=[],this._stateIdx=0}reset(c){return this._value=c,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new b(!1,!this._ignorePathCasing(c)),this._pathIterator.reset(c.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(c){if(this._states[this._stateIdx]===1)return(0,y.compareIgnoreCase)(c,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,y.compareIgnoreCase)(c,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(c);if(this._states[this._stateIdx]===4)return(0,y.compare)(c,this._value.query);if(this._states[this._stateIdx]===5)return(0,y.compare)(c,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=C;class h{constructor(){this.height=1}rotateLeft(){const c=this.right;return this.right=c.left,c.left=this,this.updateHeight(),c.updateHeight(),c}rotateRight(){const c=this.left;return this.left=c.right,c.right=this,this.updateHeight(),c.updateHeight(),c}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var c,s;return(s=(c=this.left)===null||c===void 0?void 0:c.height)!==null&&s!==void 0?s:0}get heightRight(){var c,s;return(s=(c=this.right)===null||c===void 0?void 0:c.height)!==null&&s!==void 0?s:0}}class g{constructor(c){this._iter=c}static forUris(c=()=>!1){return new g(new C(c))}static forStrings(){return new g(new I)}static forConfigKeys(){return new g(new S)}clear(){this._root=void 0}set(c,s){const a=this._iter.reset(c);let r;this._root||(this._root=new h,this._root.segment=a.value());const l=[];for(r=this._root;;){const f=a.cmp(r.segment);if(f>0)r.left||(r.left=new h,r.left.segment=a.value()),l.push([-1,r]),r=r.left;else if(f<0)r.right||(r.right=new h,r.right.segment=a.value()),l.push([1,r]),r=r.right;else if(a.hasNext())a.next(),r.mid||(r.mid=new h,r.mid.segment=a.value()),l.push([0,r]),r=r.mid;else break}const u=r.value;r.value=s,r.key=c;for(let f=l.length-1;f>=0;f--){const w=l[f][1];w.updateHeight();const v=w.balanceFactor();if(v<-1||v>1){const p=l[f][0],_=l[f+1][0];if(p===1&&_===1)l[f][1]=w.rotateLeft();else if(p===-1&&_===-1)l[f][1]=w.rotateRight();else if(p===1&&_===-1)w.right=l[f+1][1]=l[f+1][1].rotateRight(),l[f][1]=w.rotateLeft();else if(p===-1&&_===1)w.left=l[f+1][1]=l[f+1][1].rotateLeft(),l[f][1]=w.rotateRight();else throw new Error;if(f>0)switch(l[f-1][0]){case-1:l[f-1][1].left=l[f][1];break;case 1:l[f-1][1].right=l[f][1];break;case 0:l[f-1][1].mid=l[f][1];break}else this._root=l[0][1]}}return u}get(c){var s;return(s=this._getNode(c))===null||s===void 0?void 0:s.value}_getNode(c){const s=this._iter.reset(c);let a=this._root;for(;a;){const r=s.cmp(a.segment);if(r>0)a=a.left;else if(r<0)a=a.right;else if(s.hasNext())s.next(),a=a.mid;else break}return a}has(c){const s=this._getNode(c);return!((s==null?void 0:s.value)===void 0&&(s==null?void 0:s.mid)===void 0)}delete(c){return this._delete(c,!1)}deleteSuperstr(c){return this._delete(c,!0)}_delete(c,s){var a;const r=this._iter.reset(c),l=[];let u=this._root;for(;u;){const f=r.cmp(u.segment);if(f>0)l.push([-1,u]),u=u.left;else if(f<0)l.push([1,u]),u=u.right;else if(r.hasNext())r.next(),l.push([0,u]),u=u.mid;else break}if(!!u){if(s?(u.left=void 0,u.mid=void 0,u.right=void 0,u.height=1):(u.key=void 0,u.value=void 0),!u.mid&&!u.value)if(u.left&&u.right){const f=this._min(u.right),{key:w,value:v,segment:p}=f;this._delete(f.key,!1),u.key=w,u.value=v,u.segment=p}else{const f=(a=u.left)!==null&&a!==void 0?a:u.right;if(l.length>0){const[w,v]=l[l.length-1];switch(w){case-1:v.left=f;break;case 0:v.mid=f;break;case 1:v.right=f;break}}else this._root=f}for(let f=l.length-1;f>=0;f--){const w=l[f][1];w.updateHeight();const v=w.balanceFactor();if(v>1?(w.right.balanceFactor()>=0||(w.right=w.right.rotateRight()),l[f][1]=w.rotateLeft()):v<-1&&(w.left.balanceFactor()<=0||(w.left=w.left.rotateLeft()),l[f][1]=w.rotateRight()),f>0)switch(l[f-1][0]){case-1:l[f-1][1].left=l[f][1];break;case 1:l[f-1][1].right=l[f][1];break;case 0:l[f-1][1].mid=l[f][1];break}else this._root=l[0][1]}}}_min(c){for(;c.left;)c=c.left;return c}findSubstr(c){const s=this._iter.reset(c);let a=this._root,r;for(;a;){const l=s.cmp(a.segment);if(l>0)a=a.left;else if(l<0)a=a.right;else if(s.hasNext())s.next(),r=a.value||r,a=a.mid;else break}return a&&a.value||r}findSuperstr(c){const s=this._iter.reset(c);let a=this._root;for(;a;){const r=s.cmp(a.segment);if(r>0)a=a.left;else if(r<0)a=a.right;else if(s.hasNext())s.next(),a=a.mid;else return a.mid?this._entries(a.mid):void 0}}forEach(c){for(const[s,a]of this)c(a,s)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(c){!c||(c.left&&(yield*this._entries(c.left)),c.value&&(yield[c.key,c.value]),c.mid&&(yield*this._entries(c.mid)),c.right&&(yield*this._entries(c.right)))}}e.TernarySearchTree=g;class t{constructor(c,s){this.uri=c,this.value=s}}class i{constructor(c,s){this[m]="ResourceMap",c instanceof i?(this.map=new Map(c.map),this.toKey=s??i.defaultToKey):(this.map=new Map,this.toKey=c??i.defaultToKey)}set(c,s){return this.map.set(this.toKey(c),new t(c,s)),this}get(c){var s;return(s=this.map.get(this.toKey(c)))===null||s===void 0?void 0:s.value}has(c){return this.map.has(this.toKey(c))}get size(){return this.map.size}clear(){this.map.clear()}delete(c){return this.map.delete(this.toKey(c))}forEach(c,s){typeof s!="undefined"&&(c=c.bind(s));for(let[a,r]of this.map)c(r.value,r.uri,this)}*values(){for(let c of this.map.values())yield c.value}*keys(){for(let c of this.map.values())yield c.uri}*entries(){for(let c of this.map.values())yield[c.uri,c.value]}*[(m=Symbol.toStringTag,Symbol.iterator)](){for(let[,c]of this.map)yield[c.uri,c.value]}}e.ResourceMap=i,i.defaultToKey=d=>d.toString();class n{constructor(){this[N]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var c;return(c=this._head)===null||c===void 0?void 0:c.value}get last(){var c;return(c=this._tail)===null||c===void 0?void 0:c.value}has(c){return this._map.has(c)}get(c,s=0){const a=this._map.get(c);if(!!a)return s!==0&&this.touch(a,s),a.value}set(c,s,a=0){let r=this._map.get(c);if(r)r.value=s,a!==0&&this.touch(r,a);else{switch(r={key:c,value:s,next:void 0,previous:void 0},a){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(c,r),this._size++}return this}delete(c){return!!this.remove(c)}remove(c){const s=this._map.get(c);if(!!s)return this._map.delete(c),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const c=this._head;return this._map.delete(c.key),this.removeItem(c),this._size--,c.value}forEach(c,s){const a=this._state;let r=this._head;for(;r;){if(s?c.bind(s)(r.value,r.key,this):c(r.value,r.key,this),this._state!==a)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const c=this,s=this._state;let a=this._head;const r={[Symbol.iterator](){return r},next(){if(c._state!==s)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:a.key,done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return r}values(){const c=this,s=this._state;let a=this._head;const r={[Symbol.iterator](){return r},next(){if(c._state!==s)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:a.value,done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return r}entries(){const c=this,s=this._state;let a=this._head;const r={[Symbol.iterator](){return r},next(){if(c._state!==s)throw new Error("LinkedMap got modified during iteration.");if(a){const l={value:[a.key,a.value],done:!1};return a=a.next,l}else return{value:void 0,done:!0}}};return r}[(N=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(c){if(c>=this.size)return;if(c===0){this.clear();return}let s=this._head,a=this.size;for(;s&&a>c;)this._map.delete(s.key),s=s.next,a--;this._head=s,this._size=a,s&&(s.previous=void 0),this._state++}addItemFirst(c){if(!this._head&&!this._tail)this._tail=c;else if(this._head)c.next=this._head,this._head.previous=c;else throw new Error("Invalid list");this._head=c,this._state++}addItemLast(c){if(!this._head&&!this._tail)this._head=c;else if(this._tail)c.previous=this._tail,this._tail.next=c;else throw new Error("Invalid list");this._tail=c,this._state++}removeItem(c){if(c===this._head&&c===this._tail)this._head=void 0,this._tail=void 0;else if(c===this._head){if(!c.next)throw new Error("Invalid list");c.next.previous=void 0,this._head=c.next}else if(c===this._tail){if(!c.previous)throw new Error("Invalid list");c.previous.next=void 0,this._tail=c.previous}else{const s=c.next,a=c.previous;if(!s||!a)throw new Error("Invalid list");s.previous=a,a.next=s}c.next=void 0,c.previous=void 0,this._state++}touch(c,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==1&&s!==2)){if(s===1){if(c===this._head)return;const a=c.next,r=c.previous;c===this._tail?(r.next=void 0,this._tail=r):(a.previous=r,r.next=a),c.previous=void 0,c.next=this._head,this._head.previous=c,this._head=c,this._state++}else if(s===2){if(c===this._tail)return;const a=c.next,r=c.previous;c===this._head?(a.previous=void 0,this._head=a):(a.previous=r,r.next=a),c.next=void 0,c.previous=this._tail,this._tail.next=c,this._tail=c,this._state++}}}toJSON(){const c=[];return this.forEach((s,a)=>{c.push([a,s])}),c}fromJSON(c){this.clear();for(const[s,a]of c)this.set(s,a)}}e.LinkedMap=n;class o extends n{constructor(c,s=1){super();this._limit=c,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(c){this._limit=c,this.checkTrim()}get(c,s=2){return super.get(c,s)}peek(c){return super.get(c,0)}set(c,s){return super.set(c,s,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=o}),define(ee[72],te([0,1,48,8]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function N(...z){return function($,ie){for(let ce=0,oe=z.length;ce<oe;ce++){const he=z[ce]($,ie);if(he)return he}return null}}e.or=N,e.matchesStrictPrefix=I.bind(void 0,!1),e.matchesPrefix=I.bind(void 0,!0);function I(z,$,ie){if(!ie||ie.length<$.length)return null;let ce;return z?ce=m.startsWithIgnoreCase(ie,$):ce=ie.indexOf($)===0,ce?$.length>0?[{start:0,end:$.length}]:[]:null}function S(z,$){const ie=$.toLowerCase().indexOf(z.toLowerCase());return ie===-1?null:[{start:ie,end:ie+z.length}]}e.matchesContiguousSubString=S;function b(z,$){return C(z.toLowerCase(),$.toLowerCase(),0,0)}e.matchesSubString=b;function C(z,$,ie,ce){if(ie===z.length)return[];if(ce===$.length)return null;if(z[ie]===$[ce]){let oe=null;return(oe=C(z,$,ie+1,ce+1))?s({start:ce,end:ce+1},oe):null}return C(z,$,ie,ce+1)}function h(z){return 97<=z&&z<=122}function g(z){return 65<=z&&z<=90}e.isUpper=g;function t(z){return 48<=z&&z<=57}function i(z){return z===32||z===9||z===10||z===13}const n=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(z=>n.add(z.charCodeAt(0)));function o(z){return i(z)||n.has(z)}function d(z,$){return z===$||o(z)&&o($)}function c(z){return h(z)||g(z)||t(z)}function s(z,$){return $.length===0?$=[z]:z.end===$[0].start?$[0].start=z.start:$.unshift(z),$}function a(z,$){for(let ie=$;ie<z.length;ie++){const ce=z.charCodeAt(ie);if(g(ce)||t(ce)||ie>0&&!c(z.charCodeAt(ie-1)))return ie}return z.length}function r(z,$,ie,ce){if(ie===z.length)return[];if(ce===$.length)return null;if(z[ie]!==$[ce].toLowerCase())return null;{let oe=null,he=ce+1;for(oe=r(z,$,ie+1,ce+1);!oe&&(he=a($,he))<$.length;)oe=r(z,$,ie+1,he),he++;return oe===null?null:s({start:ce,end:ce+1},oe)}}function l(z){let $=0,ie=0,ce=0,oe=0,he=0;for(let ue=0;ue<z.length;ue++)he=z.charCodeAt(ue),g(he)&&$++,h(he)&&ie++,c(he)&&ce++,t(he)&&oe++;const ve=$/z.length,Se=ie/z.length,le=ce/z.length,ge=oe/z.length;return{upperPercent:ve,lowerPercent:Se,alphaPercent:le,numericPercent:ge}}function u(z){const{upperPercent:$,lowerPercent:ie}=z;return ie===0&&$>.6}function f(z){const{upperPercent:$,lowerPercent:ie,alphaPercent:ce,numericPercent:oe}=z;return ie>.2&&$<.8&&ce>.6&&oe<.2}function w(z){let $=0,ie=0,ce=0,oe=0;for(let he=0;he<z.length;he++)ce=z.charCodeAt(he),g(ce)&&$++,h(ce)&&ie++,i(ce)&&oe++;return($===0||ie===0)&&oe===0?z.length<=30:$<=5}function v(z,$){if(!$||($=$.trim(),$.length===0)||!w(z)||$.length>60)return null;const ie=l($);if(!f(ie)){if(!u(ie))return null;$=$.toLowerCase()}let ce=null,oe=0;for(z=z.toLowerCase();oe<$.length&&(ce=r(z,$,0,oe))===null;)oe=a($,oe+1);return ce}e.matchesCamelCase=v;function p(z,$,ie=!1){if(!$||$.length===0)return null;let ce=null,oe=0;for(z=z.toLowerCase(),$=$.toLowerCase();oe<$.length&&(ce=_(z,$,0,oe,ie))===null;)oe=L($,oe+1);return ce}e.matchesWords=p;function _(z,$,ie,ce,oe){if(ie===z.length)return[];if(ce===$.length)return null;if(d(z.charCodeAt(ie),$.charCodeAt(ce))){let he=null,ve=ce+1;if(he=_(z,$,ie+1,ce+1,oe),!oe)for(;!he&&(ve=L($,ve))<$.length;)he=_(z,$,ie+1,ve,oe),ve++;return he===null?null:s({start:ce,end:ce+1},he)}else return null}function L(z,$){for(let ie=$;ie<z.length;ie++)if(o(z.charCodeAt(ie))||ie>0&&o(z.charCodeAt(ie-1)))return ie;return z.length}const E=N(e.matchesPrefix,v,S),M=N(e.matchesPrefix,v,b),k=new y.LRUCache(1e4);function A(z,$,ie=!1){if(typeof z!="string"||typeof $!="string")return null;let ce=k.get(z);ce||(ce=new RegExp(m.convertSimple2RegExpPattern(z),"i"),k.set(z,ce));const oe=ce.exec($);return oe?[{start:oe.index,end:oe.index+oe[0].length}]:ie?M(z,$):E(z,$)}e.matchesFuzzy=A;function F(z,$,ie,ce,oe,he){const ve=Math.min(13,z.length);for(;ie<ve;ie++){const Se=Y(z,$,ie,ce,oe,he,!1);if(Se)return Se}return[0,he]}e.anyScore=F;function B(z){if(typeof z=="undefined")return[];const $=[],ie=z[1];for(let ce=z.length-1;ce>1;ce--){const oe=z[ce]+ie,he=$[$.length-1];he&&he.end===oe?he.end=oe+1:$.push({start:oe,end:oe+1})}return $}e.createMatches=B;const T=128;function R(){const z=[],$=[];for(let ie=0;ie<=T;ie++)$[ie]=0;for(let ie=0;ie<=T;ie++)z.push($.slice(0));return z}function O(z){const $=[];for(let ie=0;ie<=z;ie++)$[ie]=0;return $}const P=O(2*T),D=O(2*T),x=R(),H=R(),j=R(),Q=!1;function G(z,$,ie,ce,oe){function he(Se,le,ge=" "){for(;Se.length<le;)Se=ge+Se;return Se}let ve=` |   |${ce.split("").map(Se=>he(Se,3)).join("|")}
`;for(let Se=0;Se<=ie;Se++)Se===0?ve+=" |":ve+=`${$[Se-1]}|`,ve+=z[Se].slice(0,oe+1).map(le=>he(le.toString(),3)).join("|")+`
`;return ve}function se(z,$,ie,ce){z=z.substr($),ie=ie.substr(ce),console.log(G(H,z,z.length,ie,ie.length)),console.log(G(j,z,z.length,ie,ie.length)),console.log(G(x,z,z.length,ie,ie.length))}function ne(z,$){if($<0||$>=z.length)return!1;const ie=z.codePointAt($);switch(ie){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!m.isEmojiImprecise(ie)}}function Z(z,$){if($<0||$>=z.length)return!1;switch(z.charCodeAt($)){case 32:case 9:return!0;default:return!1}}function U(z,$,ie){return $[z]!==ie[z]}function W(z,$,ie,ce,oe,he,ve=!1){for(;$<ie&&oe<he;)z[$]===ce[oe]&&(ve&&(P[$]=oe),$+=1),oe+=1;return $===ie}e.isPatternInWord=W;var V;(function(z){z.Default=[-100,0];function $(ie){return!ie||ie.length===2&&ie[0]===-100&&ie[1]===0}z.isDefault=$})(V=e.FuzzyScore||(e.FuzzyScore={}));function Y(z,$,ie,ce,oe,he,ve){const Se=z.length>T?T:z.length,le=ce.length>T?T:ce.length;if(ie>=Se||he>=le||Se-ie>le-he||!W($,ie,Se,oe,he,le,!0))return;X(Se,le,ie,he,$,oe);let ge=1,ue=1,be=ie,re=he;const fe=[!1];for(ge=1,be=ie;be<Se;ge++,be++){const Ve=P[be],Ge=D[be],Je=be+1<Se?D[be+1]:le;for(ue=Ve-he+1,re=Ve;re<Je;ue++,re++){let Ze=Number.MIN_SAFE_INTEGER,et=!1;re<=Ge&&(Ze=ae(z,$,be,ie,ce,oe,re,le,he,x[ge-1][ue-1]===0,fe));let Ee=0;Ze!==Number.MAX_SAFE_INTEGER&&(et=!0,Ee=Ze+H[ge-1][ue-1]);const Ie=re>Ve,Re=Ie?H[ge][ue-1]+(x[ge][ue-1]>0?-5:0):0,Ue=re>Ve+1&&x[ge][ue-1]>0,Ne=Ue?H[ge][ue-2]+(x[ge][ue-2]>0?-5:0):0;if(Ue&&(!Ie||Ne>=Re)&&(!et||Ne>=Ee))H[ge][ue]=Ne,j[ge][ue]=3,x[ge][ue]=0;else if(Ie&&(!et||Re>=Ee))H[ge][ue]=Re,j[ge][ue]=2,x[ge][ue]=0;else if(et)H[ge][ue]=Ee,j[ge][ue]=1,x[ge][ue]=x[ge-1][ue-1]+1;else throw new Error("not possible")}}if(Q&&se(z,ie,ce,he),!fe[0]&&!ve)return;ge--,ue--;const ye=[H[ge][ue],he];let Me=0,Oe=0;for(;ge>=1;){let Ve=ue;do{const Ge=j[ge][Ve];if(Ge===3)Ve=Ve-2;else if(Ge===2)Ve=Ve-1;else break}while(Ve>=1);Me>1&&$[ie+ge-1]===oe[he+ue-1]&&!U(Ve+he-1,ce,oe)&&Me+1>x[ge][Ve]&&(Ve=ue),Ve===ue?Me++:Me=1,Oe||(Oe=Ve),ge--,ue=Ve-1,ye.push(ue)}le===Se&&(ye[0]+=2);const He=Oe-Se;return ye[0]-=He,ye}e.fuzzyScore=Y;function X(z,$,ie,ce,oe,he){let ve=z-1,Se=$-1;for(;ve>=ie&&Se>=ce;)oe[ve]===he[Se]&&(D[ve]=Se,ve--),Se--}function ae(z,$,ie,ce,oe,he,ve,Se,le,ge,ue){if($[ie]!==he[ve])return Number.MIN_SAFE_INTEGER;let be=1,re=!1;return ve===ie-ce?be=z[ie]===oe[ve]?7:5:U(ve,oe,he)&&(ve===0||!U(ve-1,oe,he))?(be=z[ie]===oe[ve]?7:5,re=!0):ne(he,ve)&&(ve===0||!ne(he,ve-1))?be=5:(ne(he,ve-1)||Z(he,ve-1))&&(be=5,re=!0),be>1&&ie===ce&&(ue[0]=!0),re||(re=U(ve,oe,he)||ne(he,ve-1)||Z(he,ve-1)),ie===ce?ve>le&&(be-=re?3:5):ge?be+=re?2:0:be+=re?0:1,ve+1===Se&&(be-=re?3:5),be}function J(z,$,ie,ce,oe,he,ve){return de(z,$,ie,ce,oe,he,!0,ve)}e.fuzzyScoreGracefulAggressive=J;function de(z,$,ie,ce,oe,he,ve,Se){let le=Y(z,$,ie,ce,oe,he,Se);if(le&&!ve)return le;if(z.length>=3){const ge=Math.min(7,z.length-1);for(let ue=ie+1;ue<ge;ue++){const be=q(z,ue);if(be){const re=Y(be,be.toLowerCase(),ie,ce,oe,he,Se);re&&(re[0]-=3,(!le||re[0]>le[0])&&(le=re))}}}return le}function q(z,$){if($+1>=z.length)return;const ie=z[$],ce=z[$+1];if(ie!==ce)return z.slice(0,$)+ce+ie+z.slice($+2)}}),define(ee[315],te([0,1,72,81,17,8]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function b(a,r,l=0,u=0){const f=r;return f.values&&f.values.length>1?C(a,f.values,l,u):h(a,r,l,u)}e.scoreFuzzy2=b;function C(a,r,l,u){let f=0;const w=[];for(const v of r){const[p,_]=h(a,v,l,u);if(typeof p!="number")return S;f+=p,w.push(..._)}return[f,t(w)]}function h(a,r,l,u){const f=(0,y.fuzzyScore)(r.original,r.originalLowercase,l,a,a.toLowerCase(),u,!0);return f?[f[0],(0,y.createMatches)(f)]:S}const g=Object.freeze({score:0});function t(a){const r=a.sort((f,w)=>f.start-w.start),l=[];let u;for(const f of r)!u||!i(u,f)?(u=f,l.push(f)):(u.start=Math.min(u.start,f.start),u.end=Math.max(u.end,f.end));return l}function i(a,r){return!(a.end<r.start||r.end<a.start)}function n(a){return a.startsWith('"')&&a.endsWith('"')}const o=" ";function d(a){typeof a!="string"&&(a="");const r=a.toLowerCase(),{pathNormalized:l,normalized:u,normalizedLowercase:f}=c(a),w=l.indexOf(m.sep)>=0,v=n(a);let p;const _=a.split(o);if(_.length>1)for(const L of _){const E=n(L),{pathNormalized:M,normalized:k,normalizedLowercase:A}=c(L);k&&(p||(p=[]),p.push({original:L,originalLowercase:L.toLowerCase(),pathNormalized:M,normalized:k,normalizedLowercase:A,expectContiguousMatch:E}))}return{original:a,originalLowercase:r,pathNormalized:l,normalized:u,normalizedLowercase:f,values:p,containsPathSeparator:w,expectContiguousMatch:v}}e.prepareQuery=d;function c(a){let r;N.isWindows?r=a.replace(/\//g,m.sep):r=a.replace(/\\/g,m.sep);const l=(0,I.stripWildcards)(r).replace(/\s|"/g,"");return{pathNormalized:r,normalized:l,normalizedLowercase:l.toLowerCase()}}function s(a){return Array.isArray(a)?d(a.map(r=>r.original).join(o)):d(a.original)}e.pieceToQuery=s}),define(ee[213],te([0,1,10,164,48,81,17,8]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const C="[/\\\\]",h="[^/\\\\]",g=/\//g;function t(O){switch(O){case 0:return"";case 1:return`${h}*?`;default:return`(?:${C}|${h}+${C}|${C}${h}+)*?`}}function i(O,P){if(!O)return[];const D=[];let x=!1,H=!1,j="";for(const Q of O){switch(Q){case P:if(!x&&!H){D.push(j),j="";continue}break;case"{":x=!0;break;case"}":x=!1;break;case"[":H=!0;break;case"]":H=!1;break}j+=Q}return j&&D.push(j),D}e.splitGlobAware=i;function n(O){if(!O)return"";let P="";const D=i(O,e.GLOB_SPLIT);if(D.every(x=>x===e.GLOBSTAR))P=".*";else{let x=!1;D.forEach((H,j)=>{if(H===e.GLOBSTAR){x||(P+=t(2),x=!0);return}let Q=!1,G="",se=!1,ne="";for(const Z of H){if(Z!=="}"&&Q){G+=Z;continue}if(se&&(Z!=="]"||!ne)){let U;Z==="-"?U=Z:(Z==="^"||Z==="!")&&!ne?U="^":Z===e.GLOB_SPLIT?U="":U=(0,b.escapeRegExpCharacters)(Z),ne+=U;continue}switch(Z){case"{":Q=!0;continue;case"[":se=!0;continue;case"}":{P+=`(?:${i(G,",").map(V=>n(V)).join("|")})`,Q=!1,G="";break}case"]":P+="["+ne+"]",se=!1,ne="";break;case"?":P+=h;continue;case"*":P+=t(1);continue;default:P+=(0,b.escapeRegExpCharacters)(Z)}}j<D.length-1&&(D[j+1]!==e.GLOBSTAR||j+2<D.length)&&(P+=C),x=!1})}return P}const o=/^\*\*\/\*\.[\w\.-]+$/,d=/^\*\*\/([\w\.-]+)\/?$/,c=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,s=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,a=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,l=new N.LRUCache(1e4),u=function(){return!1},f=function(){return null};function w(O,P){if(!O)return f;let D;typeof O!="string"?D=O.pattern:D=O,D=D.trim();const x=`${D}_${!!P.trimForExclusions}`;let H=l.get(x);if(H)return v(H,O);let j;if(o.test(D)){const Q=D.substr(4);H=function(G,se){return typeof G=="string"&&G.endsWith(Q)?D:null}}else(j=d.exec(p(D,P)))?H=_(j[1],D):(P.trimForExclusions?s:c).test(D)?H=L(D,P):(j=a.exec(p(D,P)))?H=E(j[1].substr(1),D,!0):(j=r.exec(p(D,P)))?H=E(j[1],D,!1):H=M(D);return l.set(x,H),v(H,O)}function v(O,P){return typeof P=="string"?O:function(D,x){return(0,m.isEqualOrParent)(D,P.base,!S.isLinux)?O(D.substr(P.base.length+1),x):null}}function p(O,P){return P.trimForExclusions&&O.endsWith("/**")?O.substr(0,O.length-2):O}function _(O,P){const D=`/${O}`,x=`\\${O}`,H=function(Q,G){return typeof Q!="string"?null:G?G===O?P:null:Q===O||Q.endsWith(D)||Q.endsWith(x)?P:null},j=[O];return H.basenames=j,H.patterns=[P],H.allBasenames=j,H}function L(O,P){const D=R(O.slice(1,-1).split(",").map(G=>w(G,P)).filter(G=>G!==f),O),x=D.length;if(!x)return f;if(x===1)return D[0];const H=function(G,se){for(let ne=0,Z=D.length;ne<Z;ne++)if(D[ne](G,se))return O;return null},j=D.find(G=>!!G.allBasenames);j&&(H.allBasenames=j.allBasenames);const Q=D.reduce((G,se)=>se.allPaths?G.concat(se.allPaths):G,[]);return Q.length&&(H.allPaths=Q),H}function E(O,P,D){const x=I.sep===I.posix.sep,H=x?O:O.replace(g,I.sep),j=I.sep+H,Q=I.posix.sep+O,G=D?function(se,ne){return typeof se=="string"&&(se===H||se.endsWith(j)||!x&&(se===O||se.endsWith(Q)))?P:null}:function(se,ne){return typeof se=="string"&&(se===H||!x&&se===O)?P:null};return G.allPaths=[(D?"*/":"./")+O],G}function M(O){try{const P=new RegExp(`^${n(O)}$`);return function(D){return P.lastIndex=0,typeof D=="string"&&P.test(D)?O:null}}catch{return f}}function k(O,P,D){return!O||typeof P!="string"?!1:A(O)(P,void 0,D)}e.match=k;function A(O,P={}){if(!O)return u;if(typeof O=="string"||F(O)){const D=w(O,P);if(D===f)return u;const x=function(H,j){return!!D(H,j)};return D.allBasenames&&(x.allBasenames=D.allBasenames),D.allPaths&&(x.allPaths=D.allPaths),x}return B(O,P)}e.parse=A;function F(O){const P=O;return P?typeof P.base=="string"&&typeof P.pattern=="string":!1}e.isRelativePattern=F;function B(O,P){const D=R(Object.getOwnPropertyNames(O).map(G=>T(G,O[G],P)).filter(G=>G!==f)),x=D.length;if(!x)return f;if(!D.some(G=>!!G.requiresSiblings)){if(x===1)return D[0];const G=function(Z,U){for(let W=0,V=D.length;W<V;W++){const Y=D[W](Z,U);if(Y)return Y}return null},se=D.find(Z=>!!Z.allBasenames);se&&(G.allBasenames=se.allBasenames);const ne=D.reduce((Z,U)=>U.allPaths?Z.concat(U.allPaths):Z,[]);return ne.length&&(G.allPaths=ne),G}const H=function(G,se,ne){let Z;for(let U=0,W=D.length;U<W;U++){const V=D[U];V.requiresSiblings&&ne&&(se||(se=(0,I.basename)(G)),Z||(Z=se.substr(0,se.length-(0,I.extname)(G).length)));const Y=V(G,se,Z,ne);if(Y)return Y}return null},j=D.find(G=>!!G.allBasenames);j&&(H.allBasenames=j.allBasenames);const Q=D.reduce((G,se)=>se.allPaths?G.concat(se.allPaths):G,[]);return Q.length&&(H.allPaths=Q),H}function T(O,P,D){if(P===!1)return f;const x=w(O,D);if(x===f)return f;if(typeof P=="boolean")return x;if(P){const H=P.when;if(typeof H=="string"){const j=(Q,G,se,ne)=>{if(!ne||!x(Q,G))return null;const Z=H.replace("$(basename)",se),U=ne(Z);return(0,y.isThenable)(U)?U.then(W=>W?O:null):U?O:null};return j.requiresSiblings=!0,j}}return x}function R(O,P){const D=O.filter(G=>!!G.basenames);if(D.length<2)return O;const x=D.reduce((G,se)=>{const ne=se.basenames;return ne?G.concat(ne):G},[]);let H;if(P){H=[];for(let G=0,se=x.length;G<se;G++)H.push(P)}else H=D.reduce((G,se)=>{const ne=se.patterns;return ne?G.concat(ne):G},[]);const j=function(G,se){if(typeof G!="string")return null;if(!se){let Z;for(Z=G.length;Z>0;Z--){const U=G.charCodeAt(Z-1);if(U===47||U===92)break}se=G.substr(Z)}const ne=x.indexOf(se);return ne!==-1?H[ne]:null};j.basenames=x,j.patterns=H,j.allBasenames=x;const Q=O.filter(G=>!G.basenames);return Q.push(j),Q}}),define(ee[94],te([0,1,27,72,8]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const I=new RegExp(`\\$\\(${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?\\)`,"g"),S=new RegExp(y.CSSIcon.iconNameCharacter),b=new RegExp(`(\\\\)?${I.source}`,"g");function C(c){return c.replace(b,(s,a)=>a?s:`\\${s}`)}e.escapeIcons=C;const h=new RegExp(`\\\\${I.source}`,"g");function g(c){return c.replace(h,s=>`\\${s}`)}e.markdownEscapeEscapedIcons=g;const t=new RegExp(`(\\s)?(\\\\)?${I.source}(\\s)?`,"g");function i(c){return c.indexOf(e.iconStartMarker)===-1?c:c.replace(t,(s,a,r,l)=>r?s:a||l||"")}e.stripIcons=i;function n(c){const s=c.indexOf(e.iconStartMarker);return s===-1?{text:c}:o(c,s)}e.parseLabelWithIcons=n;function o(c,s){const a=[];let r="";function l(E){if(E){r+=E;for(const M of E)a.push(w)}}let u=-1,f="",w=0,v,p,_=s;const L=c.length;for(l(c.substr(0,s));_<L;)v=c[_],p=c[_+1],v===e.iconStartMarker[0]&&p===e.iconStartMarker[1]?(u=_,l(f),f=e.iconStartMarker,_++):v===")"&&u!==-1?(w+=_-u+1,u=-1,f=""):u!==-1?S.test(v)?f+=v:(l(f),u=-1,f=""):l(v),_++;return l(f),{text:r,iconOffsets:a}}function d(c,s,a=!1){const{text:r,iconOffsets:l}=s;if(!l||l.length===0)return(0,m.matchesFuzzy)(c,r,a);const u=(0,N.ltrim)(r," "),f=r.length-u.length,w=(0,m.matchesFuzzy)(c,u,a);if(w)for(const v of w){const p=l[v.start+f]+f;v.start+=p,v.end+=p}return w}e.matchesFuzzyIconAware=d}),define(ee[65],te([0,1,14,94]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class N{constructor(t="",i=!1){var n,o,d;if(this.value=t,typeof this.value!="string")throw(0,y.illegalArgument)("value");typeof i=="boolean"?(this.isTrusted=i,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(n=i.isTrusted)!==null&&n!==void 0?n:void 0,this.supportThemeIcons=(o=i.supportThemeIcons)!==null&&o!==void 0?o:!1,this.supportHtml=(d=i.supportHtml)!==null&&d!==void 0?d:!1)}appendText(t,i=0){return this.value+=b(this.supportThemeIcons?(0,m.escapeIcons)(t):t).replace(/([ \t]+)/g,(n,o)=>"&nbsp;".repeat(o.length)).replace(/\>/gm,"\\>").replace(/\n/g,i===1?`\\
`:`

`),this}appendMarkdown(t){return this.value+=t,this}appendCodeblock(t,i){return this.value+="\n```",this.value+=t,this.value+=`
`,this.value+=i,this.value+="\n```\n",this}}e.MarkdownString=N;function I(g){return S(g)?!g.value:Array.isArray(g)?g.every(I):!0}e.isEmptyMarkdownString=I;function S(g){return g instanceof N?!0:g&&typeof g=="object"?typeof g.value=="string"&&(typeof g.isTrusted=="boolean"||g.isTrusted===void 0)&&(typeof g.supportThemeIcons=="boolean"||g.supportThemeIcons===void 0):!1}e.isMarkdownString=S;function b(g){return g.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=b;function C(g){return g&&g.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=C;function h(g){const t=[],i=g.split("|").map(o=>o.trim());g=i[0];const n=i[1];if(n){const o=/height=(\d+)/.exec(n),d=/width=(\d+)/.exec(n),c=o?o[1]:"",s=d?d[1]:"",a=isFinite(parseInt(s)),r=isFinite(parseInt(c));a&&t.push(`width="${s}"`),r&&t.push(`height="${c}"`)}return{href:g,dimensions:t}}e.parseHrefAndDimensions=h}),define(ee[316],te([0,1,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function m(S,b){if(S&&S[0]!==""){const C=N(S,b,"-"),h=N(S,b,"_");return C&&!h?I(S,b,"-"):!C&&h?I(S,b,"_"):S[0].toUpperCase()===S[0]?b.toUpperCase():S[0].toLowerCase()===S[0]?b.toLowerCase():y.containsUppercaseCharacter(S[0][0])&&b.length>0?b[0].toUpperCase()+b.substr(1):S[0][0].toUpperCase()!==S[0][0]&&b.length>0?b[0].toLowerCase()+b.substr(1):b}else return b}e.buildReplaceStringWithCasePreserved=m;function N(S,b,C){return S[0].indexOf(C)!==-1&&b.indexOf(C)!==-1&&S[0].split(C).length===b.split(C).length}function I(S,b,C){const h=b.split(C),g=S[0].split(C);let t="";return h.forEach((i,n)=>{t+=m([g[n]],i)+C}),t.slice(0,-1)}}),define(ee[73],te([0,1,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m;(function(N){N[N.Ignore=0]="Ignore",N[N.Info=1]="Info",N[N.Warning=2]="Warning",N[N.Error=3]="Error"})(m||(m={})),function(N){const I="error",S="warning",b="warn",C="info",h="ignore";function g(i){return i?y.equalsIgnoreCase(I,i)?N.Error:y.equalsIgnoreCase(S,i)||y.equalsIgnoreCase(b,i)?N.Warning:y.equalsIgnoreCase(C,i)?N.Info:N.Ignore:N.Ignore}N.fromValue=g;function t(i){switch(i){case N.Error:return I;case N.Warning:return S;case N.Info:return C;default:return h}}N.toString=t}(m||(m={})),e.default=m}),define(ee[20],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function y(l){return Array.isArray(l)}e.isArray=y;function m(l){return typeof l=="string"}e.isString=m;function N(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)&&!(l instanceof RegExp)&&!(l instanceof Date)}e.isObject=N;function I(l){return typeof l=="number"&&!isNaN(l)}e.isNumber=I;function S(l){return l===!0||l===!1}e.isBoolean=S;function b(l){return typeof l=="undefined"}e.isUndefined=b;function C(l){return!h(l)}e.isDefined=C;function h(l){return b(l)||l===null}e.isUndefinedOrNull=h;function g(l,u){if(!l)throw new Error(u?`Unexpected type, expected '${u}'`:"Unexpected type")}e.assertType=g;function t(l){if(h(l))throw new Error("Assertion Failed: argument is undefined or null");return l}e.assertIsDefined=t;function i(l){return typeof l=="function"}e.isFunction=i;function n(l,u){const f=Math.min(l.length,u.length);for(let w=0;w<f;w++)o(l[w],u[w])}e.validateConstraints=n;function o(l,u){if(m(u)){if(typeof l!==u)throw new Error(`argument does not match constraint: typeof ${u}`)}else if(i(u)){try{if(l instanceof u)return}catch{}if(!h(l)&&l.constructor===u||u.length===1&&u.call(void 0,l)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=o;function d(l){let u=[],f=Object.getPrototypeOf(l);for(;Object.prototype!==f;)u=u.concat(Object.getOwnPropertyNames(f)),f=Object.getPrototypeOf(f);return u}e.getAllPropertyNames=d;function c(l){const u=[];for(const f of d(l))typeof l[f]=="function"&&u.push(f);return u}e.getAllMethodNames=c;function s(l,u){const f=v=>function(){const p=Array.prototype.slice.call(arguments,0);return u(v,p)};let w={};for(const v of l)w[v]=f(v);return w}e.createProxyObject=s;function a(l){return l===null?void 0:l}e.withNullAsUndefined=a;function r(l,u="Unreachable"){throw new Error(u)}e.assertNever=r}),define(ee[38],te([0,1,20]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function m(t){if(!t||typeof t!="object"||t instanceof RegExp)return t;const i=Array.isArray(t)?[]:{};return Object.keys(t).forEach(n=>{t[n]&&typeof t[n]=="object"?i[n]=m(t[n]):i[n]=t[n]}),i}e.deepClone=m;function N(t){if(!t||typeof t!="object")return t;const i=[t];for(;i.length>0;){const n=i.shift();Object.freeze(n);for(const o in n)if(I.call(n,o)){const d=n[o];typeof d=="object"&&!Object.isFrozen(d)&&i.push(d)}}return t}e.deepFreeze=N;const I=Object.prototype.hasOwnProperty;function S(t,i){return b(t,i,new Set)}e.cloneAndChange=S;function b(t,i,n){if((0,y.isUndefinedOrNull)(t))return t;const o=i(t);if(typeof o!="undefined")return o;if((0,y.isArray)(t)){const d=[];for(const c of t)d.push(b(c,i,n));return d}if((0,y.isObject)(t)){if(n.has(t))throw new Error("Cannot clone recursive data-structure");n.add(t);const d={};for(let c in t)I.call(t,c)&&(d[c]=b(t[c],i,n));return n.delete(t),d}return t}function C(t,i,n=!0){return(0,y.isObject)(t)?((0,y.isObject)(i)&&Object.keys(i).forEach(o=>{o in t?n&&((0,y.isObject)(t[o])&&(0,y.isObject)(i[o])?C(t[o],i[o],n):t[o]=i[o]):t[o]=i[o]}),t):i}e.mixin=C;function h(t,i){if(t===i)return!0;if(t==null||i===null||i===void 0||typeof t!=typeof i||typeof t!="object"||Array.isArray(t)!==Array.isArray(i))return!1;let n,o;if(Array.isArray(t)){if(t.length!==i.length)return!1;for(n=0;n<t.length;n++)if(!h(t[n],i[n]))return!1}else{const d=[];for(o in t)d.push(o);d.sort();const c=[];for(o in i)c.push(o);if(c.sort(),!h(d,c))return!1;for(n=0;n<d.length;n++)if(!h(t[d[n]],i[d[n]]))return!1}return!0}e.equals=h;function g(t,i,n){const o=i(t);return typeof o=="undefined"?n:o}e.getOrDefault=g}),define(ee[138],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function y(N){return N<0?0:N>255?255:N|0}e.toUint8=y;function m(N){return N<0?0:N>4294967295?4294967295:N|0}e.toUint32=m}),define(ee[25],te([0,1,81,17]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const N=/^\w[\w\d+.-]*$/,I=/^\//,S=/^\/\//;function b(v,p){if(!v.scheme&&p)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${v.authority}", path: "${v.path}", query: "${v.query}", fragment: "${v.fragment}"}`);if(v.scheme&&!N.test(v.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(v.path){if(v.authority){if(!I.test(v.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(v.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function C(v,p){return!v&&!p?"file":v}function h(v,p){switch(v){case"https":case"http":case"file":p?p[0]!==t&&(p=t+p):p=t;break}return p}const g="",t="/",i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class n{constructor(p,_,L,E,M,k=!1){typeof p=="object"?(this.scheme=p.scheme||g,this.authority=p.authority||g,this.path=p.path||g,this.query=p.query||g,this.fragment=p.fragment||g):(this.scheme=C(p,k),this.authority=_||g,this.path=h(this.scheme,L||g),this.query=E||g,this.fragment=M||g,b(this,k))}static isUri(p){return p instanceof n?!0:p?typeof p.authority=="string"&&typeof p.fragment=="string"&&typeof p.path=="string"&&typeof p.query=="string"&&typeof p.scheme=="string"&&typeof p.fsPath=="string"&&typeof p.with=="function"&&typeof p.toString=="function":!1}get fsPath(){return r(this,!1)}with(p){if(!p)return this;let{scheme:_,authority:L,path:E,query:M,fragment:k}=p;return _===void 0?_=this.scheme:_===null&&(_=g),L===void 0?L=this.authority:L===null&&(L=g),E===void 0?E=this.path:E===null&&(E=g),M===void 0?M=this.query:M===null&&(M=g),k===void 0?k=this.fragment:k===null&&(k=g),_===this.scheme&&L===this.authority&&E===this.path&&M===this.query&&k===this.fragment?this:new d(_,L,E,M,k)}static parse(p,_=!1){const L=i.exec(p);return L?new d(L[2]||g,w(L[4]||g),w(L[5]||g),w(L[7]||g),w(L[9]||g),_):new d(g,g,g,g,g)}static file(p){let _=g;if(m.isWindows&&(p=p.replace(/\\/g,t)),p[0]===t&&p[1]===t){const L=p.indexOf(t,2);L===-1?(_=p.substring(2),p=t):(_=p.substring(2,L),p=p.substring(L)||t)}return new d("file",_,p,g,g)}static from(p){const _=new d(p.scheme,p.authority,p.path,p.query,p.fragment);return b(_,!0),_}static joinPath(p,..._){if(!p.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return m.isWindows&&p.scheme==="file"?L=n.file(y.win32.join(r(p,!0),..._)).path:L=y.posix.join(p.path,..._),p.with({path:L})}toString(p=!1){return l(this,p)}toJSON(){return this}static revive(p){if(p){if(p instanceof n)return p;{const _=new d(p);return _._formatted=p.external,_._fsPath=p._sep===o?p.fsPath:null,_}}else return p}}e.URI=n;const o=m.isWindows?1:void 0;class d extends n{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=r(this,!1)),this._fsPath}toString(p=!1){return p?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const p={$mid:1};return this._fsPath&&(p.fsPath=this._fsPath,p._sep=o),this._formatted&&(p.external=this._formatted),this.path&&(p.path=this.path),this.scheme&&(p.scheme=this.scheme),this.authority&&(p.authority=this.authority),this.query&&(p.query=this.query),this.fragment&&(p.fragment=this.fragment),p}}const c={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function s(v,p){let _,L=-1;for(let E=0;E<v.length;E++){const M=v.charCodeAt(E);if(M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===45||M===46||M===95||M===126||p&&M===47)L!==-1&&(_+=encodeURIComponent(v.substring(L,E)),L=-1),_!==void 0&&(_+=v.charAt(E));else{_===void 0&&(_=v.substr(0,E));const k=c[M];k!==void 0?(L!==-1&&(_+=encodeURIComponent(v.substring(L,E)),L=-1),_+=k):L===-1&&(L=E)}}return L!==-1&&(_+=encodeURIComponent(v.substring(L))),_!==void 0?_:v}function a(v){let p;for(let _=0;_<v.length;_++){const L=v.charCodeAt(_);L===35||L===63?(p===void 0&&(p=v.substr(0,_)),p+=c[L]):p!==void 0&&(p+=v[_])}return p!==void 0?p:v}function r(v,p){let _;return v.authority&&v.path.length>1&&v.scheme==="file"?_=`//${v.authority}${v.path}`:v.path.charCodeAt(0)===47&&(v.path.charCodeAt(1)>=65&&v.path.charCodeAt(1)<=90||v.path.charCodeAt(1)>=97&&v.path.charCodeAt(1)<=122)&&v.path.charCodeAt(2)===58?p?_=v.path.substr(1):_=v.path[1].toLowerCase()+v.path.substr(2):_=v.path,m.isWindows&&(_=_.replace(/\//g,"\\")),_}e.uriToFsPath=r;function l(v,p){const _=p?a:s;let L="",{scheme:E,authority:M,path:k,query:A,fragment:F}=v;if(E&&(L+=E,L+=":"),(M||E==="file")&&(L+=t,L+=t),M){let B=M.indexOf("@");if(B!==-1){const T=M.substr(0,B);M=M.substr(B+1),B=T.indexOf(":"),B===-1?L+=_(T,!1):(L+=_(T.substr(0,B),!1),L+=":",L+=_(T.substr(B+1),!1)),L+="@"}M=M.toLowerCase(),B=M.indexOf(":"),B===-1?L+=_(M,!1):(L+=_(M.substr(0,B),!1),L+=M.substr(B))}if(k){if(k.length>=3&&k.charCodeAt(0)===47&&k.charCodeAt(2)===58){const B=k.charCodeAt(1);B>=65&&B<=90&&(k=`/${String.fromCharCode(B+32)}:${k.substr(3)}`)}else if(k.length>=2&&k.charCodeAt(1)===58){const B=k.charCodeAt(0);B>=65&&B<=90&&(k=`${String.fromCharCode(B+32)}:${k.substr(2)}`)}L+=_(k,!0)}return A&&(L+="?",L+=_(A,!1)),F&&(L+="#",L+=p?F:s(F,!1)),L}function u(v){try{return decodeURIComponent(v)}catch{return v.length>3?v.substr(0,3)+u(v.substr(3)):v}}const f=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(v){return v.match(f)?v.replace(f,p=>u(p)):v}}),define(ee[214],te([0,1,107,25]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function N(S){let b=JSON.parse(S);return b=I(b),b}e.parse=N;function I(S,b=0){if(!S||b>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return m.URI.revive(S);case 2:return new RegExp(S.source,S.flags);case 14:return new Date(S.source)}if(S instanceof y.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let C=0;C<S.length;++C)S[C]=I(S[C],b+1);else for(const C in S)Object.hasOwnProperty.call(S,C)&&(S[C]=I(S[C],b+1))}return S}e.revive=I}),define(ee[49],te([0,1,17,25]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var N;(function(b){b.inMemory="inmemory",b.vscode="vscode",b.internal="private",b.walkThrough="walkThrough",b.walkThroughSnippet="walkThroughSnippet",b.http="http",b.https="https",b.file="file",b.mailto="mailto",b.untitled="untitled",b.data="data",b.command="command",b.vscodeRemote="vscode-remote",b.vscodeRemoteResource="vscode-remote-resource",b.userData="vscode-userdata",b.vscodeCustomEditor="vscode-custom-editor",b.vscodeNotebook="vscode-notebook",b.vscodeNotebookCell="vscode-notebook-cell",b.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",b.vscodeNotebookCellOutput="vscode-notebook-cell-output",b.vscodeInteractive="vscode-interactive",b.vscodeInteractiveInput="vscode-interactive-input",b.vscodeSettings="vscode-settings",b.vscodeWorkspaceTrust="vscode-workspace-trust",b.vscodeTerminal="vscode-terminal",b.webviewPanel="webview-panel",b.vscodeWebview="vscode-webview",b.extension="extension",b.vscodeFileResource="vscode-file",b.tmp="tmp",b.vsls="vsls"})(N=e.Schemas||(e.Schemas={}));class I{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(C){this._preferredWebSchema=C}rewrite(C){if(this._delegate)return this._delegate(C);const h=C.authority;let g=this._hosts[h];g&&g.indexOf(":")!==-1&&(g=`[${g}]`);const t=this._ports[h],i=this._connectionTokens[h];let n=`path=${encodeURIComponent(C.path)}`;return typeof i=="string"&&(n+=`&tkn=${encodeURIComponent(i)}`),m.URI.from({scheme:y.isWeb?this._preferredWebSchema:N.vscodeRemoteResource,authority:`${g}:${t}`,path:"/vscode-remote-resource",query:n})}}e.RemoteAuthorities=new I;class S{asBrowserUri(C,h){const g=this.toUri(C,h);return g.scheme===N.vscodeRemote?e.RemoteAuthorities.rewrite(g):g.scheme===N.file&&(y.isNative||typeof y.globals.importScripts=="function"&&y.globals.origin===`${N.vscodeFileResource}://${S.FALLBACK_AUTHORITY}`)?g.with({scheme:N.vscodeFileResource,authority:g.authority||S.FALLBACK_AUTHORITY,query:null,fragment:null}):g}toUri(C,h){return m.URI.isUri(C)?C:m.URI.parse(h.toUrl(C))}}S.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new S}),define(ee[7],te([0,1,33,163,47,57,10,14,4,2,49,17]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.createEventEmitter=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseUpListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function i(Ee){for(;Ee.firstChild;)Ee.firstChild.remove()}e.clearNode=i;function n(Ee){var Ie;return(Ie=Ee==null?void 0:Ee.isConnected)!==null&&Ie!==void 0?Ie:!1}e.isInDOM=n;class o{constructor(Ie,Re,Ue,Ne){this._node=Ie,this._type=Re,this._handler=Ue,this._options=Ne||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function d(Ee,Ie,Re,Ue){return new o(Ee,Ie,Re,Ue)}e.addDisposableListener=d;function c(Ee){return function(Ie){return Ee(new I.StandardMouseEvent(Ie))}}function s(Ee){return function(Ie){return Ee(new N.StandardKeyboardEvent(Ie))}}let a=function(Ie,Re,Ue,Ne){let ke=Ue;return Re==="click"||Re==="mousedown"?ke=c(Ue):(Re==="keydown"||Re==="keypress"||Re==="keyup")&&(ke=s(Ue)),d(Ie,Re,ke,Ne)};e.addStandardDisposableListener=a;let r=function(Ie,Re,Ue){let Ne=c(Re);return u(Ie,Ne,Ue)};e.addStandardDisposableGenericMouseDownListner=r;let l=function(Ie,Re,Ue){let Ne=c(Re);return f(Ie,Ne,Ue)};e.addStandardDisposableGenericMouseUpListner=l;function u(Ee,Ie,Re){return d(Ee,t.isIOS&&m.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,Ie,Re)}e.addDisposableGenericMouseDownListner=u;function f(Ee,Ie,Re){return d(Ee,t.isIOS&&m.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,Ie,Re)}e.addDisposableGenericMouseUpListner=f;function w(Ee,Ie){return d(Ee,"mouseout",Re=>{let Ue=Re.relatedTarget;for(;Ue&&Ue!==Ee;)Ue=Ue.parentNode;Ue!==Ee&&Ie(Re)})}e.addDisposableNonBubblingMouseOutListener=w;function v(Ee,Ie){return d(Ee,"pointerout",Re=>{let Ue=Re.relatedTarget;for(;Ue&&Ue!==Ee;)Ue=Ue.parentNode;Ue!==Ee&&Ie(Re)})}e.addDisposableNonBubblingPointerOutListener=v;function p(Ee,Ie,Re){let Ue=null;const Ne=Ce=>pe.fire(Ce),ke=()=>{Ue||(Ue=new o(Ee,Ie,Ne,Re))},Te=()=>{Ue&&(Ue.dispose(),Ue=null)},pe=new C.Emitter({onFirstListenerAdd:ke,onLastListenerRemove:Te});return pe}e.createEventEmitter=p;let _=null;function L(Ee){if(!_){const Ie=Re=>setTimeout(()=>Re(new Date().getTime()),0);_=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Ie}return _.call(self,Ee)}class E{constructor(Ie,Re=0){this._runner=Ie,this.priority=Re,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Ie){(0,b.onUnexpectedError)(Ie)}}static sort(Ie,Re){return Re.priority-Ie.priority}}(function(){let Ee=[],Ie=null,Re=!1,Ue=!1,Ne=()=>{for(Re=!1,Ie=Ee,Ee=[],Ue=!0;Ie.length>0;)Ie.sort(E.sort),Ie.shift().execute();Ue=!1};e.scheduleAtNextAnimationFrame=(ke,Te=0)=>{let pe=new E(ke,Te);return Ee.push(pe),Re||(Re=!0,L(Ne)),pe},e.runAtThisOrScheduleAtNextAnimationFrame=(ke,Te)=>{if(Ue){let pe=new E(ke,Te);return Ie.push(pe),pe}else return(0,e.scheduleAtNextAnimationFrame)(ke,Te)}})();const M=8,k=function(Ee,Ie){return Ie};class A extends h.Disposable{constructor(Ie,Re,Ue,Ne=k,ke=M){super();let Te=null,pe=0,Ce=this._register(new S.TimeoutTimer),Le=()=>{pe=new Date().getTime(),Ue(Te),Te=null};this._register(d(Ie,Re,we=>{Te=Ne(Te,we);let _e=new Date().getTime()-pe;_e>=ke?(Ce.cancel(),Le()):Ce.setIfNotSet(Le,ke-_e)}))}}function F(Ee,Ie,Re,Ue,Ne){return new A(Ee,Ie,Re,Ue,Ne)}e.addDisposableThrottledListener=F;function B(Ee){return document.defaultView.getComputedStyle(Ee,null)}e.getComputedStyle=B;function T(Ee){if(Ee!==document.body)return new O(Ee.clientWidth,Ee.clientHeight);if(t.isIOS&&window.visualViewport)return new O(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new O(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new O(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new O(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=T;class R{static convertToPixels(Ie,Re){return parseFloat(Re)||0}static getDimension(Ie,Re,Ue){let Ne=B(Ie),ke="0";return Ne&&(Ne.getPropertyValue?ke=Ne.getPropertyValue(Re):ke=Ne.getAttribute(Ue)),R.convertToPixels(Ie,ke)}static getBorderLeftWidth(Ie){return R.getDimension(Ie,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Ie){return R.getDimension(Ie,"border-right-width","borderRightWidth")}static getBorderTopWidth(Ie){return R.getDimension(Ie,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Ie){return R.getDimension(Ie,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Ie){return R.getDimension(Ie,"padding-left","paddingLeft")}static getPaddingRight(Ie){return R.getDimension(Ie,"padding-right","paddingRight")}static getPaddingTop(Ie){return R.getDimension(Ie,"padding-top","paddingTop")}static getPaddingBottom(Ie){return R.getDimension(Ie,"padding-bottom","paddingBottom")}static getMarginLeft(Ie){return R.getDimension(Ie,"margin-left","marginLeft")}static getMarginTop(Ie){return R.getDimension(Ie,"margin-top","marginTop")}static getMarginRight(Ie){return R.getDimension(Ie,"margin-right","marginRight")}static getMarginBottom(Ie){return R.getDimension(Ie,"margin-bottom","marginBottom")}}class O{constructor(Ie,Re){this.width=Ie,this.height=Re}with(Ie=this.width,Re=this.height){return Ie!==this.width||Re!==this.height?new O(Ie,Re):this}static is(Ie){return typeof Ie=="object"&&typeof Ie.height=="number"&&typeof Ie.width=="number"}static lift(Ie){return Ie instanceof O?Ie:new O(Ie.width,Ie.height)}static equals(Ie,Re){return Ie===Re?!0:!Ie||!Re?!1:Ie.width===Re.width&&Ie.height===Re.height}}e.Dimension=O,O.None=new O(0,0);function P(Ee){let Ie=Ee.offsetParent,Re=Ee.offsetTop,Ue=Ee.offsetLeft;for(;(Ee=Ee.parentNode)!==null&&Ee!==document.body&&Ee!==document.documentElement;){Re-=Ee.scrollTop;const Ne=U(Ee)?null:B(Ee);Ne&&(Ue-=Ne.direction!=="rtl"?Ee.scrollLeft:-Ee.scrollLeft),Ee===Ie&&(Ue+=R.getBorderLeftWidth(Ee),Re+=R.getBorderTopWidth(Ee),Re+=Ee.offsetTop,Ue+=Ee.offsetLeft,Ie=Ee.offsetParent)}return{left:Ue,top:Re}}e.getTopLeftOffset=P;function D(Ee,Ie,Re){typeof Ie=="number"&&(Ee.style.width=`${Ie}px`),typeof Re=="number"&&(Ee.style.height=`${Re}px`)}e.size=D;function x(Ee){let Ie=Ee.getBoundingClientRect();return{left:Ie.left+e.StandardWindow.scrollX,top:Ie.top+e.StandardWindow.scrollY,width:Ie.width,height:Ie.height}}e.getDomNodePagePosition=x,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function H(Ee){let Ie=R.getMarginLeft(Ee)+R.getMarginRight(Ee);return Ee.offsetWidth+Ie}e.getTotalWidth=H;function j(Ee){let Ie=R.getBorderLeftWidth(Ee)+R.getBorderRightWidth(Ee),Re=R.getPaddingLeft(Ee)+R.getPaddingRight(Ee);return Ee.offsetWidth-Ie-Re}e.getContentWidth=j;function Q(Ee){let Ie=R.getBorderTopWidth(Ee)+R.getBorderBottomWidth(Ee),Re=R.getPaddingTop(Ee)+R.getPaddingBottom(Ee);return Ee.offsetHeight-Ie-Re}e.getContentHeight=Q;function G(Ee){let Ie=R.getMarginTop(Ee)+R.getMarginBottom(Ee);return Ee.offsetHeight+Ie}e.getTotalHeight=G;function se(Ee,Ie){for(;Ee;){if(Ee===Ie)return!0;Ee=Ee.parentNode}return!1}e.isAncestor=se;function ne(Ee,Ie,Re){for(;Ee&&Ee.nodeType===Ee.ELEMENT_NODE;){if(Ee.classList.contains(Ie))return Ee;if(Re){if(typeof Re=="string"){if(Ee.classList.contains(Re))return null}else if(Ee===Re)return null}Ee=Ee.parentNode}return null}e.findParentWithClass=ne;function Z(Ee,Ie,Re){return!!ne(Ee,Ie,Re)}e.hasParentWithClass=Z;function U(Ee){return Ee&&!!Ee.host&&!!Ee.mode}e.isShadowRoot=U;function W(Ee){return!!V(Ee)}e.isInShadowDOM=W;function V(Ee){for(;Ee.parentNode;){if(Ee===document.body)return null;Ee=Ee.parentNode}return U(Ee)?Ee:null}e.getShadowRoot=V;function Y(){let Ee=document.activeElement;for(;Ee==null?void 0:Ee.shadowRoot;)Ee=Ee.shadowRoot.activeElement;return Ee}e.getActiveElement=Y;function X(Ee=document.getElementsByTagName("head")[0]){let Ie=document.createElement("style");return Ie.type="text/css",Ie.media="screen",Ee.appendChild(Ie),Ie}e.createStyleSheet=X;let ae=null;function J(){return ae||(ae=X()),ae}function de(Ee){var Ie,Re;return((Ie=Ee==null?void 0:Ee.sheet)===null||Ie===void 0?void 0:Ie.rules)?Ee.sheet.rules:((Re=Ee==null?void 0:Ee.sheet)===null||Re===void 0?void 0:Re.cssRules)?Ee.sheet.cssRules:[]}function q(Ee,Ie,Re=J()){!Re||!Ie||Re.sheet.insertRule(Ee+"{"+Ie+"}",0)}e.createCSSRule=q;function z(Ee,Ie=J()){if(!Ie)return;let Re=de(Ie),Ue=[];for(let Ne=0;Ne<Re.length;Ne++)Re[Ne].selectorText.indexOf(Ee)!==-1&&Ue.push(Ne);for(let Ne=Ue.length-1;Ne>=0;Ne--)Ie.sheet.deleteRule(Ue[Ne])}e.removeCSSRulesContainingSelector=z;function $(Ee){return typeof HTMLElement=="object"?Ee instanceof HTMLElement:Ee&&typeof Ee=="object"&&Ee.nodeType===1&&typeof Ee.nodeName=="string"}e.isHTMLElement=$,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:y.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:y.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:y.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(Ee,Ie){Ee.preventDefault?Ee.preventDefault():Ee.returnValue=!1,Ie&&(Ee.stopPropagation?Ee.stopPropagation():Ee.cancelBubble=!0)}};function ie(Ee){let Ie=[];for(let Re=0;Ee&&Ee.nodeType===Ee.ELEMENT_NODE;Re++)Ie[Re]=Ee.scrollTop,Ee=Ee.parentNode;return Ie}e.saveParentsScrollTop=ie;function ce(Ee,Ie){for(let Re=0;Ee&&Ee.nodeType===Ee.ELEMENT_NODE;Re++)Ee.scrollTop!==Ie[Re]&&(Ee.scrollTop=Ie[Re]),Ee=Ee.parentNode}e.restoreParentsScrollTop=ce;class oe extends h.Disposable{constructor(Ie){super();this._onDidFocus=this._register(new C.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new C.Emitter),this.onDidBlur=this._onDidBlur.event;let Re=oe.hasFocusWithin(Ie),Ue=!1;const Ne=()=>{Ue=!1,Re||(Re=!0,this._onDidFocus.fire())},ke=()=>{Re&&(Ue=!0,window.setTimeout(()=>{Ue&&(Ue=!1,Re=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{oe.hasFocusWithin(Ie)!==Re&&(Re?ke():Ne())},this._register(d(Ie,e.EventType.FOCUS,Ne,!0)),this._register(d(Ie,e.EventType.BLUR,ke,!0)),this._register(d(Ie,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(d(Ie,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Ie){const Re=V(Ie),Ue=Re?Re.activeElement:document.activeElement;return se(Ue,Ie)}}function he(Ee){return new oe(Ee)}e.trackFocus=he;function ve(Ee,...Ie){if(Ee.append(...Ie),Ie.length===1&&typeof Ie[0]!="string")return Ie[0]}e.append=ve;function Se(Ee,Ie){return Ee.insertBefore(Ie,Ee.firstChild),Ie}e.prepend=Se;function le(Ee,...Ie){Ee.innerText="",ve(Ee,...Ie)}e.reset=le;const ge=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ue;(function(Ee){Ee.HTML="http://www.w3.org/1999/xhtml",Ee.SVG="http://www.w3.org/2000/svg"})(ue=e.Namespace||(e.Namespace={}));function be(Ee,Ie,Re,...Ue){let Ne=ge.exec(Ie);if(!Ne)throw new Error("Bad use of emmet");Re=Object.assign({},Re||{});let ke=Ne[1]||"div",Te;return Ee!==ue.HTML?Te=document.createElementNS(Ee,ke):Te=document.createElement(ke),Ne[3]&&(Te.id=Ne[3]),Ne[4]&&(Te.className=Ne[4].replace(/\./g," ").trim()),Object.keys(Re).forEach(pe=>{const Ce=Re[pe];typeof Ce!="undefined"&&(/^on\w+$/.test(pe)?Te[pe]=Ce:pe==="selected"?Ce&&Te.setAttribute(pe,"true"):Te.setAttribute(pe,Ce))}),Te.append(...Ue),Te}function re(Ee,Ie,...Re){return be(ue.HTML,Ee,Ie,...Re)}e.$=re,re.SVG=function(Ee,Ie,...Re){return be(ue.SVG,Ee,Ie,...Re)};function fe(...Ee){for(let Ie of Ee)Ie.style.display="",Ie.removeAttribute("aria-hidden")}e.show=fe;function ye(...Ee){for(let Ie of Ee)Ie.style.display="none",Ie.setAttribute("aria-hidden","true")}e.hide=ye;function Me(Ee){return Array.prototype.slice.call(document.getElementsByTagName(Ee),0)}e.getElementsByTagName=Me;function Oe(Ee){const Ie=window.devicePixelRatio*Ee;return Math.max(1,Math.floor(Ie))/window.devicePixelRatio}e.computeScreenAwareSize=Oe;function He(Ee){window.open(Ee,"_blank","noopener")}e.windowOpenNoOpener=He;function Ve(Ee){const Ie=()=>{Ee(),Re=(0,e.scheduleAtNextAnimationFrame)(Ie)};let Re=(0,e.scheduleAtNextAnimationFrame)(Ie);return(0,h.toDisposable)(()=>Re.dispose())}e.animate=Ve,g.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ge(Ee){return Ee?`url('${g.FileAccess.asBrowserUri(Ee).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Ge;function Je(Ee){return`'${Ee.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Je;class Ze extends C.Emitter{constructor(){super();this._subscriptions=new h.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(d(window,"keydown",Ie=>{if(Ie.defaultPrevented)return;const Re=new N.StandardKeyboardEvent(Ie);if(!(Re.keyCode===6&&Ie.repeat)){if(Ie.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Ie.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Ie.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Ie.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Re.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Ie.altKey,this._keyStatus.ctrlKey=Ie.ctrlKey,this._keyStatus.metaKey=Ie.metaKey,this._keyStatus.shiftKey=Ie.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Ie,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(d(window,"keyup",Ie=>{Ie.defaultPrevented||(!Ie.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Ie.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Ie.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Ie.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Ie.altKey,this._keyStatus.ctrlKey=Ie.ctrlKey,this._keyStatus.metaKey=Ie.metaKey,this._keyStatus.shiftKey=Ie.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Ie,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(d(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(d(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(d(document.body,"mousemove",Ie=>{Ie.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(d(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ze.instance||(Ze.instance=new Ze),Ze.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Ze;function et(Ee,Ie){window.matchMedia(Ee).addEventListener("change",Ie)}e.addMatchMediaChangeListener=et}),define(ee[167],te([0,1,7]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function m(t,i={}){const n=I(i);return n.textContent=t,n}e.renderText=m;function N(t,i={}){const n=I(i);return b(n,C(t,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),n}e.renderFormattedText=N;function I(t){const i=t.inline?"span":"div",n=document.createElement(i);return t.className&&(n.className=t.className),n}e.createElement=I;class S{constructor(i){this.source=i,this.index=0}eos(){return this.index>=this.source.length}next(){const i=this.peek();return this.advance(),i}peek(){return this.source[this.index]}advance(){this.index++}}function b(t,i,n,o){let d;if(i.type===2)d=document.createTextNode(i.content||"");else if(i.type===3)d=document.createElement("b");else if(i.type===4)d=document.createElement("i");else if(i.type===7&&o)d=document.createElement("code");else if(i.type===5&&n){const c=document.createElement("a");n.disposables.add(y.addStandardDisposableListener(c,"click",s=>{n.callback(String(i.index),s)})),d=c}else i.type===8?d=document.createElement("br"):i.type===1&&(d=t);d&&t!==d&&t.appendChild(d),d&&Array.isArray(i.children)&&i.children.forEach(c=>{b(d,c,n,o)})}function C(t,i){const n={type:1,children:[]};let o=0,d=n;const c=[],s=new S(t);for(;!s.eos();){let a=s.next();const r=a==="\\"&&g(s.peek(),i)!==0;if(r&&(a=s.next()),!r&&h(a,i)&&a===s.peek()){s.advance(),d.type===2&&(d=c.pop());const l=g(a,i);if(d.type===l||d.type===5&&l===6)d=c.pop();else{const u={type:l,children:[]};l===5&&(u.index=o,o++),d.children.push(u),c.push(d),d=u}}else if(a===`
`)d.type===2&&(d=c.pop()),d.children.push({type:8});else if(d.type!==2){const l={type:2,content:a};d.children.push(l),c.push(d),d=l}else d.content+=a}return d.type===2&&(d=c.pop()),c.length,n}function h(t,i){return g(t,i)!==0}function g(t,i){switch(t){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}}),define(ee[95],te([0,1,7,209,57,2,17]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function b(h,g){let t=new N.StandardMouseEvent(g);return t.preventDefault(),{leftButton:t.leftButton,buttons:t.buttons,posx:t.posx,posy:t.posy}}e.standardMouseMoveMerger=b;class C{constructor(){this._hooks=new I.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(g,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,g&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(g,t,i,n,o){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=n,this._onStopCallback=o;const d=m.IframeUtils.getSameOriginWindowChain(),c=S.isIOS?"pointermove":"mousemove",s="mouseup",a=d.map(l=>l.window.document),r=y.getShadowRoot(g);r&&a.unshift(r);for(const l of a)this._hooks.add(y.addDisposableThrottledListener(l,c,u=>{if(u.buttons!==t){this.stopMonitoring(!0);return}this._mouseMoveCallback(u)},(u,f)=>this._mouseMoveEventMerger(u,f))),this._hooks.add(y.addDisposableListener(l,s,u=>this.stopMonitoring(!0)));if(m.IframeUtils.hasDifferentOriginAncestor()){let l=d[d.length-1];this._hooks.add(y.addDisposableListener(l.window.document,"mouseout",u=>{new N.StandardMouseEvent(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(y.addDisposableListener(l.window.document,"mouseover",u=>{new N.StandardMouseEvent(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(y.addDisposableListener(l.window.document.body,"mouseleave",u=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=C});var Be=this&&this.__decorate||function(K,e,y,m){var N=arguments.length,I=N<3?e:m===null?m=Object.getOwnPropertyDescriptor(e,y):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(K,e,y,m);else for(var b=K.length-1;b>=0;b--)(S=K[b])&&(I=(N<3?S(I):N>3?S(e,y,I):S(e,y))||I);return N>3&&I&&Object.defineProperty(e,y,I),I};define(ee[58],te([0,1,7,19,92,2]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(C){C.Tap="-monaco-gesturetap",C.Change="-monaco-gesturechange",C.Start="-monaco-gesturestart",C.End="-monaco-gesturesend",C.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class b extends I.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(y.addDisposableListener(document,"touchstart",h=>this.onTouchStart(h),{passive:!1})),this._register(y.addDisposableListener(document,"touchend",h=>this.onTouchEnd(h))),this._register(y.addDisposableListener(document,"touchmove",h=>this.onTouchMove(h),{passive:!1}))}static addTarget(h){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.targets.push(h),{dispose:()=>{b.INSTANCE.targets=b.INSTANCE.targets.filter(g=>g!==h)}}):I.Disposable.None}static ignoreTarget(h){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.ignoreTargets.push(h),{dispose:()=>{b.INSTANCE.ignoreTargets=b.INSTANCE.ignoreTargets.filter(g=>g!==h)}}):I.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(h){let g=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let t=0,i=h.targetTouches.length;t<i;t++){let n=h.targetTouches.item(t);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:g,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[g],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};let o=this.newGestureEvent(S.Start,n.target);o.pageX=n.pageX,o.pageY=n.pageY,this.dispatchEvent(o)}this.dispatched&&(h.preventDefault(),h.stopPropagation(),this.dispatched=!1)}onTouchEnd(h){let g=Date.now(),t=Object.keys(this.activeTouches).length;for(let i=0,n=h.changedTouches.length;i<n;i++){let o=h.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}let d=this.activeTouches[o.identifier],c=Date.now()-d.initialTimeStamp;if(c<b.HOLD_DELAY&&Math.abs(d.initialPageX-m.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-m.tail(d.rollingPageY))<30){let s=this.newGestureEvent(S.Tap,d.initialTarget);s.pageX=m.tail(d.rollingPageX),s.pageY=m.tail(d.rollingPageY),this.dispatchEvent(s)}else if(c>=b.HOLD_DELAY&&Math.abs(d.initialPageX-m.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-m.tail(d.rollingPageY))<30){let s=this.newGestureEvent(S.Contextmenu,d.initialTarget);s.pageX=m.tail(d.rollingPageX),s.pageY=m.tail(d.rollingPageY),this.dispatchEvent(s)}else if(t===1){let s=m.tail(d.rollingPageX),a=m.tail(d.rollingPageY),r=m.tail(d.rollingTimestamps)-d.rollingTimestamps[0],l=s-d.rollingPageX[0],u=a-d.rollingPageY[0];const f=this.targets.filter(w=>d.initialTarget instanceof Node&&w.contains(d.initialTarget));this.inertia(f,g,Math.abs(l)/r,l>0?1:-1,s,Math.abs(u)/r,u>0?1:-1,a)}this.dispatchEvent(this.newGestureEvent(S.End,d.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(h.preventDefault(),h.stopPropagation(),this.dispatched=!1)}newGestureEvent(h,g){let t=document.createEvent("CustomEvent");return t.initEvent(h,!1,!0),t.initialTarget=g,t.tapCount=0,t}dispatchEvent(h){if(h.type===S.Tap){const g=new Date().getTime();let t=0;g-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?t=1:t=2,this._lastSetTapCountTime=g,h.tapCount=t}else(h.type===S.Change||h.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let g=0;g<this.ignoreTargets.length;g++)if(h.initialTarget instanceof Node&&this.ignoreTargets[g].contains(h.initialTarget))return;this.targets.forEach(g=>{h.initialTarget instanceof Node&&g.contains(h.initialTarget)&&(g.dispatchEvent(h),this.dispatched=!0)})}inertia(h,g,t,i,n,o,d,c){this.handle=y.scheduleAtNextAnimationFrame(()=>{let s=Date.now(),a=s-g,r=0,l=0,u=!0;t+=b.SCROLL_FRICTION*a,o+=b.SCROLL_FRICTION*a,t>0&&(u=!1,r=i*t*a),o>0&&(u=!1,l=d*o*a);let f=this.newGestureEvent(S.Change);f.translationX=r,f.translationY=l,h.forEach(w=>w.dispatchEvent(f)),u||this.inertia(h,s,t,i,n+r,o,d,c+l)})}onTouchMove(h){let g=Date.now();for(let t=0,i=h.changedTouches.length;t<i;t++){let n=h.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}let o=this.activeTouches[n.identifier],d=this.newGestureEvent(S.Change,o.initialTarget);d.translationX=n.pageX-m.tail(o.rollingPageX),d.translationY=n.pageY-m.tail(o.rollingPageY),d.pageX=n.pageX,d.pageY=n.pageY,this.dispatchEvent(d),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(n.pageX),o.rollingPageY.push(n.pageY),o.rollingTimestamps.push(g)}this.dispatched&&(h.preventDefault(),h.stopPropagation(),this.dispatched=!1)}}b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,Be([N.memoize],b,"isTouchDevice",null),e.Gesture=b}),define(ee[110],te([0,1,7,27]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const N=new RegExp(`(\\\\)?\\$\\((${m.CSSIcon.iconNameExpression}(?:${m.CSSIcon.iconModifierExpression})?)\\)`,"g");function I(b){const C=new Array;let h,g=0,t=0;for(;(h=N.exec(b))!==null;){t=h.index||0,C.push(b.substring(g,t)),g=(h.index||0)+h[0].length;const[,i,n]=h;C.push(i?`$(${n})`:S({id:n}))}return g<b.length&&C.push(b.substring(g)),C}e.renderLabelWithIcons=I;function S(b){const C=y.$("span");return C.classList.add(...m.CSSIcon.asClassNameArray(b)),C}e.renderIcon=S}),define(ee[215],te([0,1,7,110,38]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class I{constructor(b,C){var h;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(h=C==null?void 0:C.supportIcons)!==null&&h!==void 0?h:!1,this.domNode=y.append(b,y.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(b,C=[],h="",g){b||(b=""),g&&(b=I.escapeNewLines(b,C)),!(this.didEverRender&&this.text===b&&this.title===h&&N.equals(this.highlights,C))&&(this.text=b,this.title=h,this.highlights=C,this.render())}render(){const b=[];let C=0;for(const h of this.highlights){if(h.end===h.start)continue;if(C<h.start){const i=this.text.substring(C,h.start);b.push(y.$("span",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(i):[i])),C=h.end}const g=this.text.substring(h.start,h.end),t=y.$("span.highlight",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(g):[g]);h.extraClasses&&t.classList.add(...h.extraClasses),b.push(t),C=h.end}if(C<this.text.length){const h=this.text.substring(C);b.push(y.$("span",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(h):[h]))}y.reset(this.domNode,...b),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(b,C){let h=0,g=0;return b.replace(/\r\n|\r|\n/g,(t,i)=>{g=t===`\r
`?-1:0,i+=h;for(const n of C)n.end<=i||(n.start>=i&&(n.start+=g),n.end>=i&&(n.end+=g));return h+=g,"\u23CE"})}}e.HighlightedLabel=I}),define(ee[317],te([0,1,7]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function m(I){try{I.parentElement&&I.parentElement.removeChild(I)}catch{}}class N{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let b=this.getTemplateCache(S).pop();if(!b){const C=(0,y.$)(".monaco-list-row"),g=this.getRenderer(S).renderTemplate(C);b={domNode:C,templateId:S,templateData:g}}return b}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:b,templateId:C}=S;b&&(b.classList.remove("scrolling"),m(b)),this.getTemplateCache(C).push(S)}getTemplateCache(S){let b=this.cache.get(S);return b||(b=[],this.cache.set(S,b)),b}dispose(){this.cache.forEach((S,b)=>{for(const C of S)this.getRenderer(b).disposeTemplate(C.templateData),C.templateData=null}),this.cache.clear()}getRenderer(S){const b=this.renderers.get(S);if(!b)throw new Error(`No renderer found for ${S}`);return b}}e.RowCache=N}),define(ee[60],te([0,1,7,47,57,58,2]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class b extends S.Disposable{onclick(h,g){this._register(y.addDisposableListener(h,y.EventType.CLICK,t=>g(new N.StandardMouseEvent(t))))}onmousedown(h,g){this._register(y.addDisposableListener(h,y.EventType.MOUSE_DOWN,t=>g(new N.StandardMouseEvent(t))))}onmouseover(h,g){this._register(y.addDisposableListener(h,y.EventType.MOUSE_OVER,t=>g(new N.StandardMouseEvent(t))))}onnonbubblingmouseout(h,g){this._register(y.addDisposableNonBubblingMouseOutListener(h,t=>g(new N.StandardMouseEvent(t))))}onkeydown(h,g){this._register(y.addDisposableListener(h,y.EventType.KEY_DOWN,t=>g(new m.StandardKeyboardEvent(t))))}onkeyup(h,g){this._register(y.addDisposableListener(h,y.EventType.KEY_UP,t=>g(new m.StandardKeyboardEvent(t))))}oninput(h,g){this._register(y.addDisposableListener(h,y.EventType.INPUT,g))}onblur(h,g){this._register(y.addDisposableListener(h,y.EventType.BLUR,g))}onfocus(h,g){this._register(y.addDisposableListener(h,y.EventType.FOCUS,g))}ignoreGesture(h){I.Gesture.ignoreTarget(h)}}e.Widget=b}),define(ee[168],te([0,1,95,60,10]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class I extends m.Widget{constructor(b){super();this._onActivate=b.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=b.bgWidth+"px",this.bgDomNode.style.height=b.bgHeight+"px",typeof b.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof b.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof b.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof b.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=b.className,this.domNode.classList.add(...b.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof b.top!="undefined"&&(this.domNode.style.top=b.top+"px"),typeof b.left!="undefined"&&(this.domNode.style.left=b.left+"px"),typeof b.bottom!="undefined"&&(this.domNode.style.bottom=b.bottom+"px"),typeof b.right!="undefined"&&(this.domNode.style.right=b.right+"px"),this._mouseMoveMonitor=this._register(new y.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,C=>this._arrowMouseDown(C)),this.onmousedown(this.domNode,C=>this._arrowMouseDown(C)),this._mousedownRepeatTimer=this._register(new N.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new N.TimeoutTimer)}_arrowMouseDown(b){const C=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(C,200),this._mouseMoveMonitor.startMonitoring(b.target,b.buttons,y.standardMouseMoveMerger,h=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),b.preventDefault()}}e.ScrollbarArrow=I}),define(ee[216],te([0,1,7,31,95,168,312,60,17]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const h=140;class g extends b.Widget{constructor(i){super();this._lazyRender=i.lazyRender,this._host=i.host,this._scrollable=i.scrollable,this._scrollByPage=i.scrollByPage,this._scrollbarState=i.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new N.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,m.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,n=>this._domNodeMouseDown(n))}_createArrow(i){const n=this._register(new I.ScrollbarArrow(i));this.domNode.domNode.appendChild(n.bgDomNode),this.domNode.domNode.appendChild(n.domNode)}_createSlider(i,n,o,d){this.slider=(0,m.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(i),this.slider.setLeft(n),typeof o=="number"&&this.slider.setWidth(o),typeof d=="number"&&this.slider.setHeight(d),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,c=>{c.leftButton&&(c.preventDefault(),this._sliderMouseDown(c,()=>{}))}),this.onclick(this.slider.domNode,c=>{c.leftButton&&c.stopPropagation()})}_onElementSize(i){return this._scrollbarState.setVisibleSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(i){return this._scrollbarState.setScrollSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(i){return this._scrollbarState.setScrollPosition(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(i){i.target===this.domNode.domNode&&this._onMouseDown(i)}delegateMouseDown(i){const n=this.domNode.domNode.getClientRects()[0].top,o=n+this._scrollbarState.getSliderPosition(),d=n+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),c=this._sliderMousePosition(i);o<=c&&c<=d?i.leftButton&&(i.preventDefault(),this._sliderMouseDown(i,()=>{})):this._onMouseDown(i)}_onMouseDown(i){let n,o;if(i.target===this.domNode.domNode&&typeof i.browserEvent.offsetX=="number"&&typeof i.browserEvent.offsetY=="number")n=i.browserEvent.offsetX,o=i.browserEvent.offsetY;else{const c=y.getDomNodePagePosition(this.domNode.domNode);n=i.posx-c.left,o=i.posy-c.top}const d=this._mouseDownRelativePosition(n,o);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(d):this._scrollbarState.getDesiredScrollPositionFromOffset(d)),i.leftButton&&(i.preventDefault(),this._sliderMouseDown(i,()=>{}))}_sliderMouseDown(i,n){const o=this._sliderMousePosition(i),d=this._sliderOrthogonalMousePosition(i),c=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(i.target,i.buttons,N.standardMouseMoveMerger,s=>{const a=this._sliderOrthogonalMousePosition(s),r=Math.abs(a-d);if(C.isWindows&&r>h){this._setDesiredScrollPositionNow(c.getScrollPosition());return}const u=this._sliderMousePosition(s)-o;this._setDesiredScrollPositionNow(c.getDesiredScrollPositionFromDelta(u))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),n()}),this._host.onDragStart()}_setDesiredScrollPositionNow(i){const n={};this.writeScrollPosition(n,i),this._scrollable.setScrollPositionNow(n)}updateScrollbarSize(i){this._updateScrollbarSize(i),this._scrollbarState.setScrollbarSize(i),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=g}),define(ee[318],te([0,1,57,216,168,210,27]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class b extends m.AbstractScrollbar{constructor(h,g,t){const i=h.getScrollDimensions(),n=h.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:t,scrollbarState:new I.ScrollbarState(g.horizontalHasArrows?g.arrowSize:0,g.horizontal===2?0:g.horizontalScrollbarSize,g.vertical===2?0:g.verticalScrollbarSize,i.width,i.scrollWidth,n.scrollLeft),visibility:g.horizontal,extraScrollbarClassName:"horizontal",scrollable:h,scrollByPage:g.scrollByPage});if(g.horizontalHasArrows){const o=(g.arrowSize-N.ARROW_IMG_SIZE)/2,d=(g.horizontalScrollbarSize-N.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonLeft,top:d,left:o,bottom:void 0,right:void 0,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonRight,top:d,left:void 0,bottom:void 0,right:o,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((g.horizontalScrollbarSize-g.horizontalSliderSize)/2),0,void 0,g.horizontalSliderSize)}_updateSlider(h,g){this.slider.setWidth(h),this.slider.setLeft(g)}_renderDomNode(h,g){this.domNode.setWidth(h),this.domNode.setHeight(g),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(h){return this._shouldRender=this._onElementScrollSize(h.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(h.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(h.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(h,g){return h}_sliderMousePosition(h){return h.posx}_sliderOrthogonalMousePosition(h){return h.posy}_updateScrollbarSize(h){this.slider.setHeight(h)}writeScrollPosition(h,g){h.scrollLeft=g}updateOptions(h){this.updateScrollbarSize(h.horizontal===2?0:h.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(h.vertical===2?0:h.verticalScrollbarSize),this._visibilityController.setVisibility(h.horizontal),this._scrollByPage=h.scrollByPage}}e.HorizontalScrollbar=b}),define(ee[319],te([0,1,57,216,168,210,27]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class b extends m.AbstractScrollbar{constructor(h,g,t){const i=h.getScrollDimensions(),n=h.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:t,scrollbarState:new I.ScrollbarState(g.verticalHasArrows?g.arrowSize:0,g.vertical===2?0:g.verticalScrollbarSize,0,i.height,i.scrollHeight,n.scrollTop),visibility:g.vertical,extraScrollbarClassName:"vertical",scrollable:h,scrollByPage:g.scrollByPage});if(g.verticalHasArrows){const o=(g.arrowSize-N.ARROW_IMG_SIZE)/2,d=(g.verticalScrollbarSize-N.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonUp,top:o,left:d,bottom:void 0,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonDown,top:void 0,left:d,bottom:o,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((g.verticalScrollbarSize-g.verticalSliderSize)/2),g.verticalSliderSize,void 0)}_updateSlider(h,g){this.slider.setHeight(h),this.slider.setTop(g)}_renderDomNode(h,g){this.domNode.setWidth(g),this.domNode.setHeight(h),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(h){return this._shouldRender=this._onElementScrollSize(h.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(h.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(h.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(h,g){return g}_sliderMousePosition(h){return h.posy}_sliderOrthogonalMousePosition(h){return h.posx}_updateScrollbarSize(h){this.slider.setWidth(h)}writeScrollPosition(h,g){h.scrollTop=g}updateOptions(h){this.updateScrollbarSize(h.vertical===2?0:h.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(h.vertical),this._scrollByPage=h.scrollByPage}}e.VerticalScrollbar=b}),define(ee[41],te([0,1,164,49,81,17,8,25]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function C(t){return(0,b.uriToFsPath)(t,!0)}e.originalFSPath=C;class h{constructor(i){this._ignorePathCasing=i}compare(i,n,o=!1){return i===n?0:(0,S.compare)(this.getComparisonKey(i,o),this.getComparisonKey(n,o))}isEqual(i,n,o=!1){return i===n?!0:!i||!n?!1:this.getComparisonKey(i,o)===this.getComparisonKey(n,o)}getComparisonKey(i,n=!1){return i.with({path:this._ignorePathCasing(i)?i.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}isEqualOrParent(i,n,o=!1){if(i.scheme===n.scheme){if(i.scheme===m.Schemas.file)return y.isEqualOrParent(C(i),C(n),this._ignorePathCasing(i))&&i.query===n.query&&(o||i.fragment===n.fragment);if((0,e.isEqualAuthority)(i.authority,n.authority))return y.isEqualOrParent(i.path,n.path,this._ignorePathCasing(i),"/")&&i.query===n.query&&(o||i.fragment===n.fragment)}return!1}joinPath(i,...n){return b.URI.joinPath(i,...n)}basenameOrAuthority(i){return(0,e.basename)(i)||i.authority}basename(i){return N.posix.basename(i.path)}extname(i){return N.posix.extname(i.path)}dirname(i){if(i.path.length===0)return i;let n;return i.scheme===m.Schemas.file?n=b.URI.file(N.dirname(C(i))).path:(n=N.posix.dirname(i.path),i.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),n="/")),i.with({path:n})}normalizePath(i){if(!i.path.length)return i;let n;return i.scheme===m.Schemas.file?n=b.URI.file(N.normalize(C(i))).path:n=N.posix.normalize(i.path),i.with({path:n})}relativePath(i,n){if(i.scheme!==n.scheme||!(0,e.isEqualAuthority)(i.authority,n.authority))return;if(i.scheme===m.Schemas.file){const c=N.relative(C(i),C(n));return I.isWindows?y.toSlashes(c):c}let o=i.path||"/",d=n.path||"/";if(this._ignorePathCasing(i)){let c=0;for(const s=Math.min(o.length,d.length);c<s&&!(o.charCodeAt(c)!==d.charCodeAt(c)&&o.charAt(c).toLowerCase()!==d.charAt(c).toLowerCase());c++);o=d.substr(0,c)+o.substr(c)}return N.posix.relative(o,d)}resolvePath(i,n){if(i.scheme===m.Schemas.file){const o=b.URI.file(N.resolve(C(i),n));return i.with({authority:o.authority,path:o.path})}return n=y.toPosixPath(n),i.with({path:N.posix.resolve(i.path,n)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,n){return i===n||i!==void 0&&n!==void 0&&(0,S.equalsIgnoreCase)(i,n)}hasTrailingPathSeparator(i,n=N.sep){if(i.scheme===m.Schemas.file){const o=C(i);return o.length>y.getRoot(o).length&&o[o.length-1]===n}else{const o=i.path;return o.length>1&&o.charCodeAt(o.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,n=N.sep){return(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,n=N.sep){let o=!1;if(i.scheme===m.Schemas.file){const d=C(i);o=d!==void 0&&d.length===y.getRoot(d).length&&d[d.length-1]===n}else{n="/";const d=i.path;o=d.length===1&&d.charCodeAt(d.length-1)===47}return!o&&!(0,e.hasTrailingPathSeparator)(i,n)?i.with({path:i.path+"/"}):i}}e.ExtUri=h,e.extUri=new h(()=>!1),e.extUriBiasedIgnorePathCase=new h(t=>t.scheme===m.Schemas.file?!I.isLinux:!0),e.extUriIgnorePathCase=new h(t=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var g;(function(t){t.META_DATA_LABEL="label",t.META_DATA_DESCRIPTION="description",t.META_DATA_SIZE="size",t.META_DATA_MIME="mime";function i(n){const o=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(s=>{const[a,r]=s.split(":");a&&r&&o.set(a,r)});const c=n.path.substring(0,n.path.indexOf(";"));return c&&o.set(t.META_DATA_MIME,c),o}t.parseMetaData=i})(g=e.DataUri||(e.DataUri={}))}),define(ee[320],te([0,1,7,748,88,167,57,110,10,21,14,4,65,94,132,2,749,214,49,38,41,8,25]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function w(_,L={},E={}){var M;const k=new d.DisposableStore;let A=!1;const F=k.add(new h.CancellationTokenSource),B=(0,I.createElement)(L),T=function(G){let se;try{se=(0,s.parse)(decodeURIComponent(G))}catch{}return se?(se=(0,r.cloneAndChange)(se,ne=>{if(_.uris&&_.uris[ne])return f.URI.revive(_.uris[ne])}),encodeURIComponent(JSON.stringify(se))):G},R=function(G,se){const ne=_.uris&&_.uris[G];let Z=f.URI.revive(ne);return se?G.startsWith(a.Schemas.data+":")?G:(Z||(Z=f.URI.parse(G)),a.FileAccess.asBrowserUri(Z).toString(!0)):!Z||f.URI.parse(G).toString()===Z.toString()?G:(Z.query&&(Z=Z.with({query:T(Z.query)})),Z.toString())};let O;const P=new Promise(G=>O=G),D=new c.Renderer;if(D.image=(G,se,ne)=>{let Z=[],U=[];return G&&({href:G,dimensions:Z}=(0,i.parseHrefAndDimensions)(G),U.push(`src="${G}"`)),ne&&U.push(`alt="${ne}"`),se&&U.push(`title="${se}"`),Z.length&&(U=U.concat(Z)),"<img "+U.join(" ")+">"},D.link=(G,se,ne)=>(G===ne&&(ne=(0,i.removeMarkdownEscapes)(ne)),G=R(G,!1),L.baseUrl&&(/^\w[\w\d+.-]*:/.test(G)||(G=(0,l.resolvePath)(L.baseUrl,G).toString())),se=(0,i.removeMarkdownEscapes)(se),G=(0,i.removeMarkdownEscapes)(G),!G||G.match(/^data:|javascript:/i)||G.match(/^command:/i)&&!_.isTrusted||G.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?ne:(G=G.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a data-href="${G}" title="${se||G}">${ne}</a>`)),D.paragraph=G=>`<p>${G}</p>`,L.codeBlockRenderer&&(D.code=(G,se)=>{const ne=L.codeBlockRenderer(se,G),Z=o.defaultGenerator.nextId();return(0,C.raceCancellation)(Promise.all([ne,P]),F.token).then(U=>{var W;if(!A&&U){const V=B.querySelector(`div[data-code="${Z}"]`);V&&y.reset(V,U[0]),(W=L.asyncRenderCallback)===null||W===void 0||W.call(L)}}).catch(()=>{}),`<div class="code" data-code="${Z}">${(0,u.escape)(G)}</div>`}),L.actionHandler){const G=L.actionHandler.disposables.add(new N.DomEmitter(B,"click")),se=L.actionHandler.disposables.add(new N.DomEmitter(B,"auxclick"));L.actionHandler.disposables.add(t.Event.any(G.event,se.event)(ne=>{const Z=new S.StandardMouseEvent(ne);if(!Z.leftButton&&!Z.middleButton)return;let U=Z.target;if(!(U.tagName!=="A"&&(U=U.parentElement,!U||U.tagName!=="A")))try{const W=U.dataset.href;W&&L.actionHandler.callback(W,Z)}catch(W){(0,g.onUnexpectedError)(W)}finally{Z.preventDefault()}}))}_.supportHtml||(E.sanitizer=G=>(_.isTrusted?G.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?G:"",E.sanitize=!0,E.silent=!0),E.renderer=D;let x=(M=_.value)!==null&&M!==void 0?M:"";x.length>1e5&&(x=`${x.substr(0,1e5)}\u2026`),_.supportThemeIcons&&(x=(0,n.markdownEscapeEscapedIcons)(x));let H=c.parse(x,E);_.supportThemeIcons&&(H=(0,b.renderLabelWithIcons)(H).map(se=>typeof se=="string"?se:se.outerHTML).join(""));const Q=new DOMParser().parseFromString(v(_,H),"text/html");if(Q.body.querySelectorAll("img").forEach(G=>{if(G.src){let se=R(G.src,!0);try{const ne=f.URI.parse(se);L.baseUrl&&ne.scheme===a.Schemas.file&&(se=(0,l.resolvePath)(L.baseUrl,se).toString())}catch{}G.src=se}}),B.innerHTML=v(_,Q.body.innerHTML),O(),L.asyncRenderCallback)for(const G of B.getElementsByTagName("img")){const se=k.add(y.addDisposableListener(G,"load",()=>{se.dispose(),L.asyncRenderCallback()}))}return{element:B,dispose:()=>{A=!0,F.cancel(),k.dispose()}}}e.renderMarkdown=w;function v(_,L){const{config:E,allowedSchemes:M}=p(_);m.addHook("uponSanitizeAttribute",(A,F)=>{if(F.attrName==="style"||F.attrName==="class"){if(A.tagName==="SPAN"){if(F.attrName==="style"){F.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(F.attrValue);return}else if(F.attrName==="class"){F.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(F.attrValue);return}}F.keepAttr=!1;return}});const k=document.createElement("a");m.addHook("afterSanitizeAttributes",A=>{for(const F of["href","src"])A.hasAttribute(F)&&(k.href=A.getAttribute(F),M.includes(k.protocol.replace(/:$/,""))||A.removeAttribute(F))});try{return m.sanitize(L,Object.assign(Object.assign({},E),{RETURN_TRUSTED_TYPE:!0}))}finally{m.removeHook("uponSanitizeAttribute"),m.removeHook("afterSanitizeAttributes")}}function p(_){const L=[a.Schemas.http,a.Schemas.https,a.Schemas.mailto,a.Schemas.data,a.Schemas.file,a.Schemas.vscodeFileResource,a.Schemas.vscodeRemote,a.Schemas.vscodeRemoteResource];return _.isTrusted&&L.push(a.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:L}}}),define(ee[169],te([0,1,164,49,17,41,25]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function b(g){if(!g)return;typeof g=="string"&&(g=S.URI.file(g));const t=(0,I.basename)(g)||(g.scheme===m.Schemas.file?g.fsPath:g.path);return N.isWindows&&(0,y.isRootOrDriveLetter)(t)?C(t):t}e.getBaseLabel=b;function C(g,t){return(0,y.hasDriveLetter)(g,t)?g.charAt(0).toUpperCase()+g.slice(1):g}e.normalizeDriveLetter=C;let h=Object.create(null)}),define(ee[321],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const y=new Uint8Array(16),m=[];for(let S=0;S<256;S++)m.push(S.toString(16).padStart(2,"0"));let N;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?N=crypto.getRandomValues.bind(crypto):N=function(S){for(let b=0;b<S.length;b++)S[b]=Math.floor(Math.random()*256);return S};function I(){N(y),y[6]=y[6]&15|64,y[8]=y[8]&63|128;let S=0,b="";return b+=m[y[S++]],b+=m[y[S++]],b+=m[y[S++]],b+=m[y[S++]],b+="-",b+=m[y[S++]],b+=m[y[S++]],b+="-",b+=m[y[S++]],b+=m[y[S++]],b+="-",b+=m[y[S++]],b+=m[y[S++]],b+="-",b+=m[y[S++]],b+=m[y[S++]],b+=m[y[S++]],b+=m[y[S++]],b+=m[y[S++]],b+=m[y[S++]],b}e.generateUuid=I}),define(ee[217],te([0,1,14,4,2,17,20,8]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const C="$initialize";let h=!1;function g(w){!I.isWeb||(h||(h=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(w.message))}e.logOnceWebWorkerWarning=g;class t{constructor(v,p,_,L){this.vsWorker=v,this.req=p,this.method=_,this.args=L,this.type=0}}class i{constructor(v,p,_,L){this.vsWorker=v,this.seq=p,this.res=_,this.err=L,this.type=1}}class n{constructor(v,p,_,L){this.vsWorker=v,this.req=p,this.eventName=_,this.arg=L,this.type=2}}class o{constructor(v,p,_){this.vsWorker=v,this.req=p,this.event=_,this.type=3}}class d{constructor(v,p){this.vsWorker=v,this.req=p,this.type=4}}class c{constructor(v){this._workerId=-1,this._handler=v,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(v){this._workerId=v}sendMessage(v,p){const _=String(++this._lastSentReq);return new Promise((L,E)=>{this._pendingReplies[_]={resolve:L,reject:E},this._send(new t(this._workerId,_,v,p))})}listen(v,p){let _=null;const L=new m.Emitter({onFirstListenerAdd:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,L),this._send(new n(this._workerId,_,v,p))},onLastListenerRemove:()=>{this._pendingEmitters.delete(_),this._send(new d(this._workerId,_)),_=null}});return L.event}handleMessage(v){!v||!v.vsWorker||this._workerId!==-1&&v.vsWorker!==this._workerId||this._handleMessage(v)}_handleMessage(v){switch(v.type){case 1:return this._handleReplyMessage(v);case 0:return this._handleRequestMessage(v);case 2:return this._handleSubscribeEventMessage(v);case 3:return this._handleEventMessage(v);case 4:return this._handleUnsubscribeEventMessage(v)}}_handleReplyMessage(v){if(!this._pendingReplies[v.seq]){console.warn("Got reply to unknown seq");return}let p=this._pendingReplies[v.seq];if(delete this._pendingReplies[v.seq],v.err){let _=v.err;v.err.$isError&&(_=new Error,_.name=v.err.name,_.message=v.err.message,_.stack=v.err.stack),p.reject(_);return}p.resolve(v.res)}_handleRequestMessage(v){let p=v.req;this._handler.handleMessage(v.method,v.args).then(L=>{this._send(new i(this._workerId,p,L,void 0))},L=>{L.detail instanceof Error&&(L.detail=(0,y.transformErrorForSerialization)(L.detail)),this._send(new i(this._workerId,p,void 0,(0,y.transformErrorForSerialization)(L)))})}_handleSubscribeEventMessage(v){const p=v.req,_=this._handler.handleEvent(v.eventName,v.arg)(L=>{this._send(new o(this._workerId,p,L))});this._pendingEvents.set(p,_)}_handleEventMessage(v){if(!this._pendingEmitters.has(v.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(v.req).fire(v.event)}_handleUnsubscribeEventMessage(v){if(!this._pendingEvents.has(v.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(v.req).dispose(),this._pendingEvents.delete(v.req)}_send(v){let p=[];if(v.type===0)for(let _=0;_<v.args.length;_++)v.args[_]instanceof ArrayBuffer&&p.push(v.args[_]);else v.type===1&&v.res instanceof ArrayBuffer&&p.push(v.res);this._handler.sendMessage(v,p)}}class s extends N.Disposable{constructor(v,p,_){super();let L=null;this._worker=this._register(v.create("vs/base/common/worker/simpleWorker",F=>{this._protocol.handleMessage(F)},F=>{L&&L(F)})),this._protocol=new c({sendMessage:(F,B)=>{this._worker.postMessage(F,B)},handleMessage:(F,B)=>{if(typeof _[F]!="function")return Promise.reject(new Error("Missing method "+F+" on main thread host."));try{return Promise.resolve(_[F].apply(_,B))}catch(T){return Promise.reject(T)}},handleEvent:(F,B)=>{if(r(F)){const T=_[F].call(_,B);if(typeof T!="function")throw new Error(`Missing dynamic event ${F} on main thread host.`);return T}if(a(F)){const T=_[F];if(typeof T!="function")throw new Error(`Missing event ${F} on main thread host.`);return T}throw new Error(`Malformed event name ${F}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;typeof I.globals.require!="undefined"&&typeof I.globals.require.getConfig=="function"?E=I.globals.require.getConfig():typeof I.globals.requirejs!="undefined"&&(E=I.globals.requirejs.s.contexts._.config);const M=S.getAllMethodNames(_);this._onModuleLoaded=this._protocol.sendMessage(C,[this._worker.getId(),JSON.parse(JSON.stringify(E)),p,M]);const k=(F,B)=>this._request(F,B),A=(F,B)=>this._protocol.listen(F,B);this._lazyProxy=new Promise((F,B)=>{L=B,this._onModuleLoaded.then(T=>{F(l(T,k,A))},T=>{B(T),this._onError("Worker failed to load "+p,T)})})}getProxyObject(){return this._lazyProxy}_request(v,p){return new Promise((_,L)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(v,p).then(_,L)},L)})}_onError(v,p){console.error(v),console.info(p)}}e.SimpleWorkerClient=s;function a(w){return w[0]==="o"&&w[1]==="n"&&b.isUpperAsciiLetter(w.charCodeAt(2))}function r(w){return/^onDynamic/.test(w)&&b.isUpperAsciiLetter(w.charCodeAt(9))}function l(w,v,p){const _=M=>function(){const k=Array.prototype.slice.call(arguments,0);return v(M,k)},L=M=>function(k){return p(M,k)};let E={};for(const M of w){if(r(M)){E[M]=L(M);continue}if(a(M)){E[M]=p(M,void 0);continue}E[M]=_(M)}return E}class u{constructor(v,p){this._requestHandlerFactory=p,this._requestHandler=null,this._protocol=new c({sendMessage:(_,L)=>{v(_,L)},handleMessage:(_,L)=>this._handleMessage(_,L),handleEvent:(_,L)=>this._handleEvent(_,L)})}onmessage(v){this._protocol.handleMessage(v)}_handleMessage(v,p){if(v===C)return this.initialize(p[0],p[1],p[2],p[3]);if(!this._requestHandler||typeof this._requestHandler[v]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+v));try{return Promise.resolve(this._requestHandler[v].apply(this._requestHandler,p))}catch(_){return Promise.reject(_)}}_handleEvent(v,p){if(!this._requestHandler)throw new Error("Missing requestHandler");if(r(v)){const _=this._requestHandler[v].call(this._requestHandler,p);if(typeof _!="function")throw new Error(`Missing dynamic event ${v} on request handler.`);return _}if(a(v)){const _=this._requestHandler[v];if(typeof _!="function")throw new Error(`Missing event ${v} on request handler.`);return _}throw new Error(`Malformed event name ${v}`)}initialize(v,p,_,L){this._protocol.setWorkerId(v);const k=l(L,(A,F)=>this._protocol.sendMessage(A,F),(A,F)=>this._protocol.listen(A,F));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(k),Promise.resolve(S.getAllMethodNames(this._requestHandler))):(p&&(typeof p.baseUrl!="undefined"&&delete p.baseUrl,typeof p.paths!="undefined"&&typeof p.paths.vs!="undefined"&&delete p.paths.vs,typeof p.trustedTypesPolicy!==void 0&&delete p.trustedTypesPolicy,p.catchError=!0,I.globals.require.config(p)),new Promise((A,F)=>{(I.globals.require||K)([_],T=>{if(this._requestHandler=T.create(k),!this._requestHandler){F(new Error("No RequestHandler!"));return}A(S.getAllMethodNames(this._requestHandler))},F)}))}}e.SimpleWorkerServer=u;function f(w){return new u(w,null)}e.create=f}),define(ee[322],te([0,1,17,217]),function(K,e,y,m){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const I=(N=window.trustedTypes)===null||N===void 0?void 0:N.createPolicy("defaultWorkerFactory",{createScriptURL:t=>t});function S(t){if(y.globals.MonacoEnvironment){if(typeof y.globals.MonacoEnvironment.getWorker=="function")return y.globals.MonacoEnvironment.getWorker("workerMain.js",t);if(typeof y.globals.MonacoEnvironment.getWorkerUrl=="function"){const i=y.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",t);return new Worker(I?I.createScriptURL(i):i,{name:t})}}if(typeof K=="function"){const i=K.toUrl("vs/base/worker/workerMain.js"),n=b(i,t);return new Worker(I?I.createScriptURL(n):n,{name:t})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(t,i){if(/^((http:)|(https:)|(file:))/.test(t)&&t.substring(0,self.origin.length)!==self.origin){const n="vs/base/worker/defaultWorkerFactory.js",o=K.toUrl(n).slice(0,-n.length),d=`/*${i}*/self.MonacoEnvironment={baseUrl: '${o}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${t}') ?? '${t}');/*${i}*/`,c=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(c)}return t+"#"+i}e.getWorkerBootstrapUrl=b;function C(t){return typeof t.then=="function"}class h{constructor(i,n,o,d,c){this.id=n;const s=S(o);C(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(i,[]),this.worker.then(a=>{a.onmessage=function(r){d(r.data)},a.onmessageerror=c,typeof a.addEventListener=="function"&&a.addEventListener("error",c)})}getId(){return this.id}postMessage(i,n){this.worker&&this.worker.then(o=>o.postMessage(i,n))}dispose(){this.worker&&this.worker.then(i=>i.terminate()),this.worker=null}}class g{constructor(i){this._label=i,this._webWorkerFailedBeforeError=!1}create(i,n,o){let d=++g.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new h(i,d,this._label||"anonymous"+d,n,c=>{(0,m.logOnceWebWorkerWarning)(c),this._webWorkerFailedBeforeError=c,o(c)})}}e.DefaultWorkerFactory=g,g.LAST_WORKER_ID=0}),define(ee[218],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var y;(function(I){I[I.Blur=1]="Blur",I[I.Gesture=2]="Gesture",I[I.Other=3]="Other"})(y=e.QuickInputHideReason||(e.QuickInputHideReason={}));var m;(function(I){I[I.NONE=0]="NONE",I[I.FIRST=1]="FIRST",I[I.SECOND=2]="SECOND",I[I.LAST=3]="LAST"})(m=e.ItemActivation||(e.ItemActivation={}));class N{constructor(S){this.options=S}}e.QuickPickItemScorerAccessor=N,e.quickPickItemScorerAccessor=new N}),define(ee[323],te([0,1,10,4,2,20]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var S;(function(h){h[h.None=0]="None",h[h.Initialized=1]="Initialized",h[h.Closed=2]="Closed"})(S||(S={}));class b extends N.Disposable{constructor(g,t=Object.create(null)){super();this.database=g,this.options=t,this._onDidChangeStorage=this._register(new m.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new y.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(g=>this.onDidChangeItemsExternal(g)))}onDidChangeItemsExternal(g){var t,i;(t=g.changed)===null||t===void 0||t.forEach((n,o)=>this.accept(o,n)),(i=g.deleted)===null||i===void 0||i.forEach(n=>this.accept(n,void 0))}accept(g,t){if(this.state===S.Closed)return;let i=!1;(0,I.isUndefinedOrNull)(t)?i=this.cache.delete(g):this.cache.get(g)!==t&&(this.cache.set(g,t),i=!0),i&&this._onDidChangeStorage.fire(g)}get(g,t){const i=this.cache.get(g);return(0,I.isUndefinedOrNull)(i)?t:i}getBoolean(g,t){const i=this.get(g);return(0,I.isUndefinedOrNull)(i)?t:i==="true"}getNumber(g,t){const i=this.get(g);return(0,I.isUndefinedOrNull)(i)?t:parseInt(i,10)}set(g,t){return De(this,void 0,void 0,function*(){if(this.state===S.Closed)return;if((0,I.isUndefinedOrNull)(t))return this.delete(g);const i=String(t);if(this.cache.get(g)!==i)return this.cache.set(g,i),this.pendingInserts.set(g,i),this.pendingDeletes.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}delete(g){return De(this,void 0,void 0,function*(){if(!(this.state===S.Closed||!this.cache.delete(g)))return this.pendingDeletes.has(g)||this.pendingDeletes.add(g),this.pendingInserts.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return De(this,void 0,void 0,function*(){if(!this.hasPending)return;const g={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(g).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(g){return De(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),g)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=m.Event.None,this.items=new Map}updateItems(g){return De(this,void 0,void 0,function*(){g.insert&&g.insert.forEach((t,i)=>this.items.set(i,t)),g.delete&&g.delete.forEach(t=>this.items.delete(t))})}}e.InMemoryStorageDatabase=C}),define(ee[219],te([12]),{}),define(ee[324],te([12]),{}),define(ee[43],te([0,1,7,17,324]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const N=2e4;let I,S,b,C,h;function g(o){I=document.createElement("div"),I.className="monaco-aria-container";const d=()=>{const s=document.createElement("div");return s.className="monaco-alert",s.setAttribute("role","alert"),s.setAttribute("aria-atomic","true"),I.appendChild(s),s};S=d(),b=d();const c=()=>{const s=document.createElement("div");return s.className="monaco-status",s.setAttribute("role","complementary"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","true"),I.appendChild(s),s};C=c(),h=c(),o.appendChild(I)}e.setARIAContainer=g;function t(o){!I||(S.textContent!==o?(y.clearNode(b),n(S,o)):(y.clearNode(S),n(b,o)))}e.alert=t;function i(o){!I||(m.isMacintosh?t(o):C.textContent!==o?(y.clearNode(h),n(C,o)):(y.clearNode(C),n(h,o)))}e.status=i;function n(o,d){y.clearNode(o),d.length>N&&(d=d.substr(0,N)),o.textContent=d,o.style.visibility="hidden",o.style.visibility="visible"}}),define(ee[325],te([12]),{}),define(ee[326],te([0,1,7,47,58,110,29,4,2,38,325]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const g={buttonBackground:S.Color.fromHex("#0E639C"),buttonHoverBackground:S.Color.fromHex("#006BB3"),buttonForeground:S.Color.white};class t extends C.Disposable{constructor(n,o){super();this._onDidClick=this._register(new b.Emitter),this.options=o||Object.create(null),(0,h.mixin)(this.options,g,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),n.appendChild(this._element),this._register(N.Gesture.addTarget(this._element)),[y.EventType.CLICK,N.EventType.Tap].forEach(d=>{this._register((0,y.addDisposableListener)(this._element,d,c=>{if(!this.enabled){y.EventHelper.stop(c);return}this._onDidClick.fire(c)}))}),this._register((0,y.addDisposableListener)(this._element,y.EventType.KEY_DOWN,d=>{const c=new m.StandardKeyboardEvent(d);let s=!1;this.enabled&&(c.equals(3)||c.equals(10))?(this._onDidClick.fire(d),s=!0):c.equals(9)&&(this._element.blur(),s=!0),s&&y.EventHelper.stop(c,!0)})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OUT,d=>{this.applyStyles()})),this.focusTracker=this._register((0,y.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let n;this.options.secondary?n=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:n=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,n&&(this._element.style.backgroundColor=n)}style(n){this.buttonForeground=n.buttonForeground,this.buttonBackground=n.buttonBackground,this.buttonHoverBackground=n.buttonHoverBackground,this.buttonSecondaryForeground=n.buttonSecondaryForeground,this.buttonSecondaryBackground=n.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=n.buttonSecondaryHoverBackground,this.buttonBorder=n.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let n,o;this.options.secondary?(o=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",n=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(o=this.buttonForeground?this.buttonForeground.toString():"",n=this.buttonBackground?this.buttonBackground.toString():"");const d=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=o,this._element.style.backgroundColor=n,this._element.style.borderWidth=d?"1px":"",this._element.style.borderStyle=d?"solid":"",this._element.style.borderColor=d}}get element(){return this._element}set label(n){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,y.reset)(this._element,...(0,I.renderLabelWithIcons)(n)):this._element.textContent=n,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=n)}set enabled(n){n?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=t}),define(ee[327],te([12]),{}),define(ee[170],te([0,1,60,27,29,4,327]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const S={inputActiveOptionBorder:N.Color.fromHex("#007ACC00"),inputActiveOptionForeground:N.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:N.Color.fromHex("#0E639C50")};class b extends y.Widget{constructor(h){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new I.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),h),this._checked=this._opts.isChecked;const g=["monaco-custom-checkbox"];this._opts.icon&&g.push(...m.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&g.push(...this._opts.actionClassName.split(" ")),this._checked&&g.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...g),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,t=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),t.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,t=>{if(t.keyCode===10||t.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),t.preventDefault();return}this._onKeyDown.fire(t)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(h){this._checked=h,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(h){h.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=h.inputActiveOptionBorder),h.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=h.inputActiveOptionForeground),h.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=h.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=b}),define(ee[328],te([12]),{}),define(ee[329],te([12]),{}),define(ee[139],te([0,1,27,328,329]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function m(N){let I=N.definition;for(;I instanceof y.Codicon;)I=I.definition;return`.codicon-${N.id}:before { content: '${I.fontCharacter}'; }`}e.formatRule=m}),define(ee[330],te([12]),{}),define(ee[220],te([0,1,163,7,2,17,135,330]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var b;(function(t){t[t.AVOID=0]="AVOID",t[t.ALIGN=1]="ALIGN"})(b=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function C(t,i,n){const o=n.mode===b.ALIGN?n.offset:n.offset+n.size,d=n.mode===b.ALIGN?n.offset+n.size:n.offset;return n.position===0?i<=t-o?o:i<=d?d-i:Math.max(t-i,0):i<=d?d-i:i<=t-o?o:0}e.layout=C;class h extends N.Disposable{constructor(i,n){super();this.container=null,this.delegate=null,this.toDisposeOnClean=N.Disposable.None,this.toDisposeOnSetContainer=N.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=m.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,m.hide(this.view),this.setContainer(i,n),this._register((0,N.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,n){var o;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i){if(this.container=i,this.useFixedPosition=n!==1,this.useShadowDOM=n===3,this.useShadowDOM){this.shadowRootHostElement=m.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const c=document.createElement("style");c.textContent=g,this.shadowRoot.appendChild(c),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(m.$("slot"))}else this.container.appendChild(this.view);const d=new N.DisposableStore;h.BUBBLE_UP_EVENTS.forEach(c=>{d.add(m.addStandardDisposableListener(this.container,c,s=>{this.onDOMEvent(s,!1)}))}),h.BUBBLE_DOWN_EVENTS.forEach(c=>{d.add(m.addStandardDisposableListener(this.container,c,s=>{this.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=d}}show(i){this.isVisible()&&this.hide(),m.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",m.show(this.view),this.toDisposeOnClean=i.render(this.view)||N.Disposable.None,this.delegate=i,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(I.isIOS&&y.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let i=this.delegate.getAnchor(),n;if(m.isHTMLElement(i)){let f=m.getDomNodePagePosition(i);n={top:f.top,left:f.left,width:f.width,height:f.height}}else n={top:i.y,left:i.x,width:i.width||1,height:i.height||2};const o=m.getTotalWidth(this.view),d=m.getTotalHeight(this.view),c=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let r,l;if(a===0){const f={offset:n.top-window.pageYOffset,size:n.height,position:c===0?0:1},w={offset:n.left,size:n.width,position:s===0?0:1,mode:b.ALIGN};r=C(window.innerHeight,d,f)+window.pageYOffset,S.Range.intersects({start:r,end:r+d},{start:f.offset,end:f.offset+f.size})&&(w.mode=b.AVOID),l=C(window.innerWidth,o,w)}else{const f={offset:n.left,size:n.width,position:s===0?0:1},w={offset:n.top,size:n.height,position:c===0?0:1,mode:b.ALIGN};l=C(window.innerWidth,o,f),S.Range.intersects({start:l,end:l+o},{start:f.offset,end:f.offset+f.size})&&(w.mode=b.AVOID),r=C(window.innerHeight,d,w)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(c===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=m.getDomNodePagePosition(this.container);this.view.style.top=`${r-(this.useFixedPosition?m.getDomNodePagePosition(this.view).top:u.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?m.getDomNodePagePosition(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(i){const n=this.delegate;this.delegate=null,(n==null?void 0:n.onHide)&&n.onHide(i),this.toDisposeOnClean.dispose(),m.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,document.activeElement):n&&!m.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=h,h.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],h.BUBBLE_DOWN_EVENTS=["click"];let g=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ee[331],te([12]),{}),define(ee[221],te([0,1,7,29,38,8,331]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:m.Color.fromHex("#4D4D4D"),badgeForeground:m.Color.fromHex("#FFFFFF")};class b{constructor(h,g){this.count=0,this.options=g||Object.create(null),(0,N.mixin)(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,y.append)(h,(0,y.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(h){this.count=h,this.render()}setTitleFormat(h){this.titleFormat=h,this.render()}render(){this.element.textContent=(0,I.format)(this.countFormat,this.count),this.element.title=(0,I.format)(this.titleFormat,this.count),this.applyStyles()}style(h){this.badgeBackground=h.badgeBackground,this.badgeForeground=h.badgeForeground,this.badgeBorder=h.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const h=this.badgeBackground?this.badgeBackground.toString():"",g=this.badgeForeground?this.badgeForeground.toString():"",t=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=h,this.element.style.color=g,this.element.style.borderWidth=t?"1px":"",this.element.style.borderStyle=t?"solid":"",this.element.style.borderColor=t}}}e.CountBadge=b}),define(ee[222],te([12]),{}),define(ee[223],te([12]),{}),define(ee[332],te([12]),{}),define(ee[333],te([12]),{}),define(ee[334],te([12]),{}),define(ee[335],te([12]),{}),define(ee[224],te([12]),{}),define(ee[336],te([12]),{}),define(ee[140],te([0,1,336]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ee[337],te([12]),{}),define(ee[338],te([0,1,7,10,29,2,38,337]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const b="done",C="active",h="infinite",g="infinite-long-running",t="discrete",i={progressBarBackground:N.Color.fromHex("#0E70C0")};class n extends I.Disposable{constructor(d,c){super();this.options=c||Object.create(null),(0,S.mixin)(this.options,i,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new m.RunOnceScheduler(()=>(0,y.show)(this.element),0)),this.longRunningScheduler=this._register(new m.RunOnceScheduler(()=>this.infiniteLongRunning(),n.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(d)}create(d){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),d.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(C,h,g,t),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(d){return this.element.classList.add(b),this.element.classList.contains(h)?(this.bit.style.opacity="0",d?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",d?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(t,b,g),this.element.classList.add(C,h),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(g)}getContainer(){return this.element}style(d){this.progressBarBackground=d.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const d=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=d}}}e.ProgressBar=n,n.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(ee[339],te([12]),{}),define(ee[111],te([0,1,7,88,58,10,92,4,2,17,339]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let g=!1;var t;(function(u){u.North="north",u.South="south",u.East="east",u.West="west"})(t=e.OrthogonalEdge||(e.OrthogonalEdge={}));let i=4;const n=new b.Emitter;let o=300;const d=new b.Emitter;class c{constructor(){this.disposables=new C.DisposableStore}get onPointerMove(){return this.disposables.add(new m.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new m.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Be([S.memoize],c.prototype,"onPointerMove",null),Be([S.memoize],c.prototype,"onPointerUp",null);class s{constructor(f){this.el=f,this.disposables=new C.DisposableStore}get onPointerMove(){return this.disposables.add(new m.DomEmitter(this.el,N.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new m.DomEmitter(this.el,N.EventType.End)).event}dispose(){this.disposables.dispose()}}Be([S.memoize],s.prototype,"onPointerMove",null),Be([S.memoize],s.prototype,"onPointerUp",null);class a{constructor(f){this.factory=f}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Be([S.memoize],a.prototype,"onPointerMove",null),Be([S.memoize],a.prototype,"onPointerUp",null);const r="pointer-events-disabled";class l extends C.Disposable{constructor(f,w,v){super();this.hoverDelay=o,this.hoverDelayer=this._register(new I.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new b.Emitter),this._onDidStart=this._register(new b.Emitter),this._onDidChange=this._register(new b.Emitter),this._onDidReset=this._register(new b.Emitter),this._onDidEnd=this._register(new b.Emitter),this.orthogonalStartSashDisposables=this._register(new C.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new C.DisposableStore),this.orthogonalEndSashDisposables=this._register(new C.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new C.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,y.append)(f,(0,y.$)(".monaco-sash")),v.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${v.orthogonalEdge}`),h.isMacintosh&&this.el.classList.add("mac");const p=this._register(new m.DomEmitter(this.el,"mousedown")).event;this._register(p(F=>this.onPointerStart(F,new c),this));const _=this._register(new m.DomEmitter(this.el,"dblclick")).event;this._register(_(this.onPointerDoublePress,this));const L=this._register(new m.DomEmitter(this.el,"mouseenter")).event;this._register(L(()=>l.onMouseEnter(this)));const E=this._register(new m.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>l.onMouseLeave(this))),this._register(N.Gesture.addTarget(this.el));const M=b.Event.map(this._register(new m.DomEmitter(this.el,N.EventType.Start)).event,F=>{var B;return Object.assign(Object.assign({},F),{target:(B=F.initialTarget)!==null&&B!==void 0?B:null})});this._register(M(F=>this.onPointerStart(F,new s(this.el)),this));const k=this._register(new m.DomEmitter(this.el,N.EventType.Tap)).event,A=b.Event.map(b.Event.filter(b.Event.debounce(k,(F,B)=>{var T;return{event:B,count:((T=F==null?void 0:F.count)!==null&&T!==void 0?T:0)+1}},250),({count:F})=>F===2),({event:F})=>{var B;return Object.assign(Object.assign({},F),{target:(B=F.initialTarget)!==null&&B!==void 0?B:null})});this._register(A(this.onPointerDoublePress,this)),typeof v.size=="number"?(this.size=v.size,v.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=i,this._register(n.event(F=>{this.size=F,this.layout()}))),this._register(d.event(F=>this.hoverDelay=F)),this.layoutProvider=w,this.orthogonalStartSash=v.orthogonalStartSash,this.orthogonalEndSash=v.orthogonalEndSash,this.orientation=v.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",g),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(f){this._state!==f&&(this.el.classList.toggle("disabled",f===0),this.el.classList.toggle("minimum",f===1),this.el.classList.toggle("maximum",f===2),this._state=f,this.onDidEnablementChange.fire(f))}set orthogonalStartSash(f){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),f){const w=v=>{this.orthogonalStartDragHandleDisposables.clear(),v!==0&&(this._orthogonalStartDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,C.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new m.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>l.onMouseEnter(f),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new m.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>l.onMouseLeave(f),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(f.onDidEnablementChange.event(w,this)),w(f.state)}this._orthogonalStartSash=f}set orthogonalEndSash(f){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),f){const w=v=>{this.orthogonalEndDragHandleDisposables.clear(),v!==0&&(this._orthogonalEndDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,C.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new m.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>l.onMouseEnter(f),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new m.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>l.onMouseLeave(f),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(f.onDidEnablementChange.event(w,this)),w(f.state)}this._orthogonalEndSash=f}onPointerStart(f,w){y.EventHelper.stop(f);let v=!1;if(!f.__orthogonalSashEvent){const R=this.getOrthogonalSash(f);R&&(v=!0,f.__orthogonalSashEvent=!0,R.onPointerStart(f,new a(w)))}if(this.linkedSash&&!f.__linkedSashEvent&&(f.__linkedSashEvent=!0,this.linkedSash.onPointerStart(f,new a(w))),!this.state)return;const p=(0,y.getElementsByTagName)("iframe");for(const R of p)R.classList.add(r);const _=f.pageX,L=f.pageY,E=f.altKey,M={startX:_,currentX:_,startY:L,currentY:L,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(M);const k=(0,y.createStyleSheet)(this.el),A=()=>{let R="";v?R="all-scroll":this.orientation===1?this.state===1?R="s-resize":this.state===2?R="n-resize":R=h.isMacintosh?"row-resize":"ns-resize":this.state===1?R="e-resize":this.state===2?R="w-resize":R=h.isMacintosh?"col-resize":"ew-resize",k.textContent=`* { cursor: ${R} !important; }`},F=new C.DisposableStore;A(),v||this.onDidEnablementChange.event(A,null,F);const B=R=>{y.EventHelper.stop(R,!1);const O={startX:_,currentX:R.pageX,startY:L,currentY:R.pageY,altKey:E};this._onDidChange.fire(O)},T=R=>{y.EventHelper.stop(R,!1),this.el.removeChild(k),this.el.classList.remove("active"),this._onDidEnd.fire(),F.dispose();for(const O of p)O.classList.remove(r)};w.onPointerMove(B,null,F),w.onPointerUp(T,null,F),F.add(w)}onPointerDoublePress(f){const w=this.getOrthogonalSash(f);w&&w._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(f,w=!1){f.el.classList.contains("active")?(f.hoverDelayer.cancel(),f.el.classList.add("hover")):f.hoverDelayer.trigger(()=>f.el.classList.add("hover"),f.hoverDelay).then(void 0,()=>{}),!w&&f.linkedSash&&l.onMouseEnter(f.linkedSash,!0)}static onMouseLeave(f,w=!1){f.hoverDelayer.cancel(),f.el.classList.remove("hover"),!w&&f.linkedSash&&l.onMouseLeave(f.linkedSash,!0)}clearSashHoverState(){l.onMouseLeave(this)}layout(){if(this.orientation===0){const f=this.layoutProvider;this.el.style.left=f.getVerticalSashLeft(this)-this.size/2+"px",f.getVerticalSashTop&&(this.el.style.top=f.getVerticalSashTop(this)+"px"),f.getVerticalSashHeight&&(this.el.style.height=f.getVerticalSashHeight(this)+"px")}else{const f=this.layoutProvider;this.el.style.top=f.getHorizontalSashTop(this)-this.size/2+"px",f.getHorizontalSashLeft&&(this.el.style.left=f.getHorizontalSashLeft(this)+"px"),f.getHorizontalSashWidth&&(this.el.style.width=f.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(f){if(!(!f.target||!(f.target instanceof HTMLElement))&&f.target.classList.contains("orthogonal-drag-handle"))return f.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=l}),define(ee[340],te([12]),{}),define(ee[66],te([0,1,33,7,31,57,318,319,60,10,4,2,17,136,340]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const o=500,d=50,c=!0;class s{constructor(p,_,L){this.timestamp=p,this.deltaX=_,this.deltaY=L,this.score=0}}class a{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let p=1,_=0,L=1,E=this._rear;do{const M=E===this._front?p:Math.pow(2,-L);if(p-=M,_+=this._memory[E].score*M,E===this._front)break;E=(this._capacity+E-1)%this._capacity,L++}while(!0);return _<=.5}accept(p,_,L){const E=new s(p,_,L);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(p){if(Math.abs(p.deltaX)>0&&Math.abs(p.deltaY)>0)return 1;let _=.5;const L=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(p.deltaX)||!this._isAlmostInt(p.deltaY))&&(_+=.25),Math.min(Math.max(_,0),1)}_isAlmostInt(p){return Math.abs(Math.round(p)-p)<.01}}e.MouseWheelClassifier=a,a.INSTANCE=new a;class r extends C.Widget{constructor(p,_,L){super();this._onScroll=this._register(new g.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new g.Emitter),p.style.overflow="hidden",this._options=w(_),this._scrollable=L,this._register(this._scrollable.onScroll(M=>{this._onWillScroll.fire(M),this._onDidScroll(M),this._onScroll.fire(M)}));const E={onMouseWheel:M=>this._onMouseWheel(M),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(p),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,N.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,M=>this._onMouseOver(M)),this.onnonbubblingmouseout(this._listenOnDomNode,M=>this._onMouseOut(M)),this._hideTimeout=this._register(new h.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,t.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(p){this._verticalScrollbar.delegateMouseDown(p)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(p){this._scrollable.setScrollDimensions(p,!1)}updateClassName(p){this._options.className=p,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(p){typeof p.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=p.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof p.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=p.mouseWheelScrollSensitivity),typeof p.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=p.fastScrollSensitivity),typeof p.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=p.scrollPredominantAxis),typeof p.horizontal!="undefined"&&(this._options.horizontal=p.horizontal),typeof p.vertical!="undefined"&&(this._options.vertical=p.vertical),typeof p.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=p.horizontalScrollbarSize),typeof p.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=p.verticalScrollbarSize),typeof p.scrollByPage!="undefined"&&(this._options.scrollByPage=p.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(p){if(this._mouseWheelToDispose.length>0!==p&&(this._mouseWheelToDispose=(0,t.dispose)(this._mouseWheelToDispose),p)){const L=E=>{this._onMouseWheel(new I.StandardWheelEvent(E))};this._mouseWheelToDispose.push(m.addDisposableListener(this._listenOnDomNode,m.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(p){const _=a.INSTANCE;if(c){const M=window.devicePixelRatio/(0,y.getZoomFactor)();i.isWindows||i.isLinux?_.accept(Date.now(),p.deltaX/M,p.deltaY/M):_.accept(Date.now(),p.deltaX,p.deltaY)}let L=!1;if(p.deltaY||p.deltaX){let M=p.deltaY*this._options.mouseWheelScrollSensitivity,k=p.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(M)>=Math.abs(k)?k=0:M=0),this._options.flipAxes&&([M,k]=[k,M]);const A=!i.isMacintosh&&p.browserEvent&&p.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!k&&(k=M,M=0),p.browserEvent&&p.browserEvent.altKey&&(k=k*this._options.fastScrollSensitivity,M=M*this._options.fastScrollSensitivity);const F=this._scrollable.getFutureScrollPosition();let B={};if(M){const T=d*M,R=F.scrollTop-(T<0?Math.floor(T):Math.ceil(T));this._verticalScrollbar.writeScrollPosition(B,R)}if(k){const T=d*k,R=F.scrollLeft-(T<0?Math.floor(T):Math.ceil(T));this._horizontalScrollbar.writeScrollPosition(B,R)}B=this._scrollable.validateScrollPosition(B),(F.scrollLeft!==B.scrollLeft||F.scrollTop!==B.scrollTop)&&(c&&this._options.mouseWheelSmoothScroll&&_.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(B):this._scrollable.setScrollPositionNow(B),L=!0)}let E=L;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(p.preventDefault(),p.stopPropagation())}_onDidScroll(p){this._shouldRender=this._horizontalScrollbar.onDidScroll(p)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(p)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const p=this._scrollable.getCurrentScrollPosition(),_=p.scrollTop>0,L=p.scrollLeft>0,E=L?" left":"",M=_?" top":"",k=L||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${M}`),this._topLeftShadowDomNode.setClassName(`shadow${k}${M}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(p){this._mouseIsOver=!1,this._hide()}_onMouseOver(p){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),o)}}e.AbstractScrollableElement=r;class l extends r{constructor(p,_){_=_||{},_.mouseWheelSmoothScroll=!1;const L=new n.Scrollable(0,E=>m.scheduleAtNextAnimationFrame(E));super(p,_,L);this._register(L)}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.ScrollableElement=l;class u extends r{constructor(p,_,L){super(p,_,L)}setScrollPosition(p){p.reuseAnimation?this._scrollable.setScrollPositionSmooth(p,p.reuseAnimation):this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=u;class f extends l{constructor(p,_){super(p,_);this._element=p,this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=f;function w(v){const p={lazyRender:typeof v.lazyRender!="undefined"?v.lazyRender:!1,className:typeof v.className!="undefined"?v.className:"",useShadows:typeof v.useShadows!="undefined"?v.useShadows:!0,handleMouseWheel:typeof v.handleMouseWheel!="undefined"?v.handleMouseWheel:!0,flipAxes:typeof v.flipAxes!="undefined"?v.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof v.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?v.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof v.alwaysConsumeMouseWheel!="undefined"?v.alwaysConsumeMouseWheel:!1,scrollYToX:typeof v.scrollYToX!="undefined"?v.scrollYToX:!1,mouseWheelScrollSensitivity:typeof v.mouseWheelScrollSensitivity!="undefined"?v.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof v.fastScrollSensitivity!="undefined"?v.fastScrollSensitivity:5,scrollPredominantAxis:typeof v.scrollPredominantAxis!="undefined"?v.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof v.mouseWheelSmoothScroll!="undefined"?v.mouseWheelSmoothScroll:!0,arrowSize:typeof v.arrowSize!="undefined"?v.arrowSize:11,listenOnDomNode:typeof v.listenOnDomNode!="undefined"?v.listenOnDomNode:null,horizontal:typeof v.horizontal!="undefined"?v.horizontal:1,horizontalScrollbarSize:typeof v.horizontalScrollbarSize!="undefined"?v.horizontalScrollbarSize:10,horizontalSliderSize:typeof v.horizontalSliderSize!="undefined"?v.horizontalSliderSize:0,horizontalHasArrows:typeof v.horizontalHasArrows!="undefined"?v.horizontalHasArrows:!1,vertical:typeof v.vertical!="undefined"?v.vertical:1,verticalScrollbarSize:typeof v.verticalScrollbarSize!="undefined"?v.verticalScrollbarSize:10,verticalHasArrows:typeof v.verticalHasArrows!="undefined"?v.verticalHasArrows:!1,verticalSliderSize:typeof v.verticalSliderSize!="undefined"?v.verticalSliderSize:0,scrollByPage:typeof v.scrollByPage!="undefined"?v.scrollByPage:!1};return p.horizontalSliderSize=typeof v.horizontalSliderSize!="undefined"?v.horizontalSliderSize:p.horizontalScrollbarSize,p.verticalSliderSize=typeof v.verticalSliderSize!="undefined"?v.verticalSliderSize:p.verticalScrollbarSize,i.isMacintosh&&(p.className+=" mac"),p}}),define(ee[225],te([0,1,7,66,2,332]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const I=y.$;class S extends N.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new m.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;class b extends N.Disposable{constructor(h,g,t){super();this.actionContainer=y.append(h,I("div.action-container")),this.action=y.append(this.actionContainer,I("a.action")),this.action.setAttribute("role","button"),g.iconClass&&y.append(this.action,I(`span.icon.${g.iconClass}`));const i=y.append(this.action,I("span"));i.textContent=t?`${g.label} (${t})`:g.label,this._register(y.addDisposableListener(this.actionContainer,y.EventType.MOUSE_DOWN,n=>{n.stopPropagation(),n.preventDefault(),g.run(this.actionContainer)})),this.setEnabled(!0)}static render(h,g,t){return new b(h,g,t)}setEnabled(h){h?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=b}),define(ee[171],te([0,1,33,162,7,88,58,66,19,10,92,4,2,38,135,136,311,317]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const a={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(p){return[p]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class r{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=r;class l{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class u{constructor(){this.types=[],this.files=[]}update(_){if(_.types&&this.types.splice(0,this.types.length,..._.types),_.files){this.files.splice(0,this.files.length);for(let L=0;L<_.files.length;L++){const E=_.files.item(L);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=u;function f(p,_){return Array.isArray(p)&&Array.isArray(_)?(0,C.equals)(p,_):p===_}class w{constructor(_){(_==null?void 0:_.getSetSize)?this.getSetSize=_.getSetSize.bind(_):this.getSetSize=(L,E,M)=>M,(_==null?void 0:_.getPosInSet)?this.getPosInSet=_.getPosInSet.bind(_):this.getPosInSet=(L,E)=>E+1,(_==null?void 0:_.getRole)?this.getRole=_.getRole.bind(_):this.getRole=L=>"listitem",(_==null?void 0:_.isChecked)?this.isChecked=_.isChecked.bind(_):this.isChecked=L=>{}}}class v{constructor(_,L,E,M=a){if(this.virtualDelegate=L,this.domId=`list_id_${++v.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new h.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=i.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=i.Disposable.None,this.onDragLeaveTimeout=i.Disposable.None,this.disposables=new i.DisposableStore,this._onDidChangeContentHeight=new t.Emitter,this._horizontalScrolling=!1,M.horizontalScrolling&&M.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new c.RangeMap;for(const A of E)this.renderers.set(A.templateId,A);this.cache=this.disposables.add(new s.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof M.mouseSupport=="boolean"?M.mouseSupport:!0),this._horizontalScrolling=(0,n.getOrDefault)(M,A=>A.horizontalScrolling,a.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof M.additionalScrollHeight=="undefined"?0:M.additionalScrollHeight,this.accessibilityProvider=new w(M.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,n.getOrDefault)(M,A=>A.transformOptimization,a.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(S.Gesture.addTarget(this.rowsContainer)),this.scrollable=new d.Scrollable((0,n.getOrDefault)(M,A=>A.smoothScrolling,!1)?125:0,A=>(0,N.scheduleAtNextAnimationFrame)(A)),this.scrollableElement=this.disposables.add(new b.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,n.getOrDefault)(M,A=>A.alwaysConsumeMouseWheel,a.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,n.getOrDefault)(M,A=>A.verticalScrollMode,a.verticalScrollMode),useShadows:(0,n.getOrDefault)(M,A=>A.useShadows,a.useShadows),mouseWheelScrollSensitivity:M.mouseWheelScrollSensitivity,fastScrollSensitivity:M.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),_.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,N.addDisposableListener)(this.rowsContainer,S.EventType.Change,A=>this.onTouchChange(A))),this.disposables.add((0,N.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",A=>A.target.scrollTop=0)),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragover",A=>this.onDragOver(this.toDragEvent(A)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"drop",A=>this.onDrop(this.toDragEvent(A)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragleave",A=>this.onDragLeave(this.toDragEvent(A)))),this.disposables.add((0,N.addDisposableListener)(this.domNode,"dragend",A=>this.onDragEnd(A))),this.setRowLineHeight=(0,n.getOrDefault)(M,A=>A.setRowLineHeight,a.setRowLineHeight),this.setRowHeight=(0,n.getOrDefault)(M,A=>A.setRowHeight,a.setRowHeight),this.supportDynamicHeights=(0,n.getOrDefault)(M,A=>A.supportDynamicHeights,a.supportDynamicHeights),this.dnd=(0,n.getOrDefault)(M,A=>A.dnd,a.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(_){if(_!==this._horizontalScrolling){if(_&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=_,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,N.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(_){_.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=_.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),_.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(_.smoothScrolling?125:0),_.horizontalScrolling!==void 0&&(this.horizontalScrolling=_.horizontalScrolling),_.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:_.mouseWheelScrollSensitivity}),_.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:_.fastScrollSensitivity})}splice(_,L,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(_,L,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(_,L,E=[]){const M=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),k={start:_,end:_+L},A=o.Range.intersect(M,k),F=new Map;for(let U=A.start;U<A.end;U++){const W=this.items[U];if(W.dragStartDisposable.dispose(),W.row){let V=F.get(W.templateId);V||(V=[],F.set(W.templateId,V));const Y=this.renderers.get(W.templateId);Y&&Y.disposeElement&&Y.disposeElement(W.element,U,W.row.templateData,W.size),V.push(W.row)}W.row=null}const B={start:_+L,end:this.items.length},T=o.Range.intersect(B,M),R=o.Range.relativeComplement(B,M),O=E.map(U=>({id:String(this.itemId++),element:U,templateId:this.virtualDelegate.getTemplateId(U),size:this.virtualDelegate.getHeight(U),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(U),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:i.Disposable.None}));let P;_===0&&L>=this.items.length?(this.rangeMap=new c.RangeMap,this.rangeMap.splice(0,0,O),P=this.items,this.items=O):(this.rangeMap.splice(_,L,O),P=this.items.splice(_,L,...O));const D=E.length-L,x=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),H=(0,c.shift)(T,D),j=o.Range.intersect(x,H);for(let U=j.start;U<j.end;U++)this.updateItemInDOM(this.items[U],U);const Q=o.Range.relativeComplement(H,x);for(const U of Q)for(let W=U.start;W<U.end;W++)this.removeItemFromDOM(W);const G=R.map(U=>(0,c.shift)(U,D)),ne=[{start:_,end:_+E.length},...G].map(U=>o.Range.intersect(x,U)),Z=this.getNextToLastElement(ne);for(const U of ne)for(let W=U.start;W<U.end;W++){const V=this.items[W],Y=F.get(V.templateId),X=Y==null?void 0:Y.pop();this.insertItemInDOM(W,Z,X)}for(const U of F.values())for(const W of U)this.cache.release(W);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),P.map(U=>U.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,N.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let _=0;for(const L of this.items)typeof L.width!="undefined"&&(_=Math.max(_,L.width));this.scrollWidth=_,this.scrollableElement.setScrollDimensions({scrollWidth:_===0?0:_+10})}rerender(){if(!!this.supportDynamicHeights){for(const _ of this.items)_.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(_){return this.items[_].element}domElement(_){const L=this.items[_].row;return L&&L.domNode}elementHeight(_){return this.items[_].size}elementTop(_){return this.rangeMap.positionAt(_)}indexAt(_){return this.rangeMap.indexAt(_)}indexAfter(_){return this.rangeMap.indexAfter(_)}layout(_,L){let E={height:typeof _=="number"?_:(0,N.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof L!="undefined"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:(0,N.getContentWidth)(this.domNode)})}render(_,L,E,M,k,A=!1){const F=this.getRenderRange(L,E),B=o.Range.relativeComplement(F,_),T=o.Range.relativeComplement(_,F),R=this.getNextToLastElement(B);if(A){const O=o.Range.intersect(_,F);for(let P=O.start;P<O.end;P++)this.updateItemInDOM(this.items[P],P)}for(const O of B)for(let P=O.start;P<O.end;P++)this.insertItemInDOM(P,R);for(const O of T)for(let P=O.start;P<O.end;P++)this.removeItemFromDOM(P);M!==void 0&&(this.rowsContainer.style.left=`-${M}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&k!==void 0&&(this.rowsContainer.style.width=`${Math.max(k,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=E}insertItemInDOM(_,L,E){const M=this.items[_];M.row||(M.row=E??this.cache.alloc(M.templateId));const k=this.accessibilityProvider.getRole(M.element)||"listitem";M.row.domNode.setAttribute("role",k);const A=this.accessibilityProvider.isChecked(M.element);typeof A!="undefined"&&M.row.domNode.setAttribute("aria-checked",String(!!A)),M.row.domNode.parentElement||(L?this.rowsContainer.insertBefore(M.row.domNode,L):this.rowsContainer.appendChild(M.row.domNode)),this.updateItemInDOM(M,_);const F=this.renderers.get(M.templateId);if(!F)throw new Error(`No renderer found for template id ${M.templateId}`);F&&F.renderElement(M.element,_,M.row.templateData,M.size);const B=this.dnd.getDragURI(M.element);M.dragStartDisposable.dispose(),M.row.domNode.draggable=!!B,B&&(M.dragStartDisposable=(0,N.addDisposableListener)(M.row.domNode,"dragstart",T=>this.onDragStart(M.element,B,T))),this.horizontalScrolling&&(this.measureItemWidth(M),this.eventuallyUpdateScrollWidth())}measureItemWidth(_){if(!_.row||!_.row.domNode)return;_.row.domNode.style.width=y.isFirefox?"-moz-fit-content":"fit-content",_.width=(0,N.getContentWidth)(_.row.domNode);const L=window.getComputedStyle(_.row.domNode);L.paddingLeft&&(_.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(_.width+=parseFloat(L.paddingRight)),_.row.domNode.style.width=""}updateItemInDOM(_,L){_.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(_.row.domNode.style.height=`${_.size}px`),this.setRowLineHeight&&(_.row.domNode.style.lineHeight=`${_.size}px`),_.row.domNode.setAttribute("data-index",`${L}`),_.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),_.row.domNode.setAttribute("data-parity",L%2==0?"even":"odd"),_.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(_.element,L,this.length))),_.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(_.element,L))),_.row.domNode.setAttribute("id",this.getElementDomId(L)),_.row.domNode.classList.toggle("drop-target",_.dropTarget)}removeItemFromDOM(_){const L=this.items[_];if(L.dragStartDisposable.dispose(),L.row){const E=this.renderers.get(L.templateId);E&&E.disposeElement&&E.disposeElement(L.element,_,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(_,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:_,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(_){this.setScrollTop(_)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return t.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"click")).event,_=>this.toMouseEvent(_))}get onMouseDblClick(){return t.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"dblclick")).event,_=>this.toMouseEvent(_))}get onMouseMiddleClick(){return t.Event.filter(t.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"auxclick")).event,_=>this.toMouseEvent(_)),_=>_.browserEvent.button===1)}get onMouseDown(){return t.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"mousedown")).event,_=>this.toMouseEvent(_))}get onContextMenu(){return t.Event.any(t.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"contextmenu")).event,_=>this.toMouseEvent(_)),t.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,S.EventType.Contextmenu)).event,_=>this.toGestureEvent(_)))}get onTouchStart(){return t.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"touchstart")).event,_=>this.toTouchEvent(_))}get onTap(){return t.Event.map(this.disposables.add(new I.DomEmitter(this.rowsContainer,S.EventType.Tap)).event,_=>this.toGestureEvent(_))}toMouseEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),E=typeof L=="undefined"?void 0:this.items[L],M=E&&E.element;return{browserEvent:_,index:L,element:M}}toTouchEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),E=typeof L=="undefined"?void 0:this.items[L],M=E&&E.element;return{browserEvent:_,index:L,element:M}}toGestureEvent(_){const L=this.getItemIndexFromEventTarget(_.initialTarget||null),E=typeof L=="undefined"?void 0:this.items[L],M=E&&E.element;return{browserEvent:_,index:L,element:M}}toDragEvent(_){const L=this.getItemIndexFromEventTarget(_.target||null),E=typeof L=="undefined"?void 0:this.items[L],M=E&&E.element;return{browserEvent:_,index:L,element:M}}onScroll(_){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,_.scrollTop,_.height,_.scrollLeft,_.scrollWidth),this.supportDynamicHeights&&this._rerender(_.scrollTop,_.height,_.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",_),L}}onTouchChange(_){_.preventDefault(),_.stopPropagation(),this.scrollTop-=_.translationY}onDragStart(_,L,E){if(!E.dataTransfer)return;const M=this.dnd.getDragElements(_);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(m.DataTransfers.TEXT,L),E.dataTransfer.setDragImage){let k;this.dnd.getDragLabel&&(k=this.dnd.getDragLabel(M,E)),typeof k=="undefined"&&(k=String(M.length));const A=(0,N.$)(".monaco-drag-image");A.textContent=k,document.body.appendChild(A),E.dataTransfer.setDragImage(A,-10,-10),setTimeout(()=>document.body.removeChild(A),0)}this.currentDragData=new r(M),m.StaticDND.CurrentDragAndDropData=new l(M),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,E)}onDragOver(_){if(_.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),m.StaticDND.CurrentDragAndDropData&&m.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(_.browserEvent),!_.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(m.StaticDND.CurrentDragAndDropData)this.currentDragData=m.StaticDND.CurrentDragAndDropData;else{if(!_.browserEvent.dataTransfer.types)return!1;this.currentDragData=new u}const L=this.dnd.onDragOver(this.currentDragData,_.element,_.index,_.browserEvent);if(this.canDrop=typeof L=="boolean"?L:L.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;_.browserEvent.dataTransfer.dropEffect=typeof L!="boolean"&&L.effect===0?"copy":"move";let E;if(typeof L!="boolean"&&L.feedback?E=L.feedback:typeof _.index=="undefined"?E=[-1]:E=[_.index],E=(0,C.distinct)(E).filter(M=>M>=-1&&M<this.length).sort((M,k)=>M-k),E=E[0]===-1?[-1]:E,f(this.currentDragFeedback,E))return!0;if(this.currentDragFeedback=E,this.currentDragFeedbackDisposable.dispose(),E[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,i.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const M of E){const k=this.items[M];k.dropTarget=!0,k.row&&k.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,i.toDisposable)(()=>{for(const M of E){const k=this.items[M];k.dropTarget=!1,k.row&&k.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(_){var L,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,h.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(L=this.dnd).onDragLeave)===null||E===void 0||E.call(L,this.currentDragData,_.element,_.index,_.browserEvent))}onDrop(_){if(!this.canDrop)return;const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,m.StaticDND.CurrentDragAndDropData=void 0,!(!L||!_.browserEvent.dataTransfer)&&(_.browserEvent.preventDefault(),L.update(_.browserEvent.dataTransfer),this.dnd.drop(L,_.element,_.index,_.browserEvent))}onDragEnd(_){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,m.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(_)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=i.Disposable.None}setupDragAndDropScrollTopAnimation(_){if(!this.dragOverAnimationDisposable){const L=(0,N.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,N.animate)(this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,h.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=_.pageY}animateDragAndDropScrollTop(_){if(this.dragOverMouseY===void 0)return;const L=this.dragOverMouseY-_,E=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(_){const L=this.scrollableElement.getDomNode();let E=_;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&L.contains(E);){const M=E.getAttribute("data-index");if(M){const k=Number(M);if(!isNaN(k))return k}E=E.parentElement}}getRenderRange(_,L){return{start:this.rangeMap.indexAt(_),end:this.rangeMap.indexAfter(_+L-1)}}_rerender(_,L,E){const M=this.getRenderRange(_,L);let k,A;_===this.elementTop(M.start)?(k=M.start,A=0):M.end-M.start>1&&(k=M.start+1,A=this.elementTop(k)-_);let F=0;for(;;){const B=this.getRenderRange(_,L);let T=!1;for(let R=B.start;R<B.end;R++){const O=this.probeDynamicHeight(R);O!==0&&this.rangeMap.splice(R,1,[this.items[R]]),F+=O,T=T||O!==0}if(!T){F!==0&&this.eventuallyUpdateScrollDimensions();const R=o.Range.relativeComplement(M,B);for(const P of R)for(let D=P.start;D<P.end;D++)this.items[D].row&&this.removeItemFromDOM(D);const O=o.Range.relativeComplement(B,M);for(const P of O)for(let D=P.start;D<P.end;D++){const x=D+1,H=x<this.items.length?this.items[x].row:null,j=H?H.domNode:null;this.insertItemInDOM(D,j)}for(let P=B.start;P<B.end;P++)this.items[P].row&&this.updateItemInDOM(this.items[P],P);if(typeof k=="number"){const P=this.scrollable.getFutureScrollPosition().scrollTop-_,D=this.elementTop(k)-A+P;this.setScrollTop(D,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(_){const L=this.items[_];if(this.virtualDelegate.getDynamicHeight){const A=this.virtualDelegate.getDynamicHeight(L.element);if(A!==null){const F=L.size;return L.size=A,L.lastDynamicHeightWidth=this.renderWidth,A-F}}if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;const E=L.size;if(!this.setRowHeight&&L.row){let A=L.row.domNode.offsetHeight;return L.size=A,L.lastDynamicHeightWidth=this.renderWidth,A-E}const M=this.cache.alloc(L.templateId);M.domNode.style.height="",this.rowsContainer.appendChild(M.domNode);const k=this.renderers.get(L.templateId);return k&&(k.renderElement(L.element,_,M.templateData,void 0),k.disposeElement&&k.disposeElement(L.element,_,M.templateData,void 0)),L.size=M.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(M.domNode),this.cache.release(M),L.size-E}getNextToLastElement(_){const L=_[_.length-1];if(!L)return null;const E=this.items[L.end];return!E||!E.row?null:E.row.domNode}getElementDomId(_){return`${this.domId}_${_}`}dispose(){if(this.items){for(const _ of this.items)if(_.row){const L=this.renderers.get(_.row.templateId);L&&(L.disposeElement&&L.disposeElement(_.element,-1,_.row.templateData,void 0),L.disposeTemplate(_.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,i.dispose)(this.disposables)}}v.InstanceCount=0,Be([g.memoize],v.prototype,"onMouseClick",null),Be([g.memoize],v.prototype,"onMouseDblClick",null),Be([g.memoize],v.prototype,"onMouseMiddleClick",null),Be([g.memoize],v.prototype,"onMouseDown",null),Be([g.memoize],v.prototype,"onContextMenu",null),Be([g.memoize],v.prototype,"onTouchStart",null),Be([g.memoize],v.prototype,"onTap",null),e.ListView=v}),define(ee[112],te([0,1,7,88,47,58,43,305,19,10,29,92,4,72,2,108,38,17,20,304,171,224]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class u{constructor(W){this.trait=W,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(W){return W}renderElement(W,V,Y){const X=this.renderedElements.findIndex(ae=>ae.templateData===Y);if(X>=0){const ae=this.renderedElements[X];this.trait.unrender(Y),ae.index=V}else{const ae={index:V,templateData:Y};this.renderedElements.push(ae)}this.trait.renderIndex(V,Y)}splice(W,V,Y){const X=[];for(const ae of this.renderedElements)ae.index<W?X.push(ae):ae.index>=W+V&&X.push({index:ae.index+Y-V,templateData:ae.templateData});this.renderedElements=X}renderIndexes(W){for(const{index:V,templateData:Y}of this.renderedElements)W.indexOf(V)>-1&&this.trait.renderIndex(V,Y)}disposeTemplate(W){const V=this.renderedElements.findIndex(Y=>Y.templateData===W);V<0||this.renderedElements.splice(V,1)}}class f{constructor(W){this._trait=W,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new u(this)}splice(W,V,Y){var X;V=Math.max(0,Math.min(V,this.length-W));const ae=Y.length-V,J=W+V,de=[...this.sortedIndexes.filter(z=>z<W),...Y.map((z,$)=>z?$+W:-1).filter(z=>z!==-1),...this.sortedIndexes.filter(z=>z>=J).map(z=>z+ae)],q=this.length+ae;if(this.sortedIndexes.length>0&&de.length===0&&q>0){const z=(X=this.sortedIndexes.find($=>$>=W))!==null&&X!==void 0?X:q-1;de.push(Math.min(z,q-1))}this.renderer.splice(W,V,Y.length),this._set(de,de),this.length=q}renderIndex(W,V){V.classList.toggle(this._trait,this.contains(W))}unrender(W){W.classList.remove(this._trait)}set(W,V){return this._set(W,[...W].sort(Q),V)}_set(W,V,Y){const X=this.indexes,ae=this.sortedIndexes;this.indexes=W,this.sortedIndexes=V;const J=H(ae,W);return this.renderer.renderIndexes(J),this._onChange.fire({indexes:W,browserEvent:Y}),X}get(){return this.indexes}contains(W){return(0,C.binarySearch)(this.sortedIndexes,W,Q)>=0}dispose(){(0,o.dispose)(this._onChange)}}Be([t.memoize],f.prototype,"renderer",null);class w extends f{constructor(){super("selected")}renderIndex(W,V){super.renderIndex(W,V),this.contains(W)?V.setAttribute("aria-selected","true"):V.setAttribute("aria-selected","false")}}class v{constructor(W,V,Y){this.trait=W,this.view=V,this.identityProvider=Y}splice(W,V,Y){if(!this.identityProvider)return this.trait.splice(W,V,Y.map(()=>!1));const X=this.trait.get().map(J=>this.identityProvider.getId(this.view.element(J)).toString()),ae=Y.map(J=>X.indexOf(this.identityProvider.getId(J).toString())>-1);this.trait.splice(W,V,ae)}}function p(U){return U.tagName==="INPUT"||U.tagName==="TEXTAREA"}e.isInputElement=p;function _(U){return U.classList.contains("monaco-editor")?!0:U.classList.contains("monaco-list")||!U.parentElement?!1:_(U.parentElement)}e.isMonacoEditor=_;class L{constructor(W,V,Y){this.list=W,this.view=V,this.disposables=new o.DisposableStore,this.multipleSelectionDisposables=new o.DisposableStore,this.onKeyDown.filter(X=>X.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(X=>X.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(X=>X.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(X=>X.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(X=>X.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(X=>X.keyCode===9).on(this.onEscape,this,this.disposables),Y.multipleSelectionSupport!==!1&&this.onKeyDown.filter(X=>(s.isMacintosh?X.metaKey:X.ctrlKey)&&X.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return i.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event).filter(W=>!p(W.target)).map(W=>new N.StandardKeyboardEvent(W))}updateOptions(W){W.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),W.multipleSelectionSupport&&this.onKeyDown.filter(V=>(s.isMacintosh?V.metaKey:V.ctrlKey)&&V.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(W){W.preventDefault(),W.stopPropagation(),this.list.setSelection(this.list.getFocus(),W.browserEvent)}onUpArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusPrevious(1,!1,W.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onDownArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusNext(1,!1,W.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onPageUpArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusPreviousPage(W.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onPageDownArrow(W){W.preventDefault(),W.stopPropagation(),this.list.focusNextPage(W.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onCtrlA(W){W.preventDefault(),W.stopPropagation(),this.list.setSelection((0,C.range)(this.list.length),W.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(W){this.list.getSelection().length&&(W.preventDefault(),W.stopPropagation(),this.list.setSelection([],W.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Be([t.memoize],L.prototype,"onKeyDown",null);var E;(function(U){U[U.Idle=0]="Idle",U[U.Typing=1]="Typing"})(E||(E={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(U){return U.ctrlKey||U.metaKey||U.altKey?!1:U.keyCode>=31&&U.keyCode<=56||U.keyCode>=21&&U.keyCode<=30||U.keyCode>=93&&U.keyCode<=102||U.keyCode>=80&&U.keyCode<=90}};class M{constructor(W,V,Y,X){this.list=W,this.view=V,this.keyboardNavigationLabelProvider=Y,this.delegate=X,this.enabled=!1,this.state=E.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new o.DisposableStore,this.disposables=new o.DisposableStore,this.updateOptions(W.options)}updateOptions(W){(typeof W.enableKeyboardNavigation=="undefined"?!0:!!W.enableKeyboardNavigation)?this.enable():this.disable(),typeof W.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=W.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const W=i.Event.chain(this.enabledDisposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event).filter(X=>!p(X.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(X=>new N.StandardKeyboardEvent(X)).filter(X=>this.delegate.mightProducePrintableCharacter(X)).forEach(X=>X.preventDefault()).map(X=>X.browserEvent.key).event,V=i.Event.debounce(W,()=>null,800);i.Event.reduce(i.Event.any(W,V),(X,ae)=>ae===null?null:(X||"")+ae)(this.onInput,this,this.enabledDisposables),V(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var W;const V=this.list.getFocus();if(V.length>0&&V[0]===this.previouslyFocused){const Y=(W=this.list.options.accessibilityProvider)===null||W===void 0?void 0:W.getAriaLabel(this.list.element(V[0]));Y&&(0,S.alert)(Y)}this.previouslyFocused=-1}onInput(W){if(!W){this.state=E.Idle,this.triggered=!1;return}const V=this.list.getFocus(),Y=V.length>0?V[0]:0,X=this.state===E.Idle?1:0;this.state=E.Typing;for(let ae=0;ae<this.list.length;ae++){const J=(Y+ae+X)%this.list.length,de=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(J)),q=de&&de.toString();if(typeof q=="undefined"||(0,n.matchesPrefix)(W,q)){this.previouslyFocused=Y,this.list.setFocus([J]),this.list.reveal(J);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class k{constructor(W,V){this.list=W,this.view=V,this.disposables=new o.DisposableStore,i.Event.chain(this.disposables.add(new m.DomEmitter(V.domNode,"keydown")).event).filter(X=>!p(X.target)).map(X=>new N.StandardKeyboardEvent(X)).filter(X=>X.keyCode===2&&!X.ctrlKey&&!X.metaKey&&!X.shiftKey&&!X.altKey).on(this.onTab,this,this.disposables)}onTab(W){if(W.target!==this.view.domNode)return;const V=this.list.getFocus();if(V.length===0)return;const Y=this.view.domElement(V[0]);if(!Y)return;const X=Y.querySelector("[tabIndex]");if(!X||!(X instanceof HTMLElement)||X.tabIndex===-1)return;const ae=window.getComputedStyle(X);ae.visibility==="hidden"||ae.display==="none"||(W.preventDefault(),W.stopPropagation(),X.focus())}dispose(){this.disposables.dispose()}}function A(U){return s.isMacintosh?U.browserEvent.metaKey:U.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=A;function F(U){return U.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=F;function B(U){return U instanceof MouseEvent&&U.button===2}const T={isSelectionSingleChangeEvent:A,isSelectionRangeChangeEvent:F};class R{constructor(W){this.list=W,this.disposables=new o.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,W.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||T),this.mouseSupport=typeof W.options.mouseSupport=="undefined"||!!W.options.mouseSupport,this.mouseSupport&&(W.onMouseDown(this.onMouseDown,this,this.disposables),W.onContextMenu(this.onContextMenu,this,this.disposables),W.onMouseDblClick(this.onDoubleClick,this,this.disposables),W.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(I.Gesture.addTarget(W.getHTMLElement()))),i.Event.any(W.onMouseClick,W.onMouseMiddleClick,W.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(W){W.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,W.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||T))}isSelectionSingleChangeEvent(W){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(W):!1}isSelectionRangeChangeEvent(W){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(W):!1}isSelectionChangeEvent(W){return this.isSelectionSingleChangeEvent(W)||this.isSelectionRangeChangeEvent(W)}onMouseDown(W){_(W.browserEvent.target)||document.activeElement!==W.browserEvent.target&&this.list.domFocus()}onContextMenu(W){if(_(W.browserEvent.target))return;const V=typeof W.index=="undefined"?[]:[W.index];this.list.setFocus(V,W.browserEvent)}onViewPointer(W){if(!this.mouseSupport||p(W.browserEvent.target)||_(W.browserEvent.target))return;const V=W.index;if(typeof V=="undefined"){this.list.setFocus([],W.browserEvent),this.list.setSelection([],W.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(W))return this.changeSelection(W);if(this.isSelectionChangeEvent(W))return this.changeSelection(W);this.list.setFocus([V],W.browserEvent),this.list.setAnchor(V),B(W.browserEvent)||this.list.setSelection([V],W.browserEvent),this._onPointer.fire(W)}onDoubleClick(W){if(p(W.browserEvent.target)||_(W.browserEvent.target)||this.isSelectionChangeEvent(W))return;const V=this.list.getFocus();this.list.setSelection(V,W.browserEvent)}changeSelection(W){const V=W.index;let Y=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(W)){if(typeof Y=="undefined"){const $=this.list.getFocus()[0];Y=$??V,this.list.setAnchor(Y)}const X=Math.min(Y,V),ae=Math.max(Y,V),J=(0,C.range)(X,ae+1),de=this.list.getSelection(),q=x(H(de,[Y]),Y);if(q.length===0)return;const z=H(J,j(de,q));this.list.setSelection(z,W.browserEvent),this.list.setFocus([V],W.browserEvent)}else if(this.isSelectionSingleChangeEvent(W)){const X=this.list.getSelection(),ae=X.filter(J=>J!==V);this.list.setFocus([V]),this.list.setAnchor(V),X.length===ae.length?this.list.setSelection([...ae,V],W.browserEvent):this.list.setSelection(ae,W.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=R;class O{constructor(W,V){this.styleElement=W,this.selectorSuffix=V}style(W){const V=this.selectorSuffix&&`.${this.selectorSuffix}`,Y=[];W.listBackground&&(W.listBackground.isOpaque()?Y.push(`.monaco-list${V} .monaco-list-rows { background: ${W.listBackground}; }`):s.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),W.listFocusBackground&&(Y.push(`.monaco-list${V}:focus .monaco-list-row.focused { background-color: ${W.listFocusBackground}; }`),Y.push(`.monaco-list${V}:focus .monaco-list-row.focused:hover { background-color: ${W.listFocusBackground}; }`)),W.listFocusForeground&&Y.push(`.monaco-list${V}:focus .monaco-list-row.focused { color: ${W.listFocusForeground}; }`),W.listActiveSelectionBackground&&(Y.push(`.monaco-list${V}:focus .monaco-list-row.selected { background-color: ${W.listActiveSelectionBackground}; }`),Y.push(`.monaco-list${V}:focus .monaco-list-row.selected:hover { background-color: ${W.listActiveSelectionBackground}; }`)),W.listActiveSelectionForeground&&Y.push(`.monaco-list${V}:focus .monaco-list-row.selected { color: ${W.listActiveSelectionForeground}; }`),W.listActiveSelectionIconForeground&&Y.push(`.monaco-list${V}:focus .monaco-list-row.selected .codicon { color: ${W.listActiveSelectionIconForeground}; }`),W.listFocusAndSelectionBackground&&Y.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.selected.focused { background-color: ${W.listFocusAndSelectionBackground}; }
			`),W.listFocusAndSelectionForeground&&Y.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.selected.focused { color: ${W.listFocusAndSelectionForeground}; }
			`),W.listInactiveFocusForeground&&(Y.push(`.monaco-list${V} .monaco-list-row.focused { color:  ${W.listInactiveFocusForeground}; }`),Y.push(`.monaco-list${V} .monaco-list-row.focused:hover { color:  ${W.listInactiveFocusForeground}; }`)),W.listInactiveSelectionIconForeground&&Y.push(`.monaco-list${V} .monaco-list-row.focused .codicon { color:  ${W.listInactiveSelectionIconForeground}; }`),W.listInactiveFocusBackground&&(Y.push(`.monaco-list${V} .monaco-list-row.focused { background-color:  ${W.listInactiveFocusBackground}; }`),Y.push(`.monaco-list${V} .monaco-list-row.focused:hover { background-color:  ${W.listInactiveFocusBackground}; }`)),W.listInactiveSelectionBackground&&(Y.push(`.monaco-list${V} .monaco-list-row.selected { background-color:  ${W.listInactiveSelectionBackground}; }`),Y.push(`.monaco-list${V} .monaco-list-row.selected:hover { background-color:  ${W.listInactiveSelectionBackground}; }`)),W.listInactiveSelectionForeground&&Y.push(`.monaco-list${V} .monaco-list-row.selected { color: ${W.listInactiveSelectionForeground}; }`),W.listHoverBackground&&Y.push(`.monaco-list${V}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${W.listHoverBackground}; }`),W.listHoverForeground&&Y.push(`.monaco-list${V} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${W.listHoverForeground}; }`),W.listSelectionOutline&&Y.push(`.monaco-list${V} .monaco-list-row.selected { outline: 1px dotted ${W.listSelectionOutline}; outline-offset: -1px; }`),W.listFocusOutline&&Y.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${V}.last-focused .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }
			`),W.listInactiveFocusOutline&&Y.push(`.monaco-list${V} .monaco-list-row.focused { outline: 1px dotted ${W.listInactiveFocusOutline}; outline-offset: -1px; }`),W.listHoverOutline&&Y.push(`.monaco-list${V} .monaco-list-row:hover { outline: 1px dashed ${W.listHoverOutline}; outline-offset: -1px; }`),W.listDropBackground&&Y.push(`
				.monaco-list${V}.drop-target,
				.monaco-list${V} .monaco-list-rows.drop-target,
				.monaco-list${V} .monaco-list-row.drop-target { background-color: ${W.listDropBackground} !important; color: inherit !important; }
			`),W.listFilterWidgetBackground&&Y.push(`.monaco-list-type-filter { background-color: ${W.listFilterWidgetBackground} }`),W.listFilterWidgetOutline&&Y.push(`.monaco-list-type-filter { border: 1px solid ${W.listFilterWidgetOutline}; }`),W.listFilterWidgetNoMatchesOutline&&Y.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${W.listFilterWidgetNoMatchesOutline}; }`),W.listMatchesShadow&&Y.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${W.listMatchesShadow}; }`),W.tableColumnsBorder&&Y.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${W.tableColumnsBorder};
			}`),W.tableOddRowsBackgroundColor&&Y.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${W.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=Y.join(`
`)}}e.DefaultStyleController=O;const P={listFocusBackground:g.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:g.Color.fromHex("#0E639C"),listActiveSelectionForeground:g.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:g.Color.fromHex("#094771"),listFocusAndSelectionForeground:g.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:g.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listHoverBackground:g.Color.fromHex("#2A2D2E"),listDropBackground:g.Color.fromHex("#383B3D"),treeIndentGuidesStroke:g.Color.fromHex("#a9a9a9"),tableColumnsBorder:g.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:g.Color.fromHex("#cccccc").transparent(.04)},D={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function x(U,W){const V=U.indexOf(W);if(V===-1)return[];const Y=[];let X=V-1;for(;X>=0&&U[X]===W-(V-X);)Y.push(U[X--]);for(Y.reverse(),X=V;X<U.length&&U[X]===W+(X-V);)Y.push(U[X++]);return Y}function H(U,W){const V=[];let Y=0,X=0;for(;Y<U.length||X<W.length;)if(Y>=U.length)V.push(W[X++]);else if(X>=W.length)V.push(U[Y++]);else if(U[Y]===W[X]){V.push(U[Y]),Y++,X++;continue}else U[Y]<W[X]?V.push(U[Y++]):V.push(W[X++]);return V}function j(U,W){const V=[];let Y=0,X=0;for(;Y<U.length||X<W.length;)if(Y>=U.length)V.push(W[X++]);else if(X>=W.length)V.push(U[Y++]);else if(U[Y]===W[X]){Y++,X++;continue}else U[Y]<W[X]?V.push(U[Y++]):X++;return V}const Q=(U,W)=>U-W;class G{constructor(W,V){this._templateId=W,this.renderers=V}get templateId(){return this._templateId}renderTemplate(W){return this.renderers.map(V=>V.renderTemplate(W))}renderElement(W,V,Y,X){let ae=0;for(const J of this.renderers)J.renderElement(W,V,Y[ae++],X)}disposeElement(W,V,Y,X){let ae=0;for(const J of this.renderers)J.disposeElement&&J.disposeElement(W,V,Y[ae],X),ae+=1}disposeTemplate(W){let V=0;for(const Y of this.renderers)Y.disposeTemplate(W[V++])}}class se{constructor(W){this.accessibilityProvider=W,this.templateId="a18n"}renderTemplate(W){return W}renderElement(W,V,Y){const X=this.accessibilityProvider.getAriaLabel(W);X?Y.setAttribute("aria-label",X):Y.removeAttribute("aria-label");const ae=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(W);typeof ae=="number"?Y.setAttribute("aria-level",`${ae}`):Y.removeAttribute("aria-level")}disposeTemplate(W){}}class ne{constructor(W,V){this.list=W,this.dnd=V}getDragElements(W){const V=this.list.getSelectedElements();return V.indexOf(W)>-1?V:[W]}getDragURI(W){return this.dnd.getDragURI(W)}getDragLabel(W,V){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W,V)}onDragStart(W,V){this.dnd.onDragStart&&this.dnd.onDragStart(W,V)}onDragOver(W,V,Y,X){return this.dnd.onDragOver(W,V,Y,X)}onDragLeave(W,V,Y,X){var ae,J;(J=(ae=this.dnd).onDragLeave)===null||J===void 0||J.call(ae,W,V,Y,X)}onDragEnd(W){this.dnd.onDragEnd&&this.dnd.onDragEnd(W)}drop(W,V,Y,X){this.dnd.drop(W,V,Y,X)}}class Z{constructor(W,V,Y,X,ae=D){var J;this.user=W,this._options=ae,this.focus=new f("focused"),this.anchor=new f("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new o.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const de=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(J=this._options.accessibilityProvider)===null||J===void 0?void 0:J.getWidgetRole():"list";this.selection=new w,(0,c.mixin)(ae,P,!1);const q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ae.accessibilityProvider,this.accessibilityProvider&&(q.push(new se(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),X=X.map($=>new G($.templateId,[...q,$]));const z=Object.assign(Object.assign({},ae),{dnd:ae.dnd&&new ne(this,ae.dnd)});if(this.view=new l.ListView(V,Y,X,z),this.view.domNode.setAttribute("role",de),ae.styleController)this.styleController=ae.styleController(this.view.domId);else{const $=(0,y.createStyleSheet)(this.view.domNode);this.styleController=new O($,this.view.domId)}if(this.spliceable=new b.CombinedSpliceable([new v(this.focus,this.view,ae.identityProvider),new v(this.selection,this.view,ae.identityProvider),new v(this.anchor,this.view,ae.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new k(this,this.view)),(typeof ae.keyboardSupport!="boolean"||ae.keyboardSupport)&&(this.keyboardController=new L(this,this.view,ae),this.disposables.add(this.keyboardController)),ae.keyboardNavigationLabelProvider){const $=ae.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new M(this,this.view,ae.keyboardNavigationLabelProvider,$),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ae),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),W=>this.toListEvent(W))}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),W=>this.toListEvent(W))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let W=!1;const V=i.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event).map(ae=>new N.StandardKeyboardEvent(ae)).filter(ae=>W=ae.keyCode===58||ae.shiftKey&&ae.keyCode===68).map(m.stopEvent).filter(()=>!1).event,Y=i.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>W=!1).map(ae=>new N.StandardKeyboardEvent(ae)).filter(ae=>ae.keyCode===58||ae.shiftKey&&ae.keyCode===68).map(m.stopEvent).map(({browserEvent:ae})=>{const J=this.getFocus(),de=J.length?J[0]:void 0,q=typeof de!="undefined"?this.view.element(de):void 0,z=typeof de!="undefined"?this.view.domElement(de):this.view.domNode;return{index:de,element:q,anchor:z,browserEvent:ae}}).event,X=i.Event.chain(this.view.onContextMenu).filter(ae=>!W).map(({element:ae,index:J,browserEvent:de})=>({element:ae,index:J,anchor:{x:de.pageX+1,y:de.pageY},browserEvent:de})).event;return i.Event.any(V,Y,X)}get onKeyDown(){return this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new m.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(W){return new R(this)}updateOptions(W={}){var V;this._options=Object.assign(Object.assign({},this._options),W),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(W),(V=this.keyboardController)===null||V===void 0||V.updateOptions(W),this.view.updateOptions(W)}get options(){return this._options}splice(W,V,Y=[]){if(W<0||W>this.view.length)throw new r.ListError(this.user,`Invalid start index: ${W}`);if(V<0)throw new r.ListError(this.user,`Invalid delete count: ${V}`);V===0&&Y.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(W,V,Y))}rerender(){this.view.rerender()}element(W){return this.view.element(W)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(W){this.view.setScrollTop(W)}get ariaLabel(){return this._ariaLabel}set ariaLabel(W){this._ariaLabel=W,this.view.domNode.setAttribute("aria-label",W)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(W,V){this.view.layout(W,V)}setSelection(W,V){for(const Y of W)if(Y<0||Y>=this.length)throw new r.ListError(this.user,`Invalid index ${Y}`);this.selection.set(W,V)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(W=>this.view.element(W))}setAnchor(W){if(typeof W=="undefined"){this.anchor.set([]);return}if(W<0||W>=this.length)throw new r.ListError(this.user,`Invalid index ${W}`);this.anchor.set([W])}getAnchor(){return(0,C.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const W=this.getAnchor();return typeof W=="undefined"?void 0:this.element(W)}setFocus(W,V){for(const Y of W)if(Y<0||Y>=this.length)throw new r.ListError(this.user,`Invalid index ${Y}`);this.focus.set(W,V)}focusNext(W=1,V=!1,Y,X){if(this.length===0)return;const ae=this.focus.get(),J=this.findNextIndex(ae.length>0?ae[0]+W:0,V,X);J>-1&&this.setFocus([J],Y)}focusPrevious(W=1,V=!1,Y,X){if(this.length===0)return;const ae=this.focus.get(),J=this.findPreviousIndex(ae.length>0?ae[0]-W:0,V,X);J>-1&&this.setFocus([J],Y)}focusNextPage(W,V){return De(this,void 0,void 0,function*(){let Y=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Y=Y===0?0:Y-1;const X=this.view.element(Y),ae=this.getFocusedElements()[0];if(ae!==X){const J=this.findPreviousIndex(Y,!1,V);J>-1&&ae!==this.view.element(J)?this.setFocus([J],W):this.setFocus([Y],W)}else{const J=this.view.getScrollTop();this.view.setScrollTop(J+this.view.renderHeight-this.view.elementHeight(Y)),this.view.getScrollTop()!==J&&(this.setFocus([]),yield(0,h.timeout)(0),yield this.focusNextPage(W,V))}})}focusPreviousPage(W,V){return De(this,void 0,void 0,function*(){let Y;const X=this.view.getScrollTop();X===0?Y=this.view.indexAt(X):Y=this.view.indexAfter(X-1);const ae=this.view.element(Y),J=this.getFocusedElements()[0];if(J!==ae){const de=this.findNextIndex(Y,!1,V);de>-1&&J!==this.view.element(de)?this.setFocus([de],W):this.setFocus([Y],W)}else{const de=X;this.view.setScrollTop(X-this.view.renderHeight),this.view.getScrollTop()!==de&&(this.setFocus([]),yield(0,h.timeout)(0),yield this.focusPreviousPage(W,V))}})}focusLast(W,V){if(this.length===0)return;const Y=this.findPreviousIndex(this.length-1,!1,V);Y>-1&&this.setFocus([Y],W)}focusFirst(W,V){this.focusNth(0,W,V)}focusNth(W,V,Y){if(this.length===0)return;const X=this.findNextIndex(W,!1,Y);X>-1&&this.setFocus([X],V)}findNextIndex(W,V=!1,Y){for(let X=0;X<this.length;X++){if(W>=this.length&&!V)return-1;if(W=W%this.length,!Y||Y(this.element(W)))return W;W++}return-1}findPreviousIndex(W,V=!1,Y){for(let X=0;X<this.length;X++){if(W<0&&!V)return-1;if(W=(this.length+W%this.length)%this.length,!Y||Y(this.element(W)))return W;W--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(W=>this.view.element(W))}reveal(W,V){if(W<0||W>=this.length)throw new r.ListError(this.user,`Invalid index ${W}`);const Y=this.view.getScrollTop(),X=this.view.elementTop(W),ae=this.view.elementHeight(W);if((0,a.isNumber)(V)){const J=ae-this.view.renderHeight;this.view.setScrollTop(J*(0,d.clamp)(V,0,1)+X)}else{const J=X+ae,de=Y+this.view.renderHeight;X<Y&&J>=de||(X<Y||J>=de&&ae>=this.view.renderHeight?this.view.setScrollTop(X):J>=de&&this.view.setScrollTop(J-this.view.renderHeight))}}getRelativeTop(W){if(W<0||W>=this.length)throw new r.ListError(this.user,`Invalid index ${W}`);const V=this.view.getScrollTop(),Y=this.view.elementTop(W),X=this.view.elementHeight(W);if(Y<V||Y+X>V+this.view.renderHeight)return null;const ae=X-this.view.renderHeight;return Math.abs((V-Y)/ae)}getHTMLElement(){return this.view.domNode}style(W){this.styleController.style(W)}toListEvent({indexes:W,browserEvent:V}){return{indexes:W,elements:W.map(Y=>this.view.element(Y)),browserEvent:V}}_onFocusChange(){const W=this.focus.get();this.view.domNode.classList.toggle("element-focused",W.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var W;const V=this.focus.get();if(V.length>0){let Y;((W=this.accessibilityProvider)===null||W===void 0?void 0:W.getActiveDescendantId)&&(Y=this.accessibilityProvider.getActiveDescendantId(this.view.element(V[0]))),this.view.domNode.setAttribute("aria-activedescendant",Y||this.view.getElementDomId(V[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const W=this.selection.get();this.view.domNode.classList.toggle("selection-none",W.length===0),this.view.domNode.classList.toggle("selection-single",W.length===1),this.view.domNode.classList.toggle("selection-multiple",W.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Be([t.memoize],Z.prototype,"onDidChangeFocus",null),Be([t.memoize],Z.prototype,"onDidChangeSelection",null),Be([t.memoize],Z.prototype,"onContextMenu",null),Be([t.memoize],Z.prototype,"onKeyDown",null),Be([t.memoize],Z.prototype,"onDidFocus",null),e.List=Z}),define(ee[341],te([0,1,19,21,4,2,112,224]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class b{constructor(i,n){this.renderer=i,this.modelProvider=n}get templateId(){return this.renderer.templateId}renderTemplate(i){return{data:this.renderer.renderTemplate(i),disposable:I.Disposable.None}}renderElement(i,n,o,d){if(o.disposable&&o.disposable.dispose(),!o.data)return;const c=this.modelProvider();if(c.isResolved(i))return this.renderer.renderElement(c.get(i),i,o.data,d);const s=new m.CancellationTokenSource,a=c.resolve(i,s.token);o.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(i,o.data),a.then(r=>this.renderer.renderElement(r,i,o.data,d))}disposeTemplate(i){i.disposable&&(i.disposable.dispose(),i.disposable=void 0),i.data&&(this.renderer.disposeTemplate(i.data),i.data=void 0)}}class C{constructor(i,n){this.modelProvider=i,this.accessibilityProvider=n}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(i){const n=this.modelProvider();return n.isResolved(i)?this.accessibilityProvider.getAriaLabel(n.get(i)):null}}function h(t,i){return Object.assign(Object.assign({},i),{accessibilityProvider:i.accessibilityProvider&&new C(t,i.accessibilityProvider)})}class g{constructor(i,n,o,d,c={}){const s=()=>this.model,a=d.map(r=>new b(r,s));this.list=new S.List(i,n,o,a,h(s,c))}updateOptions(i){this.list.updateOptions(i)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return N.Event.map(this.list.onMouseDblClick,({element:i,index:n,browserEvent:o})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:o}))}get onPointer(){return N.Event.map(this.list.onPointer,({element:i,index:n,browserEvent:o})=>({element:i===void 0?void 0:this._model.get(i),index:n,browserEvent:o}))}get onDidChangeSelection(){return N.Event.map(this.list.onDidChangeSelection,({elements:i,indexes:n,browserEvent:o})=>({elements:i.map(d=>this._model.get(d)),indexes:n,browserEvent:o}))}get model(){return this._model}set model(i){this._model=i,this.list.splice(0,this.list.length,(0,y.range)(i.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(i=>this.model.get(i))}style(i){this.list.style(i)}dispose(){this.list.dispose()}}e.PagedList=g}),define(ee[342],te([12]),{}),define(ee[226],te([0,1,7,111,66,19,29,4,2,108,136,20,342]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:S.Color.transparent};class n{constructor(l,u,f,w){this.container=l,this.view=u,this.disposable=w,this._cachedVisibleSize=void 0,typeof f=="number"?(this._size=f,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=f.cachedVisibleSize)}set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(l,u){l!==this.visible&&(l?(this.size=(0,h.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof u=="number"?u:this.size,this.size=0),this.container.classList.toggle("visible",l),this.view.setVisible&&this.view.setVisible(l))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}layout(l,u){this.layoutContainer(l),this.view.layout(this.size,l,u)}dispose(){return this.disposable.dispose(),this.view}}class o extends n{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class d extends n{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var c;(function(r){r[r.Idle=0]="Idle",r[r.Busy=1]="Busy"})(c||(c={}));var s;(function(r){r.Distribute={type:"distribute"};function l(f){return{type:"split",index:f}}r.Split=l;function u(f){return{type:"invisible",cachedVisibleSize:f}}r.Invisible=u})(s=e.Sizing||(e.Sizing={}));class a extends C.Disposable{constructor(l,u={}){var f,w,v,p,_;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=c.Idle,this._onDidSashChange=this._register(new b.Emitter),this._onDidSashReset=this._register(new b.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(f=u.orientation)!==null&&f!==void 0?f:0,this.inverseAltBehavior=(w=u.inverseAltBehavior)!==null&&w!==void 0?w:!1,this.proportionalLayout=(v=u.proportionalLayout)!==null&&v!==void 0?v:!0,this.getSashOrthogonalSize=u.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,y.append)(this.el,(0,y.$)(".sash-container")),this.viewContainer=(0,y.$)(".split-view-container"),this.scrollable=new g.Scrollable(125,y.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new N.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(p=u.scrollbarVisibility)!==null&&p!==void 0?p:1:2,horizontal:this.orientation===1?(_=u.scrollbarVisibility)!==null&&_!==void 0?_:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(L=>{this.viewContainer.scrollTop=L.scrollTop,this.viewContainer.scrollLeft=L.scrollLeft})),(0,y.append)(this.el,this.scrollableElement.getDomNode()),this.style(u.styles||i),u.descriptor&&(this.size=u.descriptor.size,u.descriptor.views.forEach((L,E)=>{const M=t.isUndefined(L.visible)||L.visible?L.size:{type:"invisible",cachedVisibleSize:L.size},k=L.view;this.doAddView(k,M,E,!0)}),this.contentSize=this.viewItems.reduce((L,E)=>L+E.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(l){for(const u of this.sashItems)u.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}set orthogonalEndSash(l){for(const u of this.sashItems)u.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,u,f=this.viewItems.length,w){this.doAddView(l,u,f,w)}layout(l,u){const f=Math.max(this.size,this.contentSize);if(this.size=l,this.layoutContext=u,this.proportions)for(let w=0;w<this.viewItems.length;w++){const v=this.viewItems[w];v.size=(0,h.clamp)(Math.round(this.proportions[w]*l),v.minimumSize,v.maximumSize)}else{const w=(0,I.range)(this.viewItems.length),v=w.filter(_=>this.viewItems[_].priority===1),p=w.filter(_=>this.viewItems[_].priority===2);this.resize(this.viewItems.length-1,l-f,void 0,v,p)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(l=>l.size/this.contentSize))}onSashStart({sash:l,start:u,alt:f}){for(const _ of this.viewItems)_.enabled=!1;const w=this.sashItems.findIndex(_=>_.sash===l),v=(0,C.combinedDisposable)((0,y.addDisposableListener)(document.body,"keydown",_=>p(this.sashDragState.current,_.altKey)),(0,y.addDisposableListener)(document.body,"keyup",()=>p(this.sashDragState.current,!1))),p=(_,L)=>{const E=this.viewItems.map(B=>B.size);let M=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(L=!L),L)if(w===this.sashItems.length-1){const T=this.viewItems[w];M=(T.minimumSize-T.size)/2,k=(T.maximumSize-T.size)/2}else{const T=this.viewItems[w+1];M=(T.size-T.maximumSize)/2,k=(T.size-T.minimumSize)/2}let A,F;if(!L){const B=(0,I.range)(w,-1),T=(0,I.range)(w+1,this.viewItems.length),R=B.reduce((G,se)=>G+(this.viewItems[se].minimumSize-E[se]),0),O=B.reduce((G,se)=>G+(this.viewItems[se].viewMaximumSize-E[se]),0),P=T.length===0?Number.POSITIVE_INFINITY:T.reduce((G,se)=>G+(E[se]-this.viewItems[se].minimumSize),0),D=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((G,se)=>G+(E[se]-this.viewItems[se].viewMaximumSize),0),x=Math.max(R,D),H=Math.min(P,O),j=this.findFirstSnapIndex(B),Q=this.findFirstSnapIndex(T);if(typeof j=="number"){const G=this.viewItems[j],se=Math.floor(G.viewMinimumSize/2);A={index:j,limitDelta:G.visible?x-se:x+se,size:G.size}}if(typeof Q=="number"){const G=this.viewItems[Q],se=Math.floor(G.viewMinimumSize/2);F={index:Q,limitDelta:G.visible?H+se:H-se,size:G.size}}}this.sashDragState={start:_,current:_,index:w,sizes:E,minDelta:M,maxDelta:k,alt:L,snapBefore:A,snapAfter:F,disposable:v}};p(u,f)}onSashChange({current:l}){const{index:u,start:f,sizes:w,alt:v,minDelta:p,maxDelta:_,snapBefore:L,snapAfter:E}=this.sashDragState;this.sashDragState.current=l;const M=l-f,k=this.resize(u,M,w,void 0,void 0,p,_,L,E);if(v){const A=u===this.sashItems.length-1,F=this.viewItems.map(D=>D.size),B=A?u:u+1,T=this.viewItems[B],R=T.size-T.maximumSize,O=T.size-T.minimumSize,P=A?u-1:u+1;this.resize(P,-k,F,void 0,void 0,R,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const u of this.viewItems)u.enabled=!0}onViewChange(l,u){const f=this.viewItems.indexOf(l);f<0||f>=this.viewItems.length||(u=typeof u=="number"?u:l.size,u=(0,h.clamp)(u,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&f>0?(this.resize(f-1,Math.floor((l.size-u)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=u,this.relayout([f],void 0)))}resizeView(l,u){if(this.state!==c.Idle)throw new Error("Cant modify splitview");if(this.state=c.Busy,l<0||l>=this.viewItems.length)return;const f=(0,I.range)(this.viewItems.length).filter(_=>_!==l),w=[...f.filter(_=>this.viewItems[_].priority===1),l],v=f.filter(_=>this.viewItems[_].priority===2),p=this.viewItems[l];u=Math.round(u),u=(0,h.clamp)(u,p.minimumSize,Math.min(p.maximumSize,this.size)),p.size=u,this.relayout(w,v),this.state=c.Idle}distributeViewSizes(){const l=[];let u=0;for(const _ of this.viewItems)_.maximumSize-_.minimumSize>0&&(l.push(_),u+=_.size);const f=Math.floor(u/l.length);for(const _ of l)_.size=(0,h.clamp)(f,_.minimumSize,_.maximumSize);const w=(0,I.range)(this.viewItems.length),v=w.filter(_=>this.viewItems[_].priority===1),p=w.filter(_=>this.viewItems[_].priority===2);this.relayout(v,p)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,u,f=this.viewItems.length,w){if(this.state!==c.Idle)throw new Error("Cant modify splitview");this.state=c.Busy;const v=(0,y.$)(".split-view-view");f===this.viewItems.length?this.viewContainer.appendChild(v):this.viewContainer.insertBefore(v,this.viewContainer.children.item(f));const p=l.onDidChange(A=>this.onViewChange(M,A)),_=(0,C.toDisposable)(()=>this.viewContainer.removeChild(v)),L=(0,C.combinedDisposable)(p,_);let E;typeof u=="number"?E=u:u.type==="split"?E=this.getViewSize(u.index)/2:u.type==="invisible"?E={cachedVisibleSize:u.cachedVisibleSize}:E=l.minimumSize;const M=this.orientation===0?new o(v,l,E,L):new d(v,l,E,L);if(this.viewItems.splice(f,0,M),this.viewItems.length>1){let A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const F=this.orientation===0?new m.Sash(this.sashContainer,{getHorizontalSashTop:G=>this.getSashPosition(G),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:1})):new m.Sash(this.sashContainer,{getVerticalSashLeft:G=>this.getSashPosition(G),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:0})),B=this.orientation===0?G=>({sash:F,start:G.startY,current:G.currentY,alt:G.altKey}):G=>({sash:F,start:G.startX,current:G.currentX,alt:G.altKey}),R=b.Event.map(F.onDidStart,B)(this.onSashStart,this),P=b.Event.map(F.onDidChange,B)(this.onSashChange,this),x=b.Event.map(F.onDidEnd,()=>this.sashItems.findIndex(G=>G.sash===F))(this.onSashEnd,this),H=F.onDidReset(()=>{const G=this.sashItems.findIndex(W=>W.sash===F),se=(0,I.range)(G,-1),ne=(0,I.range)(G+1,this.viewItems.length),Z=this.findFirstSnapIndex(se),U=this.findFirstSnapIndex(ne);typeof Z=="number"&&!this.viewItems[Z].visible||typeof U=="number"&&!this.viewItems[U].visible||this._onDidSashReset.fire(G)}),j=(0,C.combinedDisposable)(R,P,x,H,F),Q={sash:F,disposable:j};this.sashItems.splice(f-1,0,Q)}v.appendChild(l.element);let k;typeof u!="number"&&u.type==="split"&&(k=[u.index]),w||this.relayout([f],k),this.state=c.Idle,!w&&typeof u!="number"&&u.type==="distribute"&&this.distributeViewSizes()}relayout(l,u){const f=this.viewItems.reduce((w,v)=>w+v.size,0);this.resize(this.viewItems.length-1,this.size-f,void 0,l,u),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,u,f=this.viewItems.map(M=>M.size),w,v,p=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY,L,E){if(l<0||l>=this.viewItems.length)return 0;const M=(0,I.range)(l,-1),k=(0,I.range)(l+1,this.viewItems.length);if(v)for(const Q of v)(0,I.pushToStart)(M,Q),(0,I.pushToStart)(k,Q);if(w)for(const Q of w)(0,I.pushToEnd)(M,Q),(0,I.pushToEnd)(k,Q);const A=M.map(Q=>this.viewItems[Q]),F=M.map(Q=>f[Q]),B=k.map(Q=>this.viewItems[Q]),T=k.map(Q=>f[Q]),R=M.reduce((Q,G)=>Q+(this.viewItems[G].minimumSize-f[G]),0),O=M.reduce((Q,G)=>Q+(this.viewItems[G].maximumSize-f[G]),0),P=k.length===0?Number.POSITIVE_INFINITY:k.reduce((Q,G)=>Q+(f[G]-this.viewItems[G].minimumSize),0),D=k.length===0?Number.NEGATIVE_INFINITY:k.reduce((Q,G)=>Q+(f[G]-this.viewItems[G].maximumSize),0),x=Math.max(R,D,p),H=Math.min(P,O,_);let j=!1;if(L){const Q=this.viewItems[L.index],G=u>=L.limitDelta;j=G!==Q.visible,Q.setVisible(G,L.size)}if(!j&&E){const Q=this.viewItems[E.index],G=u<E.limitDelta;j=G!==Q.visible,Q.setVisible(G,E.size)}if(j)return this.resize(l,u,f,w,v,p,_);u=(0,h.clamp)(u,x,H);for(let Q=0,G=u;Q<A.length;Q++){const se=A[Q],ne=(0,h.clamp)(F[Q]+G,se.minimumSize,se.maximumSize);G-=ne-F[Q],se.size=ne}for(let Q=0,G=u;Q<B.length;Q++){const se=B[Q],ne=(0,h.clamp)(T[Q]-G,se.minimumSize,se.maximumSize);G+=ne-T[Q],se.size=ne}return u}distributeEmptySpace(l){const u=this.viewItems.reduce((_,L)=>_+L.size,0);let f=this.size-u;const w=(0,I.range)(this.viewItems.length-1,-1),v=w.filter(_=>this.viewItems[_].priority===1),p=w.filter(_=>this.viewItems[_].priority===2);for(const _ of p)(0,I.pushToStart)(w,_);for(const _ of v)(0,I.pushToEnd)(w,_);typeof l=="number"&&(0,I.pushToEnd)(w,l);for(let _=0;f!==0&&_<w.length;_++){const L=this.viewItems[w[_]],E=(0,h.clamp)(L.size+f,L.minimumSize,L.maximumSize);f-=E-L.size,L.size=E}}layoutViews(){this.contentSize=this.viewItems.reduce((u,f)=>u+f.size,0);let l=0;for(const u of this.viewItems)u.layout(l,this.layoutContext),l+=u.size;this.sashItems.forEach(u=>u.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let l=!1;const u=this.viewItems.map(L=>l=L.size-L.minimumSize>0||l);l=!1;const f=this.viewItems.map(L=>l=L.maximumSize-L.size>0||l),w=[...this.viewItems].reverse();l=!1;const v=w.map(L=>l=L.size-L.minimumSize>0||l).reverse();l=!1;const p=w.map(L=>l=L.maximumSize-L.size>0||l).reverse();let _=0;for(let L=0;L<this.sashItems.length;L++){const{sash:E}=this.sashItems[L];_+=this.viewItems[L].size;const k=!(u[L]&&p[L+1]),A=!(f[L]&&v[L+1]);if(k&&A){const F=(0,I.range)(L,-1),B=(0,I.range)(L+1,this.viewItems.length),T=this.findFirstSnapIndex(F),R=this.findFirstSnapIndex(B),O=typeof T=="number"&&!this.viewItems[T].visible,P=typeof R=="number"&&!this.viewItems[R].visible;O&&v[L]&&(_>0||this.startSnappingEnabled)?E.state=1:P&&u[L]&&(_<this.contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else k&&!A?E.state=1:!k&&A?E.state=2:E.state=3}}getSashPosition(l){let u=0;for(let f=0;f<this.sashItems.length;f++)if(u+=this.viewItems[f].size,this.sashItems[f].sash===l)return u;return 0}findFirstSnapIndex(l){for(const u of l){const f=this.viewItems[u];if(!!f.visible&&f.snap)return u}for(const u of l){const f=this.viewItems[u];if(f.visible&&f.maximumSize-f.minimumSize>0)return;if(!f.visible&&f.snap)return u}}dispose(){super.dispose(),this.viewItems.forEach(l=>l.dispose()),this.viewItems=[],this.sashItems.forEach(l=>l.disposable.dispose()),this.sashItems=[]}}e.SplitView=a}),define(ee[343],te([12]),{}),define(ee[344],te([0,1,7,112,226,4,2,343]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(i,n,o){this.columns=i,this.getColumnSize=o,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const d=new Map(n.map(c=>[c.templateId,c]));this.renderers=[];for(const c of i){const s=d.get(c.templateId);if(!s)throw new Error(`Table cell renderer for template id ${c.templateId} not found.`);this.renderers.push(s)}}renderTemplate(i){const n=(0,y.append)(i,(0,y.$)(".monaco-table-tr")),o=[],d=[];for(let s=0;s<this.columns.length;s++){const a=this.renderers[s],r=(0,y.append)(n,(0,y.$)(".monaco-table-td",{"data-col-index":s}));r.style.width=`${this.getColumnSize(s)}px`,o.push(r),d.push(a.renderTemplate(r))}const c={container:i,cellContainers:o,cellTemplateData:d};return this.renderedTemplates.add(c),c}renderElement(i,n,o,d){for(let c=0;c<this.columns.length;c++){const a=this.columns[c].project(i);this.renderers[c].renderElement(a,n,o.cellTemplateData[c],d)}}disposeElement(i,n,o,d){for(let c=0;c<this.columns.length;c++){const s=this.renderers[c];if(s.disposeElement){const r=this.columns[c].project(i);s.disposeElement(r,n,o.cellTemplateData[c],d)}}}disposeTemplate(i){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(i.cellTemplateData[n]);(0,y.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,n){for(const{cellContainers:o}of this.renderedTemplates)o[i].style.width=`${n}px`}}b.TemplateId="row";function C(t){return{getHeight(i){return t.getHeight(i)},getTemplateId(){return b.TemplateId}}}class h{constructor(i,n){this.column=i,this.index=n,this._onDidLayout=new I.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,y.$)(".monaco-table-th",{"data-col-index":n,title:i.tooltip},i.label)}get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:I.Event.None}layout(i){this._onDidLayout.fire([this.index,i])}}class g{constructor(i,n,o,d,c,s){this.virtualDelegate=o,this.domId=`table_id_${++g.InstanceCount}`,this.disposables=new S.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,y.append)(n,(0,y.$)(`.monaco-table.${this.domId}`));const a=d.map((u,f)=>new h(u,f)),r={size:a.reduce((u,f)=>u+f.column.weight,0),views:a.map(u=>({size:u.column.weight,view:u}))};this.splitview=this.disposables.add(new N.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:r})),this.splitview.el.style.height=`${o.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${o.headerRowHeight}px`;const l=new b(d,c,u=>this.splitview.getViewSize(u));this.list=this.disposables.add(new m.List(i,this.domNode,C(o),[l],s)),I.Event.any(...a.map(u=>u.onDidLayout))(([u,f])=>l.layoutColumn(u,f),null,this.disposables),this.splitview.onDidSashReset(u=>{const f=d.reduce((v,p)=>v+p.weight,0),w=d[u].weight/f*this.cachedWidth;this.splitview.resizeView(u,w)},null,this.disposables),this.styleElement=(0,y.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(i){this.list.updateOptions(i)}splice(i,n,o=[]){this.list.splice(i,n,o)}getHTMLElement(){return this.domNode}style(i){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=g,g.InstanceCount=0}),define(ee[345],te([12]),{}),define(ee[141],te([12]),{}),define(ee[227],te([0,1,7,132,141]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const N={},I=new m.IdGenerator("quick-input-button-icon-");function S(b){if(!b)return;let C;const h=b.dark.toString();return N[h]?C=N[h]:(C=I.nextId(),y.createCSSRule(`.${C}`,`background-image: ${y.asCSSUrl(b.light||b.dark)}`),y.createCSSRule(`.vs-dark .${C}, .hc-black .${C}`,`background-image: ${y.asCSSUrl(b.dark)}`),N[h]=C),C}e.getIconClass=S}),define(ee[346],te([12]),{}),define(ee[347],te([12]),{}),define(ee[348],te([12]),{}),define(ee[349],te([12]),{}),define(ee[350],te([12]),{}),define(ee[351],te([12]),{}),define(ee[352],te([12]),{}),define(ee[353],te([12]),{}),define(ee[354],te([12]),{}),define(ee[355],te([12]),{}),define(ee[356],te([12]),{}),define(ee[357],te([12]),{}),define(ee[358],te([12]),{}),define(ee[359],te([12]),{}),define(ee[360],te([12]),{}),define(ee[361],te([12]),{}),define(ee[362],te([12]),{}),define(ee[363],te([12]),{}),define(ee[364],te([12]),{}),define(ee[365],te([12]),{}),define(ee[366],te([12]),{}),define(ee[367],te([12]),{}),define(ee[368],te([12]),{}),define(ee[369],te([12]),{}),define(ee[370],te([12]),{}),define(ee[371],te([12]),{}),define(ee[372],te([12]),{}),define(ee[373],te([12]),{}),define(ee[374],te([12]),{}),define(ee[375],te([12]),{}),define(ee[376],te([12]),{}),define(ee[377],te([12]),{}),define(ee[378],te([12]),{}),define(ee[379],te([12]),{}),define(ee[380],te([12]),{}),define(ee[381],te([12]),{}),define(ee[382],te([12]),{}),define(ee[383],te([12]),{}),define(ee[384],te([12]),{}),define(ee[385],te([12]),{}),define(ee[386],te([12]),{}),define(ee[387],te([12]),{}),define(ee[388],te([12]),{}),define(ee[389],te([12]),{}),define(ee[390],te([12]),{}),define(ee[391],te([12]),{}),define(ee[392],te([12]),{}),define(ee[228],te([0,1,2,4]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class N extends y.Disposable{constructor(S,b){super();this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=S,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,b)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(S=>{S&&S[0]&&S[0].contentRect?this.observe({width:S[0].contentRect.width,height:S[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(S){this.measureReferenceDomElement(!0,S)}measureReferenceDomElement(S,b){let C=0,h=0;b?(C=b.width,h=b.height):this._referenceDomElement&&(C=this._referenceDomElement.clientWidth,h=this._referenceDomElement.clientHeight),C=Math.max(5,C),h=Math.max(5,h),(this._width!==C||this._height!==h)&&(this._width=C,this._height=h,S&&this._onDidChange.fire())}}e.ElementSizeObserver=N}),define(ee[393],te([0,1,212]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=void 0;function m(N){const I=N.wordWrap;I===!0?N.wordWrap="on":I===!1&&(N.wordWrap="off");const S=N.lineNumbers;S===!0?N.lineNumbers="on":S===!1&&(N.lineNumbers="off"),N.autoClosingBrackets===!1&&(N.autoClosingBrackets="never",N.autoClosingQuotes="never",N.autoSurround="never"),N.cursorBlinking==="visible"&&(N.cursorBlinking="solid");const h=N.renderWhitespace;h===!0?N.renderWhitespace="boundary":h===!1&&(N.renderWhitespace="none");const g=N.renderLineHighlight;g===!0?N.renderLineHighlight="line":g===!1&&(N.renderLineHighlight="none");const t=N.acceptSuggestionOnEnter;t===!0?N.acceptSuggestionOnEnter="on":t===!1&&(N.acceptSuggestionOnEnter="off");const i=N.tabCompletion;i===!1?N.tabCompletion="off":i===!0&&(N.tabCompletion="onlySnippets");const n=N.suggest;if(n&&typeof n.filteredTypes=="object"&&n.filteredTypes){const l={};l.method="showMethods",l.function="showFunctions",l.constructor="showConstructors",l.deprecated="showDeprecated",l.field="showFields",l.variable="showVariables",l.class="showClasses",l.struct="showStructs",l.interface="showInterfaces",l.module="showModules",l.property="showProperties",l.event="showEvents",l.operator="showOperators",l.unit="showUnits",l.value="showValues",l.constant="showConstants",l.enum="showEnums",l.enumMember="showEnumMembers",l.keyword="showKeywords",l.text="showWords",l.color="showColors",l.file="showFiles",l.reference="showReferences",l.folder="showFolders",l.typeParameter="showTypeParameters",l.snippet="showSnippets",(0,y.forEach)(l,u=>{const f=n.filteredTypes[u.key];f===!1&&(n[u.value]=f)})}const o=N.hover;o===!0?N.hover={enabled:!0}:o===!1&&(N.hover={enabled:!1});const d=N.parameterHints;d===!0?N.parameterHints={enabled:!0}:d===!1&&(N.parameterHints={enabled:!1});const c=N.autoIndent;c===!0?N.autoIndent="full":c===!1&&(N.autoIndent="advanced");const s=N.matchBrackets;s===!0?N.matchBrackets="always":s===!1&&(N.matchBrackets="never");const{renderIndentGuides:a,highlightActiveIndentGuide:r}=N;N.guides||(N.guides={}),a!==void 0&&(N.guides.indentation=!!a),r!==void 0&&(N.guides.highlightActiveIndentation=!!r)}e.migrateOptions=m}),define(ee[229],te([0,1,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class m{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new y.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(I){this._tabFocus!==I&&(this._tabFocus=I,this._onDidChangeTabFocus.fire(this._tabFocus))}}e.TabFocus=new m}),define(ee[230],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class y{constructor(N){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=N}emitKeyDown(N){this.onKeyDown&&this.onKeyDown(N)}emitKeyUp(N){this.onKeyUp&&this.onKeyUp(N)}emitContextMenu(N){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(N))}emitMouseMove(N){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(N))}emitMouseLeave(N){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(N))}emitMouseDown(N){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(N))}emitMouseUp(N){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(N))}emitMouseDrag(N){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(N))}emitMouseDrop(N){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(N))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(N){this.onMouseWheel&&this.onMouseWheel(N)}_convertViewToModelMouseEvent(N){return N.target?{event:N.event,target:this._convertViewToModelMouseTarget(N.target)}:N}_convertViewToModelMouseTarget(N){return y.convertViewToModelMouseTarget(N,this._coordinatesConverter)}static convertViewToModelMouseTarget(N,I){const S=Object.assign({},N);return S.position&&(S.position=I.convertViewPositionToModelPosition(S.position)),S.range&&(S.range=I.convertViewRangeToModelRange(S.range)),S}}e.ViewUserInputEvents=y}),define(ee[231],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const m=[];for(let N=32;N<=126;N++)m.push(N);return m.push(65533),m})();const y=(m,N)=>(m-=32,m<0||m>96?N<=2?(m+96)%96:96-1:m);e.getCharIndex=y}),define(ee[394],te([0,1,231,138]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class N{constructor(S,b){this.scale=b,this._minimapCharRendererBrand=void 0,this.charDataNormal=N.soften(S,12/15),this.charDataLight=N.soften(S,50/60)}static soften(S,b){const C=new Uint8ClampedArray(S.length);for(let h=0,g=S.length;h<g;h++)C[h]=(0,m.toUint8)(S[h]*b);return C}renderChar(S,b,C,h,g,t,i,n,o,d,c){const s=1*this.scale,a=2*this.scale,r=c?1:a;if(b+s>S.width||C+r>S.height){console.warn("bad render request outside image data");return}const l=d?this.charDataLight:this.charDataNormal,u=(0,y.getCharIndex)(h,o),f=S.width*4,w=i.r,v=i.g,p=i.b,_=g.r-w,L=g.g-v,E=g.b-p,M=Math.max(t,n),k=S.data;let A=u*s*a,F=C*f+b*4;for(let B=0;B<r;B++){let T=F;for(let R=0;R<s;R++){const O=l[A++]/255*(t/255);k[T++]=w+_*O,k[T++]=v+L*O,k[T++]=p+E*O,k[T++]=M}F+=f}}blockRenderChar(S,b,C,h,g,t,i,n){const o=1*this.scale,d=2*this.scale,c=n?1:d;if(b+o>S.width||C+c>S.height){console.warn("bad render request outside image data");return}const s=S.width*4,a=.5*(g/255),r=t.r,l=t.g,u=t.b,f=h.r-r,w=h.g-l,v=h.b-u,p=r+f*a,_=l+w*a,L=u+v*a,E=Math.max(g,i),M=S.data;let k=C*s+b*4;for(let A=0;A<c;A++){let F=k;for(let B=0;B<o;B++)M[F++]=p,M[F++]=_,M[F++]=L,M[F++]=E;k+=s}}}e.MinimapCharRenderer=N}),define(ee[395],te([0,1,86]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const m={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},N=I=>{const S=new Uint8ClampedArray(I.length/2);for(let b=0;b<I.length;b+=2)S[b>>1]=m[I[b]]<<4|m[I[b+1]]&15;return S};e.prebakedMiniMaps={1:(0,y.once)(()=>N("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,y.once)(()=>N("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ee[396],te([0,1,394,231,395,138]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(C,h){if(this.lastCreated&&C===this.lastCreated.scale&&h===this.lastFontFamily)return this.lastCreated;let g;return N.prebakedMiniMaps[C]?g=new y.MinimapCharRenderer(N.prebakedMiniMaps[C](),C):g=S.createFromSampleData(S.createSampleData(h).data,C),this.lastFontFamily=h,this.lastCreated=g,g}static createSampleData(C){const h=document.createElement("canvas"),g=h.getContext("2d");h.style.height=`${16}px`,h.height=16,h.width=96*10,h.style.width=96*10+"px",g.fillStyle="#ffffff",g.font=`bold ${16}px ${C}`,g.textBaseline="middle";let t=0;for(const i of m.allCharCodes)g.fillText(String.fromCharCode(i),t,16/2),t+=10;return g.getImageData(0,0,96*10,16)}static createFromSampleData(C,h){const g=16*10*4*96;if(C.length!==g)throw new Error("Unexpected source in MinimapCharRenderer");const t=S._downsample(C,h);return new y.MinimapCharRenderer(t,h)}static _downsampleChar(C,h,g,t,i){const n=1*i,o=2*i;let d=t,c=0;for(let s=0;s<o;s++){const a=s/o*16,r=(s+1)/o*16;for(let l=0;l<n;l++){const u=l/n*10,f=(l+1)/n*10;let w=0,v=0;for(let _=a;_<r;_++){const L=h+Math.floor(_)*3840,E=1-(_-Math.floor(_));for(let M=u;M<f;M++){const k=1-(M-Math.floor(M)),A=L+Math.floor(M)*4,F=k*E;v+=F,w+=C[A]*C[A+3]/255*F}}const p=w/v;c=Math.max(c,p),g[d++]=(0,I.toUint8)(p)}}return c}static _downsample(C,h){const g=2*h*1*h,t=g*96,i=new Uint8ClampedArray(t);let n=0,o=0,d=0;for(let c=0;c<96;c++)d=Math.max(d,this._downsampleChar(C,o,i,n,h)),n+=g,o+=10*4;if(d>0){const c=255/d;for(let s=0;s<t;s++)i[s]*=c}return i}}e.MinimapCharRendererFactory=S}),define(ee[142],te([0,1,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new y.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(m){m=Math.min(Math.max(-5,m),20),this._zoomLevel!==m&&(this._zoomLevel=m,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ee[172],te([0,1,17,142]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const N=y.isMacintosh?1.5:1.35,I=8;class S{constructor(h){this._bareFontInfoBrand=void 0,this.pixelRatio=h.pixelRatio,this.fontFamily=String(h.fontFamily),this.fontWeight=String(h.fontWeight),this.fontSize=h.fontSize,this.fontFeatureSettings=h.fontFeatureSettings,this.lineHeight=h.lineHeight|0,this.letterSpacing=h.letterSpacing}static createFromValidatedSettings(h,g,t){const i=h.get(43),n=h.get(47),o=h.get(46),d=h.get(45),c=h.get(59),s=h.get(56);return S._create(i,n,o,d,c,s,g,t)}static _create(h,g,t,i,n,o,d,c){n===0?n=N*t:n<I&&(n=n*t),n=Math.round(n),n<I&&(n=I);const s=1+(c?0:m.EditorZoom.getZoomLevel()*.1);return t*=s,n*=s,new S({pixelRatio:d,fontFamily:h,fontWeight:g,fontSize:t,fontFeatureSettings:i,lineHeight:n,letterSpacing:o})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(h){const g=S._wrapInQuotes(this.fontFamily);return h&&this.fontFamily!==h?`${g}, ${h}`:g}static _wrapInQuotes(h){return/[,"']/.test(h)?h:/[+ ]/.test(h)?`"${h}"`:h}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class b extends S{constructor(h,g){super(h);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=g,this.isMonospace=h.isMonospace,this.typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=h.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=h.canUseHalfwidthRightwardsArrow,this.spaceWidth=h.spaceWidth,this.middotWidth=h.middotWidth,this.wsmiddotWidth=h.wsmiddotWidth,this.maxDigitWidth=h.maxDigitWidth}equals(h){return this.fontFamily===h.fontFamily&&this.fontWeight===h.fontWeight&&this.fontSize===h.fontSize&&this.fontFeatureSettings===h.fontFeatureSettings&&this.lineHeight===h.lineHeight&&this.letterSpacing===h.letterSpacing&&this.typicalHalfwidthCharacterWidth===h.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===h.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.spaceWidth===h.spaceWidth&&this.middotWidth===h.middotWidth&&this.wsmiddotWidth===h.wsmiddotWidth&&this.maxDigitWidth===h.maxDigitWidth}}e.FontInfo=b}),define(ee[113],te([0,1,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class m{static _nextVisibleColumn(I,S,b){return I===9?m.nextRenderTabStop(S,b):y.isFullWidthCharacter(I)||y.isEmojiImprecise(I)?S+2:S+1}static visibleColumnFromColumn(I,S,b){const C=Math.min(S-1,I.length),h=I.substring(0,C),g=new y.GraphemeIterator(h);let t=0;for(;!g.eol();){const i=y.getNextCodePoint(h,C,g.offset);g.nextGraphemeLength(),t=this._nextVisibleColumn(i,t,b)}return t}static columnFromVisibleColumn(I,S,b){if(S<=0)return 1;const C=I.length,h=new y.GraphemeIterator(I);let g=0,t=1;for(;!h.eol();){const i=y.getNextCodePoint(I,C,h.offset);h.nextGraphemeLength();const n=this._nextVisibleColumn(i,g,b),o=h.offset+1;if(n>=S){const d=S-g;return n-S<d?o:t}g=n,t=o}return C+1}static nextRenderTabStop(I,S){return I+S-I%S}static nextIndentTabStop(I,S){return I+S-I%S}static prevRenderTabStop(I,S){return Math.max(0,I-1-(I-1)%S)}static prevIndentTabStop(I,S){return Math.max(0,I-1-(I-1)%S)}}e.CursorColumns=m}),define(ee[96],te([0,1,138]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class m{constructor(S){const b=(0,y.toUint8)(S);this._defaultValue=b,this._asciiMap=m._createAsciiMap(b),this._map=new Map}static _createAsciiMap(S){const b=new Uint8Array(256);for(let C=0;C<256;C++)b[C]=S;return b}set(S,b){const C=(0,y.toUint8)(b);S>=0&&S<256?this._asciiMap[S]=C:this._map.set(S,C)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=m;class N{constructor(){this._actual=new m(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=N}),define(ee[114],te([0,1,96]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class m extends y.CharacterClassifier{constructor(S){super(0);for(let b=0,C=S.length;b<C;b++)this.set(S.charCodeAt(b),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=m;function N(I){const S={};return b=>(S.hasOwnProperty(b)||(S[b]=I(b)),S[b])}e.getMapForWordSeparators=N(I=>new m(I))}),define(ee[11],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class y{constructor(N,I){this.lineNumber=N,this.column=I}with(N=this.lineNumber,I=this.column){return N===this.lineNumber&&I===this.column?this:new y(N,I)}delta(N=0,I=0){return this.with(this.lineNumber+N,this.column+I)}equals(N){return y.equals(this,N)}static equals(N,I){return!N&&!I?!0:!!N&&!!I&&N.lineNumber===I.lineNumber&&N.column===I.column}isBefore(N){return y.isBefore(this,N)}static isBefore(N,I){return N.lineNumber<I.lineNumber?!0:I.lineNumber<N.lineNumber?!1:N.column<I.column}isBeforeOrEqual(N){return y.isBeforeOrEqual(this,N)}static isBeforeOrEqual(N,I){return N.lineNumber<I.lineNumber?!0:I.lineNumber<N.lineNumber?!1:N.column<=I.column}static compare(N,I){const S=N.lineNumber|0,b=I.lineNumber|0;if(S===b){const C=N.column|0,h=I.column|0;return C-h}return S-b}clone(){return new y(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(N){return new y(N.lineNumber,N.column)}static isIPosition(N){return N&&typeof N.lineNumber=="number"&&typeof N.column=="number"}}e.Position=y}),define(ee[3],te([0,1,11]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class m{constructor(I,S,b,C){I>b||I===b&&S>C?(this.startLineNumber=b,this.startColumn=C,this.endLineNumber=I,this.endColumn=S):(this.startLineNumber=I,this.startColumn=S,this.endLineNumber=b,this.endColumn=C)}isEmpty(){return m.isEmpty(this)}static isEmpty(I){return I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn}containsPosition(I){return m.containsPosition(this,I)}static containsPosition(I,S){return!(S.lineNumber<I.startLineNumber||S.lineNumber>I.endLineNumber||S.lineNumber===I.startLineNumber&&S.column<I.startColumn||S.lineNumber===I.endLineNumber&&S.column>I.endColumn)}static strictContainsPosition(I,S){return!(S.lineNumber<I.startLineNumber||S.lineNumber>I.endLineNumber||S.lineNumber===I.startLineNumber&&S.column<=I.startColumn||S.lineNumber===I.endLineNumber&&S.column>=I.endColumn)}containsRange(I){return m.containsRange(this,I)}static containsRange(I,S){return!(S.startLineNumber<I.startLineNumber||S.endLineNumber<I.startLineNumber||S.startLineNumber>I.endLineNumber||S.endLineNumber>I.endLineNumber||S.startLineNumber===I.startLineNumber&&S.startColumn<I.startColumn||S.endLineNumber===I.endLineNumber&&S.endColumn>I.endColumn)}strictContainsRange(I){return m.strictContainsRange(this,I)}static strictContainsRange(I,S){return!(S.startLineNumber<I.startLineNumber||S.endLineNumber<I.startLineNumber||S.startLineNumber>I.endLineNumber||S.endLineNumber>I.endLineNumber||S.startLineNumber===I.startLineNumber&&S.startColumn<=I.startColumn||S.endLineNumber===I.endLineNumber&&S.endColumn>=I.endColumn)}plusRange(I){return m.plusRange(this,I)}static plusRange(I,S){let b,C,h,g;return S.startLineNumber<I.startLineNumber?(b=S.startLineNumber,C=S.startColumn):S.startLineNumber===I.startLineNumber?(b=S.startLineNumber,C=Math.min(S.startColumn,I.startColumn)):(b=I.startLineNumber,C=I.startColumn),S.endLineNumber>I.endLineNumber?(h=S.endLineNumber,g=S.endColumn):S.endLineNumber===I.endLineNumber?(h=S.endLineNumber,g=Math.max(S.endColumn,I.endColumn)):(h=I.endLineNumber,g=I.endColumn),new m(b,C,h,g)}intersectRanges(I){return m.intersectRanges(this,I)}static intersectRanges(I,S){let b=I.startLineNumber,C=I.startColumn,h=I.endLineNumber,g=I.endColumn,t=S.startLineNumber,i=S.startColumn,n=S.endLineNumber,o=S.endColumn;return b<t?(b=t,C=i):b===t&&(C=Math.max(C,i)),h>n?(h=n,g=o):h===n&&(g=Math.min(g,o)),b>h||b===h&&C>g?null:new m(b,C,h,g)}equalsRange(I){return m.equalsRange(this,I)}static equalsRange(I,S){return!!I&&!!S&&I.startLineNumber===S.startLineNumber&&I.startColumn===S.startColumn&&I.endLineNumber===S.endLineNumber&&I.endColumn===S.endColumn}getEndPosition(){return m.getEndPosition(this)}static getEndPosition(I){return new y.Position(I.endLineNumber,I.endColumn)}getStartPosition(){return m.getStartPosition(this)}static getStartPosition(I){return new y.Position(I.startLineNumber,I.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(I,S){return new m(this.startLineNumber,this.startColumn,I,S)}setStartPosition(I,S){return new m(I,S,this.endLineNumber,this.endColumn)}collapseToStart(){return m.collapseToStart(this)}static collapseToStart(I){return new m(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn)}static fromPositions(I,S=I){return new m(I.lineNumber,I.column,S.lineNumber,S.column)}static lift(I){return I?new m(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn):null}static isIRange(I){return I&&typeof I.startLineNumber=="number"&&typeof I.startColumn=="number"&&typeof I.endLineNumber=="number"&&typeof I.endColumn=="number"}static areIntersectingOrTouching(I,S){return!(I.endLineNumber<S.startLineNumber||I.endLineNumber===S.startLineNumber&&I.endColumn<S.startColumn||S.endLineNumber<I.startLineNumber||S.endLineNumber===I.startLineNumber&&S.endColumn<I.startColumn)}static areIntersecting(I,S){return!(I.endLineNumber<S.startLineNumber||I.endLineNumber===S.startLineNumber&&I.endColumn<=S.startColumn||S.endLineNumber<I.startLineNumber||S.endLineNumber===I.startLineNumber&&S.endColumn<=I.startColumn)}static compareRangesUsingStarts(I,S){if(I&&S){const h=I.startLineNumber|0,g=S.startLineNumber|0;if(h===g){const t=I.startColumn|0,i=S.startColumn|0;if(t===i){const n=I.endLineNumber|0,o=S.endLineNumber|0;if(n===o){const d=I.endColumn|0,c=S.endColumn|0;return d-c}return n-o}return t-i}return h-g}return(I?1:0)-(S?1:0)}static compareRangesUsingEnds(I,S){return I.endLineNumber===S.endLineNumber?I.endColumn===S.endColumn?I.startLineNumber===S.startLineNumber?I.startColumn-S.startColumn:I.startLineNumber-S.startLineNumber:I.endColumn-S.endColumn:I.endLineNumber-S.endLineNumber}static spansMultipleLines(I){return I.endLineNumber>I.startLineNumber}}e.Range=m}),define(ee[232],te([0,1,8,11,3]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class I{constructor(C,h,g,t,i){this.value=C,this.selectionStart=h,this.selectionEnd=g,this.selectionStartPosition=t,this.selectionEndPosition=i}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(C){return new I(C.getValue(),C.getSelectionStart(),C.getSelectionEnd(),null,null)}collapseSelection(){return new I(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(C,h,g){e._debugComposition&&console.log(`writeToTextArea ${C}: ${this.toString()}`),h.setValue(C,this.value),g&&h.setSelectionRange(C,this.selectionStart,this.selectionEnd)}deduceEditorPosition(C){if(C<=this.selectionStart){const t=this.value.substring(C,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(C>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,C);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const h=this.value.substring(this.selectionStart,C);if(h.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,h,1);const g=this.value.substring(C,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,g,-1)}_finishDeduceEditorPosition(C,h,g){let t=0,i=-1;for(;(i=h.indexOf(`
`,i+1))!==-1;)t++;return[C,g*h.length,t]}static deduceInput(C,h,g){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${C.toString()}`),console.log(`CURRENT STATE: ${h.toString()}`));const t=Math.min(y.commonPrefixLength(C.value,h.value),C.selectionStart,h.selectionStart),i=Math.min(y.commonSuffixLength(C.value,h.value),C.value.length-C.selectionEnd,h.value.length-h.selectionEnd),n=C.value.substring(t,C.value.length-i),o=h.value.substring(t,h.value.length-i),d=C.selectionStart-t,c=C.selectionEnd-t,s=h.selectionStart-t,a=h.selectionEnd-t;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${d}, selectionEnd: ${c}`),console.log(`AFTER DIFFING CURRENT STATE: <${o}>, selectionStart: ${s}, selectionEnd: ${a}`)),s===a){const l=C.selectionStart-t;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${l} chars`),{text:o,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}const r=c-d;return{text:o,replacePrevCharCnt:r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(C,h){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${C.toString()}`),console.log(`CURRENT STATE: ${h.toString()}`)),C.value===h.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:h.selectionEnd-C.selectionEnd};const g=Math.min(y.commonPrefixLength(C.value,h.value),C.selectionEnd),t=Math.min(y.commonSuffixLength(C.value,h.value),C.value.length-C.selectionEnd),i=C.value.substring(g,C.value.length-t),n=h.value.substring(g,h.value.length-t),o=C.selectionStart-g,d=C.selectionEnd-g,c=h.selectionStart-g,s=h.selectionEnd-g;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${o}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${c}, selectionEnd: ${s}`)),{text:n,replacePrevCharCnt:d,replaceNextCharCnt:i.length-d,positionDelta:s-n.length}}}e.TextAreaState=I,I.EMPTY=new I("",0,0,null,null);class S{static _getPageOfLine(C,h){return Math.floor((C-1)/h)}static _getRangeForPage(C,h){const g=C*h,t=g+1,i=g+h;return new N.Range(t,1,i+1,1)}static fromEditorSelection(C,h,g,t,i){const n=S._getPageOfLine(g.startLineNumber,t),o=S._getRangeForPage(n,t),d=S._getPageOfLine(g.endLineNumber,t),c=S._getRangeForPage(d,t),s=o.intersectRanges(new N.Range(1,1,g.startLineNumber,g.startColumn));let a=h.getValueInRange(s,1);const r=h.getLineCount(),l=h.getLineMaxColumn(r),u=c.intersectRanges(new N.Range(g.endLineNumber,g.endColumn,r,l));let f=h.getValueInRange(u,1),w;if(n===d||n+1===d)w=h.getValueInRange(g,1);else{const v=o.intersectRanges(g),p=c.intersectRanges(g);w=h.getValueInRange(v,1)+String.fromCharCode(8230)+h.getValueInRange(p,1)}if(i){const v=500;a.length>v&&(a=a.substring(a.length-v,a.length)),f.length>v&&(f=f.substring(0,v)),w.length>2*v&&(w=w.substring(0,v)+String.fromCharCode(8230)+w.substring(w.length-v,w.length))}return new I(a+w+f,a.length,a.length+w.length,new m.Position(g.startLineNumber,g.startColumn),new m.Position(g.endLineNumber,g.endColumn))}}e.PagedScreenReaderStrategy=S}),define(ee[233],te([0,1,211,4,2,38,3]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const b={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class C extends N.Disposable{constructor(g,t={}){super();this._onDidUpdate=this._register(new m.Emitter),this._editor=g,this._options=I.mixin(t,b,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(g){this.ranges=[],g&&g.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new S.Range(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new S.Range(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new S.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>S.Range.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(g){let t=!1;const i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let n=0,o=this.ranges.length;n<o&&!t;n++){const d=this.ranges[n].range;i.isBeforeOrEqual(d.getStartPosition())&&(this.nextIdx=n+(g?0:-1),t=!0)}t||(this.nextIdx=g?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(g,t){if(y.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(g):g?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(g=0){this._move(!0,g)}previous(g=0){this._move(!1,g)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=C}),define(ee[61],te([0,1,3]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class m{static insert(I,S){return{range:new y.Range(I.lineNumber,I.column,I.lineNumber,I.column),text:S,forceMoveMarkers:!0}}static delete(I){return{range:I,text:null}}static replace(I,S){return{range:I,text:S}}static replaceMove(I,S){return{range:I,text:S,forceMoveMarkers:!0}}}e.EditOperation=m}),define(ee[397],te([0,1,8,61,3]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class I{constructor(C,h){this._selection=C,this._cursors=h,this._selectionId=null}getEditOperations(C,h){const g=S(C,this._cursors);for(let t=0,i=g.length;t<i;t++){const n=g[t];h.addEditOperation(n.range,n.text)}this._selectionId=h.trackSelection(this._selection)}computeCursorState(C,h){return h.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=I;function S(b,C){C.sort((n,o)=>n.lineNumber===o.lineNumber?n.column-o.column:n.lineNumber-o.lineNumber);for(let n=C.length-2;n>=0;n--)C[n].lineNumber===C[n+1].lineNumber&&C.splice(n,1);const h=[];let g=0,t=0;const i=C.length;for(let n=1,o=b.getLineCount();n<=o;n++){const d=b.getLineContent(n),c=d.length+1;let s=0;if(t<i&&C[t].lineNumber===n&&(s=C[t].column,t++,s===c)||d.length===0)continue;const a=y.lastNonWhitespaceIndex(d);let r=0;if(a===-1)r=1;else if(a!==d.length-1)r=a+2;else continue;r=Math.max(s,r),h[g++]=m.EditOperation.delete(new N.Range(n,r,n,c))}return h}e.trimTrailingWhitespace=S}),define(ee[234],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class y{constructor(N,I,S,b){this._rgba8Brand=void 0,this.r=y._clamp(N),this.g=y._clamp(I),this.b=y._clamp(S),this.a=y._clamp(b)}equals(N){return this.r===N.r&&this.g===N.g&&this.b===N.b&&this.a===N.a}static _clamp(N){return N<0?0:N>255?255:N|0}}e.RGBA8=y,y.Empty=new y(0,0,0,0)}),define(ee[22],te([0,1,11,3]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class N extends m.Range{constructor(S,b,C,h){super(S,b,C,h);this.selectionStartLineNumber=S,this.selectionStartColumn=b,this.positionLineNumber=C,this.positionColumn=h}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return N.selectionsEqual(this,S)}static selectionsEqual(S,b){return S.selectionStartLineNumber===b.selectionStartLineNumber&&S.selectionStartColumn===b.selectionStartColumn&&S.positionLineNumber===b.positionLineNumber&&S.positionColumn===b.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,b){return this.getDirection()===0?new N(this.startLineNumber,this.startColumn,S,b):new N(S,b,this.startLineNumber,this.startColumn)}getPosition(){return new y.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new y.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,b){return this.getDirection()===0?new N(S,b,this.endLineNumber,this.endColumn):new N(this.endLineNumber,this.endColumn,S,b)}static fromPositions(S,b=S){return new N(S.lineNumber,S.column,b.lineNumber,b.column)}static fromRange(S,b){return b===0?new N(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new N(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new N(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,b){if(S&&!b||!S&&b)return!1;if(!S&&!b)return!0;if(S.length!==b.length)return!1;for(let C=0,h=S.length;C<h;C++)if(!this.selectionsEqual(S[C],b[C]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,b,C,h,g){return g===0?new N(S,b,C,h):new N(C,h,S,b)}}e.Selection=N}),define(ee[173],te([0,1,33,7,47,10,4,2,134,8,232,22]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var i;(function(a){a.Tap="-monaco-textarea-synthetic-tap"})(i=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class n{constructor(){this._lastState=null}set(r,l){this._lastState={lastCopiedValue:r,data:l}}get(r){return this._lastState&&this._lastState.lastCopiedValue===r?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=n,n.INSTANCE=new n;class o{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(r){r=r||"";const l={text:r,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=r.length,l}}class d extends b.Disposable{constructor(r,l,u,f){super();this._host=r,this._textArea=l,this._OS=u,this._browser=f,this._onFocus=this._register(new S.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new S.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new S.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new S.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new S.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new S.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new S.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new S.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new S.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new S.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new I.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new I.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=g.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let w=null;this._register(this._textArea.onKeyDown(v=>{const p=new N.StandardKeyboardEvent(v);(p.keyCode===109||this._currentComposition&&p.keyCode===1)&&p.stopPropagation(),p.equals(9)&&p.preventDefault(),w=p,this._onKeyDown.fire(p)})),this._register(this._textArea.onKeyUp(v=>{const p=new N.StandardKeyboardEvent(v);this._onKeyUp.fire(p)})),this._register(this._textArea.onCompositionStart(v=>{g._debugComposition&&console.log("[compositionstart]",v);const p=new o;if(this._currentComposition){this._currentComposition=p;return}if(this._currentComposition=p,this._OS===2&&w&&w.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===v.data&&(w.code==="ArrowRight"||w.code==="ArrowLeft")){g._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",v),p.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:v.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:v.data});return}this._onCompositionStart.fire({data:v.data})})),this._register(this._textArea.onCompositionUpdate(v=>{g._debugComposition&&console.log("[compositionupdate]",v);const p=this._currentComposition;if(!p)return;if(this._browser.isAndroid){const L=g.TextAreaState.readFromTextArea(this._textArea),E=g.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,L);this._textAreaState=L,this._onType.fire(E),this._onCompositionUpdate.fire(v);return}const _=p.handleCompositionUpdate(v.data);this._textAreaState=g.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionUpdate.fire(v)})),this._register(this._textArea.onCompositionEnd(v=>{g._debugComposition&&console.log("[compositionend]",v);const p=this._currentComposition;if(!p)return;if(this._currentComposition=null,this._browser.isAndroid){const L=g.TextAreaState.readFromTextArea(this._textArea),E=g.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,L);this._textAreaState=L,this._onType.fire(E),this._onCompositionEnd.fire();return}const _=p.handleCompositionUpdate(v.data);this._textAreaState=g.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(_),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(v=>{if(g._debugComposition&&console.log("[input]",v),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const p=g.TextAreaState.readFromTextArea(this._textArea),_=g.TextAreaState.deduceInput(this._textAreaState,p,this._OS===2);_.replacePrevCharCnt===0&&_.text.length===1&&h.isHighSurrogate(_.text.charCodeAt(0))||(this._textAreaState=p,(_.text!==""||_.replacePrevCharCnt!==0||_.replaceNextCharCnt!==0||_.positionDelta!==0)&&this._onType.fire(_))})),this._register(this._textArea.onCut(v=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(v),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(v=>{this._ensureClipboardGetsEditorSelection(v)})),this._register(this._textArea.onPaste(v=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),v.preventDefault(),!v.clipboardData)return;let[p,_]=c.getTextData(v.clipboardData);!p||(_=_||n.INSTANCE.get(p),this._onPaste.fire({text:p,metadata:_}))})),this._register(this._textArea.onFocus(()=>{const v=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!v&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let r=0;return m.addDisposableListener(document,"selectionchange",l=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const u=Date.now(),f=u-r;if(r=u,f<5)return;const w=u-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),w<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const v=this._textArea.getValue();if(this._textAreaState.value!==v)return;const p=this._textArea.getSelectionStart(),_=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===p&&this._textAreaState.selectionEnd===_)return;const L=this._textAreaState.deduceEditorPosition(p),E=this._host.deduceModelPosition(L[0],L[1],L[2]),M=this._textAreaState.deduceEditorPosition(_),k=this._host.deduceModelPosition(M[0],M[1],M[2]),A=new t.Selection(E.lineNumber,E.column,k.lineNumber,k.column);this._onSelectionChangeRequest.fire(A)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(r){this._hasFocus!==r&&(this._hasFocus=r,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(r,l){this._hasFocus||(l=l.collapseSelection()),l.writeToTextArea(r,this._textArea,this._hasFocus),this._textAreaState=l}writeScreenReaderContent(r){this._currentComposition||this._setAndWriteTextAreaState(r,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(r){const l=this._host.getDataToCopy(),u={version:1,isFromEmptySelection:l.isFromEmptySelection,multicursorText:l.multicursorText,mode:l.mode};n.INSTANCE.set(this._browser.isFirefox?l.text.replace(/\r\n/g,`
`):l.text,u),r.preventDefault(),r.clipboardData&&c.setTextData(r.clipboardData,l.text,l.html,u)}}e.TextAreaInput=d;class c{static getTextData(r){const l=r.getData(C.Mimes.text);let u=null;const f=r.getData("vscode-editor-data");if(typeof f=="string")try{u=JSON.parse(f),u.version!==1&&(u=null)}catch{}return[l,u]}static setTextData(r,l,u,f){r.setData(C.Mimes.text,l),typeof u=="string"&&r.setData("text/html",u),r.setData("vscode-editor-data",JSON.stringify(f))}}class s extends b.Disposable{constructor(r){super();this._actual=r,this.onKeyDown=this._register(m.createEventEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(m.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(m.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(m.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(m.createEventEmitter(this._actual,"compositionend")).event,this.onInput=this._register(m.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(m.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(m.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(m.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(m.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(m.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new S.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(m.addDisposableListener(this._actual,i.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const r=m.getShadowRoot(this._actual);return r?r.activeElement===this._actual:m.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(r){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(r,l){const u=this._actual;u.value!==l&&(this.setIgnoreSelectionChangeTime("setValue"),u.value=l)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(r,l,u){const f=this._actual;let w=null;const v=m.getShadowRoot(f);v?w=v.activeElement:w=document.activeElement;const p=w===f,_=f.selectionStart,L=f.selectionEnd;if(p&&_===l&&L===u){y.isFirefox&&window.parent!==window&&f.focus();return}if(p){this.setIgnoreSelectionChangeTime("setSelectionRange"),f.setSelectionRange(l,u),y.isFirefox&&window.parent!==window&&f.focus();return}try{const E=m.saveParentsScrollTop(f);this.setIgnoreSelectionChangeTime("setSelectionRange"),f.focus(),f.setSelectionRange(l,u),m.restoreParentsScrollTop(f,E)}catch{}}}e.TextAreaWrapper=s}),define(ee[97],te([0,1,22]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class m{constructor(h,g,t=!1){this._range=h,this._text=g,this.insertsAutoWhitespace=t}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const i=g.getInverseEditOperations()[0].range;return y.Selection.fromPositions(i.getEndPosition())}}e.ReplaceCommand=m;class N{constructor(h,g){this._range=h,this._text=g}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const i=g.getInverseEditOperations()[0].range;return y.Selection.fromRange(i,0)}}e.ReplaceCommandThatSelectsText=N;class I{constructor(h,g,t=!1){this._range=h,this._text=g,this.insertsAutoWhitespace=t}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const i=g.getInverseEditOperations()[0].range;return y.Selection.fromPositions(i.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=I;class S{constructor(h,g,t,i,n=!1){this._range=h,this._text=g,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=t,this.insertsAutoWhitespace=n}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(h,g){const i=g.getInverseEditOperations()[0].range;return y.Selection.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=S;class b{constructor(h,g,t,i=!1){this._range=h,this._text=g,this._initialSelection=t,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(h,g){g.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=g.trackSelection(this._initialSelection)}computeCursorState(h,g){return g.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=b}),define(ee[398],te([0,1,3,22]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class N{constructor(S,b,C){this._range=S,this._charBeforeSelection=b,this._charAfterSelection=C}getEditOperations(S,b){b.addTrackedEditOperation(new y.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),b.addTrackedEditOperation(new y.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,b){const C=b.getInverseEditOperations(),h=C[0].range,g=C[1].range;return new m.Selection(h.endLineNumber,h.endColumn,g.endLineNumber,g.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=N}),define(ee[89],te([0,1,8,17,107]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let I;function S(){return I||(I=new TextDecoder("UTF-16LE")),I}let b;function C(){return b||(b=new TextDecoder("UTF-16BE")),b}let h;function g(){return h||(h=m.isLittleEndian()?S():C()),h}e.getPlatformTextDecoder=g,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=d=>new n(d),e.decodeUTF16LE=t):(e.createStringBuilder=d=>new o,e.decodeUTF16LE=i);function t(d,c,s){const a=new Uint16Array(d.buffer,c,s);return s>0&&(a[0]===65279||a[0]===65534)?i(d,c,s):S().decode(a)}function i(d,c,s){const a=[];let r=0;for(let l=0;l<s;l++){const u=N.readUInt16LE(d,c);c+=2,a[r++]=String.fromCharCode(u)}return a.join("")}class n{constructor(c){this._capacity=c|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const c=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return g().decode(c)}_flushBuffer(){const c=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[c]:this._completedStrings[this._completedStrings.length]=c}write1(c){const s=this._capacity-this._bufferLength;s<=1&&(s===0||y.isHighSurrogate(c))&&this._flushBuffer(),this._buffer[this._bufferLength++]=c}appendASCII(c){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=c}appendASCIIString(c){const s=c.length;if(this._bufferLength+s>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=c;return}for(let a=0;a<s;a++)this._buffer[this._bufferLength++]=c.charCodeAt(a)}}class o{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(c){this._pieces[this._piecesLen++]=String.fromCharCode(c)}appendASCII(c){this._pieces[this._piecesLen++]=String.fromCharCode(c)}appendASCIIString(c){this._pieces[this._piecesLen++]=c}}}),define(ee[174],te([0,1,31,89]),function(K,e,y,m){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class I{constructor(h){this._createLine=h,this._set(1,[])}flush(){this._set(1,[])}_set(h,g){this._lines=g,this._rendLineNumberStart=h}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(h){const g=h-this._rendLineNumberStart;if(g<0||g>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[g]}onLinesDeleted(h,g){if(this.getCount()===0)return null;const t=this.getStartLineNumber(),i=this.getEndLineNumber();if(g<t){const c=g-h+1;return this._rendLineNumberStart-=c,null}if(h>i)return null;let n=0,o=0;for(let c=t;c<=i;c++){const s=c-this._rendLineNumberStart;h<=c&&c<=g&&(o===0?(n=s,o=1):o++)}if(h<t){let c=0;g<t?c=g-h+1:c=t-h,this._rendLineNumberStart-=c}return this._lines.splice(n,o)}onLinesChanged(h,g){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let o=h;o<=g;o++)o>=t&&o<=i&&(this._lines[o-this._rendLineNumberStart].onContentChanged(),n=!0);return n}onLinesInserted(h,g){if(this.getCount()===0)return null;const t=g-h+1,i=this.getStartLineNumber(),n=this.getEndLineNumber();if(h<=i)return this._rendLineNumberStart+=t,null;if(h>n)return null;if(t+h>n)return this._lines.splice(h-this._rendLineNumberStart,n-h+1);const o=[];for(let r=0;r<t;r++)o[r]=this._createLine();const d=h-this._rendLineNumberStart,c=this._lines.slice(0,d),s=this._lines.slice(d,this._lines.length-t),a=this._lines.slice(this._lines.length-t,this._lines.length);return this._lines=c.concat(o).concat(s),a}onTokensChanged(h){if(this.getCount()===0)return!1;const g=this.getStartLineNumber(),t=this.getEndLineNumber();let i=!1;for(let n=0,o=h.length;n<o;n++){const d=h[n];if(d.toLineNumber<g||d.fromLineNumber>t)continue;const c=Math.max(g,d.fromLineNumber),s=Math.min(t,d.toLineNumber);for(let a=c;a<=s;a++){const r=a-this._rendLineNumberStart;this._lines[r].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=I;class S{constructor(h){this._host=h,this.domNode=this._createDomNode(),this._linesCollection=new I(()=>this._host.createVisibleLine())}_createDomNode(){const h=(0,y.createFastDomNode)(document.createElement("div"));return h.setClassName("view-layer"),h.setPosition("absolute"),h.domNode.setAttribute("role","presentation"),h.domNode.setAttribute("aria-hidden","true"),h}onConfigurationChanged(h){return!!h.hasChanged(131)}onFlushed(h){return this._linesCollection.flush(),!0}onLinesChanged(h){return this._linesCollection.onLinesChanged(h.fromLineNumber,h.toLineNumber)}onLinesDeleted(h){const g=this._linesCollection.onLinesDeleted(h.fromLineNumber,h.toLineNumber);if(g)for(let t=0,i=g.length;t<i;t++){const n=g[t].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onLinesInserted(h){const g=this._linesCollection.onLinesInserted(h.fromLineNumber,h.toLineNumber);if(g)for(let t=0,i=g.length;t<i;t++){const n=g[t].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onScrollChanged(h){return h.scrollTopChanged}onTokensChanged(h){return this._linesCollection.onTokensChanged(h.ranges)}onZonesChanged(h){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(h){return this._linesCollection.getLine(h)}renderLines(h){const g=this._linesCollection._get(),t=new b(this.domNode.domNode,this._host,h),i={rendLineNumberStart:g.rendLineNumberStart,lines:g.lines,linesLength:g.lines.length},n=t.render(i,h.startLineNumber,h.endLineNumber,h.relativeVerticalOffset);this._linesCollection._set(n.rendLineNumberStart,n.lines)}}e.VisibleLinesCollection=S;class b{constructor(h,g,t){this.domNode=h,this.host=g,this.viewportData=t}render(h,g,t,i){const n={rendLineNumberStart:h.rendLineNumberStart,lines:h.lines.slice(0),linesLength:h.linesLength};if(n.rendLineNumberStart+n.linesLength-1<g||t<n.rendLineNumberStart){n.rendLineNumberStart=g,n.linesLength=t-g+1,n.lines=[];for(let o=g;o<=t;o++)n.lines[o-g]=this.host.createVisibleLine();return this._finishRendering(n,!0,i),n}if(this._renderUntouchedLines(n,Math.max(g-n.rendLineNumberStart,0),Math.min(t-n.rendLineNumberStart,n.linesLength-1),i,g),n.rendLineNumberStart>g){const o=g,d=Math.min(t,n.rendLineNumberStart-1);o<=d&&(this._insertLinesBefore(n,o,d,i,g),n.linesLength+=d-o+1)}else if(n.rendLineNumberStart<g){const o=Math.min(n.linesLength,g-n.rendLineNumberStart);o>0&&(this._removeLinesBefore(n,o),n.linesLength-=o)}if(n.rendLineNumberStart=g,n.rendLineNumberStart+n.linesLength-1<t){const o=n.rendLineNumberStart+n.linesLength,d=t;o<=d&&(this._insertLinesAfter(n,o,d,i,g),n.linesLength+=d-o+1)}else if(n.rendLineNumberStart+n.linesLength-1>t){const o=Math.max(0,t-n.rendLineNumberStart+1),c=n.linesLength-1-o+1;c>0&&(this._removeLinesAfter(n,c),n.linesLength-=c)}return this._finishRendering(n,!1,i),n}_renderUntouchedLines(h,g,t,i,n){const o=h.rendLineNumberStart,d=h.lines;for(let c=g;c<=t;c++){const s=o+c;d[c].layoutLine(s,i[s-n])}}_insertLinesBefore(h,g,t,i,n){const o=[];let d=0;for(let c=g;c<=t;c++)o[d++]=this.host.createVisibleLine();h.lines=o.concat(h.lines)}_removeLinesBefore(h,g){for(let t=0;t<g;t++){const i=h.lines[t].getDomNode();i&&this.domNode.removeChild(i)}h.lines.splice(0,g)}_insertLinesAfter(h,g,t,i,n){const o=[];let d=0;for(let c=g;c<=t;c++)o[d++]=this.host.createVisibleLine();h.lines=h.lines.concat(o)}_removeLinesAfter(h,g){const t=h.linesLength-g;for(let i=0;i<g;i++){const n=h.lines[t+i].getDomNode();n&&this.domNode.removeChild(n)}h.lines.splice(t,g)}_finishRenderingNewLines(h,g,t,i){b._ttPolicy&&(t=b._ttPolicy.createHTML(t));const n=this.domNode.lastChild;g||!n?this.domNode.innerHTML=t:n.insertAdjacentHTML("afterend",t);let o=this.domNode.lastChild;for(let d=h.linesLength-1;d>=0;d--){const c=h.lines[d];i[d]&&(c.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(h,g,t){const i=document.createElement("div");b._ttPolicy&&(g=b._ttPolicy.createHTML(g)),i.innerHTML=g;for(let n=0;n<h.linesLength;n++){const o=h.lines[n];if(t[n]){const d=i.firstChild,c=o.getDomNode();c.parentNode.replaceChild(d,c),o.setDomNode(d)}}}_finishRendering(h,g,t){const i=b._sb,n=h.linesLength,o=h.lines,d=h.rendLineNumberStart,c=[];{i.reset();let s=!1;for(let a=0;a<n;a++){const r=o[a];c[a]=!1,!(r.getDomNode()||!r.renderLine(a+d,t[a],this.viewportData,i))&&(c[a]=!0,s=!0)}s&&this._finishRenderingNewLines(h,g,i.build(),c)}{i.reset();let s=!1;const a=[];for(let r=0;r<n;r++){const l=o[r];a[r]=!1,!(c[r]||!l.renderLine(r+d,t[r],this.viewportData,i))&&(a[r]=!0,s=!0)}s&&this._finishRenderingInvalidLines(h,i.build(),a)}}}b._ttPolicy=(N=window.trustedTypes)===null||N===void 0?void 0:N.createPolicy("editorViewLayer",{createHTML:C=>C}),b._sb=(0,m.createStringBuilder)(1e5)}),define(ee[143],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class y{constructor(S,b,C){this._tokenBrand=void 0,this.offset=S,this.type=b,this.language=C}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=y;class m{constructor(S,b){this._tokenizationResultBrand=void 0,this.tokens=S,this.endState=b}}e.TokenizationResult=m;class N{constructor(S,b){this._encodedTokenizationResultBrand=void 0,this.tokens=S,this.endState=b}}e.EncodedTokenizationResult=N}),define(ee[235],te([0,1,137,8]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const N=3;function I(d,c,s,a){return new y.LcsDiff(d,c,s).ComputeDiff(a)}class S{constructor(c){const s=[],a=[];for(let r=0,l=c.length;r<l;r++)s[r]=i(c[r],1),a[r]=n(c[r],1);this.lines=c,this._startColumns=s,this._endColumns=a}getElements(){const c=[];for(let s=0,a=this.lines.length;s<a;s++)c[s]=this.lines[s].substring(this._startColumns[s]-1,this._endColumns[s]-1);return c}getStrictElement(c){return this.lines[c]}getStartLineNumber(c){return c+1}getEndLineNumber(c){return c+1}createCharSequence(c,s,a){const r=[],l=[],u=[];let f=0;for(let w=s;w<=a;w++){const v=this.lines[w],p=c?this._startColumns[w]:1,_=c?this._endColumns[w]:v.length+1;for(let L=p;L<_;L++)r[f]=v.charCodeAt(L-1),l[f]=w+1,u[f]=L,f++}return new b(r,l,u)}}class b{constructor(c,s,a){this._charCodes=c,this._lineNumbers=s,this._columns=a}getElements(){return this._charCodes}getStartLineNumber(c){return this._lineNumbers[c]}getStartColumn(c){return this._columns[c]}getEndLineNumber(c){return this._lineNumbers[c]}getEndColumn(c){return this._columns[c]+1}}class C{constructor(c,s,a,r,l,u,f,w){this.originalStartLineNumber=c,this.originalStartColumn=s,this.originalEndLineNumber=a,this.originalEndColumn=r,this.modifiedStartLineNumber=l,this.modifiedStartColumn=u,this.modifiedEndLineNumber=f,this.modifiedEndColumn=w}static createFromDiffChange(c,s,a){let r,l,u,f,w,v,p,_;return c.originalLength===0?(r=0,l=0,u=0,f=0):(r=s.getStartLineNumber(c.originalStart),l=s.getStartColumn(c.originalStart),u=s.getEndLineNumber(c.originalStart+c.originalLength-1),f=s.getEndColumn(c.originalStart+c.originalLength-1)),c.modifiedLength===0?(w=0,v=0,p=0,_=0):(w=a.getStartLineNumber(c.modifiedStart),v=a.getStartColumn(c.modifiedStart),p=a.getEndLineNumber(c.modifiedStart+c.modifiedLength-1),_=a.getEndColumn(c.modifiedStart+c.modifiedLength-1)),new C(r,l,u,f,w,v,p,_)}}function h(d){if(d.length<=1)return d;const c=[d[0]];let s=c[0];for(let a=1,r=d.length;a<r;a++){const l=d[a],u=l.originalStart-(s.originalStart+s.originalLength),f=l.modifiedStart-(s.modifiedStart+s.modifiedLength);Math.min(u,f)<N?(s.originalLength=l.originalStart+l.originalLength-s.originalStart,s.modifiedLength=l.modifiedStart+l.modifiedLength-s.modifiedStart):(c.push(l),s=l)}return c}class g{constructor(c,s,a,r,l){this.originalStartLineNumber=c,this.originalEndLineNumber=s,this.modifiedStartLineNumber=a,this.modifiedEndLineNumber=r,this.charChanges=l}static createFromDiffResult(c,s,a,r,l,u,f){let w,v,p,_,L;if(s.originalLength===0?(w=a.getStartLineNumber(s.originalStart)-1,v=0):(w=a.getStartLineNumber(s.originalStart),v=a.getEndLineNumber(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(p=r.getStartLineNumber(s.modifiedStart)-1,_=0):(p=r.getStartLineNumber(s.modifiedStart),_=r.getEndLineNumber(s.modifiedStart+s.modifiedLength-1)),u&&s.originalLength>0&&s.originalLength<20&&s.modifiedLength>0&&s.modifiedLength<20&&l()){const E=a.createCharSequence(c,s.originalStart,s.originalStart+s.originalLength-1),M=r.createCharSequence(c,s.modifiedStart,s.modifiedStart+s.modifiedLength-1);let k=I(E,M,l,!0).changes;f&&(k=h(k)),L=[];for(let A=0,F=k.length;A<F;A++)L.push(C.createFromDiffChange(k[A],E,M))}return new g(w,v,p,_,L)}}class t{constructor(c,s,a){this.shouldComputeCharChanges=a.shouldComputeCharChanges,this.shouldPostProcessCharChanges=a.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=a.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=a.shouldMakePrettyDiff,this.originalLines=c,this.modifiedLines=s,this.original=new S(c),this.modified=new S(s),this.continueLineDiff=o(a.maxComputationTime),this.continueCharDiff=o(a.maxComputationTime===0?0:Math.min(a.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const c=I(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),s=c.changes,a=c.quitEarly;if(this.shouldIgnoreTrimWhitespace){const f=[];for(let w=0,v=s.length;w<v;w++)f.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,s[w],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:a,changes:f}}const r=[];let l=0,u=0;for(let f=-1,w=s.length;f<w;f++){const v=f+1<w?s[f+1]:null,p=v?v.originalStart:this.originalLines.length,_=v?v.modifiedStart:this.modifiedLines.length;for(;l<p&&u<_;){const L=this.originalLines[l],E=this.modifiedLines[u];if(L!==E){{let M=i(L,1),k=i(E,1);for(;M>1&&k>1;){const A=L.charCodeAt(M-2),F=E.charCodeAt(k-2);if(A!==F)break;M--,k--}(M>1||k>1)&&this._pushTrimWhitespaceCharChange(r,l+1,1,M,u+1,1,k)}{let M=n(L,1),k=n(E,1);const A=L.length+1,F=E.length+1;for(;M<A&&k<F;){const B=L.charCodeAt(M-1),T=L.charCodeAt(k-1);if(B!==T)break;M++,k++}(M<A||k<F)&&this._pushTrimWhitespaceCharChange(r,l+1,M,A,u+1,k,F)}}l++,u++}v&&(r.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,v,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),l+=v.originalLength,u+=v.modifiedLength)}return{quitEarly:a,changes:r}}_pushTrimWhitespaceCharChange(c,s,a,r,l,u,f){if(this._mergeTrimWhitespaceCharChange(c,s,a,r,l,u,f))return;let w;this.shouldComputeCharChanges&&(w=[new C(s,a,s,r,l,u,l,f)]),c.push(new g(s,s,l,l,w))}_mergeTrimWhitespaceCharChange(c,s,a,r,l,u,f){const w=c.length;if(w===0)return!1;const v=c[w-1];return v.originalEndLineNumber===0||v.modifiedEndLineNumber===0?!1:v.originalEndLineNumber+1===s&&v.modifiedEndLineNumber+1===l?(v.originalEndLineNumber=s,v.modifiedEndLineNumber=l,this.shouldComputeCharChanges&&v.charChanges&&v.charChanges.push(new C(s,a,s,r,l,u,l,f)),!0):!1}}e.DiffComputer=t;function i(d,c){const s=m.firstNonWhitespaceIndex(d);return s===-1?c:s+1}function n(d,c){const s=m.lastNonWhitespaceIndex(d);return s===-1?c:s+2}function o(d){if(d===0)return()=>!0;const c=Date.now();return()=>Date.now()-c<d}}),define(ee[236],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class y{constructor(N,I,S,b,C,h){this.id=N,this.label=I,this.alias=S,this._precondition=b,this._run=C,this._contextKeyService=h}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=y}),define(ee[144],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ee[145],te([0,1,144]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function m(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===y.EditorType.ICodeEditor:!1}e.isCodeEditor=m;function N(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===y.EditorType.IDiffEditor:!1}e.isDiffEditor=N;function I(S){return m(S)?S:N(S)?S.getModifiedEditor():null}e.getCodeEditor=I}),define(ee[115],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var y;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(y=e.IndentAction||(e.IndentAction={}));class m{constructor(b){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=b.open,this.close=b.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(b.notIn))for(let C=0,h=b.notIn.length;C<h;C++)switch(b.notIn[C]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(b){switch(b){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(b,C){if(b.getTokenCount()===0)return!0;const h=b.findTokenIndexAtOffset(C-2),g=b.getStandardTokenType(h);return this.isOK(g)}_findNeutralCharacterInRange(b,C){for(let h=b;h<=C;h++){const g=String.fromCharCode(h);if(!this.open.includes(g)&&!this.close.includes(g))return g}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=m;class N{constructor(b){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of b)I(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),I(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),I(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),I(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),C.close.length===1&&C.open.length===1&&I(this.autoClosingPairsCloseSingleChar,C.close,C)}}e.AutoClosingPairs=N;function I(S,b,C){S.has(b)?S.get(b).push(C):S.set(b,[C])}}),define(ee[399],te([0,1,213,81]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function N(I,S,b,C){if(Array.isArray(I)){let h=0;for(const g of I){const t=N(g,S,b,C);if(t===10)return t;t>h&&(h=t)}return h}else{if(typeof I=="string")return C?I==="*"?5:I===b?10:0:0;if(I){const{language:h,pattern:g,scheme:t,hasAccessToAllModels:i}=I;if(!C&&!i)return 0;let n=0;if(t)if(t===S.scheme)n=10;else if(t==="*")n=5;else return 0;if(h)if(h===b)n=10;else if(h==="*")n=Math.max(n,5);else return 0;if(g){let o;if(typeof g=="string"?o=g:o=Object.assign(Object.assign({},g),{base:(0,m.normalize)(g.base)}),o===S.fsPath||(0,y.match)(o,S.fsPath))n=10;else return 0}return n}else return 0}}e.score=N}),define(ee[400],te([0,1,96]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class m{constructor(i,n,o){const d=new Uint8Array(i*n);for(let c=0,s=i*n;c<s;c++)d[c]=o;this._data=d,this.rows=i,this.cols=n}get(i,n){return this._data[i*this.cols+n]}set(i,n,o){this._data[i*this.cols+n]=o}}e.Uint8Matrix=m;class N{constructor(i){let n=0,o=0;for(let c=0,s=i.length;c<s;c++){const[a,r,l]=i[c];r>n&&(n=r),a>o&&(o=a),l>o&&(o=l)}n++,o++;const d=new m(o,n,0);for(let c=0,s=i.length;c<s;c++){const[a,r,l]=i[c];d.set(a,r,l)}this._states=d,this._maxCharCode=n}nextState(i,n){return n<0||n>=this._maxCharCode?0:this._states.get(i,n)}}e.StateMachine=N;let I=null;function S(){return I===null&&(I=new N([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),I}let b=null;function C(){if(b===null){b=new y.CharacterClassifier(0);const t=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let n=0;n<t.length;n++)b.set(t.charCodeAt(n),1);const i=".,;";for(let n=0;n<i.length;n++)b.set(i.charCodeAt(n),2)}return b}class h{static _createLink(i,n,o,d,c){let s=c-1;do{const a=n.charCodeAt(s);if(i.get(a)!==2)break;s--}while(s>d);if(d>0){const a=n.charCodeAt(d-1),r=n.charCodeAt(s);(a===40&&r===41||a===91&&r===93||a===123&&r===125)&&s--}return{range:{startLineNumber:o,startColumn:d+1,endLineNumber:o,endColumn:s+2},url:n.substring(d,s+1)}}static computeLinks(i,n=S()){const o=C(),d=[];for(let c=1,s=i.getLineCount();c<=s;c++){const a=i.getLineContent(c),r=a.length;let l=0,u=0,f=0,w=1,v=!1,p=!1,_=!1,L=!1;for(;l<r;){let E=!1;const M=a.charCodeAt(l);if(w===13){let k;switch(M){case 40:v=!0,k=0;break;case 41:k=v?0:1;break;case 91:_=!0,p=!0,k=0;break;case 93:_=!1,k=p?0:1;break;case 123:L=!0,k=0;break;case 125:k=L?0:1;break;case 39:k=f===34||f===96?0:1;break;case 34:k=f===39||f===96?0:1;break;case 96:k=f===39||f===34?0:1;break;case 42:k=f===42?1:0;break;case 124:k=f===124?1:0;break;case 32:k=_?0:1;break;default:k=o.get(M)}k===1&&(d.push(h._createLink(o,a,c,u,l)),E=!0)}else if(w===12){let k;M===91?(p=!0,k=0):k=o.get(M),k===1?E=!0:w=13}else w=n.nextState(w,M),w===0&&(E=!0);E&&(w=1,v=!1,p=!1,L=!1,u=l+1,f=M),l++}w===13&&d.push(h._createLink(o,a,c,u,r))}return d}}e.LinkComputer=h;function g(t){return!t||typeof t.getLineCount!="function"||typeof t.getLineContent!="function"?[]:h.computeLinks(t)}e.computeLinks=g}),define(ee[116],te([0,1,143]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(I){return this===I}};function m(I,S){return new y.TokenizationResult([new y.Token(0,"",I)],S)}e.nullTokenize=m;function N(I,S){const b=new Uint32Array(2);return b[0]=0,b[1]=(I<<0|0<<8|0<<10|1<<14|2<<23)>>>0,new y.EncodedTokenizationResult(b,S===null?e.NullState:S)}e.nullTokenizeEncoded=N}),define(ee[117],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function y(I,S){const b=I.getCount(),C=I.findTokenIndexAtOffset(S),h=I.getLanguageId(C);let g=C;for(;g+1<b&&I.getLanguageId(g+1)===h;)g++;let t=C;for(;t>0&&I.getLanguageId(t-1)===h;)t--;return new m(I,h,t,g+1,I.getStartOffset(t),I.getEndOffset(g))}e.createScopedLineTokens=y;class m{constructor(S,b,C,h,g,t){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=b,this._firstTokenIndex=C,this._lastTokenIndex=h,this.firstCharOffset=g,this._lastCharOffset=t}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=m;function N(I){return(I&3)!=0}e.ignoreBracketsInToken=N}),define(ee[401],te([0,1,115]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class m{constructor(S){if(S.autoClosingPairs?this._autoClosingPairs=S.autoClosingPairs.map(b=>new y.StandardAutoClosingPairConditional(b)):S.brackets?this._autoClosingPairs=S.brackets.map(b=>new y.StandardAutoClosingPairConditional({open:b[0],close:b[1]})):this._autoClosingPairs=[],S.colorizedBracketPairs?this._colorizedBracketPairs=N(S.colorizedBracketPairs.map(b=>[b[0],b[1]])):S.brackets?this._colorizedBracketPairs=N(S.brackets.map(b=>[b[0],b[1]]).filter(b=>!(b[0]==="<"&&b[1]===">"))):this._colorizedBracketPairs=[],S.__electricCharacterSupport&&S.__electricCharacterSupport.docComment){const b=S.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.StandardAutoClosingPairConditional({open:b.open,close:b.close||""}))}this._autoCloseBefore=typeof S.autoCloseBefore=="string"?S.autoCloseBefore:m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=S.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}e.CharacterPairSupport=m,m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function N(I){return I.filter(([S,b])=>S!==""&&b!=="")}}),define(ee[402],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function y(N){return N.global&&(N.lastIndex=0),!0}class m{constructor(I){this._indentationRules=I}shouldIncrease(I){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&y(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(I))}shouldDecrease(I){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&y(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(I))}shouldIndentNextLine(I){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&y(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(I))}shouldIgnore(I){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&y(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(I))}getIndentMetadata(I){let S=0;return this.shouldIncrease(I)&&(S+=1),this.shouldDecrease(I)&&(S+=2),this.shouldIndentNextLine(I)&&(S+=4),this.shouldIgnore(I)&&(S+=8),S}}e.IndentRulesSupport=m}),define(ee[403],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class y{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(N,I,S,b,C){if(N&&I){const h=this.doNavigateValueSet(I,C);if(h)return{range:N,value:h}}if(S&&b){const h=this.doNavigateValueSet(b,C);if(h)return{range:S,value:h}}return null}doNavigateValueSet(N,I){const S=this.numberReplace(N,I);return S!==null?S:this.textReplace(N,I)}numberReplace(N,I){const S=Math.pow(10,N.length-(N.lastIndexOf(".")+1));let b=Number(N),C=parseFloat(N);return!isNaN(b)&&!isNaN(C)&&b===C?b===0&&!I?null:(b=Math.floor(b*S),b+=I?S:-S,String(b/S)):null}textReplace(N,I){return this.valueSetsReplace(this._defaultValueSet,N,I)}valueSetsReplace(N,I,S){let b=null;for(let C=0,h=N.length;b===null&&C<h;C++)b=this.valueSetReplace(N[C],I,S);return b}valueSetReplace(N,I,S){let b=N.indexOf(I);return b>=0?(b+=S?1:-1,b<0?b=N.length-1:b%=N.length,N[b]):null}}e.BasicInplaceReplace=y,y.INSTANCE=new y}),define(ee[404],te([0,1,14,8,115]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class I{constructor(b){b=b||{},b.brackets=b.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],b.brackets.forEach(C=>{const h=I._createOpenBracketRegExp(C[0]),g=I._createCloseBracketRegExp(C[1]);h&&g&&this._brackets.push({open:C[0],openRegExp:h,close:C[1],closeRegExp:g})}),this._regExpRules=b.onEnterRules||[]}onEnter(b,C,h,g){if(b>=3)for(let t=0,i=this._regExpRules.length;t<i;t++){const n=this._regExpRules[t];if([{reg:n.beforeText,text:h},{reg:n.afterText,text:g},{reg:n.previousLineText,text:C}].every(d=>d.reg?(d.reg.lastIndex=0,d.reg.test(d.text)):!0))return n.action}if(b>=2&&h.length>0&&g.length>0)for(let t=0,i=this._brackets.length;t<i;t++){const n=this._brackets[t];if(n.openRegExp.test(h)&&n.closeRegExp.test(g))return{indentAction:N.IndentAction.IndentOutdent}}if(b>=2&&h.length>0){for(let t=0,i=this._brackets.length;t<i;t++)if(this._brackets[t].openRegExp.test(h))return{indentAction:N.IndentAction.Indent}}return null}static _createOpenBracketRegExp(b){let C=m.escapeRegExpCharacters(b);return/\B/.test(C.charAt(0))||(C="\\b"+C),C+="\\s*$",I._safeRegExp(C)}static _createCloseBracketRegExp(b){let C=m.escapeRegExpCharacters(b);return/\B/.test(C.charAt(C.length-1))||(C=C+"\\b"),C="^\\s*"+C,I._safeRegExp(C)}static _safeRegExp(b){try{return new RegExp(b)}catch(C){return(0,y.onUnexpectedError)(C),null}}}e.OnEnterSupport=I}),define(ee[175],te([0,1,8,89,3]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class I{constructor(l,u,f,w,v,p){this._richEditBracketBrand=void 0,this.languageId=l,this.index=u,this.open=f,this.close=w,this.forwardRegex=v,this.reversedRegex=p,this._openSet=I._toSet(this.open),this._closeSet=I._toSet(this.close)}isOpen(l){return this._openSet.has(l)}isClose(l){return this._closeSet.has(l)}static _toSet(l){const u=new Set;for(const f of l)u.add(f);return u}}e.RichEditBracket=I;function S(r){const l=r.length;r=r.map(p=>[p[0].toLowerCase(),p[1].toLowerCase()]);const u=[];for(let p=0;p<l;p++)u[p]=p;const f=(p,_)=>{const[L,E]=p,[M,k]=_;return L===M||L===k||E===M||E===k},w=(p,_)=>{const L=Math.min(p,_),E=Math.max(p,_);for(let M=0;M<l;M++)u[M]===E&&(u[M]=L)};for(let p=0;p<l;p++){const _=r[p];for(let L=p+1;L<l;L++){const E=r[L];f(_,E)&&w(u[p],u[L])}}const v=[];for(let p=0;p<l;p++){const _=[],L=[];for(let E=0;E<l;E++)if(u[E]===p){const[M,k]=r[E];_.push(M),L.push(k)}_.length>0&&v.push({open:_,close:L})}return v}class b{constructor(l,u){this._richEditBracketsBrand=void 0;const f=S(u);this.brackets=f.map((w,v)=>new I(l,v,w.open,w.close,t(w.open,w.close,f,v),i(w.open,w.close,f,v))),this.forwardRegex=n(this.brackets),this.reversedRegex=o(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const w of this.brackets){for(const v of w.open)this.textIsBracket[v]=w,this.textIsOpenBracket[v]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,v.length);for(const v of w.close)this.textIsBracket[v]=w,this.textIsOpenBracket[v]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,v.length)}}}e.RichEditBrackets=b;function C(r,l,u,f){for(let w=0,v=l.length;w<v;w++){if(w===u)continue;const p=l[w];for(const _ of p.open)_.indexOf(r)>=0&&f.push(_);for(const _ of p.close)_.indexOf(r)>=0&&f.push(_)}}function h(r,l){return r.length-l.length}function g(r){if(r.length<=1)return r;const l=[],u=new Set;for(const f of r)u.has(f)||(l.push(f),u.add(f));return l}function t(r,l,u,f){let w=[];w=w.concat(r),w=w.concat(l);for(let v=0,p=w.length;v<p;v++)C(w[v],u,f,w);return w=g(w),w.sort(h),w.reverse(),c(w)}function i(r,l,u,f){let w=[];w=w.concat(r),w=w.concat(l);for(let v=0,p=w.length;v<p;v++)C(w[v],u,f,w);return w=g(w),w.sort(h),w.reverse(),c(w.map(s))}function n(r){let l=[];for(const u of r){for(const f of u.open)l.push(f);for(const f of u.close)l.push(f)}return l=g(l),c(l)}function o(r){let l=[];for(const u of r){for(const f of u.open)l.push(f);for(const f of u.close)l.push(f)}return l=g(l),c(l.map(s))}function d(r){const l=/^[\w ]+$/.test(r);return r=y.escapeRegExpCharacters(r),l?`\\b${r}\\b`:r}function c(r){const l=`(${r.map(d).join(")|(")})`;return y.createRegExp(l,!0)}const s=function(){function r(f){if(m.hasTextDecoder){const w=new Uint16Array(f.length);let v=0;for(let p=f.length-1;p>=0;p--)w[v++]=f.charCodeAt(p);return m.getPlatformTextDecoder().decode(w)}else{const w=[];let v=0;for(let p=f.length-1;p>=0;p--)w[v++]=f.charAt(p);return w.join("")}}let l=null,u=null;return function(w){return l!==w&&(l=w,u=r(l)),u}}();class a{static _findPrevBracketInText(l,u,f,w){const v=f.match(l);if(!v)return null;const p=f.length-(v.index||0),_=v[0].length,L=w+p;return new N.Range(u,L-_+1,u,L+1)}static findPrevBracketInRange(l,u,f,w,v){const _=s(f).substring(f.length-v,f.length-w);return this._findPrevBracketInText(l,u,_,w)}static findNextBracketInText(l,u,f,w){const v=f.match(l);if(!v)return null;const p=v.index||0,_=v[0].length;if(_===0)return null;const L=w+p;return new N.Range(u,L+1,u,L+1+_)}static findNextBracketInRange(l,u,f,w,v){const p=f.substring(w,v);return this.findNextBracketInText(l,u,p,w)}}e.BracketsUtils=a}),define(ee[405],te([0,1,19,117,175]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class I{constructor(b){this._richEditBrackets=b}getElectricCharacters(){const b=[];if(this._richEditBrackets)for(const C of this._richEditBrackets.brackets)for(const h of C.close){const g=h.charAt(h.length-1);b.push(g)}return(0,y.distinct)(b)}onElectricCharacter(b,C,h){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const g=C.findTokenIndexAtOffset(h-1);if((0,m.ignoreBracketsInToken)(C.getStandardTokenType(g)))return null;const t=this._richEditBrackets.reversedRegex,i=C.getLineContent().substring(0,h-1)+b,n=N.BracketsUtils.findPrevBracketInRange(t,1,i,0,i.length);if(!n)return null;const o=i.substring(n.startColumn-1,n.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[o])return null;const c=C.getActualLineContentBefore(n.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:o}:null}}e.BracketElectricCharacterSupport=I}),define(ee[406],te([0,1,29]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class m{constructor(c,s,a,r,l){this._parsedThemeRuleBrand=void 0,this.token=c,this.index=s,this.fontStyle=a,this.foreground=r,this.background=l}}e.ParsedTokenThemeRule=m;function N(d){if(!d||!Array.isArray(d))return[];const c=[];let s=0;for(let a=0,r=d.length;a<r;a++){const l=d[a];let u=-1;if(typeof l.fontStyle=="string"){u=0;const v=l.fontStyle.split(" ");for(let p=0,_=v.length;p<_;p++)switch(v[p]){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break;case"strikethrough":u=u|8;break}}let f=null;typeof l.foreground=="string"&&(f=l.foreground);let w=null;typeof l.background=="string"&&(w=l.background),c[s++]=new m(l.token||"",a,u,f,w)}return c}e.parseTokenTheme=N;function I(d,c){d.sort((p,_)=>{const L=t(p.token,_.token);return L!==0?L:p.index-_.index});let s=0,a="000000",r="ffffff";for(;d.length>=1&&d[0].token==="";){const p=d.shift();p.fontStyle!==-1&&(s=p.fontStyle),p.foreground!==null&&(a=p.foreground),p.background!==null&&(r=p.background)}const l=new b;for(let p of c)l.getId(p);const u=l.getId(a),f=l.getId(r),w=new i(s,u,f),v=new n(w);for(let p=0,_=d.length;p<_;p++){const L=d[p];v.insert(L.token,L.fontStyle,l.getId(L.foreground),l.getId(L.background))}return new C(l,v)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class b{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(c){if(c===null)return 0;const s=c.match(S);if(!s)throw new Error("Illegal value for token color: "+c);c=s[1].toUpperCase();let a=this._color2id.get(c);return a||(a=++this._lastColorId,this._color2id.set(c,a),this._id2color[a]=y.Color.fromHex("#"+c),a)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=b;class C{constructor(c,s){this._colorMap=c,this._root=s,this._cache=new Map}static createFromRawTokenTheme(c,s){return this.createFromParsedTokenTheme(N(c),s)}static createFromParsedTokenTheme(c,s){return I(c,s)}getColorMap(){return this._colorMap.getColorMap()}_match(c){return this._root.match(c)}match(c,s){let a=this._cache.get(s);if(typeof a=="undefined"){const r=this._match(s),l=g(s);a=(r.metadata|l<<8)>>>0,this._cache.set(s,a)}return(a|c<<0)>>>0}}e.TokenTheme=C;const h=/\b(comment|string|regex|regexp)\b/;function g(d){const c=d.match(h);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=g;function t(d,c){return d<c?-1:d>c?1:0}e.strcmp=t;class i{constructor(c,s,a){this._themeTrieElementRuleBrand=void 0,this._fontStyle=c,this._foreground=s,this._background=a,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(c,s,a){c!==-1&&(this._fontStyle=c),s!==0&&(this._foreground=s),a!==0&&(this._background=a),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=i;class n{constructor(c){this._themeTrieElementBrand=void 0,this._mainRule=c,this._children=new Map}match(c){if(c==="")return this._mainRule;const s=c.indexOf(".");let a,r;s===-1?(a=c,r=""):(a=c.substring(0,s),r=c.substring(s+1));const l=this._children.get(a);return typeof l!="undefined"?l.match(r):this._mainRule}insert(c,s,a,r){if(c===""){this._mainRule.acceptOverwrite(s,a,r);return}const l=c.indexOf(".");let u,f;l===-1?(u=c,f=""):(u=c.substring(0,l),f=c.substring(l+1));let w=this._children.get(u);typeof w=="undefined"&&(w=new n(this._mainRule.clone()),this._children.set(u,w)),w.insert(f,s,a,r)}}e.ThemeTrieElement=n;function o(d){const c=[];for(let s=1,a=d.length;s<a;s++){const r=d[s];c[s]=`.mtk${s} { color: ${r}; }`}return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join(`
`)}e.generateTokensCSSForColorMap=o}),define(ee[407],te([0,1,4,2]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class N{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(b){this._onDidChange.fire({changedLanguages:b,changedColorMap:!1})}register(b,C){return this._map.set(b,C),this.fire([b]),(0,m.toDisposable)(()=>{this._map.get(b)===C&&(this._map.delete(b),this.fire([b]))})}registerFactory(b,C){var h;(h=this._factories.get(b))===null||h===void 0||h.dispose();const g=new I(this,b,C);return this._factories.set(b,g),(0,m.toDisposable)(()=>{const t=this._factories.get(b);!t||t!==g||(this._factories.delete(b),t.dispose())})}getOrCreate(b){return De(this,void 0,void 0,function*(){const C=this.get(b);if(C)return C;const h=this._factories.get(b);return!h||h.isResolved?null:(yield h.resolve(),this.get(b))})}get(b){return this._map.get(b)||null}isResolved(b){if(this.get(b))return!0;const h=this._factories.get(b);return!!(!h||h.isResolved)}setColorMap(b){this._colorMap=b,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=N;class I extends m.Disposable{constructor(b,C,h){super();this._registry=b,this._languageId=C,this._factory=h,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return De(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return De(this,void 0,void 0,function*(){const b=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,b&&!this._isDisposed&&this._register(this._registry.register(this._languageId,b))})}}}),define(ee[50],te([0,1,38]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.OverviewRulerLane=void 0;var m;(function(g){g[g.Left=1]="Left",g[g.Center=2]="Center",g[g.Right=4]="Right",g[g.Full=7]="Full"})(m=e.OverviewRulerLane||(e.OverviewRulerLane={}));var N;(function(g){g[g.Inline=1]="Inline",g[g.Gutter=2]="Gutter"})(N=e.MinimapPosition||(e.MinimapPosition={}));var I;(function(g){g[g.Both=0]="Both",g[g.Right=1]="Right",g[g.Left=2]="Left",g[g.None=3]="None"})(I=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));class S{constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),this.indentSize=t.tabSize|0,this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,y.equals)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}e.TextModelResolvedOptions=S;class b{constructor(t,i){this._findMatchBrand=void 0,this.range=t,this.matches=i}}e.FindMatch=b;class C{constructor(t,i,n,o,d,c){this.identifier=t,this.range=i,this.text=n,this.forceMoveMarkers=o,this.isAutoWhitespaceEdit=d,this._isTracked=c}}e.ValidAnnotatedEditOperation=C;class h{constructor(t,i,n){this.reverseEdits=t,this.changes=i,this.trimAutoWhitespaceLineNumbers=n}}e.ApplyEditsResult=h}),define(ee[408],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class y{constructor(S,b,C){this.range=S,this.nestingLevel=b,this.isInvalid=C}}e.BracketInfo=y;class m{constructor(S,b,C,h){this.range=S,this.openingBracketRange=b,this.closingBracketRange=C,this.nestingLevel=h}}e.BracketPairInfo=m;class N extends m{constructor(S,b,C,h,g){super(S,b,C,h);this.minVisibleColumnIndentation=g}}e.BracketPairWithMinIndentationInfo=N}),define(ee[90],te([0,1,8,3]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthHash=e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class N{constructor(f,w){this.lineCount=f,this.columnCount=w}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=N,N.zero=new N(0,0);function I(u,f,w,v){return u!==w?C(w-u,v):C(0,v-f)}e.lengthDiff=I,e.lengthZero=0;function S(u){return u===0}e.lengthIsZero=S;const b=Math.pow(2,26);function C(u,f){return u*b+f}e.toLength=C;function h(u){const f=u,w=Math.floor(f/b),v=f-w*b;return new N(w,v)}e.lengthToObj=h;function g(u){return Math.floor(u/b)}e.lengthGetLineCount=g;function t(u){return u}e.lengthGetColumnCountIfZeroLineCount=t;function i(u,f){return f<b?u+f:u-u%b+f}e.lengthAdd=i;function n(u,f){const w=u,v=f;if(v-w<=0)return e.lengthZero;const _=Math.floor(w/b),L=Math.floor(v/b),E=v-L*b;if(_===L){const M=w-_*b;return C(0,E-M)}else return C(L-_,E)}e.lengthDiffNonNegative=n;function o(u,f){return u<f}e.lengthLessThan=o;function d(u,f){return u<=f}e.lengthLessThanEqual=d;function c(u,f){return u>=f}e.lengthGreaterThanEqual=c;function s(u){return C(u.lineNumber-1,u.column-1)}e.positionToLength=s;function a(u,f){const w=u,v=Math.floor(w/b),p=w-v*b,_=f,L=Math.floor(_/b),E=_-L*b;return new m.Range(v+1,p+1,L+1,E+1)}e.lengthsToRange=a;function r(u){const f=(0,y.splitLines)(u);return C(f.length-1,f[f.length-1].length)}e.lengthOfString=r;function l(u){return u}e.lengthHash=l}),define(ee[237],te([0,1,90]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class m{constructor(b,C,h){this.startOffset=b,this.endOffset=C,this.newLength=h}}e.TextEditInfo=m;class N{constructor(b,C){this.documentLength=C,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=b.map(h=>I.from(h))}getOffsetBeforeChange(b){return this.adjustNextEdit(b),this.translateCurToOld(b)}getDistanceToNextChange(b){this.adjustNextEdit(b);const C=this.edits[this.nextEditIdx],h=C?this.translateOldToCur(C.offsetObj):this.documentLength;return(0,y.lengthDiffNonNegative)(b,h)}translateOldToCur(b){return b.lineCount===this.deltaLineIdxInOld?(0,y.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount+this.deltaOldToNewColumnCount):(0,y.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount)}translateCurToOld(b){const C=(0,y.lengthToObj)(b);return C.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,y.toLength)(C.lineCount-this.deltaOldToNewLineCount,C.columnCount-this.deltaOldToNewColumnCount):(0,y.toLength)(C.lineCount-this.deltaOldToNewLineCount,C.columnCount)}adjustNextEdit(b){for(;this.nextEditIdx<this.edits.length;){const C=this.edits[this.nextEditIdx],h=this.translateOldToCur(C.endOffsetAfterObj);if((0,y.lengthLessThanEqual)(h,b)){this.nextEditIdx++;const g=(0,y.lengthToObj)(h),t=(0,y.lengthToObj)(this.translateOldToCur(C.endOffsetBeforeObj)),i=g.lineCount-t.lineCount;this.deltaOldToNewLineCount+=i;const n=this.deltaLineIdxInOld===C.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,o=g.columnCount-t.columnCount;this.deltaOldToNewColumnCount=n+o,this.deltaLineIdxInOld=C.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=N;class I{constructor(b,C,h){this.endOffsetBeforeObj=(0,y.lengthToObj)(C),this.endOffsetAfterObj=(0,y.lengthToObj)((0,y.lengthAdd)(b,h)),this.offsetObj=(0,y.lengthToObj)(b)}static from(b){return new I(b.startOffset,b.endOffset,b.newLength)}}}),define(ee[409],te([0,1,90]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class m{constructor(b){this.lastOffset=y.lengthZero,this.nextNodes=[b],this.offsets=[y.lengthZero],this.idxs=[]}readLongestNodeAt(b,C){if((0,y.lengthLessThan)(b,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=b;;){const h=I(this.nextNodes);if(!h)return;const g=I(this.offsets);if((0,y.lengthLessThan)(b,g))return;if((0,y.lengthLessThan)(g,b))if((0,y.lengthAdd)(g,h.length)<=b)this.nextNodeAfterCurrent();else{const t=N(h);t!==-1?(this.nextNodes.push(h.getChild(t)),this.offsets.push(g),this.idxs.push(t)):this.nextNodeAfterCurrent()}else{if(C(h))return this.nextNodeAfterCurrent(),h;{const t=N(h);if(t===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(h.getChild(t)),this.offsets.push(g),this.idxs.push(t)}}}}nextNodeAfterCurrent(){for(;;){const b=I(this.offsets),C=I(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const h=I(this.nextNodes),g=N(h,this.idxs[this.idxs.length-1]);if(g!==-1){this.nextNodes.push(h.getChild(g)),this.offsets.push((0,y.lengthAdd)(b,C.length)),this.idxs[this.idxs.length-1]=g;break}else this.idxs.pop()}}}e.NodeReader=m;function N(S,b=-1){for(;;){if(b++,b>=S.childrenLength)return-1;if(S.getChild(b))return b}}function I(S){return S.length>0?S[S.length-1]:void 0}}),define(ee[118],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const y=new Array;class m{constructor(S,b){this.items=S,this.additionalItems=b}static create(S,b){if(S<=128&&b.length===0){let C=m.cache[S];return C||(C=new m(S,b),m.cache[S]=C),C}return new m(S,b)}static getEmpty(){return this.empty}add(S,b){const C=b.getKey(S);let h=C>>5;if(h===0){const t=1<<C|this.items;return t===this.items?this:m.create(t,this.additionalItems)}h--;const g=this.additionalItems.slice(0);for(;g.length<h;)g.push(0);return g[h]|=1<<(C&31),m.create(this.items,g)}merge(S){const b=this.items|S.items;if(this.additionalItems===y&&S.additionalItems===y)return b===this.items?this:b===S.items?S:m.create(b,y);const C=new Array;for(let h=0;h<Math.max(this.additionalItems.length,S.additionalItems.length);h++){const g=this.additionalItems[h]||0,t=S.additionalItems[h]||0;C.push(g|t)}return m.create(b,C)}intersects(S){if((this.items&S.items)!=0)return!0;for(let b=0;b<Math.min(this.additionalItems.length,S.additionalItems.length);b++)if((this.additionalItems[b]&S.additionalItems[b])!=0)return!0;return!1}}e.SmallImmutableSet=m,m.cache=new Array(129),m.empty=m.create(0,y),e.identityKeyProvider={getKey(I){return I}};class N{constructor(){this.items=new Map}getKey(S){let b=this.items.get(S);return b===void 0&&(b=this.items.size,this.items.set(S,b)),b}}e.DenseKeyProvider=N}),define(ee[146],te([0,1,113,90,118]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class I{constructor(a){this._length=a}get length(){return this._length}}class S extends I{constructor(a,r,l,u,f){super(a);this.openingBracket=r,this.child=l,this.closingBracket=u,this.missingOpeningBracketIds=f}static create(a,r,l){let u=a.length;return r&&(u=(0,m.lengthAdd)(u,r.length)),l&&(u=(0,m.lengthAdd)(u,l.length)),new S(u,a,r,l,r?r.missingOpeningBracketIds:N.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(a){switch(a){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const a=new Array;return a.push(this.openingBracket),this.child&&a.push(this.child),this.closingBracket&&a.push(this.closingBracket),a}canBeReused(a){return!(this.closingBracket===null||a.intersects(this.missingOpeningBracketIds))}deepClone(){return new S(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(a,r){return this.child?this.child.computeMinIndentation((0,m.lengthAdd)(a,this.openingBracket.length),r):Number.MAX_SAFE_INTEGER}}e.PairAstNode=S;class b extends I{constructor(a,r,l){super(a);this.listHeight=r,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}static create23(a,r,l,u=!1){let f=a.length,w=a.missingOpeningBracketIds;if(a.listHeight!==r.listHeight)throw new Error("Invalid list heights");if(f=(0,m.lengthAdd)(f,r.length),w=w.merge(r.missingOpeningBracketIds),l){if(a.listHeight!==l.listHeight)throw new Error("Invalid list heights");f=(0,m.lengthAdd)(f,l.length),w=w.merge(l.missingOpeningBracketIds)}return u?new h(f,a.listHeight+1,a,r,l,w):new C(f,a.listHeight+1,a,r,l,w)}static getEmpty(){return new t(m.lengthZero,0,[],N.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const a=this.childrenLength;if(a===0)return;const r=this.getChild(a-1),l=r.kind===4?r.toMutable():r;return r!==l&&this.setChild(a-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const r=this.getChild(0),l=r.kind===4?r.toMutable():r;return r!==l&&this.setChild(0,l),l}canBeReused(a){if(a.intersects(this.missingOpeningBracketIds))return!1;let r=this,l;for(;r.kind===4&&(l=r.childrenLength)>0;)r=r.getChild(l-1);return r.canBeReused(a)}handleChildrenChanged(){this.throwIfImmutable();const a=this.childrenLength;let r=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let u=1;u<a;u++){const f=this.getChild(u);r=(0,m.lengthAdd)(r,f.length),l=l.merge(f.missingOpeningBracketIds)}this._length=r,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(a,r){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,u=a;for(let f=0;f<this.childrenLength;f++){const w=this.getChild(f);w&&(l=Math.min(l,w.computeMinIndentation(u,r)),u=(0,m.lengthAdd)(u,w.length))}return this.cachedMinIndentation=l,l}}e.ListAstNode=b;class C extends b{constructor(a,r,l,u,f,w){super(a,r,w);this._item1=l,this._item2=u,this._item3=f}get childrenLength(){return this._item3!==null?3:2}getChild(a){switch(a){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(a,r){switch(a){case 0:this._item1=r;return;case 1:this._item2=r;return;case 2:this._item3=r;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new C(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=a,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item3;return this._item3=null,this.handleChildrenChanged(),a}prependChildOfSameHeight(a){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=a,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const a=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),a}toMutable(){return this}}class h extends C{toMutable(){return new C(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class g extends b{constructor(a,r,l,u){super(a,r,u);this._children=l}get childrenLength(){return this._children.length}getChild(a){return this._children[a]}setChild(a,r){this._children[a]=r}get children(){return this._children}deepClone(){const a=new Array(this._children.length);for(let r=0;r<this._children.length;r++)a[r]=this._children[r].deepClone();return new g(this.length,this.listHeight,a,this.missingOpeningBracketIds)}appendChildOfSameHeight(a){this.throwIfImmutable(),this._children.push(a),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const a=this._children.pop();return this.handleChildrenChanged(),a}prependChildOfSameHeight(a){this.throwIfImmutable(),this._children.unshift(a),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const a=this._children.shift();return this.handleChildrenChanged(),a}toMutable(){return this}}class t extends g{toMutable(){return new g(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class n extends I{get listHeight(){return 0}get childrenLength(){return 0}getChild(a){return null}get children(){return i}deepClone(){return this}}class o extends n{get kind(){return 0}get missingOpeningBracketIds(){return N.SmallImmutableSet.getEmpty()}canBeReused(a){return!0}computeMinIndentation(a,r){const l=(0,m.lengthToObj)(a),u=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,f=(0,m.lengthGetLineCount)((0,m.lengthAdd)(a,this.length))+1;let w=Number.MAX_SAFE_INTEGER;for(let v=u;v<=f;v++){const p=r.getLineFirstNonWhitespaceColumn(v),_=r.getLineContent(v);if(p===0)continue;const L=y.CursorColumns.visibleColumnFromColumn(_,p,r.getOptions().tabSize);w=Math.min(w,L)}return w}}e.TextAstNode=o;class d extends n{constructor(a){super(a)}static create(a){const r=(0,m.lengthHash)(a),l=d.cacheByLength.get(r);if(l)return l;const u=new d(a);return d.cacheByLength.set(r,u),u}get kind(){return 1}get missingOpeningBracketIds(){return N.SmallImmutableSet.getEmpty()}canBeReused(a){return!1}computeMinIndentation(a,r){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=d,d.cacheByLength=new Map;class c extends n{constructor(a,r){super(r);this.missingOpeningBracketIds=a}get kind(){return 3}canBeReused(a){return!a.intersects(this.missingOpeningBracketIds)}computeMinIndentation(a,r){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=c}),define(ee[410],te([0,1,146]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function m(h){if(h.length===0)return null;if(h.length===1)return h[0];let g=0;function t(){if(g>=h.length)return null;const d=g,c=h[d].listHeight;for(g++;g<h.length&&h[g].listHeight===c;)g++;return g-d>=2?N(d===0&&g===h.length?h:h.slice(d,g),!1):h[d]}let i=t(),n=t();if(!n)return i;for(let d=t();d;d=t())I(i,n)<=I(n,d)?(i=S(i,n),n=d):n=S(n,d);return S(i,n)}e.concat23Trees=m;function N(h,g=!1){if(h.length===0)return null;if(h.length===1)return h[0];let t=h.length;for(;t>3;){const i=t>>1;for(let n=0;n<i;n++){const o=n<<1;h[n]=y.ListAstNode.create23(h[o],h[o+1],o+3===t?h[o+2]:null,g)}t=i}return y.ListAstNode.create23(h[0],h[1],t>=3?h[2]:null,g)}e.concat23TreesOfSameHeight=N;function I(h,g){return Math.abs(h.listHeight-g.listHeight)}function S(h,g){return h.listHeight===g.listHeight?y.ListAstNode.create23(h,g,null,!1):h.listHeight>g.listHeight?b(h,g):C(g,h)}function b(h,g){h=h.toMutable();let t=h;const i=new Array;let n;for(;;){if(g.listHeight===t.listHeight){n=g;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){const d=i[o];n?d.childrenLength>=3?n=y.ListAstNode.create23(d.unappendChild(),n,null,!1):(d.appendChildOfSameHeight(n),n=void 0):d.handleChildrenChanged()}return n?y.ListAstNode.create23(h,n,null,!1):h}function C(h,g){h=h.toMutable();let t=h;const i=new Array;for(;g.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let n=g;for(let o=i.length-1;o>=0;o--){const d=i[o];n?d.childrenLength>=3?n=y.ListAstNode.create23(n,d.unprependChild(),null,!1):(d.prependChildOfSameHeight(n),n=void 0):d.handleChildrenChanged()}return n?y.ListAstNode.create23(n,h,null,!1):h}}),define(ee[411],te([0,1,146,237,118,90,410,409]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function C(g,t,i,n){return new h(g,t,i,n).parseDocument()}e.parseDocument=C;class h{constructor(t,i,n,o){if(this.tokenizer=t,this.createImmutableLists=o,this._itemsConstructed=0,this._itemsFromCache=0,n&&o)throw new Error("Not supported");this.oldNodeReader=n?new b.NodeReader(n):void 0,this.positionMapper=new m.BeforeEditPositionMapper(i,t.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let t=this.parseList(N.SmallImmutableSet.getEmpty());return t||(t=y.ListAstNode.getEmpty()),t}parseList(t){const i=new Array;for(;;){const o=this.tokenizer.peek();if(!o||o.kind===2&&o.bracketIds.intersects(t))break;const d=this.parseChild(t);d.kind===4&&d.childrenLength===0||i.push(d)}return this.oldNodeReader?(0,S.concat23Trees)(i):(0,S.concat23TreesOfSameHeight)(i,this.createImmutableLists)}parseChild(t){if(this.oldNodeReader){const n=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,I.lengthIsZero)(n)){const o=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),d=>(0,I.lengthLessThan)(d.length,n)?d.canBeReused(t):!1);if(o)return this._itemsFromCache++,this.tokenizer.skip(o.length),o}}this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new y.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{const n=t.merge(i.bracketIds),o=this.parseList(n),d=this.tokenizer.peek();return d&&d.kind===2&&(d.bracketId===i.bracketId||d.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),y.PairAstNode.create(i.astNode,o,d.astNode)):y.PairAstNode.create(i.astNode,o,null)}default:throw new Error("unexpected")}}}}),define(ee[412],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class y{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function m(I,S,b,C,h){h.spacesDiff=0,h.looksLikeAlignment=!1;let g;for(g=0;g<S&&g<C;g++){const s=I.charCodeAt(g),a=b.charCodeAt(g);if(s!==a)break}let t=0,i=0;for(let s=g;s<S;s++)I.charCodeAt(s)===32?t++:i++;let n=0,o=0;for(let s=g;s<C;s++)b.charCodeAt(s)===32?n++:o++;if(t>0&&i>0||n>0&&o>0)return;const d=Math.abs(i-o),c=Math.abs(t-n);if(d===0){h.spacesDiff=c,c>0&&0<=n-1&&n-1<I.length&&n<b.length&&b.charCodeAt(n)!==32&&I.charCodeAt(n-1)===32&&I.charCodeAt(I.length-1)===44&&(h.looksLikeAlignment=!0);return}if(c%d==0){h.spacesDiff=c/d;return}}function N(I,S,b){const C=Math.min(I.getLineCount(),1e4);let h=0,g=0,t="",i=0;const n=[2,4,6,8,3,5,7],o=8,d=[0,0,0,0,0,0,0,0,0],c=new y;for(let r=1;r<=C;r++){const l=I.getLineLength(r),u=I.getLineContent(r),f=l<=65536;let w=!1,v=0,p=0,_=0;for(let E=0,M=l;E<M;E++){const k=f?u.charCodeAt(E):I.getLineCharCode(r,E);if(k===9)_++;else if(k===32)p++;else{w=!0,v=E;break}}if(!w||(_>0?h++:p>1&&g++,m(t,i,u,v,c),c.looksLikeAlignment&&!(b&&S===c.spacesDiff)))continue;const L=c.spacesDiff;L<=o&&d[L]++,t=u,i=v}let s=b;h!==g&&(s=h<g);let a=S;if(s){let r=s?0:.1*C;n.forEach(l=>{const u=d[l];u>r&&(r=u,a=l)}),a===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(a=2)}return{insertSpaces:s,tabSize:a}}e.guessIndentation=N}),define(ee[413],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function y(T){return(T.metadata&1)>>>0}e.getNodeColor=y;function m(T,R){T.metadata=T.metadata&254|R<<0}function N(T){return(T.metadata&2)>>>1==1}function I(T,R){T.metadata=T.metadata&253|(R?1:0)<<1}function S(T){return(T.metadata&4)>>>2==1}function b(T,R){T.metadata=T.metadata&251|(R?1:0)<<2}function C(T){return(T.metadata&24)>>>3}function h(T,R){T.metadata=T.metadata&231|R<<3}function g(T){return(T.metadata&32)>>>5==1}function t(T,R){T.metadata=T.metadata&223|(R?1:0)<<5}class i{constructor(R,O,P){this.metadata=0,this.parent=this,this.left=this,this.right=this,m(this,1),this.start=O,this.end=P,this.delta=0,this.maxEnd=P,this.id=R,this.ownerId=0,this.options=null,b(this,!1),h(this,1),t(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=P,this.range=null,I(this,!1)}reset(R,O,P,D){this.start=O,this.end=P,this.maxEnd=P,this.cachedVersionId=R,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=P,this.range=D}setOptions(R){this.options=R;const O=this.options.className;b(this,O==="squiggly-error"||O==="squiggly-warning"||O==="squiggly-info"),h(this,this.options.stickiness),t(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(R,O,P){this.cachedVersionId!==P&&(this.range=null),this.cachedVersionId=P,this.cachedAbsoluteStart=R,this.cachedAbsoluteEnd=O}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=i,e.SENTINEL=new i(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,m(e.SENTINEL,0);class n{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(R,O,P,D,x){return this.root===e.SENTINEL?[]:f(this,R,O,P,D,x)}search(R,O,P){return this.root===e.SENTINEL?[]:u(this,R,O,P)}collectNodesFromOwner(R){return r(this,R)}collectNodesPostOrder(){return l(this)}insert(R){w(this,R),this._normalizeDeltaIfNecessary()}delete(R){p(this,R),this._normalizeDeltaIfNecessary()}resolveNode(R,O){const P=R;let D=0;for(;R!==this.root;)R===R.parent.right&&(D+=R.parent.delta),R=R.parent;const x=P.start+D,H=P.end+D;P.setCachedOffsets(x,H,O)}acceptReplace(R,O,P,D){const x=s(this,R,R+O);for(let H=0,j=x.length;H<j;H++){const Q=x[H];p(this,Q)}this._normalizeDeltaIfNecessary(),a(this,R,R+O,P),this._normalizeDeltaIfNecessary();for(let H=0,j=x.length;H<j;H++){const Q=x[H];Q.start=Q.cachedAbsoluteStart,Q.end=Q.cachedAbsoluteEnd,c(Q,R,R+O,P,D),Q.maxEnd=Q.end,w(this,Q)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,o(this))}}e.IntervalTree=n;function o(T){let R=T.root,O=0;for(;R!==e.SENTINEL;){if(R.left!==e.SENTINEL&&!N(R.left)){R=R.left;continue}if(R.right!==e.SENTINEL&&!N(R.right)){O+=R.delta,R=R.right;continue}R.start=O+R.start,R.end=O+R.end,R.delta=0,A(R),I(R,!0),I(R.left,!1),I(R.right,!1),R===R.parent.right&&(O-=R.parent.delta),R=R.parent}I(T.root,!1)}function d(T,R,O,P){return T<O?!0:T>O||P===1?!1:P===2?!0:R}function c(T,R,O,P,D){const x=C(T),H=x===0||x===2,j=x===1||x===2,Q=O-R,G=P,se=Math.min(Q,G),ne=T.start;let Z=!1;const U=T.end;let W=!1;R<=ne&&U<=O&&g(T)&&(T.start=R,Z=!0,T.end=R,W=!0);{const Y=D?1:Q>0?2:0;!Z&&d(ne,H,R,Y)&&(Z=!0),!W&&d(U,j,R,Y)&&(W=!0)}if(se>0&&!D){const Y=Q>G?2:0;!Z&&d(ne,H,R+se,Y)&&(Z=!0),!W&&d(U,j,R+se,Y)&&(W=!0)}{const Y=D?1:0;!Z&&d(ne,H,O,Y)&&(T.start=R+G,Z=!0),!W&&d(U,j,O,Y)&&(T.end=R+G,W=!0)}const V=G-Q;Z||(T.start=Math.max(0,ne+V)),W||(T.end=Math.max(0,U+V)),T.start>T.end&&(T.end=T.start)}e.nodeAcceptEdit=c;function s(T,R,O){let P=T.root,D=0,x=0,H=0,j=0;const Q=[];let G=0;for(;P!==e.SENTINEL;){if(N(P)){I(P.left,!1),I(P.right,!1),P===P.parent.right&&(D-=P.parent.delta),P=P.parent;continue}if(!N(P.left)){if(x=D+P.maxEnd,x<R){I(P,!0);continue}if(P.left!==e.SENTINEL){P=P.left;continue}}if(H=D+P.start,H>O){I(P,!0);continue}if(j=D+P.end,j>=R&&(P.setCachedOffsets(H,j,0),Q[G++]=P),I(P,!0),P.right!==e.SENTINEL&&!N(P.right)){D+=P.delta,P=P.right;continue}}return I(T.root,!1),Q}function a(T,R,O,P){let D=T.root,x=0,H=0,j=0;const Q=P-(O-R);for(;D!==e.SENTINEL;){if(N(D)){I(D.left,!1),I(D.right,!1),D===D.parent.right&&(x-=D.parent.delta),A(D),D=D.parent;continue}if(!N(D.left)){if(H=x+D.maxEnd,H<R){I(D,!0);continue}if(D.left!==e.SENTINEL){D=D.left;continue}}if(j=x+D.start,j>O){D.start+=Q,D.end+=Q,D.delta+=Q,(D.delta<-1073741824||D.delta>1073741824)&&(T.requestNormalizeDelta=!0),I(D,!0);continue}if(I(D,!0),D.right!==e.SENTINEL&&!N(D.right)){x+=D.delta,D=D.right;continue}}I(T.root,!1)}function r(T,R){let O=T.root;const P=[];let D=0;for(;O!==e.SENTINEL;){if(N(O)){I(O.left,!1),I(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!N(O.left)){O=O.left;continue}if(O.ownerId===R&&(P[D++]=O),I(O,!0),O.right!==e.SENTINEL&&!N(O.right)){O=O.right;continue}}return I(T.root,!1),P}function l(T){let R=T.root;const O=[];let P=0;for(;R!==e.SENTINEL;){if(N(R)){I(R.left,!1),I(R.right,!1),R=R.parent;continue}if(R.left!==e.SENTINEL&&!N(R.left)){R=R.left;continue}if(R.right!==e.SENTINEL&&!N(R.right)){R=R.right;continue}O[P++]=R,I(R,!0)}return I(T.root,!1),O}function u(T,R,O,P){let D=T.root,x=0,H=0,j=0;const Q=[];let G=0;for(;D!==e.SENTINEL;){if(N(D)){I(D.left,!1),I(D.right,!1),D===D.parent.right&&(x-=D.parent.delta),D=D.parent;continue}if(D.left!==e.SENTINEL&&!N(D.left)){D=D.left;continue}H=x+D.start,j=x+D.end,D.setCachedOffsets(H,j,P);let se=!0;if(R&&D.ownerId&&D.ownerId!==R&&(se=!1),O&&S(D)&&(se=!1),se&&(Q[G++]=D),I(D,!0),D.right!==e.SENTINEL&&!N(D.right)){x+=D.delta,D=D.right;continue}}return I(T.root,!1),Q}function f(T,R,O,P,D,x){let H=T.root,j=0,Q=0,G=0,se=0;const ne=[];let Z=0;for(;H!==e.SENTINEL;){if(N(H)){I(H.left,!1),I(H.right,!1),H===H.parent.right&&(j-=H.parent.delta),H=H.parent;continue}if(!N(H.left)){if(Q=j+H.maxEnd,Q<R){I(H,!0);continue}if(H.left!==e.SENTINEL){H=H.left;continue}}if(G=j+H.start,G>O){I(H,!0);continue}if(se=j+H.end,se>=R){H.setCachedOffsets(G,se,x);let U=!0;P&&H.ownerId&&H.ownerId!==P&&(U=!1),D&&S(H)&&(U=!1),U&&(ne[Z++]=H)}if(I(H,!0),H.right!==e.SENTINEL&&!N(H.right)){j+=H.delta,H=H.right;continue}}return I(T.root,!1),ne}function w(T,R){if(T.root===e.SENTINEL)return R.parent=e.SENTINEL,R.left=e.SENTINEL,R.right=e.SENTINEL,m(R,0),T.root=R,T.root;v(T,R),F(R.parent);let O=R;for(;O!==T.root&&y(O.parent)===1;)if(O.parent===O.parent.parent.left){const P=O.parent.parent.right;y(P)===1?(m(O.parent,0),m(P,0),m(O.parent.parent,1),O=O.parent.parent):(O===O.parent.right&&(O=O.parent,E(T,O)),m(O.parent,0),m(O.parent.parent,1),M(T,O.parent.parent))}else{const P=O.parent.parent.left;y(P)===1?(m(O.parent,0),m(P,0),m(O.parent.parent,1),O=O.parent.parent):(O===O.parent.left&&(O=O.parent,M(T,O)),m(O.parent,0),m(O.parent.parent,1),E(T,O.parent.parent))}return m(T.root,0),R}function v(T,R){let O=0,P=T.root;const D=R.start,x=R.end;for(;;)if(B(D,x,P.start+O,P.end+O)<0)if(P.left===e.SENTINEL){R.start-=O,R.end-=O,R.maxEnd-=O,P.left=R;break}else P=P.left;else if(P.right===e.SENTINEL){R.start-=O+P.delta,R.end-=O+P.delta,R.maxEnd-=O+P.delta,P.right=R;break}else O+=P.delta,P=P.right;R.parent=P,R.left=e.SENTINEL,R.right=e.SENTINEL,m(R,1)}function p(T,R){let O,P;if(R.left===e.SENTINEL?(O=R.right,P=R,O.delta+=R.delta,(O.delta<-1073741824||O.delta>1073741824)&&(T.requestNormalizeDelta=!0),O.start+=R.delta,O.end+=R.delta):R.right===e.SENTINEL?(O=R.left,P=R):(P=_(R.right),O=P.right,O.start+=P.delta,O.end+=P.delta,O.delta+=P.delta,(O.delta<-1073741824||O.delta>1073741824)&&(T.requestNormalizeDelta=!0),P.start+=R.delta,P.end+=R.delta,P.delta=R.delta,(P.delta<-1073741824||P.delta>1073741824)&&(T.requestNormalizeDelta=!0)),P===T.root){T.root=O,m(O,0),R.detach(),L(),A(O),T.root.parent=e.SENTINEL;return}const D=y(P)===1;if(P===P.parent.left?P.parent.left=O:P.parent.right=O,P===R?O.parent=P.parent:(P.parent===R?O.parent=P:O.parent=P.parent,P.left=R.left,P.right=R.right,P.parent=R.parent,m(P,y(R)),R===T.root?T.root=P:R===R.parent.left?R.parent.left=P:R.parent.right=P,P.left!==e.SENTINEL&&(P.left.parent=P),P.right!==e.SENTINEL&&(P.right.parent=P)),R.detach(),D){F(O.parent),P!==R&&(F(P),F(P.parent)),L();return}F(O),F(O.parent),P!==R&&(F(P),F(P.parent));let x;for(;O!==T.root&&y(O)===0;)O===O.parent.left?(x=O.parent.right,y(x)===1&&(m(x,0),m(O.parent,1),E(T,O.parent),x=O.parent.right),y(x.left)===0&&y(x.right)===0?(m(x,1),O=O.parent):(y(x.right)===0&&(m(x.left,0),m(x,1),M(T,x),x=O.parent.right),m(x,y(O.parent)),m(O.parent,0),m(x.right,0),E(T,O.parent),O=T.root)):(x=O.parent.left,y(x)===1&&(m(x,0),m(O.parent,1),M(T,O.parent),x=O.parent.left),y(x.left)===0&&y(x.right)===0?(m(x,1),O=O.parent):(y(x.left)===0&&(m(x.right,0),m(x,1),E(T,x),x=O.parent.left),m(x,y(O.parent)),m(O.parent,0),m(x.left,0),M(T,O.parent),O=T.root));m(O,0),L()}function _(T){for(;T.left!==e.SENTINEL;)T=T.left;return T}function L(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function E(T,R){const O=R.right;O.delta+=R.delta,(O.delta<-1073741824||O.delta>1073741824)&&(T.requestNormalizeDelta=!0),O.start+=R.delta,O.end+=R.delta,R.right=O.left,O.left!==e.SENTINEL&&(O.left.parent=R),O.parent=R.parent,R.parent===e.SENTINEL?T.root=O:R===R.parent.left?R.parent.left=O:R.parent.right=O,O.left=R,R.parent=O,A(R),A(O)}function M(T,R){const O=R.left;R.delta-=O.delta,(R.delta<-1073741824||R.delta>1073741824)&&(T.requestNormalizeDelta=!0),R.start-=O.delta,R.end-=O.delta,R.left=O.right,O.right!==e.SENTINEL&&(O.right.parent=R),O.parent=R.parent,R.parent===e.SENTINEL?T.root=O:R===R.parent.right?R.parent.right=O:R.parent.left=O,O.right=R,R.parent=O,A(R),A(O)}function k(T){let R=T.end;if(T.left!==e.SENTINEL){const O=T.left.maxEnd;O>R&&(R=O)}if(T.right!==e.SENTINEL){const O=T.right.maxEnd+T.delta;O>R&&(R=O)}return R}function A(T){T.maxEnd=k(T)}e.recomputeMaxEnd=A;function F(T){for(;T!==e.SENTINEL;){const R=k(T);if(T.maxEnd===R)return;T.maxEnd=R,T=T.parent}}function B(T,R,O,P){return T===O?R-P:T-O}e.intervalCompare=B}),define(ee[119],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function y(m){let N=0,I=0,S=0,b=0;for(let C=0,h=m.length;C<h;C++){const g=m.charCodeAt(C);g===13?(N===0&&(I=C),N++,C+1<h&&m.charCodeAt(C+1)===10?(b|=2,C++):b|=3,S=C+1):g===10&&(b|=1,N===0&&(I=C),N++,S=C+1)}return N===0&&(I=m.length),[N,I,m.length-S,b]}e.countEOL=y}),define(ee[414],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class y{constructor(d,c){this.piece=d,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return m(this.right);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.left!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}prev(){if(this.left!==e.SENTINEL)return N(this.left);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.right!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=y,e.SENTINEL=new y(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function m(o){for(;o.left!==e.SENTINEL;)o=o.left;return o}e.leftest=m;function N(o){for(;o.right!==e.SENTINEL;)o=o.right;return o}e.righttest=N;function I(o){return o===e.SENTINEL?0:o.size_left+o.piece.length+I(o.right)}e.calculateSize=I;function S(o){return o===e.SENTINEL?0:o.lf_left+o.piece.lineFeedCnt+S(o.right)}e.calculateLF=S;function b(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=b;function C(o,d){const c=d.right;c.size_left+=d.size_left+(d.piece?d.piece.length:0),c.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=c.left,c.left!==e.SENTINEL&&(c.left.parent=d),c.parent=d.parent,d.parent===e.SENTINEL?o.root=c:d.parent.left===d?d.parent.left=c:d.parent.right=c,c.left=d,d.parent=c}e.leftRotate=C;function h(o,d){const c=d.left;d.left=c.right,c.right!==e.SENTINEL&&(c.right.parent=d),c.parent=d.parent,d.size_left-=c.size_left+(c.piece?c.piece.length:0),d.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),d.parent===e.SENTINEL?o.root=c:d===d.parent.right?d.parent.right=c:d.parent.left=c,c.right=d,d.parent=c}e.rightRotate=h;function g(o,d){let c,s;if(d.left===e.SENTINEL?(s=d,c=s.right):d.right===e.SENTINEL?(s=d,c=s.left):(s=m(d.right),c=s.right),s===o.root){o.root=c,c.color=0,d.detach(),b(),o.root.parent=e.SENTINEL;return}const a=s.color===1;if(s===s.parent.left?s.parent.left=c:s.parent.right=c,s===d?(c.parent=s.parent,n(o,c)):(s.parent===d?c.parent=s:c.parent=s.parent,n(o,c),s.left=d.left,s.right=d.right,s.parent=d.parent,s.color=d.color,d===o.root?o.root=s:d===d.parent.left?d.parent.left=s:d.parent.right=s,s.left!==e.SENTINEL&&(s.left.parent=s),s.right!==e.SENTINEL&&(s.right.parent=s),s.size_left=d.size_left,s.lf_left=d.lf_left,n(o,s)),d.detach(),c.parent.left===c){const l=I(c),u=S(c);if(l!==c.parent.size_left||u!==c.parent.lf_left){const f=l-c.parent.size_left,w=u-c.parent.lf_left;c.parent.size_left=l,c.parent.lf_left=u,i(o,c.parent,f,w)}}if(n(o,c.parent),a){b();return}let r;for(;c!==o.root&&c.color===0;)c===c.parent.left?(r=c.parent.right,r.color===1&&(r.color=0,c.parent.color=1,C(o,c.parent),r=c.parent.right),r.left.color===0&&r.right.color===0?(r.color=1,c=c.parent):(r.right.color===0&&(r.left.color=0,r.color=1,h(o,r),r=c.parent.right),r.color=c.parent.color,c.parent.color=0,r.right.color=0,C(o,c.parent),c=o.root)):(r=c.parent.left,r.color===1&&(r.color=0,c.parent.color=1,h(o,c.parent),r=c.parent.left),r.left.color===0&&r.right.color===0?(r.color=1,c=c.parent):(r.left.color===0&&(r.right.color=0,r.color=1,C(o,r),r=c.parent.left),r.color=c.parent.color,c.parent.color=0,r.left.color=0,h(o,c.parent),c=o.root));c.color=0,b()}e.rbDelete=g;function t(o,d){for(n(o,d);d!==o.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const c=d.parent.parent.right;c.color===1?(d.parent.color=0,c.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,C(o,d)),d.parent.color=0,d.parent.parent.color=1,h(o,d.parent.parent))}else{const c=d.parent.parent.left;c.color===1?(d.parent.color=0,c.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,h(o,d)),d.parent.color=0,d.parent.parent.color=1,C(o,d.parent.parent))}o.root.color=0}e.fixInsert=t;function i(o,d,c,s){for(;d!==o.root&&d!==e.SENTINEL;)d.parent.left===d&&(d.parent.size_left+=c,d.parent.lf_left+=s),d=d.parent}e.updateTreeMetadata=i;function n(o,d){let c=0,s=0;if(d!==o.root){for(;d!==o.root&&d===d.parent.right;)d=d.parent;if(d!==o.root)for(d=d.parent,c=I(d.left)-d.size_left,s=S(d.left)-d.lf_left,d.size_left+=c,d.lf_left+=s;d!==o.root&&(c!==0||s!==0);)d.parent.left===d&&(d.parent.size_left+=c,d.parent.lf_left+=s),d=d.parent}}e.recomputeTreeMetadata=n}),define(ee[238],te([0,1,107,89]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function N(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class I{constructor(h,g,t,i){this.oldPosition=h,this.oldText=g,this.newPosition=t,this.newText=i}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${N(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${N(this.oldText)}")`:`(replace@${this.oldPosition} "${N(this.oldText)}" with "${N(this.newText)}")`}static _writeStringSize(h){return 4+2*h.length}static _writeString(h,g,t){const i=g.length;y.writeUInt32BE(h,i,t),t+=4;for(let n=0;n<i;n++)y.writeUInt16LE(h,g.charCodeAt(n),t),t+=2;return t}static _readString(h,g){const t=y.readUInt32BE(h,g);return g+=4,(0,m.decodeUTF16LE)(h,g,t)}writeSize(){return 4+4+I._writeStringSize(this.oldText)+I._writeStringSize(this.newText)}write(h,g){return y.writeUInt32BE(h,this.oldPosition,g),g+=4,y.writeUInt32BE(h,this.newPosition,g),g+=4,g=I._writeString(h,this.oldText,g),g=I._writeString(h,this.newText,g),g}static read(h,g,t){const i=y.readUInt32BE(h,g);g+=4;const n=y.readUInt32BE(h,g);g+=4;const o=I._readString(h,g);g+=I._writeStringSize(o);const d=I._readString(h,g);return g+=I._writeStringSize(d),t.push(new I(i,o,n,d)),g}}e.TextChange=I;function S(C,h){return C===null||C.length===0?h:new b(C,h).compress()}e.compressConsecutiveTextChanges=S;class b{constructor(h,g){this._prevEdits=h,this._currEdits=g,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let h=0,g=0,t=this._getPrev(h),i=this._getCurr(g);for(;h<this._prevLen||g<this._currLen;){if(t===null){this._acceptCurr(i),i=this._getCurr(++g);continue}if(i===null){this._acceptPrev(t),t=this._getPrev(++h);continue}if(i.oldEnd<=t.newPosition){this._acceptCurr(i),i=this._getCurr(++g);continue}if(t.newEnd<=i.oldPosition){this._acceptPrev(t),t=this._getPrev(++h);continue}if(i.oldPosition<t.newPosition){const[s,a]=b._splitCurr(i,t.newPosition-i.oldPosition);this._acceptCurr(s),i=a;continue}if(t.newPosition<i.oldPosition){const[s,a]=b._splitPrev(t,i.oldPosition-t.newPosition);this._acceptPrev(s),t=a;continue}let d,c;if(i.oldEnd===t.newEnd)d=t,c=i,t=this._getPrev(++h),i=this._getCurr(++g);else if(i.oldEnd<t.newEnd){const[s,a]=b._splitPrev(t,i.oldLength);d=s,c=i,t=a,i=this._getCurr(++g)}else{const[s,a]=b._splitCurr(i,t.newLength);d=t,c=s,t=this._getPrev(++h),i=a}this._result[this._resultLen++]=new I(d.oldPosition,d.oldText,c.newPosition,c.newText),this._prevDeltaOffset+=d.newLength-d.oldLength,this._currDeltaOffset+=c.newLength-c.oldLength}const n=b._merge(this._result);return b._removeNoOps(n)}_acceptCurr(h){this._result[this._resultLen++]=b._rebaseCurr(this._prevDeltaOffset,h),this._currDeltaOffset+=h.newLength-h.oldLength}_getCurr(h){return h<this._currLen?this._currEdits[h]:null}_acceptPrev(h){this._result[this._resultLen++]=b._rebasePrev(this._currDeltaOffset,h),this._prevDeltaOffset+=h.newLength-h.oldLength}_getPrev(h){return h<this._prevLen?this._prevEdits[h]:null}static _rebaseCurr(h,g){return new I(g.oldPosition-h,g.oldText,g.newPosition,g.newText)}static _rebasePrev(h,g){return new I(g.oldPosition,g.oldText,g.newPosition+h,g.newText)}static _splitPrev(h,g){const t=h.newText.substr(0,g),i=h.newText.substr(g);return[new I(h.oldPosition,h.oldText,h.newPosition,t),new I(h.oldEnd,"",h.newPosition+g,i)]}static _splitCurr(h,g){const t=h.oldText.substr(0,g),i=h.oldText.substr(g);return[new I(h.oldPosition,t,h.newPosition,h.newText),new I(h.oldPosition+g,i,h.newEnd,"")]}static _merge(h){if(h.length===0)return h;const g=[];let t=0,i=h[0];for(let n=1;n<h.length;n++){const o=h[n];i.oldEnd===o.oldPosition?i=new I(i.oldPosition,i.oldText+o.oldText,i.newPosition,i.newText+o.newText):(g[t++]=i,i=o)}return g[t++]=i,g}static _removeNoOps(h){if(h.length===0)return h;const g=[];let t=0;for(let i=0;i<h.length;i++){const n=h[i];n.oldText!==n.newText&&(g[t++]=n)}return g}}}),define(ee[91],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class y{constructor(){this.changeType=1}}e.ModelRawFlush=y;class m{constructor(i,n,o,d,c){this.ownerId=i,this.lineNumber=n,this.column=o,this.options=d,this.order=c}static applyInjectedText(i,n){if(!n||n.length===0)return i;let o="",d=0;for(const c of n)o+=i.substring(d,c.column-1),d=c.column-1,o+=c.options.content;return o+=i.substring(d),o}static fromDecorations(i){const n=[];for(const o of i)o.options.before&&o.options.before.content.length>0&&n.push(new m(o.ownerId,o.range.startLineNumber,o.range.startColumn,o.options.before,0)),o.options.after&&o.options.after.content.length>0&&n.push(new m(o.ownerId,o.range.endLineNumber,o.range.endColumn,o.options.after,1));return n.sort((o,d)=>o.lineNumber===d.lineNumber?o.column===d.column?o.order-d.order:o.column-d.column:o.lineNumber-d.lineNumber),n}}e.LineInjectedText=m;class N{constructor(i,n,o){this.changeType=2,this.lineNumber=i,this.detail=n,this.injectedText=o}}e.ModelRawLineChanged=N;class I{constructor(i,n){this.changeType=3,this.fromLineNumber=i,this.toLineNumber=n}}e.ModelRawLinesDeleted=I;class S{constructor(i,n,o,d){this.changeType=4,this.injectedTexts=d,this.fromLineNumber=i,this.toLineNumber=n,this.detail=o}}e.ModelRawLinesInserted=S;class b{constructor(){this.changeType=5}}e.ModelRawEOLChanged=b;class C{constructor(i,n,o,d){this.changes=i,this.versionId=n,this.isUndoing=o,this.isRedoing=d,this.resultingSelection=null}containsEvent(i){for(let n=0,o=this.changes.length;n<o;n++)if(this.changes[n].changeType===i)return!0;return!1}static merge(i,n){const o=[].concat(i.changes).concat(n.changes),d=n.versionId,c=i.isUndoing||n.isUndoing,s=i.isRedoing||n.isRedoing;return new C(o,d,c,s)}}e.ModelRawContentChangedEvent=C;class h{constructor(i){this.changes=i}}e.ModelInjectedTextChangedEvent=h;class g{constructor(i,n){this.rawContentChangedEvent=i,this.contentChangedEvent=n}merge(i){const n=C.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),o=g._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new g(n,o)}static _mergeChangeEvents(i,n){const o=[].concat(i.changes).concat(n.changes),d=n.eol,c=n.versionId,s=i.isUndoing||n.isUndoing,a=i.isRedoing||n.isRedoing,r=i.isFlush||n.isFlush;return{changes:o,eol:d,versionId:c,isUndoing:s,isRedoing:a,isFlush:r}}}e.InternalModelContentChangeEvent=g}),define(ee[415],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class y{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=y}),define(ee[147],te([0,1,8,114,11,3,50]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const b=999;class C{constructor(r,l,u,f){this.searchString=r,this.isRegex=l,this.matchCase=u,this.wordSeparators=f}parseSearchRequest(){if(this.searchString==="")return null;let r;this.isRegex?r=h(this.searchString):r=this.searchString.indexOf(`
`)>=0;let l=null;try{l=y.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:r,global:!0,unicode:!0})}catch{return null}if(!l)return null;let u=!this.isRegex&&!r;return u&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(u=this.matchCase),new g(l,this.wordSeparators?(0,m.getMapForWordSeparators)(this.wordSeparators):null,u?this.searchString:null)}}e.SearchParams=C;function h(a){if(!a||a.length===0)return!1;for(let r=0,l=a.length;r<l;r++)if(a.charCodeAt(r)===92){if(r++,r>=l)break;const f=a.charCodeAt(r);if(f===110||f===114||f===87)return!0}return!1}e.isMultilineRegexSource=h;class g{constructor(r,l,u){this.regex=r,this.wordSeparators=l,this.simpleSearch=u}}e.SearchData=g;function t(a,r,l){if(!l)return new S.FindMatch(a,null);const u=[];for(let f=0,w=r.length;f<w;f++)u[f]=r[f];return new S.FindMatch(a,u)}e.createFindMatch=t;class i{constructor(r){const l=[];let u=0;for(let f=0,w=r.length;f<w;f++)r.charCodeAt(f)===10&&(l[u++]=f);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(r){const l=this._lineFeedsOffsets;let u=0,f=l.length-1;if(f===-1||r<=l[0])return 0;for(;u<f;){const w=u+((f-u)/2>>0);l[w]>=r?f=w-1:l[w+1]>=r?(u=w,f=w):u=w+1}return u+1}}class n{static findMatches(r,l,u,f,w){const v=l.parseSearchRequest();return v?v.regex.multiline?this._doFindMatchesMultiline(r,u,new s(v.wordSeparators,v.regex),f,w):this._doFindMatchesLineByLine(r,u,v,f,w):[]}static _getMultilineMatchRange(r,l,u,f,w,v){let p,_=0;f?(_=f.findLineFeedCountBeforeOffset(w),p=l+w+_):p=l+w;let L;if(f){const A=f.findLineFeedCountBeforeOffset(w+v.length)-_;L=p+v.length+A}else L=p+v.length;const E=r.getPositionAt(p),M=r.getPositionAt(L);return new I.Range(E.lineNumber,E.column,M.lineNumber,M.column)}static _doFindMatchesMultiline(r,l,u,f,w){const v=r.getOffsetAt(l.getStartPosition()),p=r.getValueInRange(l,1),_=r.getEOL()===`\r
`?new i(p):null,L=[];let E=0,M;for(u.reset(0);M=u.next(p);)if(L[E++]=t(this._getMultilineMatchRange(r,v,p,_,M.index,M[0]),M,f),E>=w)return L;return L}static _doFindMatchesLineByLine(r,l,u,f,w){const v=[];let p=0;if(l.startLineNumber===l.endLineNumber){const L=r.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return p=this._findMatchesInLine(u,L,l.startLineNumber,l.startColumn-1,p,v,f,w),v}const _=r.getLineContent(l.startLineNumber).substring(l.startColumn-1);p=this._findMatchesInLine(u,_,l.startLineNumber,l.startColumn-1,p,v,f,w);for(let L=l.startLineNumber+1;L<l.endLineNumber&&p<w;L++)p=this._findMatchesInLine(u,r.getLineContent(L),L,0,p,v,f,w);if(p<w){const L=r.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);p=this._findMatchesInLine(u,L,l.endLineNumber,0,p,v,f,w)}return v}static _findMatchesInLine(r,l,u,f,w,v,p,_){const L=r.wordSeparators;if(!p&&r.simpleSearch){const k=r.simpleSearch,A=k.length,F=l.length;let B=-A;for(;(B=l.indexOf(k,B+A))!==-1;)if((!L||c(L,l,F,B,A))&&(v[w++]=new S.FindMatch(new I.Range(u,B+1+f,u,B+1+A+f),null),w>=_))return w;return w}const E=new s(r.wordSeparators,r.regex);let M;E.reset(0);do if(M=E.next(l),M&&(v[w++]=t(new I.Range(u,M.index+1+f,u,M.index+1+M[0].length+f),M,p),w>=_))return w;while(M);return w}static findNextMatch(r,l,u,f){const w=l.parseSearchRequest();if(!w)return null;const v=new s(w.wordSeparators,w.regex);return w.regex.multiline?this._doFindNextMatchMultiline(r,u,v,f):this._doFindNextMatchLineByLine(r,u,v,f)}static _doFindNextMatchMultiline(r,l,u,f){const w=new N.Position(l.lineNumber,1),v=r.getOffsetAt(w),p=r.getLineCount(),_=r.getValueInRange(new I.Range(w.lineNumber,w.column,p,r.getLineMaxColumn(p)),1),L=r.getEOL()===`\r
`?new i(_):null;u.reset(l.column-1);let E=u.next(_);return E?t(this._getMultilineMatchRange(r,v,_,L,E.index,E[0]),E,f):l.lineNumber!==1||l.column!==1?this._doFindNextMatchMultiline(r,new N.Position(1,1),u,f):null}static _doFindNextMatchLineByLine(r,l,u,f){const w=r.getLineCount(),v=l.lineNumber,p=r.getLineContent(v),_=this._findFirstMatchInLine(u,p,v,l.column,f);if(_)return _;for(let L=1;L<=w;L++){const E=(v+L-1)%w,M=r.getLineContent(E+1),k=this._findFirstMatchInLine(u,M,E+1,1,f);if(k)return k}return null}static _findFirstMatchInLine(r,l,u,f,w){r.reset(f-1);const v=r.next(l);return v?t(new I.Range(u,v.index+1,u,v.index+1+v[0].length),v,w):null}static findPreviousMatch(r,l,u,f){const w=l.parseSearchRequest();if(!w)return null;const v=new s(w.wordSeparators,w.regex);return w.regex.multiline?this._doFindPreviousMatchMultiline(r,u,v,f):this._doFindPreviousMatchLineByLine(r,u,v,f)}static _doFindPreviousMatchMultiline(r,l,u,f){const w=this._doFindMatchesMultiline(r,new I.Range(1,1,l.lineNumber,l.column),u,f,10*b);if(w.length>0)return w[w.length-1];const v=r.getLineCount();return l.lineNumber!==v||l.column!==r.getLineMaxColumn(v)?this._doFindPreviousMatchMultiline(r,new N.Position(v,r.getLineMaxColumn(v)),u,f):null}static _doFindPreviousMatchLineByLine(r,l,u,f){const w=r.getLineCount(),v=l.lineNumber,p=r.getLineContent(v).substring(0,l.column-1),_=this._findLastMatchInLine(u,p,v,f);if(_)return _;for(let L=1;L<=w;L++){const E=(w+v-L-1)%w,M=r.getLineContent(E+1),k=this._findLastMatchInLine(u,M,E+1,f);if(k)return k}return null}static _findLastMatchInLine(r,l,u,f){let w=null,v;for(r.reset(0);v=r.next(l);)w=t(new I.Range(u,v.index+1,u,v.index+1+v[0].length),v,f);return w}}e.TextModelSearch=n;function o(a,r,l,u,f){if(u===0)return!0;const w=r.charCodeAt(u-1);if(a.get(w)!==0||w===13||w===10)return!0;if(f>0){const v=r.charCodeAt(u);if(a.get(v)!==0)return!0}return!1}function d(a,r,l,u,f){if(u+f===l)return!0;const w=r.charCodeAt(u+f);if(a.get(w)!==0||w===13||w===10)return!0;if(f>0){const v=r.charCodeAt(u+f-1);if(a.get(v)!==0)return!0}return!1}function c(a,r,l,u,f){return o(a,r,l,u,f)&&d(a,r,l,u,f)}e.isValidMatch=c;class s{constructor(r,l){this._wordSeparators=r,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(r){this._searchRegex.lastIndex=r,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(r){const l=r.length;let u;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(u=this._searchRegex.exec(r),!u))return null;const f=u.index,w=u[0].length;if(f===this._prevMatchStartIndex&&w===this._prevMatchLength){if(w===0){y.getNextCodePoint(r,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=f,this._prevMatchLength=w,!this._wordSeparators||c(this._wordSeparators,r,l,f,w))return u}while(u);return null}}e.Searcher=s}),define(ee[239],te([0,1,3,147,8,20]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class S{static computeUnicodeHighlights(g,t,i){const n=i?i.startLineNumber:1,o=i?i.endLineNumber:g.getLineCount(),d=new C(t),c=d.getCandidateCodePoints();let s;c==="allNonBasicAscii"?s=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):s=new RegExp(`${b(Array.from(c))}`,"g");const a=new m.Searcher(null,s),r=[];let l=!1,u,f=0,w=0,v=0;e:for(let p=n,_=o;p<=_;p++){const L=g.getLineContent(p),E=L.length;a.reset(0);do if(u=a.next(L),u){let M=u.index,k=u.index+u[0].length;if(M>0){const B=L.charCodeAt(M-1);N.isHighSurrogate(B)&&M--}if(k+1<E){const B=L.charCodeAt(k-1);N.isHighSurrogate(B)&&k++}const A=L.substring(M,k),F=d.shouldHighlightNonBasicASCII(A);if(F!==0){F===3?f++:F===2?w++:F===1?v++:(0,I.assertNever)(F);const B=1e3;if(r.length>=B){l=!0;break e}r.push(new y.Range(p,M+1,p,k+1))}}while(u)}return{ranges:r,hasMore:l,ambiguousCharacterCount:f,invisibleCharacterCount:w,nonBasicAsciiCharacterCount:v}}static computeUnicodeHighlightReason(g,t){const i=new C(t);switch(i.shouldHighlightNonBasicASCII(g)){case 0:return null;case 2:return{kind:1};case 3:{const o=g.codePointAt(0),d=i.ambiguousCharacters.getPrimaryConfusable(o),c=N.AmbiguousCharacters.getLocales().filter(s=>!N.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,s])).isAmbiguous(o));return{kind:0,confusableWith:String.fromCodePoint(d),notAmbiguousInLocales:c}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=S;function b(h,g){return`[${N.escapeRegExpCharacters(h.map(i=>String.fromCodePoint(i)).join(""))}]`}class C{constructor(g){this.options=g,this.allowedCodePoints=new Set(g.allowedCodePoints),this.ambiguousCharacters=N.AmbiguousCharacters.getInstance(new Set(g.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const g=new Set;if(this.options.invisibleCharacters)for(const t of N.InvisibleCharacters.codePoints)g.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())g.add(t);for(const t of this.allowedCodePoints)g.delete(t);return g}shouldHighlightNonBasicASCII(g){const t=g.codePointAt(0);return this.allowedCodePoints.has(t)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&!(g===" "||g===`
`||g==="	")&&N.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}}),define(ee[240],te([0,1,11,3,50,414,147]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function b(c){let s;return c[c.length-1]<65536?s=new Uint16Array(c.length):s=new Uint32Array(c.length),s.set(c,0),s}e.createUintArray=b;class C{constructor(s,a,r,l,u){this.lineStarts=s,this.cr=a,this.lf=r,this.crlf=l,this.isBasicASCII=u}}e.LineStarts=C;function h(c,s=!0){const a=[0];let r=1;for(let l=0,u=c.length;l<u;l++){const f=c.charCodeAt(l);f===13?l+1<u&&c.charCodeAt(l+1)===10?(a[r++]=l+2,l++):a[r++]=l+1:f===10&&(a[r++]=l+1)}return s?b(a):a}e.createLineStartsFast=h;function g(c,s){c.length=0,c[0]=0;let a=1,r=0,l=0,u=0,f=!0;for(let v=0,p=s.length;v<p;v++){const _=s.charCodeAt(v);_===13?v+1<p&&s.charCodeAt(v+1)===10?(u++,c[a++]=v+2,v++):(r++,c[a++]=v+1):_===10?(l++,c[a++]=v+1):f&&_!==9&&(_<32||_>126)&&(f=!1)}const w=new C(b(c),r,l,u,f);return c.length=0,w}e.createLineStarts=g;class t{constructor(s,a,r,l,u){this.bufferIndex=s,this.start=a,this.end=r,this.lineFeedCnt=l,this.length=u}}e.Piece=t;class i{constructor(s,a){this.buffer=s,this.lineStarts=a}}e.StringBuffer=i;class n{constructor(s,a){this._pieces=[],this._tree=s,this._BOM=a,this._index=0,s.root!==I.SENTINEL&&s.iterate(s.root,r=>(r!==I.SENTINEL&&this._pieces.push(r.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class o{constructor(s){this._limit=s,this._cache=[]}get(s){for(let a=this._cache.length-1;a>=0;a--){const r=this._cache[a];if(r.nodeStartOffset<=s&&r.nodeStartOffset+r.node.piece.length>=s)return r}return null}get2(s){for(let a=this._cache.length-1;a>=0;a--){const r=this._cache[a];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<s&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=s)return r}return null}set(s){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(s)}validate(s){let a=!1;const r=this._cache;for(let l=0;l<r.length;l++){const u=r[l];if(u.node.parent===null||u.nodeStartOffset>=s){r[l]=null,a=!0;continue}}if(a){const l=[];for(const u of r)u!==null&&l.push(u);this._cache=l}}}class d{constructor(s,a,r){this.create(s,a,r)}create(s,a,r){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=I.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=a,this._EOLLength=a.length,this._EOLNormalized=r;let l=null;for(let u=0,f=s.length;u<f;u++)if(s[u].buffer.length>0){s[u].lineStarts||(s[u].lineStarts=h(s[u].buffer));const w=new t(u+1,{line:0,column:0},{line:s[u].lineStarts.length-1,column:s[u].buffer.length-s[u].lineStarts[s[u].lineStarts.length-1]},s[u].lineStarts.length-1,s[u].buffer.length);this._buffers.push(s[u]),l=this.rbInsertRight(l,w)}this._searchCache=new o(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(s){const a=e.AverageBufferSize,r=a-Math.floor(a/3),l=r*2;let u="",f=0;const w=[];if(this.iterate(this.root,v=>{const p=this.getNodeContent(v),_=p.length;if(f<=r||f+_<l)return u+=p,f+=_,!0;const L=u.replace(/\r\n|\r|\n/g,s);return w.push(new i(L,h(L))),u=p,f=_,!0}),f>0){const v=u.replace(/\r\n|\r|\n/g,s);w.push(new i(v,h(v)))}this.create(w,s,!0)}getEOL(){return this._EOL}setEOL(s){this._EOL=s,this._EOLLength=this._EOL.length,this.normalizeEOL(s)}createSnapshot(s){return new n(this,s)}getOffsetAt(s,a){let r=0,l=this.root;for(;l!==I.SENTINEL;)if(l.left!==I.SENTINEL&&l.lf_left+1>=s)l=l.left;else{if(l.lf_left+l.piece.lineFeedCnt+1>=s)return r+=l.size_left,r+=this.getAccumulatedValue(l,s-l.lf_left-2)+a-1;s-=l.lf_left+l.piece.lineFeedCnt,r+=l.size_left+l.piece.length,l=l.right}return r}getPositionAt(s){s=Math.floor(s),s=Math.max(0,s);let a=this.root,r=0;const l=s;for(;a!==I.SENTINEL;)if(a.size_left!==0&&a.size_left>=s)a=a.left;else if(a.size_left+a.piece.length>=s){const u=this.getIndexOf(a,s-a.size_left);if(r+=a.lf_left+u.index,u.index===0){const f=this.getOffsetAt(r+1,1),w=l-f;return new y.Position(r+1,w+1)}return new y.Position(r+1,u.remainder+1)}else if(s-=a.size_left+a.piece.length,r+=a.lf_left+a.piece.lineFeedCnt,a.right===I.SENTINEL){const u=this.getOffsetAt(r+1,1),f=l-s-u;return new y.Position(r+1,f+1)}else a=a.right;return new y.Position(1,1)}getValueInRange(s,a){if(s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn)return"";const r=this.nodeAt2(s.startLineNumber,s.startColumn),l=this.nodeAt2(s.endLineNumber,s.endColumn),u=this.getValueInRange2(r,l);return a?a!==this._EOL||!this._EOLNormalized?u.replace(/\r\n|\r|\n/g,a):a===this.getEOL()&&this._EOLNormalized?u:u.replace(/\r\n|\r|\n/g,a):u}getValueInRange2(s,a){if(s.node===a.node){const w=s.node,v=this._buffers[w.piece.bufferIndex].buffer,p=this.offsetInBuffer(w.piece.bufferIndex,w.piece.start);return v.substring(p+s.remainder,p+a.remainder)}let r=s.node;const l=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);let f=l.substring(u+s.remainder,u+r.piece.length);for(r=r.next();r!==I.SENTINEL;){const w=this._buffers[r.piece.bufferIndex].buffer,v=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===a.node){f+=w.substring(v,v+a.remainder);break}else f+=w.substr(v,r.piece.length);r=r.next()}return f}getLinesContent(){const s=[];let a=0,r="",l=!1;return this.iterate(this.root,u=>{if(u===I.SENTINEL)return!0;const f=u.piece;let w=f.length;if(w===0)return!0;const v=this._buffers[f.bufferIndex].buffer,p=this._buffers[f.bufferIndex].lineStarts,_=f.start.line,L=f.end.line;let E=p[_]+f.start.column;if(l&&(v.charCodeAt(E)===10&&(E++,w--),s[a++]=r,r="",l=!1,w===0))return!0;if(_===L)return!this._EOLNormalized&&v.charCodeAt(E+w-1)===13?(l=!0,r+=v.substr(E,w-1)):r+=v.substr(E,w),!0;r+=this._EOLNormalized?v.substring(E,Math.max(E,p[_+1]-this._EOLLength)):v.substring(E,p[_+1]).replace(/(\r\n|\r|\n)$/,""),s[a++]=r;for(let M=_+1;M<L;M++)r=this._EOLNormalized?v.substring(p[M],p[M+1]-this._EOLLength):v.substring(p[M],p[M+1]).replace(/(\r\n|\r|\n)$/,""),s[a++]=r;return!this._EOLNormalized&&v.charCodeAt(p[L]+f.end.column-1)===13?(l=!0,f.end.column===0?a--:r=v.substr(p[L],f.end.column-1)):r=v.substr(p[L],f.end.column),!0}),l&&(s[a++]=r,r=""),s[a++]=r,s}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(s){return this._lastVisitedLine.lineNumber===s?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=s,s===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(s):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(s,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(s).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(s){if(s.remainder===s.node.piece.length){const a=s.node.next();if(!a)return 0;const r=this._buffers[a.piece.bufferIndex],l=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return r.buffer.charCodeAt(l)}else{const a=this._buffers[s.node.piece.bufferIndex],l=this.offsetInBuffer(s.node.piece.bufferIndex,s.node.piece.start)+s.remainder;return a.buffer.charCodeAt(l)}}getLineCharCode(s,a){const r=this.nodeAt2(s,a+1);return this._getCharCode(r)}getLineLength(s){if(s===this.getLineCount()){const a=this.getOffsetAt(s,1);return this.getLength()-a}return this.getOffsetAt(s+1,1)-this.getOffsetAt(s,1)-this._EOLLength}findMatchesInNode(s,a,r,l,u,f,w,v,p,_,L){const E=this._buffers[s.piece.bufferIndex],M=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start),k=this.offsetInBuffer(s.piece.bufferIndex,u),A=this.offsetInBuffer(s.piece.bufferIndex,f);let F;const B={line:0,column:0};let T,R;a._wordSeparators?(T=E.buffer.substring(k,A),R=O=>O+k,a.reset(0)):(T=E.buffer,R=O=>O,a.reset(k));do if(F=a.next(T),F){if(R(F.index)>=A)return _;this.positionInBuffer(s,R(F.index)-M,B);const O=this.getLineFeedCnt(s.piece.bufferIndex,u,B),P=B.line===u.line?B.column-u.column+l:B.column+1,D=P+F[0].length;if(L[_++]=(0,S.createFindMatch)(new m.Range(r+O,P,r+O,D),F,v),R(F.index)+F[0].length>=A||_>=p)return _}while(F);return _}findMatchesLineByLine(s,a,r,l){const u=[];let f=0;const w=new S.Searcher(a.wordSeparators,a.regex);let v=this.nodeAt2(s.startLineNumber,s.startColumn);if(v===null)return[];const p=this.nodeAt2(s.endLineNumber,s.endColumn);if(p===null)return[];let _=this.positionInBuffer(v.node,v.remainder);const L=this.positionInBuffer(p.node,p.remainder);if(v.node===p.node)return this.findMatchesInNode(v.node,w,s.startLineNumber,s.startColumn,_,L,a,r,l,f,u),u;let E=s.startLineNumber,M=v.node;for(;M!==p.node;){const A=this.getLineFeedCnt(M.piece.bufferIndex,_,M.piece.end);if(A>=1){const B=this._buffers[M.piece.bufferIndex].lineStarts,T=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start),R=B[_.line+A],O=E===s.startLineNumber?s.startColumn:1;if(f=this.findMatchesInNode(M,w,E,O,_,this.positionInBuffer(M,R-T),a,r,l,f,u),f>=l)return u;E+=A}const F=E===s.startLineNumber?s.startColumn-1:0;if(E===s.endLineNumber){const B=this.getLineContent(E).substring(F,s.endColumn-1);return f=this._findMatchesInLine(a,w,B,s.endLineNumber,F,f,u,r,l),u}if(f=this._findMatchesInLine(a,w,this.getLineContent(E).substr(F),E,F,f,u,r,l),f>=l)return u;E++,v=this.nodeAt2(E,1),M=v.node,_=this.positionInBuffer(v.node,v.remainder)}if(E===s.endLineNumber){const A=E===s.startLineNumber?s.startColumn-1:0,F=this.getLineContent(E).substring(A,s.endColumn-1);return f=this._findMatchesInLine(a,w,F,s.endLineNumber,A,f,u,r,l),u}const k=E===s.startLineNumber?s.startColumn:1;return f=this.findMatchesInNode(p.node,w,E,k,_,L,a,r,l,f,u),u}_findMatchesInLine(s,a,r,l,u,f,w,v,p){const _=s.wordSeparators;if(!v&&s.simpleSearch){const E=s.simpleSearch,M=E.length,k=r.length;let A=-M;for(;(A=r.indexOf(E,A+M))!==-1;)if((!_||(0,S.isValidMatch)(_,r,k,A,M))&&(w[f++]=new N.FindMatch(new m.Range(l,A+1+u,l,A+1+M+u),null),f>=p))return f;return f}let L;a.reset(0);do if(L=a.next(r),L&&(w[f++]=(0,S.createFindMatch)(new m.Range(l,L.index+1+u,l,L.index+1+L[0].length+u),L,v),f>=p))return f;while(L);return f}insert(s,a,r=!1){if(this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==I.SENTINEL){const{node:l,remainder:u,nodeStartOffset:f}=this.nodeAt(s),w=l.piece,v=w.bufferIndex,p=this.positionInBuffer(l,u);if(l.piece.bufferIndex===0&&w.end.line===this._lastChangeBufferPos.line&&w.end.column===this._lastChangeBufferPos.column&&f+w.length===s&&a.length<e.AverageBufferSize){this.appendToNode(l,a),this.computeBufferMetadata();return}if(f===s)this.insertContentToNodeLeft(a,l),this._searchCache.validate(s);else if(f+l.piece.length>s){const _=[];let L=new t(w.bufferIndex,p,w.end,this.getLineFeedCnt(w.bufferIndex,p,w.end),this.offsetInBuffer(v,w.end)-this.offsetInBuffer(v,p));if(this.shouldCheckCRLF()&&this.endWithCR(a)&&this.nodeCharCodeAt(l,u)===10){const A={line:L.start.line+1,column:0};L=new t(L.bufferIndex,A,L.end,this.getLineFeedCnt(L.bufferIndex,A,L.end),L.length-1),a+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(a))if(this.nodeCharCodeAt(l,u-1)===13){const A=this.positionInBuffer(l,u-1);this.deleteNodeTail(l,A),a="\r"+a,l.piece.length===0&&_.push(l)}else this.deleteNodeTail(l,p);else this.deleteNodeTail(l,p);const E=this.createNewPieces(a);L.length>0&&this.rbInsertRight(l,L);let M=l;for(let k=0;k<E.length;k++)M=this.rbInsertRight(M,E[k]);this.deleteNodes(_)}else this.insertContentToNodeRight(a,l)}else{const l=this.createNewPieces(a);let u=this.rbInsertLeft(null,l[0]);for(let f=1;f<l.length;f++)u=this.rbInsertRight(u,l[f])}this.computeBufferMetadata()}delete(s,a){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",a<=0||this.root===I.SENTINEL)return;const r=this.nodeAt(s),l=this.nodeAt(s+a),u=r.node,f=l.node;if(u===f){const E=this.positionInBuffer(u,r.remainder),M=this.positionInBuffer(u,l.remainder);if(r.nodeStartOffset===s){if(a===u.piece.length){const k=u.next();(0,I.rbDelete)(this,u),this.validateCRLFWithPrevNode(k),this.computeBufferMetadata();return}this.deleteNodeHead(u,M),this._searchCache.validate(s),this.validateCRLFWithPrevNode(u),this.computeBufferMetadata();return}if(r.nodeStartOffset+u.piece.length===s+a){this.deleteNodeTail(u,E),this.validateCRLFWithNextNode(u),this.computeBufferMetadata();return}this.shrinkNode(u,E,M),this.computeBufferMetadata();return}const w=[],v=this.positionInBuffer(u,r.remainder);this.deleteNodeTail(u,v),this._searchCache.validate(s),u.piece.length===0&&w.push(u);const p=this.positionInBuffer(f,l.remainder);this.deleteNodeHead(f,p),f.piece.length===0&&w.push(f);const _=u.next();for(let E=_;E!==I.SENTINEL&&E!==f;E=E.next())w.push(E);const L=u.piece.length===0?u.prev():u;this.deleteNodes(w),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}insertContentToNodeLeft(s,a){const r=[];if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.startWithLF(a)){const f=a.piece,w={line:f.start.line+1,column:0},v=new t(f.bufferIndex,w,f.end,this.getLineFeedCnt(f.bufferIndex,w,f.end),f.length-1);a.piece=v,s+=`
`,(0,I.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&r.push(a)}const l=this.createNewPieces(s);let u=this.rbInsertLeft(a,l[l.length-1]);for(let f=l.length-2;f>=0;f--)u=this.rbInsertLeft(u,l[f]);this.validateCRLFWithPrevNode(u),this.deleteNodes(r)}insertContentToNodeRight(s,a){this.adjustCarriageReturnFromNext(s,a)&&(s+=`
`);const r=this.createNewPieces(s),l=this.rbInsertRight(a,r[0]);let u=l;for(let f=1;f<r.length;f++)u=this.rbInsertRight(u,r[f]);this.validateCRLFWithPrevNode(l)}positionInBuffer(s,a,r){const l=s.piece,u=s.piece.bufferIndex,f=this._buffers[u].lineStarts,v=f[l.start.line]+l.start.column+a;let p=l.start.line,_=l.end.line,L=0,E=0,M=0;for(;p<=_&&(L=p+(_-p)/2|0,M=f[L],L!==_);)if(E=f[L+1],v<M)_=L-1;else if(v>=E)p=L+1;else break;return r?(r.line=L,r.column=v-M,null):{line:L,column:v-M}}getLineFeedCnt(s,a,r){if(r.column===0)return r.line-a.line;const l=this._buffers[s].lineStarts;if(r.line===l.length-1)return r.line-a.line;const u=l[r.line+1],f=l[r.line]+r.column;if(u>f+1)return r.line-a.line;const w=f-1;return this._buffers[s].buffer.charCodeAt(w)===13?r.line-a.line+1:r.line-a.line}offsetInBuffer(s,a){return this._buffers[s].lineStarts[a.line]+a.column}deleteNodes(s){for(let a=0;a<s.length;a++)(0,I.rbDelete)(this,s[a])}createNewPieces(s){if(s.length>e.AverageBufferSize){const _=[];for(;s.length>e.AverageBufferSize;){const E=s.charCodeAt(e.AverageBufferSize-1);let M;E===13||E>=55296&&E<=56319?(M=s.substring(0,e.AverageBufferSize-1),s=s.substring(e.AverageBufferSize-1)):(M=s.substring(0,e.AverageBufferSize),s=s.substring(e.AverageBufferSize));const k=h(M);_.push(new t(this._buffers.length,{line:0,column:0},{line:k.length-1,column:M.length-k[k.length-1]},k.length-1,M.length)),this._buffers.push(new i(M,k))}const L=h(s);return _.push(new t(this._buffers.length,{line:0,column:0},{line:L.length-1,column:s.length-L[L.length-1]},L.length-1,s.length)),this._buffers.push(new i(s,L)),_}let a=this._buffers[0].buffer.length;const r=h(s,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===a&&a!==0&&this.startWithLF(s)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let _=0;_<r.length;_++)r[_]+=a+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+="_"+s,a+=1}else{if(a!==0)for(let _=0;_<r.length;_++)r[_]+=a;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+=s}const u=this._buffers[0].buffer.length,f=this._buffers[0].lineStarts.length-1,w=u-this._buffers[0].lineStarts[f],v={line:f,column:w},p=new t(0,l,v,this.getLineFeedCnt(0,l,v),u-a);return this._lastChangeBufferPos=v,[p]}getLineRawContent(s,a=0){let r=this.root,l="";const u=this._searchCache.get2(s);if(u){r=u.node;const f=this.getAccumulatedValue(r,s-u.nodeStartLineNumber-1),w=this._buffers[r.piece.bufferIndex].buffer,v=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(u.nodeStartLineNumber+r.piece.lineFeedCnt===s)l=w.substring(v+f,v+r.piece.length);else{const p=this.getAccumulatedValue(r,s-u.nodeStartLineNumber);return w.substring(v+f,v+p-a)}}else{let f=0;const w=s;for(;r!==I.SENTINEL;)if(r.left!==I.SENTINEL&&r.lf_left>=s-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>s-1){const v=this.getAccumulatedValue(r,s-r.lf_left-2),p=this.getAccumulatedValue(r,s-r.lf_left-1),_=this._buffers[r.piece.bufferIndex].buffer,L=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return f+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:f,nodeStartLineNumber:w-(s-1-r.lf_left)}),_.substring(L+v,L+p-a)}else if(r.lf_left+r.piece.lineFeedCnt===s-1){const v=this.getAccumulatedValue(r,s-r.lf_left-2),p=this._buffers[r.piece.bufferIndex].buffer,_=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);l=p.substring(_+v,_+r.piece.length);break}else s-=r.lf_left+r.piece.lineFeedCnt,f+=r.size_left+r.piece.length,r=r.right}for(r=r.next();r!==I.SENTINEL;){const f=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){const w=this.getAccumulatedValue(r,0),v=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return l+=f.substring(v,v+w-a),l}else{const w=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);l+=f.substr(w,r.piece.length)}r=r.next()}return l}computeBufferMetadata(){let s=this.root,a=1,r=0;for(;s!==I.SENTINEL;)a+=s.lf_left+s.piece.lineFeedCnt,r+=s.size_left+s.piece.length,s=s.right;this._lineCnt=a,this._length=r,this._searchCache.validate(this._length)}getIndexOf(s,a){const r=s.piece,l=this.positionInBuffer(s,a),u=l.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===a){const f=this.getLineFeedCnt(s.piece.bufferIndex,r.start,l);if(f!==u)return{index:f,remainder:0}}return{index:u,remainder:l.column}}getAccumulatedValue(s,a){if(a<0)return 0;const r=s.piece,l=this._buffers[r.bufferIndex].lineStarts,u=r.start.line+a+1;return u>r.end.line?l[r.end.line]+r.end.column-l[r.start.line]-r.start.column:l[u]-l[r.start.line]-r.start.column}deleteNodeTail(s,a){const r=s.piece,l=r.lineFeedCnt,u=this.offsetInBuffer(r.bufferIndex,r.end),f=a,w=this.offsetInBuffer(r.bufferIndex,f),v=this.getLineFeedCnt(r.bufferIndex,r.start,f),p=v-l,_=w-u,L=r.length+_;s.piece=new t(r.bufferIndex,r.start,f,v,L),(0,I.updateTreeMetadata)(this,s,_,p)}deleteNodeHead(s,a){const r=s.piece,l=r.lineFeedCnt,u=this.offsetInBuffer(r.bufferIndex,r.start),f=a,w=this.getLineFeedCnt(r.bufferIndex,f,r.end),v=this.offsetInBuffer(r.bufferIndex,f),p=w-l,_=u-v,L=r.length+_;s.piece=new t(r.bufferIndex,f,r.end,w,L),(0,I.updateTreeMetadata)(this,s,_,p)}shrinkNode(s,a,r){const l=s.piece,u=l.start,f=l.end,w=l.length,v=l.lineFeedCnt,p=a,_=this.getLineFeedCnt(l.bufferIndex,l.start,p),L=this.offsetInBuffer(l.bufferIndex,a)-this.offsetInBuffer(l.bufferIndex,u);s.piece=new t(l.bufferIndex,l.start,p,_,L),(0,I.updateTreeMetadata)(this,s,L-w,_-v);const E=new t(l.bufferIndex,r,f,this.getLineFeedCnt(l.bufferIndex,r,f),this.offsetInBuffer(l.bufferIndex,f)-this.offsetInBuffer(l.bufferIndex,r)),M=this.rbInsertRight(s,E);this.validateCRLFWithPrevNode(M)}appendToNode(s,a){this.adjustCarriageReturnFromNext(a,s)&&(a+=`
`);const r=this.shouldCheckCRLF()&&this.startWithLF(a)&&this.endWithCR(s),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=a;const u=h(a,!1);for(let M=0;M<u.length;M++)u[M]+=l;if(r){const M=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-M}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1));const f=this._buffers[0].lineStarts.length-1,w=this._buffers[0].buffer.length-this._buffers[0].lineStarts[f],v={line:f,column:w},p=s.piece.length+a.length,_=s.piece.lineFeedCnt,L=this.getLineFeedCnt(0,s.piece.start,v),E=L-_;s.piece=new t(s.piece.bufferIndex,s.piece.start,v,L,p),this._lastChangeBufferPos=v,(0,I.updateTreeMetadata)(this,s,a.length,E)}nodeAt(s){let a=this.root;const r=this._searchCache.get(s);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:s-r.nodeStartOffset};let l=0;for(;a!==I.SENTINEL;)if(a.size_left>s)a=a.left;else if(a.size_left+a.piece.length>=s){l+=a.size_left;const u={node:a,remainder:s-a.size_left,nodeStartOffset:l};return this._searchCache.set(u),u}else s-=a.size_left+a.piece.length,l+=a.size_left+a.piece.length,a=a.right;return null}nodeAt2(s,a){let r=this.root,l=0;for(;r!==I.SENTINEL;)if(r.left!==I.SENTINEL&&r.lf_left>=s-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>s-1){const u=this.getAccumulatedValue(r,s-r.lf_left-2),f=this.getAccumulatedValue(r,s-r.lf_left-1);return l+=r.size_left,{node:r,remainder:Math.min(u+a-1,f),nodeStartOffset:l}}else if(r.lf_left+r.piece.lineFeedCnt===s-1){const u=this.getAccumulatedValue(r,s-r.lf_left-2);if(u+a-1<=r.piece.length)return{node:r,remainder:u+a-1,nodeStartOffset:l};a-=r.piece.length-u;break}else s-=r.lf_left+r.piece.lineFeedCnt,l+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==I.SENTINEL;){if(r.piece.lineFeedCnt>0){const u=this.getAccumulatedValue(r,0),f=this.offsetOfNode(r);return{node:r,remainder:Math.min(a-1,u),nodeStartOffset:f}}else if(r.piece.length>=a-1){const u=this.offsetOfNode(r);return{node:r,remainder:a-1,nodeStartOffset:u}}else a-=r.piece.length;r=r.next()}return null}nodeCharCodeAt(s,a){if(s.piece.lineFeedCnt<1)return-1;const r=this._buffers[s.piece.bufferIndex],l=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start)+a;return r.buffer.charCodeAt(l)}offsetOfNode(s){if(!s)return 0;let a=s.size_left;for(;s!==this.root;)s.parent.right===s&&(a+=s.parent.size_left+s.parent.piece.length),s=s.parent;return a}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(s){if(typeof s=="string")return s.charCodeAt(0)===10;if(s===I.SENTINEL||s.piece.lineFeedCnt===0)return!1;const a=s.piece,r=this._buffers[a.bufferIndex].lineStarts,l=a.start.line,u=r[l]+a.start.column;return l===r.length-1||r[l+1]>u+1?!1:this._buffers[a.bufferIndex].buffer.charCodeAt(u)===10}endWithCR(s){return typeof s=="string"?s.charCodeAt(s.length-1)===13:s===I.SENTINEL||s.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(s,s.piece.length-1)===13}validateCRLFWithPrevNode(s){if(this.shouldCheckCRLF()&&this.startWithLF(s)){const a=s.prev();this.endWithCR(a)&&this.fixCRLF(a,s)}}validateCRLFWithNextNode(s){if(this.shouldCheckCRLF()&&this.endWithCR(s)){const a=s.next();this.startWithLF(a)&&this.fixCRLF(s,a)}}fixCRLF(s,a){const r=[],l=this._buffers[s.piece.bufferIndex].lineStarts;let u;s.piece.end.column===0?u={line:s.piece.end.line-1,column:l[s.piece.end.line]-l[s.piece.end.line-1]-1}:u={line:s.piece.end.line,column:s.piece.end.column-1};const f=s.piece.length-1,w=s.piece.lineFeedCnt-1;s.piece=new t(s.piece.bufferIndex,s.piece.start,u,w,f),(0,I.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&r.push(s);const v={line:a.piece.start.line+1,column:0},p=a.piece.length-1,_=this.getLineFeedCnt(a.piece.bufferIndex,v,a.piece.end);a.piece=new t(a.piece.bufferIndex,v,a.piece.end,_,p),(0,I.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&r.push(a);const L=this.createNewPieces(`\r
`);this.rbInsertRight(s,L[0]);for(let E=0;E<r.length;E++)(0,I.rbDelete)(this,r[E])}adjustCarriageReturnFromNext(s,a){if(this.shouldCheckCRLF()&&this.endWithCR(s)){const r=a.next();if(this.startWithLF(r)){if(s+=`
`,r.piece.length===1)(0,I.rbDelete)(this,r);else{const l=r.piece,u={line:l.start.line+1,column:0},f=l.length-1,w=this.getLineFeedCnt(l.bufferIndex,u,l.end);r.piece=new t(l.bufferIndex,u,l.end,w,f),(0,I.updateTreeMetadata)(this,r,-1,-1)}return!0}}return!1}iterate(s,a){if(s===I.SENTINEL)return a(I.SENTINEL);const r=this.iterate(s.left,a);return r&&a(s)&&this.iterate(s.right,a)}getNodeContent(s){if(s===I.SENTINEL)return"";const a=this._buffers[s.piece.bufferIndex];let r;const l=s.piece,u=this.offsetInBuffer(l.bufferIndex,l.start),f=this.offsetInBuffer(l.bufferIndex,l.end);return r=a.buffer.substring(u,f),r}getPieceContent(s){const a=this._buffers[s.bufferIndex],r=this.offsetInBuffer(s.bufferIndex,s.start),l=this.offsetInBuffer(s.bufferIndex,s.end);return a.buffer.substring(r,l)}rbInsertRight(s,a){const r=new I.TreeNode(a,1);if(r.left=I.SENTINEL,r.right=I.SENTINEL,r.parent=I.SENTINEL,r.size_left=0,r.lf_left=0,this.root===I.SENTINEL)this.root=r,r.color=0;else if(s.right===I.SENTINEL)s.right=r,r.parent=s;else{const u=(0,I.leftest)(s.right);u.left=r,r.parent=u}return(0,I.fixInsert)(this,r),r}rbInsertLeft(s,a){const r=new I.TreeNode(a,1);if(r.left=I.SENTINEL,r.right=I.SENTINEL,r.parent=I.SENTINEL,r.size_left=0,r.lf_left=0,this.root===I.SENTINEL)this.root=r,r.color=0;else if(s.left===I.SENTINEL)s.left=r,r.parent=s;else{const l=(0,I.righttest)(s.left);l.right=r,r.parent=l}return(0,I.fixInsert)(this,r),r}}e.PieceTreeBase=d}),define(ee[241],te([0,1,4,8,3,50,240,119,238,2]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class g extends h.Disposable{constructor(i,n,o,d,c,s,a){super();this._onDidChangeContent=this._register(new y.Emitter),this._BOM=n,this._mightContainNonBasicASCII=!s,this._mightContainRTL=d,this._mightContainUnusualLineTerminators=c,this._pieceTree=new S.PieceTreeBase(i,o,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(i){return this._pieceTree.createSnapshot(i?this._BOM:"")}getOffsetAt(i,n){return this._pieceTree.getOffsetAt(i,n)}getPositionAt(i){return this._pieceTree.getPositionAt(i)}getRangeAt(i,n){const o=i+n,d=this.getPositionAt(i),c=this.getPositionAt(o);return new N.Range(d.lineNumber,d.column,c.lineNumber,c.column)}getValueInRange(i,n=0){if(i.isEmpty())return"";const o=this._getEndOfLine(n);return this._pieceTree.getValueInRange(i,o)}getValueLengthInRange(i,n=0){if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;const o=this.getOffsetAt(i.startLineNumber,i.startColumn);return this.getOffsetAt(i.endLineNumber,i.endColumn)-o}getCharacterCountInRange(i,n=0){if(this._mightContainNonBasicASCII){let o=0;const d=i.startLineNumber,c=i.endLineNumber;for(let s=d;s<=c;s++){const a=this.getLineContent(s),r=s===d?i.startColumn-1:0,l=s===c?i.endColumn-1:a.length;for(let u=r;u<l;u++)m.isHighSurrogate(a.charCodeAt(u))?(o=o+1,u=u+1):o=o+1}return o+=this._getEndOfLine(n).length*(c-d),o}return this.getValueLengthInRange(i,n)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(i){return this._pieceTree.getLineContent(i)}getLineCharCode(i,n){return this._pieceTree.getLineCharCode(i,n)}getLineLength(i){return this._pieceTree.getLineLength(i)}getLineFirstNonWhitespaceColumn(i){const n=m.firstNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+1}getLineLastNonWhitespaceColumn(i){const n=m.lastNonWhitespaceIndex(this.getLineContent(i));return n===-1?0:n+2}_getEndOfLine(i){switch(i){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(i){this._pieceTree.setEOL(i)}applyEdits(i,n,o){let d=this._mightContainRTL,c=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,r=[];for(let _=0;_<i.length;_++){const L=i[_];a&&L._isTracked&&(a=!1);const E=L.range;if(L.text){let B=!0;s||(B=!m.isBasicASCII(L.text),s=B),!d&&B&&(d=m.containsRTL(L.text)),!c&&B&&(c=m.containsUnusualLineTerminators(L.text))}let M="",k=0,A=0,F=0;if(L.text){let B;[k,A,F,B]=(0,b.countEOL)(L.text);const T=this.getEOL();B===0||B===(T===`\r
`?2:1)?M=L.text:M=L.text.replace(/\r\n|\r|\n/g,T)}r[_]={sortIndex:_,identifier:L.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:M,eolCount:k,firstLineLength:A,lastLineLength:F,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}r.sort(g._sortOpsAscending);let l=!1;for(let _=0,L=r.length-1;_<L;_++){const E=r[_].range.getEndPosition(),M=r[_+1].range.getStartPosition();if(M.isBeforeOrEqual(E)){if(M.isBefore(E))throw new Error("Overlapping ranges are not allowed!");l=!0}}a&&(r=this._reduceOperations(r));const u=o||n?g._getInverseEditRanges(r):[],f=[];if(n)for(let _=0;_<r.length;_++){const L=r[_],E=u[_];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let M=E.startLineNumber;M<=E.endLineNumber;M++){let k="";M===E.startLineNumber&&(k=this.getLineContent(L.range.startLineNumber),m.firstNonWhitespaceIndex(k)!==-1)||f.push({lineNumber:M,oldContent:k})}}let w=null;if(o){let _=0;w=[];for(let L=0;L<r.length;L++){const E=r[L],M=u[L],k=this.getValueInRange(E.range),A=E.rangeOffset+_;_+=E.text.length-k.length,w[L]={sortIndex:E.sortIndex,identifier:E.identifier,range:M,text:k,textChange:new C.TextChange(E.rangeOffset,k,A,E.text)}}l||w.sort((L,E)=>L.sortIndex-E.sortIndex)}this._mightContainRTL=d,this._mightContainUnusualLineTerminators=c,this._mightContainNonBasicASCII=s;const v=this._doApplyEdits(r);let p=null;if(n&&f.length>0){f.sort((_,L)=>L.lineNumber-_.lineNumber),p=[];for(let _=0,L=f.length;_<L;_++){const E=f[_].lineNumber;if(_>0&&f[_-1].lineNumber===E)continue;const M=f[_].oldContent,k=this.getLineContent(E);k.length===0||k===M||m.firstNonWhitespaceIndex(k)!==-1||p.push(E)}}return this._onDidChangeContent.fire(),new I.ApplyEditsResult(w,v,p)}_reduceOperations(i){return i.length<1e3?i:[this._toSingleEditOperation(i)]}_toSingleEditOperation(i){let n=!1;const o=i[0].range,d=i[i.length-1].range,c=new N.Range(o.startLineNumber,o.startColumn,d.endLineNumber,d.endColumn);let s=o.startLineNumber,a=o.startColumn;const r=[];for(let v=0,p=i.length;v<p;v++){const _=i[v],L=_.range;n=n||_.forceMoveMarkers,r.push(this.getValueInRange(new N.Range(s,a,L.startLineNumber,L.startColumn))),_.text.length>0&&r.push(_.text),s=L.endLineNumber,a=L.endColumn}const l=r.join(""),[u,f,w]=(0,b.countEOL)(l);return{sortIndex:0,identifier:i[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:l,eolCount:u,firstLineLength:f,lastLineLength:w,forceMoveMarkers:n,isAutoWhitespaceEdit:!1}}_doApplyEdits(i){i.sort(g._sortOpsDescending);const n=[];for(let o=0;o<i.length;o++){const d=i[o],c=d.range.startLineNumber,s=d.range.startColumn,a=d.range.endLineNumber,r=d.range.endColumn;if(c===a&&s===r&&d.text.length===0)continue;d.text?(this._pieceTree.delete(d.rangeOffset,d.rangeLength),this._pieceTree.insert(d.rangeOffset,d.text,!0)):this._pieceTree.delete(d.rangeOffset,d.rangeLength);const l=new N.Range(c,s,a,r);n.push({range:l,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}return n}findMatchesLineByLine(i,n,o,d){return this._pieceTree.findMatchesLineByLine(i,n,o,d)}static _getInverseEditRanges(i){const n=[];let o=0,d=0,c=null;for(let s=0,a=i.length;s<a;s++){const r=i[s];let l,u;c?c.range.endLineNumber===r.range.startLineNumber?(l=o,u=d+(r.range.startColumn-c.range.endColumn)):(l=o+(r.range.startLineNumber-c.range.endLineNumber),u=r.range.startColumn):(l=r.range.startLineNumber,u=r.range.startColumn);let f;if(r.text.length>0){const w=r.eolCount+1;w===1?f=new N.Range(l,u,l,u+r.firstLineLength):f=new N.Range(l,u,l+w-1,r.lastLineLength+1)}else f=new N.Range(l,u,l,u);o=f.endLineNumber,d=f.endColumn,n.push(f),c=r}return n}static _sortOpsAscending(i,n){const o=N.Range.compareRangesUsingEnds(i.range,n.range);return o===0?i.sortIndex-n.sortIndex:o}static _sortOpsDescending(i,n){const o=N.Range.compareRangesUsingEnds(i.range,n.range);return o===0?n.sortIndex-i.sortIndex:-o}}e.PieceTreeTextBuffer=g}),define(ee[416],te([0,1,8,240,241]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class I{constructor(C,h,g,t,i,n,o,d,c){this._chunks=C,this._bom=h,this._cr=g,this._lf=t,this._crlf=i,this._containsRTL=n,this._containsUnusualLineTerminators=o,this._isBasicASCII=d,this._normalizeEOL=c}_getEOL(C){const h=this._cr+this._lf+this._crlf,g=this._cr+this._crlf;return h===0?C===1?`
`:`\r
`:g>h/2?`\r
`:`
`}create(C){const h=this._getEOL(C),g=this._chunks;if(this._normalizeEOL&&(h===`\r
`&&(this._cr>0||this._lf>0)||h===`
`&&(this._cr>0||this._crlf>0)))for(let i=0,n=g.length;i<n;i++){const o=g[i].buffer.replace(/\r\n|\r|\n/g,h),d=(0,m.createLineStartsFast)(o);g[i]=new m.StringBuffer(o,d)}const t=new N.PieceTreeTextBuffer(g,this._bom,h,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:t,disposable:t}}}e.PieceTreeTextBufferFactory=I;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(C){if(C.length===0)return;this.chunks.length===0&&y.startsWithUTF8BOM(C)&&(this.BOM=y.UTF8_BOM_CHARACTER,C=C.substr(1));const h=C.charCodeAt(C.length-1);h===13||h>=55296&&h<=56319?(this._acceptChunk1(C.substr(0,C.length-1),!1),this._hasPreviousChar=!0,this._previousChar=h):(this._acceptChunk1(C,!1),this._hasPreviousChar=!1,this._previousChar=h)}_acceptChunk1(C,h){!h&&C.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+C):this._acceptChunk2(C))}_acceptChunk2(C){const h=(0,m.createLineStarts)(this._tmpLineStarts,C);this.chunks.push(new m.StringBuffer(C,h.lineStarts)),this.cr+=h.cr,this.lf+=h.lf,this.crlf+=h.crlf,this.isBasicASCII&&(this.isBasicASCII=h.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=y.containsRTL(C)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=y.containsUnusualLineTerminators(C))}finish(C=!0){return this._finish(),new I(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,C)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const C=this.chunks[this.chunks.length-1];C.buffer+=String.fromCharCode(this._previousChar);const h=(0,m.createLineStartsFast)(C.buffer);C.lineStarts=h,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(ee[417],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class y{constructor(N,I){this._startLineNumber=N,this._tokens=I}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(N){return this._tokens[N-this._startLineNumber]}appendLineTokens(N){this._tokens.push(N)}}e.ContiguousMultilineTokens=y}),define(ee[418],te([0,1,417]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class m{constructor(){this._tokens=[]}add(I,S){if(this._tokens.length>0){const b=this._tokens[this._tokens.length-1];if(b.endLineNumber+1===I){b.appendLineTokens(S);return}}this._tokens.push(new y.ContiguousMultilineTokens(I,[S]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=m}),define(ee[419],te([0,1,11,3,119]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class I{constructor(h,g){this._startLineNumber=h,this._tokens=g,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(h,g){return new I(h,new S(g))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(h){return this._startLineNumber<=h&&h<=this._endLineNumber?this._tokens.getLineTokens(h-this._startLineNumber):null}getRange(){const h=this._tokens.getRange();return h&&new m.Range(this._startLineNumber+h.startLineNumber,h.startColumn,this._startLineNumber+h.endLineNumber,h.endColumn)}removeTokens(h){const g=h.startLineNumber-this._startLineNumber,t=h.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(g,h.startColumn-1,t,h.endColumn-1),this._updateEndLineNumber()}split(h){const g=h.startLineNumber-this._startLineNumber,t=h.endLineNumber-this._startLineNumber,[i,n,o]=this._tokens.split(g,h.startColumn-1,t,h.endColumn-1);return[new I(this._startLineNumber,i),new I(this._startLineNumber+o,n)]}applyEdit(h,g){const[t,i,n]=(0,N.countEOL)(g);this.acceptEdit(h,t,i,n,g.length>0?g.charCodeAt(0):0)}acceptEdit(h,g,t,i,n){this._acceptDeleteRange(h),this._acceptInsertText(new y.Position(h.startLineNumber,h.startColumn),g,t,i,n),this._updateEndLineNumber()}_acceptDeleteRange(h){if(h.startLineNumber===h.endLineNumber&&h.startColumn===h.endColumn)return;const g=h.startLineNumber-this._startLineNumber,t=h.endLineNumber-this._startLineNumber;if(t<0){const n=t-g;this._startLineNumber-=n;return}const i=this._tokens.getMaxDeltaLine();if(!(g>=i+1)){if(g<0&&t>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(g<0){const n=-g;this._startLineNumber-=n,this._tokens.acceptDeleteRange(h.startColumn-1,0,0,t,h.endColumn-1)}else this._tokens.acceptDeleteRange(0,g,h.startColumn-1,t,h.endColumn-1)}}_acceptInsertText(h,g,t,i,n){if(g===0&&t===0)return;const o=h.lineNumber-this._startLineNumber;if(o<0){this._startLineNumber+=g;return}const d=this._tokens.getMaxDeltaLine();o>=d+1||this._tokens.acceptInsertText(o,h.column-1,g,t,i,n)}}e.SparseMultilineTokens=I;class S{constructor(h){this._tokens=h,this._tokenCount=h.length/4}toString(h){const g=[];for(let t=0;t<this._tokenCount;t++)g.push(`(${this._getDeltaLine(t)+h},${this._getStartCharacter(t)}-${this._getEndCharacter(t)})`);return`[${g.join(",")}]`}getMaxDeltaLine(){const h=this._getTokenCount();return h===0?-1:this._getDeltaLine(h-1)}getRange(){const h=this._getTokenCount();if(h===0)return null;const g=this._getStartCharacter(0),t=this._getDeltaLine(h-1),i=this._getEndCharacter(h-1);return new m.Range(0,g+1,t,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(h){return this._tokens[4*h]}_getStartCharacter(h){return this._tokens[4*h+1]}_getEndCharacter(h){return this._tokens[4*h+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(h){let g=0,t=this._getTokenCount()-1;for(;g<t;){const i=g+Math.floor((t-g)/2),n=this._getDeltaLine(i);if(n<h)g=i+1;else if(n>h)t=i-1;else{let o=i;for(;o>g&&this._getDeltaLine(o-1)===h;)o--;let d=i;for(;d<t&&this._getDeltaLine(d+1)===h;)d++;return new b(this._tokens.subarray(4*o,4*d+4))}}return this._getDeltaLine(g)===h?new b(this._tokens.subarray(4*g,4*g+4)):null}clear(){this._tokenCount=0}removeTokens(h,g,t,i){const n=this._tokens,o=this._tokenCount;let d=0,c=!1,s=0;for(let a=0;a<o;a++){const r=4*a,l=n[r],u=n[r+1],f=n[r+2],w=n[r+3];if((l>h||l===h&&f>=g)&&(l<t||l===t&&u<=i))c=!0;else{if(d===0&&(s=l),c){const v=4*d;n[v]=l-s,n[v+1]=u,n[v+2]=f,n[v+3]=w}d++}}return this._tokenCount=d,s}split(h,g,t,i){const n=this._tokens,o=this._tokenCount,d=[],c=[];let s=d,a=0,r=0;for(let l=0;l<o;l++){const u=4*l,f=n[u],w=n[u+1],v=n[u+2],p=n[u+3];if(f>h||f===h&&v>=g){if(f<t||f===t&&w<=i)continue;s!==c&&(s=c,a=0,r=f)}s[a++]=f-r,s[a++]=w,s[a++]=v,s[a++]=p}return[new S(new Uint32Array(d)),new S(new Uint32Array(c)),r]}acceptDeleteRange(h,g,t,i,n){const o=this._tokens,d=this._tokenCount,c=i-g;let s=0,a=!1;for(let r=0;r<d;r++){const l=4*r;let u=o[l],f=o[l+1],w=o[l+2];const v=o[l+3];if(u<g||u===g&&w<=t){s++;continue}else if(u===g&&f<t)u===i&&w>n?w-=n-t:w=t;else if(u===g&&f===t)if(u===i&&w>n)w-=n-t;else{a=!0;continue}else if(u<i||u===i&&f<n)if(u===i&&w>n)u===g?(f=t,w=f+(w-n)):(f=0,w=f+(w-n));else{a=!0;continue}else if(u>i){if(c===0&&!a){s=d;break}u-=c}else if(u===i&&f>=n)h&&u===0&&(f+=h,w+=h),u-=c,f-=n-t,w-=n-t;else throw new Error("Not possible!");const p=4*s;o[p]=u,o[p+1]=f,o[p+2]=w,o[p+3]=v,s++}this._tokenCount=s}acceptInsertText(h,g,t,i,n,o){const d=t===0&&i===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),c=this._tokens,s=this._tokenCount;for(let a=0;a<s;a++){const r=4*a;let l=c[r],u=c[r+1],f=c[r+2];if(!(l<h||l===h&&f<g)){if(l===h&&f===g)if(d)f+=1;else continue;else if(l===h&&u<g&&g<f)t===0?f+=i:f=g;else{if(l===h&&u===g&&d)continue;if(l===h)if(l+=t,t===0)u+=i,f+=i;else{const w=f-u;u=n+(u-g),f=u+w}else l+=t}c[r]=l,c[r+1]=u,c[r+2]=f}}}}class b{constructor(h){this._tokens=h}getCount(){return this._tokens.length/4}getStartCharacter(h){return this._tokens[4*h+1]}getEndCharacter(h){return this._tokens[4*h+2]}getMetadata(h){return this._tokens[4*h+3]}}e.SparseLineTokens=b}),define(ee[176],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function y(m,N){let I=0,S=0;const b=m.length;for(;S<b;){const C=m.charCodeAt(S);if(C===32)I++;else if(C===9)I=I-I%N+N;else break;S++}return S===b?-1:I}e.computeIndentLevel=y}),define(ee[177],te([0,1,19,8,113,3,415,176]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var C;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(C=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class h{constructor(o,d,c){this.visibleColumn=o,this.className=d,this.horizontalLine=c}}e.IndentGuide=h;class g{constructor(o,d){this.top=o,this.endColumn=d}}e.IndentGuideHorizontalLine=g;class t extends S.TextModelPart{constructor(o,d){super();this.textModel=o,this.languageConfigurationService=d}getLanguageConfiguration(o){return this.languageConfigurationService.getLanguageConfiguration(o)}_computeIndentLevel(o){return(0,b.computeIndentLevel)(this.textModel.getLineContent(o+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(o,d,c){this.assertNotDisposed();const s=this.textModel.getLineCount();if(o<1||o>s)throw new Error("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(a&&a.offSide);let l=-2,u=-1,f=-2,w=-1;const v=O=>{if(l!==-1&&(l===-2||l>O-1)){l=-1,u=-1;for(let P=O-2;P>=0;P--){const D=this._computeIndentLevel(P);if(D>=0){l=P,u=D;break}}}if(f===-2){f=-1,w=-1;for(let P=O;P<s;P++){const D=this._computeIndentLevel(P);if(D>=0){f=P,w=D;break}}}};let p=-2,_=-1,L=-2,E=-1;const M=O=>{if(p===-2){p=-1,_=-1;for(let P=O-2;P>=0;P--){const D=this._computeIndentLevel(P);if(D>=0){p=P,_=D;break}}}if(L!==-1&&(L===-2||L<O-1)){L=-1,E=-1;for(let P=O;P<s;P++){const D=this._computeIndentLevel(P);if(D>=0){L=P,E=D;break}}}};let k=0,A=!0,F=0,B=!0,T=0,R=0;for(let O=0;A||B;O++){const P=o-O,D=o+O;O>1&&(P<1||P<d)&&(A=!1),O>1&&(D>s||D>c)&&(B=!1),O>5e4&&(A=!1,B=!1);let x=-1;if(A&&P>=1){const j=this._computeIndentLevel(P-1);j>=0?(f=P-1,w=j,x=Math.ceil(j/this.textModel.getOptions().indentSize)):(v(P),x=this._getIndentLevelForWhitespaceLine(r,u,w))}let H=-1;if(B&&D<=s){const j=this._computeIndentLevel(D-1);j>=0?(p=D-1,_=j,H=Math.ceil(j/this.textModel.getOptions().indentSize)):(M(D),H=this._getIndentLevelForWhitespaceLine(r,_,E))}if(O===0){R=x;continue}if(O===1){if(D<=s&&H>=0&&R+1===H){A=!1,k=D,F=D,T=H;continue}if(P>=1&&x>=0&&x-1===R){B=!1,k=P,F=P,T=x;continue}if(k=o,F=o,T=R,T===0)return{startLineNumber:k,endLineNumber:F,indent:T}}A&&(x>=T?k=P:A=!1),B&&(H>=T?F=D:B=!1)}return{startLineNumber:k,endLineNumber:F,indent:T}}getLinesBracketGuides(o,d,c,s){var a,r,l,u,f;const w=[],v=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new I.Range(o,1,d,this.textModel.getLineMaxColumn(d)));let p;if(c&&v.length>0){const k=o<=c.lineNumber&&c.lineNumber<=d?v.filter(A=>I.Range.strictContainsPosition(A.range,c)):this.textModel.bracketPairs.getBracketPairsInRange(I.Range.fromPositions(c));p=(a=(0,y.findLast)(k,A=>A.range.startLineNumber!==A.range.endLineNumber))===null||a===void 0?void 0:a.range}const _=new y.ArrayQueue(v),L=new Array,E=new Array,M=new i;for(let k=o;k<=d;k++){let A=new Array;E.length>0&&(A=A.concat(E),E.length=0),w.push(A);for(const B of _.takeWhile(T=>T.openingBracketRange.startLineNumber<=k)||[]){if(B.range.startLineNumber===B.range.endLineNumber)continue;const T=Math.min(this.getVisibleColumnFromPosition(B.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((l=(r=B.closingBracketRange)===null||r===void 0?void 0:r.getStartPosition())!==null&&l!==void 0?l:B.range.getEndPosition()),B.minVisibleColumnIndentation+1);let R=!1;B.closingBracketRange&&m.firstNonWhitespaceIndex(this.textModel.getLineContent(B.closingBracketRange.startLineNumber))<B.closingBracketRange.startColumn-1&&(R=!0);const O=B.openingBracketRange.getStartPosition(),P=(f=(u=B.closingBracketRange)===null||u===void 0?void 0:u.getStartPosition())!==null&&f!==void 0?f:B.range.getEndPosition();B.closingBracketRange===void 0?L[B.nestingLevel]=null:L[B.nestingLevel]={nestingLevel:B.nestingLevel,guideVisibleColumn:T,start:O,visibleStartColumn:this.getVisibleColumnFromPosition(O),end:P,visibleEndColumn:this.getVisibleColumnFromPosition(P),bracketPair:B,renderHorizontalEndLineAtTheBottom:R}}for(const B of L){if(!B)continue;const T=p&&B.bracketPair.range.equalsRange(p),R=M.getInlineClassNameOfLevel(B.nestingLevel)+(s.highlightActive&&T?" "+M.activeClassName:"");(T&&s.horizontalGuides!==C.Disabled||s.includeInactive&&s.horizontalGuides===C.Enabled)&&(B.start.lineNumber===k&&B.guideVisibleColumn<B.visibleStartColumn&&A.push(new h(B.guideVisibleColumn,R,new g(!1,B.start.column))),B.end.lineNumber===k+1&&B.guideVisibleColumn<B.visibleEndColumn&&E.push(new h(B.guideVisibleColumn,R,new g(!B.renderHorizontalEndLineAtTheBottom,B.end.column))))}let F=Number.MAX_SAFE_INTEGER;for(let B=L.length-1;B>=0;B--){const T=L[B];if(!T)continue;const R=s.highlightActive&&p&&T.bracketPair.range.equalsRange(p),O=M.getInlineClassNameOfLevel(T.nestingLevel)+(R?" "+M.activeClassName:"");(R||s.includeInactive)&&T.renderHorizontalEndLineAtTheBottom&&T.end.lineNumber===k+1&&E.push(new h(T.guideVisibleColumn,O,null)),!(T.end.lineNumber<=k||T.start.lineNumber>=k)&&(T.guideVisibleColumn>=F&&!R||(F=T.guideVisibleColumn,(R||s.includeInactive)&&A.push(new h(T.guideVisibleColumn,O,null))))}A.sort((B,T)=>B.visibleColumn-T.visibleColumn)}return w}getVisibleColumnFromPosition(o){return N.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(o.lineNumber),o.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(o,d){this.assertNotDisposed();const c=this.textModel.getLineCount();if(o<1||o>c)throw new Error("Illegal value for startLineNumber");if(d<1||d>c)throw new Error("Illegal value for endLineNumber");const s=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(a&&a.offSide),l=new Array(d-o+1);let u=-2,f=-1,w=-2,v=-1;for(let p=o;p<=d;p++){const _=p-o,L=this._computeIndentLevel(p-1);if(L>=0){u=p-1,f=L,l[_]=Math.ceil(L/s.indentSize);continue}if(u===-2){u=-1,f=-1;for(let E=p-2;E>=0;E--){const M=this._computeIndentLevel(E);if(M>=0){u=E,f=M;break}}}if(w!==-1&&(w===-2||w<p-1)){w=-1,v=-1;for(let E=p;E<c;E++){const M=this._computeIndentLevel(E);if(M>=0){w=E,v=M;break}}}l[_]=this._getIndentLevelForWhitespaceLine(r,f,v)}return l}_getIndentLevelForWhitespaceLine(o,d,c){const s=this.textModel.getOptions();return d===-1||c===-1?0:d<c?1+Math.floor(d/s.indentSize):d===c||o?Math.ceil(c/s.indentSize):1+Math.floor(c/s.indentSize)}}e.GuidesTextModelPart=t;class i{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(o){return`bracket-indent-guide lvl-${o%30}`}}e.BracketPairGuidesClassNames=i}),define(ee[148],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(b=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const h of e.USUAL_WORD_SEPARATORS)b.indexOf(h)>=0||(C+="\\"+h);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=y();function m(b){let C=e.DEFAULT_WORD_REGEXP;if(b&&b instanceof RegExp)if(b.global)C=b;else{let h="g";b.ignoreCase&&(h+="i"),b.multiline&&(h+="m"),b.unicode&&(h+="u"),C=new RegExp(b.source,h)}return C.lastIndex=0,C}e.ensureValidWordDefinition=m;const N={maxLen:1e3,windowSize:15,timeBudget:150};function I(b,C,h,g,t=N){if(h.length>t.maxLen){let c=b-t.maxLen/2;return c<0?c=0:g+=c,h=h.substring(c,b+t.maxLen/2),I(b,C,h,g,t)}const i=Date.now(),n=b-1-g;let o=-1,d=null;for(let c=1;!(Date.now()-i>=t.timeBudget);c++){const s=n-t.windowSize*c;C.lastIndex=Math.max(0,s);const a=S(C,h,n,o);if(!a&&d||(d=a,s<=0))break;o=s}if(d){const c={word:d[0],startColumn:g+1+d.index,endColumn:g+1+d.index+d[0].length};return C.lastIndex=0,c}return null}e.getWordAtText=I;function S(b,C,h,g){let t;for(;t=b.exec(C);){const i=t.index||0;if(i<=h&&b.lastIndex>=h)return t;if(g>0&&i>g)return null}return null}}),define(ee[420],te([0,1,213,134,49,81,41,8]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMimeTypes=e.clearLanguageAssociations=e.registerLanguageAssociation=void 0;let C=[],h=[],g=[];function t(s,a=!1){const r=i(s);C.push(r),r.userConfigured?g.push(r):h.push(r),a&&!r.userConfigured&&C.forEach(l=>{l.mime===r.mime||l.userConfigured||(r.extension&&l.extension===r.extension&&console.warn(`Overwriting extension <<${r.extension}>> to now point to mime <<${r.mime}>>`),r.filename&&l.filename===r.filename&&console.warn(`Overwriting filename <<${r.filename}>> to now point to mime <<${r.mime}>>`),r.filepattern&&l.filepattern===r.filepattern&&console.warn(`Overwriting filepattern <<${r.filepattern}>> to now point to mime <<${r.mime}>>`),r.firstline&&l.firstline===r.firstline&&console.warn(`Overwriting firstline <<${r.firstline}>> to now point to mime <<${r.mime}>>`))})}e.registerLanguageAssociation=t;function i(s){return{id:s.id,mime:s.mime,filename:s.filename,extension:s.extension,filepattern:s.filepattern,firstline:s.firstline,userConfigured:s.userConfigured,filenameLowercase:s.filename?s.filename.toLowerCase():void 0,extensionLowercase:s.extension?s.extension.toLowerCase():void 0,filepatternLowercase:s.filepattern?(0,y.parse)(s.filepattern.toLowerCase()):void 0,filepatternOnPath:s.filepattern?s.filepattern.indexOf(I.posix.sep)>=0:!1}}function n(s){s?(C=C.filter(a=>!a.userConfigured),g=[]):(C=[],h=[],g=[])}e.clearLanguageAssociations=n;function o(s,a){let r;if(s)switch(s.scheme){case N.Schemas.file:r=s.fsPath;break;case N.Schemas.data:{r=S.DataUri.parseMetaData(s).get(S.DataUri.META_DATA_LABEL);break}default:r=s.path}if(!r)return[m.Mimes.unknown];r=r.toLowerCase();const l=(0,I.basename)(r),u=d(r,l,g);if(u)return[u,m.Mimes.text];const f=d(r,l,h);if(f)return[f,m.Mimes.text];if(a){const w=c(a);if(w)return[w,m.Mimes.text]}return[m.Mimes.unknown]}e.getMimeTypes=o;function d(s,a,r){var l;let u,f,w;for(let v=r.length-1;v>=0;v--){const p=r[v];if(a===p.filenameLowercase){u=p;break}if(p.filepattern&&(!f||p.filepattern.length>f.filepattern.length)){const _=p.filepatternOnPath?s:a;((l=p.filepatternLowercase)===null||l===void 0?void 0:l.call(p,_))&&(f=p)}p.extension&&(!w||p.extension.length>w.extension.length)&&a.endsWith(p.extensionLowercase)&&(w=p)}if(u)return u.mime;if(f)return f.mime;if(w)return w.mime}function c(s){if((0,b.startsWithUTF8BOM)(s)&&(s=s.substr(1)),s.length>0)for(let a=C.length-1;a>=0;a--){const r=C[a];if(!r.firstline)continue;const l=s.match(r.firstline);if(l&&l.length>0)return r.mime}}}),define(ee[421],te([0,1,107,17]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function N(C){for(let h=0,g=C.length;h<g;h+=4){const t=C[h+0],i=C[h+1],n=C[h+2],o=C[h+3];C[h+0]=o,C[h+1]=n,C[h+2]=i,C[h+3]=t}}function I(C){const h=new Uint8Array(C.buffer,C.byteOffset,C.length*4);return m.isLittleEndian()||N(h),y.VSBuffer.wrap(h)}function S(C){const h=new Uint32Array(b(C));let g=0;if(h[g++]=C.id,C.type==="full")h[g++]=1,h[g++]=C.data.length,h.set(C.data,g),g+=C.data.length;else{h[g++]=2,h[g++]=C.deltas.length;for(const t of C.deltas)h[g++]=t.start,h[g++]=t.deleteCount,t.data?(h[g++]=t.data.length,h.set(t.data,g),g+=t.data.length):h[g++]=0}return I(h)}e.encodeSemanticTokensDto=S;function b(C){let h=0;if(h+=1+1,C.type==="full")h+=1+C.data.length;else{h+=1,h+=(1+1+1)*C.deltas.length;for(const g of C.deltas)g.data&&(h+=g.data.length)}return h}}),define(ee[178],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var y;(function(D){D[D.Unknown=0]="Unknown",D[D.Disabled=1]="Disabled",D[D.Enabled=2]="Enabled"})(y=e.AccessibilitySupport||(e.AccessibilitySupport={}));var m;(function(D){D[D.KeepWhitespace=1]="KeepWhitespace",D[D.InsertAsSnippet=4]="InsertAsSnippet"})(m=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var N;(function(D){D[D.Method=0]="Method",D[D.Function=1]="Function",D[D.Constructor=2]="Constructor",D[D.Field=3]="Field",D[D.Variable=4]="Variable",D[D.Class=5]="Class",D[D.Struct=6]="Struct",D[D.Interface=7]="Interface",D[D.Module=8]="Module",D[D.Property=9]="Property",D[D.Event=10]="Event",D[D.Operator=11]="Operator",D[D.Unit=12]="Unit",D[D.Value=13]="Value",D[D.Constant=14]="Constant",D[D.Enum=15]="Enum",D[D.EnumMember=16]="EnumMember",D[D.Keyword=17]="Keyword",D[D.Text=18]="Text",D[D.Color=19]="Color",D[D.File=20]="File",D[D.Reference=21]="Reference",D[D.Customcolor=22]="Customcolor",D[D.Folder=23]="Folder",D[D.TypeParameter=24]="TypeParameter",D[D.User=25]="User",D[D.Issue=26]="Issue",D[D.Snippet=27]="Snippet"})(N=e.CompletionItemKind||(e.CompletionItemKind={}));var I;(function(D){D[D.Deprecated=1]="Deprecated"})(I=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(D){D[D.Invoke=0]="Invoke",D[D.TriggerCharacter=1]="TriggerCharacter",D[D.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var b;(function(D){D[D.EXACT=0]="EXACT",D[D.ABOVE=1]="ABOVE",D[D.BELOW=2]="BELOW"})(b=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var C;(function(D){D[D.NotSet=0]="NotSet",D[D.ContentFlush=1]="ContentFlush",D[D.RecoverFromMarkers=2]="RecoverFromMarkers",D[D.Explicit=3]="Explicit",D[D.Paste=4]="Paste",D[D.Undo=5]="Undo",D[D.Redo=6]="Redo"})(C=e.CursorChangeReason||(e.CursorChangeReason={}));var h;(function(D){D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(h=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var g;(function(D){D[D.Text=0]="Text",D[D.Read=1]="Read",D[D.Write=2]="Write"})(g=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var t;(function(D){D[D.None=0]="None",D[D.Keep=1]="Keep",D[D.Brackets=2]="Brackets",D[D.Advanced=3]="Advanced",D[D.Full=4]="Full"})(t=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var i;(function(D){D[D.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",D[D.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",D[D.accessibilitySupport=2]="accessibilitySupport",D[D.accessibilityPageSize=3]="accessibilityPageSize",D[D.ariaLabel=4]="ariaLabel",D[D.autoClosingBrackets=5]="autoClosingBrackets",D[D.autoClosingDelete=6]="autoClosingDelete",D[D.autoClosingOvertype=7]="autoClosingOvertype",D[D.autoClosingQuotes=8]="autoClosingQuotes",D[D.autoIndent=9]="autoIndent",D[D.automaticLayout=10]="automaticLayout",D[D.autoSurround=11]="autoSurround",D[D.bracketPairColorization=12]="bracketPairColorization",D[D.guides=13]="guides",D[D.codeLens=14]="codeLens",D[D.codeLensFontFamily=15]="codeLensFontFamily",D[D.codeLensFontSize=16]="codeLensFontSize",D[D.colorDecorators=17]="colorDecorators",D[D.columnSelection=18]="columnSelection",D[D.comments=19]="comments",D[D.contextmenu=20]="contextmenu",D[D.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",D[D.cursorBlinking=22]="cursorBlinking",D[D.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",D[D.cursorStyle=24]="cursorStyle",D[D.cursorSurroundingLines=25]="cursorSurroundingLines",D[D.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",D[D.cursorWidth=27]="cursorWidth",D[D.disableLayerHinting=28]="disableLayerHinting",D[D.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",D[D.domReadOnly=30]="domReadOnly",D[D.dragAndDrop=31]="dragAndDrop",D[D.emptySelectionClipboard=32]="emptySelectionClipboard",D[D.extraEditorClassName=33]="extraEditorClassName",D[D.fastScrollSensitivity=34]="fastScrollSensitivity",D[D.find=35]="find",D[D.fixedOverflowWidgets=36]="fixedOverflowWidgets",D[D.folding=37]="folding",D[D.foldingStrategy=38]="foldingStrategy",D[D.foldingHighlight=39]="foldingHighlight",D[D.foldingImportsByDefault=40]="foldingImportsByDefault",D[D.foldingMaximumRegions=41]="foldingMaximumRegions",D[D.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",D[D.fontFamily=43]="fontFamily",D[D.fontInfo=44]="fontInfo",D[D.fontLigatures=45]="fontLigatures",D[D.fontSize=46]="fontSize",D[D.fontWeight=47]="fontWeight",D[D.formatOnPaste=48]="formatOnPaste",D[D.formatOnType=49]="formatOnType",D[D.glyphMargin=50]="glyphMargin",D[D.gotoLocation=51]="gotoLocation",D[D.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",D[D.hover=53]="hover",D[D.inDiffEditor=54]="inDiffEditor",D[D.inlineSuggest=55]="inlineSuggest",D[D.letterSpacing=56]="letterSpacing",D[D.lightbulb=57]="lightbulb",D[D.lineDecorationsWidth=58]="lineDecorationsWidth",D[D.lineHeight=59]="lineHeight",D[D.lineNumbers=60]="lineNumbers",D[D.lineNumbersMinChars=61]="lineNumbersMinChars",D[D.linkedEditing=62]="linkedEditing",D[D.links=63]="links",D[D.matchBrackets=64]="matchBrackets",D[D.minimap=65]="minimap",D[D.mouseStyle=66]="mouseStyle",D[D.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",D[D.mouseWheelZoom=68]="mouseWheelZoom",D[D.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",D[D.multiCursorModifier=70]="multiCursorModifier",D[D.multiCursorPaste=71]="multiCursorPaste",D[D.occurrencesHighlight=72]="occurrencesHighlight",D[D.overviewRulerBorder=73]="overviewRulerBorder",D[D.overviewRulerLanes=74]="overviewRulerLanes",D[D.padding=75]="padding",D[D.parameterHints=76]="parameterHints",D[D.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",D[D.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",D[D.quickSuggestions=79]="quickSuggestions",D[D.quickSuggestionsDelay=80]="quickSuggestionsDelay",D[D.readOnly=81]="readOnly",D[D.renameOnType=82]="renameOnType",D[D.renderControlCharacters=83]="renderControlCharacters",D[D.renderFinalNewline=84]="renderFinalNewline",D[D.renderLineHighlight=85]="renderLineHighlight",D[D.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",D[D.renderValidationDecorations=87]="renderValidationDecorations",D[D.renderWhitespace=88]="renderWhitespace",D[D.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",D[D.roundedSelection=90]="roundedSelection",D[D.rulers=91]="rulers",D[D.scrollbar=92]="scrollbar",D[D.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",D[D.scrollBeyondLastLine=94]="scrollBeyondLastLine",D[D.scrollPredominantAxis=95]="scrollPredominantAxis",D[D.selectionClipboard=96]="selectionClipboard",D[D.selectionHighlight=97]="selectionHighlight",D[D.selectOnLineNumbers=98]="selectOnLineNumbers",D[D.showFoldingControls=99]="showFoldingControls",D[D.showUnused=100]="showUnused",D[D.snippetSuggestions=101]="snippetSuggestions",D[D.smartSelect=102]="smartSelect",D[D.smoothScrolling=103]="smoothScrolling",D[D.stickyTabStops=104]="stickyTabStops",D[D.stopRenderingLineAfter=105]="stopRenderingLineAfter",D[D.suggest=106]="suggest",D[D.suggestFontSize=107]="suggestFontSize",D[D.suggestLineHeight=108]="suggestLineHeight",D[D.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",D[D.suggestSelection=110]="suggestSelection",D[D.tabCompletion=111]="tabCompletion",D[D.tabIndex=112]="tabIndex",D[D.unicodeHighlighting=113]="unicodeHighlighting",D[D.unusualLineTerminators=114]="unusualLineTerminators",D[D.useShadowDOM=115]="useShadowDOM",D[D.useTabStops=116]="useTabStops",D[D.wordSeparators=117]="wordSeparators",D[D.wordWrap=118]="wordWrap",D[D.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",D[D.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",D[D.wordWrapColumn=121]="wordWrapColumn",D[D.wordWrapOverride1=122]="wordWrapOverride1",D[D.wordWrapOverride2=123]="wordWrapOverride2",D[D.wrappingIndent=124]="wrappingIndent",D[D.wrappingStrategy=125]="wrappingStrategy",D[D.showDeprecated=126]="showDeprecated",D[D.inlayHints=127]="inlayHints",D[D.editorClassName=128]="editorClassName",D[D.pixelRatio=129]="pixelRatio",D[D.tabFocusMode=130]="tabFocusMode",D[D.layoutInfo=131]="layoutInfo",D[D.wrappingInfo=132]="wrappingInfo"})(i=e.EditorOption||(e.EditorOption={}));var n;(function(D){D[D.TextDefined=0]="TextDefined",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(n=e.EndOfLinePreference||(e.EndOfLinePreference={}));var o;(function(D){D[D.LF=0]="LF",D[D.CRLF=1]="CRLF"})(o=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(D){D[D.None=0]="None",D[D.Indent=1]="Indent",D[D.IndentOutdent=2]="IndentOutdent",D[D.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var c;(function(D){D[D.Both=0]="Both",D[D.Right=1]="Right",D[D.Left=2]="Left",D[D.None=3]="None"})(c=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));var s;(function(D){D[D.Other=0]="Other",D[D.Type=1]="Type",D[D.Parameter=2]="Parameter"})(s=e.InlayHintKind||(e.InlayHintKind={}));var a;(function(D){D[D.Automatic=0]="Automatic",D[D.Explicit=1]="Explicit"})(a=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var r;(function(D){D[D.DependsOnKbLayout=-1]="DependsOnKbLayout",D[D.Unknown=0]="Unknown",D[D.Backspace=1]="Backspace",D[D.Tab=2]="Tab",D[D.Enter=3]="Enter",D[D.Shift=4]="Shift",D[D.Ctrl=5]="Ctrl",D[D.Alt=6]="Alt",D[D.PauseBreak=7]="PauseBreak",D[D.CapsLock=8]="CapsLock",D[D.Escape=9]="Escape",D[D.Space=10]="Space",D[D.PageUp=11]="PageUp",D[D.PageDown=12]="PageDown",D[D.End=13]="End",D[D.Home=14]="Home",D[D.LeftArrow=15]="LeftArrow",D[D.UpArrow=16]="UpArrow",D[D.RightArrow=17]="RightArrow",D[D.DownArrow=18]="DownArrow",D[D.Insert=19]="Insert",D[D.Delete=20]="Delete",D[D.Digit0=21]="Digit0",D[D.Digit1=22]="Digit1",D[D.Digit2=23]="Digit2",D[D.Digit3=24]="Digit3",D[D.Digit4=25]="Digit4",D[D.Digit5=26]="Digit5",D[D.Digit6=27]="Digit6",D[D.Digit7=28]="Digit7",D[D.Digit8=29]="Digit8",D[D.Digit9=30]="Digit9",D[D.KeyA=31]="KeyA",D[D.KeyB=32]="KeyB",D[D.KeyC=33]="KeyC",D[D.KeyD=34]="KeyD",D[D.KeyE=35]="KeyE",D[D.KeyF=36]="KeyF",D[D.KeyG=37]="KeyG",D[D.KeyH=38]="KeyH",D[D.KeyI=39]="KeyI",D[D.KeyJ=40]="KeyJ",D[D.KeyK=41]="KeyK",D[D.KeyL=42]="KeyL",D[D.KeyM=43]="KeyM",D[D.KeyN=44]="KeyN",D[D.KeyO=45]="KeyO",D[D.KeyP=46]="KeyP",D[D.KeyQ=47]="KeyQ",D[D.KeyR=48]="KeyR",D[D.KeyS=49]="KeyS",D[D.KeyT=50]="KeyT",D[D.KeyU=51]="KeyU",D[D.KeyV=52]="KeyV",D[D.KeyW=53]="KeyW",D[D.KeyX=54]="KeyX",D[D.KeyY=55]="KeyY",D[D.KeyZ=56]="KeyZ",D[D.Meta=57]="Meta",D[D.ContextMenu=58]="ContextMenu",D[D.F1=59]="F1",D[D.F2=60]="F2",D[D.F3=61]="F3",D[D.F4=62]="F4",D[D.F5=63]="F5",D[D.F6=64]="F6",D[D.F7=65]="F7",D[D.F8=66]="F8",D[D.F9=67]="F9",D[D.F10=68]="F10",D[D.F11=69]="F11",D[D.F12=70]="F12",D[D.F13=71]="F13",D[D.F14=72]="F14",D[D.F15=73]="F15",D[D.F16=74]="F16",D[D.F17=75]="F17",D[D.F18=76]="F18",D[D.F19=77]="F19",D[D.NumLock=78]="NumLock",D[D.ScrollLock=79]="ScrollLock",D[D.Semicolon=80]="Semicolon",D[D.Equal=81]="Equal",D[D.Comma=82]="Comma",D[D.Minus=83]="Minus",D[D.Period=84]="Period",D[D.Slash=85]="Slash",D[D.Backquote=86]="Backquote",D[D.BracketLeft=87]="BracketLeft",D[D.Backslash=88]="Backslash",D[D.BracketRight=89]="BracketRight",D[D.Quote=90]="Quote",D[D.OEM_8=91]="OEM_8",D[D.IntlBackslash=92]="IntlBackslash",D[D.Numpad0=93]="Numpad0",D[D.Numpad1=94]="Numpad1",D[D.Numpad2=95]="Numpad2",D[D.Numpad3=96]="Numpad3",D[D.Numpad4=97]="Numpad4",D[D.Numpad5=98]="Numpad5",D[D.Numpad6=99]="Numpad6",D[D.Numpad7=100]="Numpad7",D[D.Numpad8=101]="Numpad8",D[D.Numpad9=102]="Numpad9",D[D.NumpadMultiply=103]="NumpadMultiply",D[D.NumpadAdd=104]="NumpadAdd",D[D.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",D[D.NumpadSubtract=106]="NumpadSubtract",D[D.NumpadDecimal=107]="NumpadDecimal",D[D.NumpadDivide=108]="NumpadDivide",D[D.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",D[D.ABNT_C1=110]="ABNT_C1",D[D.ABNT_C2=111]="ABNT_C2",D[D.AudioVolumeMute=112]="AudioVolumeMute",D[D.AudioVolumeUp=113]="AudioVolumeUp",D[D.AudioVolumeDown=114]="AudioVolumeDown",D[D.BrowserSearch=115]="BrowserSearch",D[D.BrowserHome=116]="BrowserHome",D[D.BrowserBack=117]="BrowserBack",D[D.BrowserForward=118]="BrowserForward",D[D.MediaTrackNext=119]="MediaTrackNext",D[D.MediaTrackPrevious=120]="MediaTrackPrevious",D[D.MediaStop=121]="MediaStop",D[D.MediaPlayPause=122]="MediaPlayPause",D[D.LaunchMediaPlayer=123]="LaunchMediaPlayer",D[D.LaunchMail=124]="LaunchMail",D[D.LaunchApp2=125]="LaunchApp2",D[D.MAX_VALUE=126]="MAX_VALUE"})(r=e.KeyCode||(e.KeyCode={}));var l;(function(D){D[D.Hint=1]="Hint",D[D.Info=2]="Info",D[D.Warning=4]="Warning",D[D.Error=8]="Error"})(l=e.MarkerSeverity||(e.MarkerSeverity={}));var u;(function(D){D[D.Unnecessary=1]="Unnecessary",D[D.Deprecated=2]="Deprecated"})(u=e.MarkerTag||(e.MarkerTag={}));var f;(function(D){D[D.Inline=1]="Inline",D[D.Gutter=2]="Gutter"})(f=e.MinimapPosition||(e.MinimapPosition={}));var w;(function(D){D[D.UNKNOWN=0]="UNKNOWN",D[D.TEXTAREA=1]="TEXTAREA",D[D.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",D[D.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",D[D.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",D[D.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",D[D.CONTENT_TEXT=6]="CONTENT_TEXT",D[D.CONTENT_EMPTY=7]="CONTENT_EMPTY",D[D.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",D[D.CONTENT_WIDGET=9]="CONTENT_WIDGET",D[D.OVERVIEW_RULER=10]="OVERVIEW_RULER",D[D.SCROLLBAR=11]="SCROLLBAR",D[D.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",D[D.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(w=e.MouseTargetType||(e.MouseTargetType={}));var v;(function(D){D[D.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",D[D.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",D[D.TOP_CENTER=2]="TOP_CENTER"})(v=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var p;(function(D){D[D.Left=1]="Left",D[D.Center=2]="Center",D[D.Right=4]="Right",D[D.Full=7]="Full"})(p=e.OverviewRulerLane||(e.OverviewRulerLane={}));var _;(function(D){D[D.Off=0]="Off",D[D.On=1]="On",D[D.Relative=2]="Relative",D[D.Interval=3]="Interval",D[D.Custom=4]="Custom"})(_=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var L;(function(D){D[D.None=0]="None",D[D.Text=1]="Text",D[D.Blocks=2]="Blocks"})(L=e.RenderMinimap||(e.RenderMinimap={}));var E;(function(D){D[D.Smooth=0]="Smooth",D[D.Immediate=1]="Immediate"})(E=e.ScrollType||(e.ScrollType={}));var M;(function(D){D[D.Auto=1]="Auto",D[D.Hidden=2]="Hidden",D[D.Visible=3]="Visible"})(M=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var k;(function(D){D[D.LTR=0]="LTR",D[D.RTL=1]="RTL"})(k=e.SelectionDirection||(e.SelectionDirection={}));var A;(function(D){D[D.Invoke=1]="Invoke",D[D.TriggerCharacter=2]="TriggerCharacter",D[D.ContentChange=3]="ContentChange"})(A=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var F;(function(D){D[D.File=0]="File",D[D.Module=1]="Module",D[D.Namespace=2]="Namespace",D[D.Package=3]="Package",D[D.Class=4]="Class",D[D.Method=5]="Method",D[D.Property=6]="Property",D[D.Field=7]="Field",D[D.Constructor=8]="Constructor",D[D.Enum=9]="Enum",D[D.Interface=10]="Interface",D[D.Function=11]="Function",D[D.Variable=12]="Variable",D[D.Constant=13]="Constant",D[D.String=14]="String",D[D.Number=15]="Number",D[D.Boolean=16]="Boolean",D[D.Array=17]="Array",D[D.Object=18]="Object",D[D.Key=19]="Key",D[D.Null=20]="Null",D[D.EnumMember=21]="EnumMember",D[D.Struct=22]="Struct",D[D.Event=23]="Event",D[D.Operator=24]="Operator",D[D.TypeParameter=25]="TypeParameter"})(F=e.SymbolKind||(e.SymbolKind={}));var B;(function(D){D[D.Deprecated=1]="Deprecated"})(B=e.SymbolTag||(e.SymbolTag={}));var T;(function(D){D[D.Hidden=0]="Hidden",D[D.Blink=1]="Blink",D[D.Smooth=2]="Smooth",D[D.Phase=3]="Phase",D[D.Expand=4]="Expand",D[D.Solid=5]="Solid"})(T=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var R;(function(D){D[D.Line=1]="Line",D[D.Block=2]="Block",D[D.Underline=3]="Underline",D[D.LineThin=4]="LineThin",D[D.BlockOutline=5]="BlockOutline",D[D.UnderlineThin=6]="UnderlineThin"})(R=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var O;(function(D){D[D.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",D[D.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",D[D.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",D[D.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(O=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var P;(function(D){D[D.None=0]="None",D[D.Same=1]="Same",D[D.Indent=2]="Indent",D[D.DeepIndent=3]="DeepIndent"})(P=e.WrappingIndent||(e.WrappingIndent={}))}),define(ee[242],te([0,1,21,4,56,25,11,3,22,143,178]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class t{static chord(o,d){return(0,N.KeyChord)(o,d)}}e.KeyMod=t,t.CtrlCmd=2048,t.Shift=1024,t.Alt=512,t.WinCtrl=256;function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:y.CancellationTokenSource,Emitter:m.Emitter,KeyCode:g.KeyCode,KeyMod:t,Position:S.Position,Range:b.Range,Selection:C.Selection,SelectionDirection:g.SelectionDirection,MarkerSeverity:g.MarkerSeverity,MarkerTag:g.MarkerTag,Uri:I.URI,Token:h.Token}}e.createMonacoBaseAPI=i}),define(ee[243],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class y{constructor(S,b,C){this._colorZoneBrand=void 0,this.from=S|0,this.to=b|0,this.colorId=C|0}static compare(S,b){return S.colorId===b.colorId?S.from===b.from?S.to-b.to:S.from-b.from:S.colorId-b.colorId}}e.ColorZone=y;class m{constructor(S,b,C){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=b,this.color=C,this._colorZone=null}static compare(S,b){return S.color===b.color?S.startLineNumber===b.startLineNumber?S.endLineNumber-b.endLineNumber:S.startLineNumber-b.startLineNumber:S.color<b.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=m;class N{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(m.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,b=Math.floor(this._lineHeight),C=Math.floor(this.getCanvasHeight()),h=Math.floor(this._outerHeight),g=C/h,t=Math.floor(4*this._pixelRatio/2),i=[];for(let n=0,o=this._zones.length;n<o;n++){const d=this._zones[n];if(!S){const w=d.getColorZones();if(w){i.push(w);continue}}const c=Math.floor(g*this._getVerticalOffsetForLine(d.startLineNumber)),s=Math.floor(g*(this._getVerticalOffsetForLine(d.endLineNumber)+b));let a=Math.floor((c+s)/2),r=s-a;r<t&&(r=t),a-r<0&&(a=r),a+r>C&&(a=C-r);const l=d.color;let u=this._color2Id[l];u||(u=++this._lastAssignedId,this._color2Id[l]=u,this._id2Color[u]=l);const f=new y(a-r,a+r,u);d.setColorZone(f),i.push(f)}return this._colorZonesInvalid=!1,i.sort(y.compare),i}}e.OverviewZoneManager=N}),define(ee[120],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class y{constructor(g,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=g,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(g){return g-this.scrollTop}getVerticalOffsetForLineNumber(g){return this._viewLayout.getVerticalOffsetForLineNumber(g)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=y;class m extends y{constructor(g,t,i){super(g,t);this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(g,t){return this._viewLines.linesVisibleRangesForRange(g,t)}visibleRangeForPosition(g){return this._viewLines.visibleRangeForPosition(g)}}e.RenderingContext=m;class N{constructor(g,t,i){this.outsideRenderedLine=g,this.lineNumber=t,this.ranges=i}}e.LineVisibleRanges=N;class I{constructor(g,t){this._horizontalRangeBrand=void 0,this.left=Math.round(g),this.width=Math.round(t)}static from(g){const t=new Array(g.length);for(let i=0,n=g.length;i<n;i++){const o=g[i];t[i]=new I(o.left,o.width)}return t}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=I;class S{constructor(g,t){this._floatHorizontalRangeBrand=void 0,this.left=g,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(g,t){return g.left-t.left}}e.FloatHorizontalRange=S;class b{constructor(g,t){this.outsideRenderedLine=g,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=b;class C{constructor(g,t){this.outsideRenderedLine=g,this.ranges=t}}e.VisibleRanges=C}),define(ee[422],te([0,1,120]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class m{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(I,S){I.selectNodeContents(S)}static _readClientRects(I,S,b,C,h){const g=this._createRange();try{return g.setStart(I,S),g.setEnd(b,C),g.getClientRects()}catch{return null}finally{this._detachRange(g,h)}}static _mergeAdjacentRanges(I){if(I.length===1)return I;I.sort(y.FloatHorizontalRange.compare);const S=[];let b=0,C=I[0];for(let h=1,g=I.length;h<g;h++){const t=I[h];C.left+C.width+.9>=t.left?C.width=Math.max(C.width,t.left+t.width-C.left):(S[b++]=C,C=t)}return S[b++]=C,S}static _createHorizontalRangesFromClientRects(I,S,b){if(!I||I.length===0)return null;const C=[];for(let h=0,g=I.length;h<g;h++){const t=I[h];C[h]=new y.FloatHorizontalRange(Math.max(0,(t.left-S)/b),t.width/b)}return this._mergeAdjacentRanges(C)}static readHorizontalRanges(I,S,b,C,h,g,t,i){const n=0,o=I.children.length-1;if(n>o)return null;if(S=Math.min(o,Math.max(n,S)),C=Math.min(o,Math.max(n,C)),S===C&&b===h&&b===0&&!I.children[S].firstChild){const a=I.children[S].getClientRects();return this._createHorizontalRangesFromClientRects(a,g,t)}S!==C&&C>0&&h===0&&(C--,h=1073741824);let d=I.children[S].firstChild,c=I.children[C].firstChild;if((!d||!c)&&(!d&&b===0&&S>0&&(d=I.children[S-1].firstChild,b=1073741824),!c&&h===0&&C>0&&(c=I.children[C-1].firstChild,h=1073741824)),!d||!c)return null;b=Math.min(d.textContent.length,Math.max(0,b)),h=Math.min(c.textContent.length,Math.max(0,h));const s=this._readClientRects(d,b,c,h,i);return this._createHorizontalRangesFromClientRects(s,g,t)}}e.RangeUtil=m}),define(ee[423],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class y{constructor(I){this._theme=I}get type(){return this._theme.type}update(I){this._theme=I}getColor(I){return this._theme.getColor(I)}}e.EditorTheme=y;class m{constructor(I,S,b){this.configuration=I,this.theme=new y(S),this.model=b,this.viewLayout=b.viewLayout}addEventHandler(I){this.model.addViewEventHandler(I)}removeEventHandler(I){this.model.removeViewEventHandler(I)}}e.ViewContext=m}),define(ee[179],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class y{constructor(){this.type=0}}e.ViewCompositionStartEvent=y;class m{constructor(){this.type=1}}e.ViewCompositionEndEvent=m;class N{constructor(u){this.type=2,this._source=u}hasChanged(u){return this._source.hasChanged(u)}}e.ViewConfigurationChangedEvent=N;class I{constructor(u,f){this.type=3,this.selections=u,this.modelSelections=f}}e.ViewCursorStateChangedEvent=I;class S{constructor(u){this.type=4,u?(this.affectsMinimap=u.affectsMinimap,this.affectsOverviewRuler=u.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class b{constructor(){this.type=5}}e.ViewFlushedEvent=b;class C{constructor(u){this.type=6,this.isFocused=u}}e.ViewFocusChangedEvent=C;class h{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=h;class g{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=g;class t{constructor(u,f){this.type=9,this.fromLineNumber=u,this.toLineNumber=f}}e.ViewLinesChangedEvent=t;class i{constructor(u,f){this.type=10,this.fromLineNumber=u,this.toLineNumber=f}}e.ViewLinesDeletedEvent=i;class n{constructor(u,f){this.type=11,this.fromLineNumber=u,this.toLineNumber=f}}e.ViewLinesInsertedEvent=n;class o{constructor(u,f,w,v,p,_,L){this.source=u,this.minimalReveal=f,this.range=w,this.selections=v,this.verticalType=p,this.revealHorizontal=_,this.scrollType=L,this.type=12}}e.ViewRevealRangeRequestEvent=o;class d{constructor(u){this.type=13,this.scrollWidth=u.scrollWidth,this.scrollLeft=u.scrollLeft,this.scrollHeight=u.scrollHeight,this.scrollTop=u.scrollTop,this.scrollWidthChanged=u.scrollWidthChanged,this.scrollLeftChanged=u.scrollLeftChanged,this.scrollHeightChanged=u.scrollHeightChanged,this.scrollTopChanged=u.scrollTopChanged}}e.ViewScrollChangedEvent=d;class c{constructor(){this.type=14}}e.ViewThemeChangedEvent=c;class s{constructor(u){this.type=15,this.ranges=u}}e.ViewTokensChangedEvent=s;class a{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=a;class r{constructor(){this.type=17}}e.ViewZonesChangedEvent=r}),define(ee[149],te([0,1,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class m{constructor(C,h,g,t){this.startColumn=C,this.endColumn=h,this.className=g,this.type=t,this._lineDecorationBrand=void 0}static _equals(C,h){return C.startColumn===h.startColumn&&C.endColumn===h.endColumn&&C.className===h.className&&C.type===h.type}static equalsArr(C,h){const g=C.length,t=h.length;if(g!==t)return!1;for(let i=0;i<g;i++)if(!m._equals(C[i],h[i]))return!1;return!0}static extractWrapped(C,h,g){if(C.length===0)return C;const t=h+1,i=g+1,n=g-h,o=[];let d=0;for(const c of C)c.endColumn<=t||c.startColumn>=i||(o[d++]=new m(Math.max(1,c.startColumn-t+1),Math.min(n+1,c.endColumn-t+1),c.className,c.type));return o}static filter(C,h,g,t){if(C.length===0)return[];const i=[];let n=0;for(let o=0,d=C.length;o<d;o++){const c=C[o],s=c.range;if(s.endLineNumber<h||s.startLineNumber>h||s.isEmpty()&&(c.type===0||c.type===3))continue;const a=s.startLineNumber===h?s.startColumn:g,r=s.endLineNumber===h?s.endColumn:t;i[n++]=new m(a,r,c.inlineClassName,c.type)}return i}static _typeCompare(C,h){const g=[2,0,1,3];return g[C]-g[h]}static compare(C,h){if(C.startColumn!==h.startColumn)return C.startColumn-h.startColumn;if(C.endColumn!==h.endColumn)return C.endColumn-h.endColumn;const g=m._typeCompare(C.type,h.type);return g!==0?g:C.className!==h.className?C.className<h.className?-1:1:0}}e.LineDecoration=m;class N{constructor(C,h,g,t){this.startOffset=C,this.endOffset=h,this.className=g,this.metadata=t}}e.DecorationSegment=N;class I{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(C){let h=0;for(let g=0,t=C.length;g<t;g++)h|=C[g];return h}consumeLowerThan(C,h,g){for(;this.count>0&&this.stopOffsets[0]<C;){let t=0;for(;t+1<this.count&&this.stopOffsets[t]===this.stopOffsets[t+1];)t++;g.push(new N(h,this.stopOffsets[t],this.classNames.join(" "),I._metadata(this.metadata))),h=this.stopOffsets[t]+1,this.stopOffsets.splice(0,t+1),this.classNames.splice(0,t+1),this.metadata.splice(0,t+1),this.count-=t+1}return this.count>0&&h<C&&(g.push(new N(h,C-1,this.classNames.join(" "),I._metadata(this.metadata))),h=C),h}insert(C,h,g){if(this.count===0||this.stopOffsets[this.count-1]<=C)this.stopOffsets.push(C),this.classNames.push(h),this.metadata.push(g);else for(let t=0;t<this.count;t++)if(this.stopOffsets[t]>=C){this.stopOffsets.splice(t,0,C),this.classNames.splice(t,0,h),this.metadata.splice(t,0,g);break}this.count++}}class S{static normalize(C,h){if(h.length===0)return[];const g=[],t=new I;let i=0;for(let n=0,o=h.length;n<o;n++){const d=h[n];let c=d.startColumn,s=d.endColumn;const a=d.className,r=d.type===1?2:d.type===2?4:0;if(c>1){const f=C.charCodeAt(c-2);y.isHighSurrogate(f)&&c--}if(s>1){const f=C.charCodeAt(s-2);y.isHighSurrogate(f)&&s--}const l=c-1,u=s-2;i=t.consumeLowerThan(l,i,g),t.count===0&&(i=l),t.insert(u,a,r)}return t.consumeLowerThan(1073741824,i,g),g}}e.LineDecorationsNormalizer=S}),define(ee[424],te([0,1,8]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class m{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(b){this._hasPending=!0,this._inserts.push(b)}change(b){this._hasPending=!0,this._changes.push(b)}remove(b){this._hasPending=!0,this._removes.push(b)}mustCommit(){return this._hasPending}commit(b){if(!this._hasPending)return;const C=this._inserts,h=this._changes,g=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],b._commitPendingChanges(C,h,g)}}class N{constructor(b,C,h,g,t){this.id=b,this.afterLineNumber=C,this.ordinal=h,this.height=g,this.minWidth=t,this.prefixSum=0}}e.EditorWhitespace=N;class I{constructor(b,C,h,g){this._instanceId=y.singleLetterHash(++I.INSTANCE_COUNT),this._pendingChanges=new m,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=b,this._lineHeight=C,this._paddingTop=h,this._paddingBottom=g}static findInsertionIndex(b,C,h){let g=0,t=b.length;for(;g<t;){const i=g+t>>>1;C===b[i].afterLineNumber?h<b[i].ordinal?t=i:g=i+1:C<b[i].afterLineNumber?t=i:g=i+1}return g}setLineHeight(b){this._checkPendingChanges(),this._lineHeight=b}setPadding(b,C){this._paddingTop=b,this._paddingBottom=C}onFlushed(b){this._checkPendingChanges(),this._lineCount=b}changeWhitespace(b){let C=!1;try{b({insertWhitespace:(g,t,i,n)=>{C=!0,g=g|0,t=t|0,i=i|0,n=n|0;const o=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new N(o,g,t,i,n)),o},changeOneWhitespace:(g,t,i)=>{C=!0,t=t|0,i=i|0,this._pendingChanges.change({id:g,newAfterLineNumber:t,newHeight:i})},removeWhitespace:g=>{C=!0,this._pendingChanges.remove({id:g})}})}finally{this._pendingChanges.commit(this)}return C}_commitPendingChanges(b,C,h){if((b.length>0||h.length>0)&&(this._minWidth=-1),b.length+C.length+h.length<=1){for(const o of b)this._insertWhitespace(o);for(const o of C)this._changeOneWhitespace(o.id,o.newAfterLineNumber,o.newHeight);for(const o of h){const d=this._findWhitespaceIndex(o.id);d!==-1&&this._removeWhitespace(d)}return}const g=new Set;for(const o of h)g.add(o.id);const t=new Map;for(const o of C)t.set(o.id,o);const i=o=>{const d=[];for(const c of o)if(!g.has(c.id)){if(t.has(c.id)){const s=t.get(c.id);c.afterLineNumber=s.newAfterLineNumber,c.height=s.newHeight}d.push(c)}return d},n=i(this._arr).concat(i(b));n.sort((o,d)=>o.afterLineNumber===d.afterLineNumber?o.ordinal-d.ordinal:o.afterLineNumber-d.afterLineNumber),this._arr=n,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(b){const C=I.findInsertionIndex(this._arr,b.afterLineNumber,b.ordinal);this._arr.splice(C,0,b),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)}_findWhitespaceIndex(b){const C=this._arr;for(let h=0,g=C.length;h<g;h++)if(C[h].id===b)return h;return-1}_changeOneWhitespace(b,C,h){const g=this._findWhitespaceIndex(b);if(g!==-1&&(this._arr[g].height!==h&&(this._arr[g].height=h,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)),this._arr[g].afterLineNumber!==C)){const t=this._arr[g];this._removeWhitespace(g),t.afterLineNumber=C,this._insertWhitespace(t)}}_removeWhitespace(b){this._arr.splice(b,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}onLinesDeleted(b,C){this._checkPendingChanges(),b=b|0,C=C|0,this._lineCount-=C-b+1;for(let h=0,g=this._arr.length;h<g;h++){const t=this._arr[h].afterLineNumber;b<=t&&t<=C?this._arr[h].afterLineNumber=b-1:t>C&&(this._arr[h].afterLineNumber-=C-b+1)}}onLinesInserted(b,C){this._checkPendingChanges(),b=b|0,C=C|0,this._lineCount+=C-b+1;for(let h=0,g=this._arr.length;h<g;h++){const t=this._arr[h].afterLineNumber;b<=t&&(this._arr[h].afterLineNumber+=C-b+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(b){this._checkPendingChanges(),b=b|0;let C=Math.max(0,this._prefixSumValidIndex+1);C===0&&(this._arr[0].prefixSum=this._arr[0].height,C++);for(let h=C;h<=b;h++)this._arr[h].prefixSum=this._arr[h-1].prefixSum+this._arr[h].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,b),this._arr[b].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const b=this._lineHeight*this._lineCount,C=this.getWhitespacesTotalHeight();return b+C+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(b){this._checkPendingChanges(),b=b|0;const C=this._findLastWhitespaceBeforeLineNumber(b);return C===-1?0:this.getWhitespacesAccumulatedHeight(C)}_findLastWhitespaceBeforeLineNumber(b){b=b|0;const C=this._arr;let h=0,g=C.length-1;for(;h<=g;){const i=(g-h|0)/2|0,n=h+i|0;if(C[n].afterLineNumber<b){if(n+1>=C.length||C[n+1].afterLineNumber>=b)return n;h=n+1|0}else g=n-1|0}return-1}_findFirstWhitespaceAfterLineNumber(b){b=b|0;const h=this._findLastWhitespaceBeforeLineNumber(b)+1;return h<this._arr.length?h:-1}getFirstWhitespaceIndexAfterLineNumber(b){return this._checkPendingChanges(),b=b|0,this._findFirstWhitespaceAfterLineNumber(b)}getVerticalOffsetForLineNumber(b){this._checkPendingChanges(),b=b|0;let C;b>1?C=this._lineHeight*(b-1):C=0;const h=this.getWhitespaceAccumulatedHeightBeforeLineNumber(b);return C+h+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let b=0;for(let C=0,h=this._arr.length;C<h;C++)b=Math.max(b,this._arr[C].minWidth);this._minWidth=b}return this._minWidth}isAfterLines(b){this._checkPendingChanges();const C=this.getLinesTotalHeight();return b>C}isInTopPadding(b){return this._paddingTop===0?!1:(this._checkPendingChanges(),b<this._paddingTop)}isInBottomPadding(b){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const C=this.getLinesTotalHeight();return b>=C-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(b){if(this._checkPendingChanges(),b=b|0,b<0)return 1;const C=this._lineCount|0,h=this._lineHeight;let g=1,t=C;for(;g<t;){const i=(g+t)/2|0,n=this.getVerticalOffsetForLineNumber(i)|0;if(b>=n+h)g=i+1;else{if(b>=n)return i;t=i}}return g>C?C:g}getLinesViewportData(b,C){this._checkPendingChanges(),b=b|0,C=C|0;const h=this._lineHeight,g=this.getLineNumberAtOrAfterVerticalOffset(b)|0,t=this.getVerticalOffsetForLineNumber(g)|0;let i=this._lineCount|0,n=this.getFirstWhitespaceIndexAfterLineNumber(g)|0;const o=this.getWhitespacesCount()|0;let d,c;n===-1?(n=o,c=i+1,d=0):(c=this.getAfterLineNumberForWhitespaceIndex(n)|0,d=this.getHeightForWhitespaceIndex(n)|0);let s=t,a=s;const r=5e5;let l=0;t>=r&&(l=Math.floor(t/r)*r,l=Math.floor(l/h)*h,a-=l);const u=[],f=b+(C-b)/2;let w=-1;for(let L=g;L<=i;L++){if(w===-1){const E=s,M=s+h;(E<=f&&f<M||E>f)&&(w=L)}for(s+=h,u[L-g]=a,a+=h;c===L;)a+=d,s+=d,n++,n>=o?c=i+1:(c=this.getAfterLineNumberForWhitespaceIndex(n)|0,d=this.getHeightForWhitespaceIndex(n)|0);if(s>=C){i=L;break}}w===-1&&(w=i);const v=this.getVerticalOffsetForLineNumber(i)|0;let p=g,_=i;return p<_&&t<b&&p++,p<_&&v+h>C&&_--,{bigNumbersDelta:l,startLineNumber:g,endLineNumber:i,relativeVerticalOffset:u,centeredLineNumber:w,completelyVisibleStartLineNumber:p,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(b){this._checkPendingChanges(),b=b|0;const C=this.getAfterLineNumberForWhitespaceIndex(b);let h;C>=1?h=this._lineHeight*C:h=0;let g;return b>0?g=this.getWhitespacesAccumulatedHeight(b-1):g=0,h+g+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(b){this._checkPendingChanges(),b=b|0;let C=0,h=this.getWhitespacesCount()-1;if(h<0)return-1;const g=this.getVerticalOffsetForWhitespaceIndex(h),t=this.getHeightForWhitespaceIndex(h);if(b>=g+t)return-1;for(;C<h;){const i=Math.floor((C+h)/2),n=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(b>=n+o)C=i+1;else{if(b>=n)return i;h=i}}return C}getWhitespaceAtVerticalOffset(b){this._checkPendingChanges(),b=b|0;const C=this.getWhitespaceIndexAtOrAfterVerticallOffset(b);if(C<0||C>=this.getWhitespacesCount())return null;const h=this.getVerticalOffsetForWhitespaceIndex(C);if(h>b)return null;const g=this.getHeightForWhitespaceIndex(C),t=this.getIdForWhitespaceIndex(C),i=this.getAfterLineNumberForWhitespaceIndex(C);return{id:t,afterLineNumber:i,verticalOffset:h,height:g}}getWhitespaceViewportData(b,C){this._checkPendingChanges(),b=b|0,C=C|0;const h=this.getWhitespaceIndexAtOrAfterVerticallOffset(b),g=this.getWhitespacesCount()-1;if(h<0)return[];const t=[];for(let i=h;i<=g;i++){const n=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(n>=C)break;t.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:n,height:o})}return t}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].id}getAfterLineNumberForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].afterLineNumber}getHeightForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].height}}e.LinesLayout=I,I.INSTANCE_COUNT=0}),define(ee[121],te([0,1,8,89,149]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class I{constructor(p,_,L){this._linePartBrand=void 0,this.endIndex=p,this.type=_,this.metadata=L}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class S{constructor(p,_){this.startOffset=p,this.endOffset=_}equals(p){return this.startOffset===p.startOffset&&this.endOffset===p.endOffset}}e.LineRange=S;class b{constructor(p,_,L,E,M,k,A,F,B,T,R,O,P,D,x,H,j,Q,G){this.useMonospaceOptimizations=p,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=L,this.continuesWithWrappedLine=E,this.isBasicASCII=M,this.containsRTL=k,this.fauxIndentLength=A,this.lineTokens=F,this.lineDecorations=B.sort(N.LineDecoration.compare),this.tabSize=T,this.startVisibleColumn=R,this.spaceWidth=O,this.stopRenderingLineAfter=x,this.renderWhitespace=H==="all"?4:H==="boundary"?1:H==="selection"?2:H==="trailing"?3:0,this.renderControlCharacters=j,this.fontLigatures=Q,this.selectionsOnLine=G&&G.sort((Z,U)=>Z.startOffset<U.startOffset?-1:1);const se=Math.abs(D-O),ne=Math.abs(P-O);se<ne?(this.renderSpaceWidth=D,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=P,this.renderSpaceCharCode=183)}sameSelection(p){if(this.selectionsOnLine===null)return p===null;if(p===null||p.length!==this.selectionsOnLine.length)return!1;for(let _=0;_<this.selectionsOnLine.length;_++)if(!this.selectionsOnLine[_].equals(p[_]))return!1;return!0}equals(p){return this.useMonospaceOptimizations===p.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.lineContent===p.lineContent&&this.continuesWithWrappedLine===p.continuesWithWrappedLine&&this.isBasicASCII===p.isBasicASCII&&this.containsRTL===p.containsRTL&&this.fauxIndentLength===p.fauxIndentLength&&this.tabSize===p.tabSize&&this.startVisibleColumn===p.startVisibleColumn&&this.spaceWidth===p.spaceWidth&&this.renderSpaceWidth===p.renderSpaceWidth&&this.renderSpaceCharCode===p.renderSpaceCharCode&&this.stopRenderingLineAfter===p.stopRenderingLineAfter&&this.renderWhitespace===p.renderWhitespace&&this.renderControlCharacters===p.renderControlCharacters&&this.fontLigatures===p.fontLigatures&&N.LineDecoration.equalsArr(this.lineDecorations,p.lineDecorations)&&this.lineTokens.equals(p.lineTokens)&&this.sameSelection(p.selectionsOnLine)}}e.RenderLineInput=b;class C{constructor(p,_){this.partIndex=p,this.charIndex=_}}e.DomPosition=C;class h{constructor(p,_){this.length=p,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(p){return(p&4294901760)>>>16}static getCharIndex(p){return(p&65535)>>>0}setColumnInfo(p,_,L,E){const M=(_<<16|L<<0)>>>0;this._data[p-1]=M,this._absoluteOffsets[p-1]=E+L}getAbsoluteOffset(p){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[p-1]}charOffsetToPartData(p){return this.length===0?0:p<0?this._data[0]:p>=this.length?this._data[this.length-1]:this._data[p]}getDomPosition(p){const _=this.charOffsetToPartData(p-1),L=h.getPartIndex(_),E=h.getCharIndex(_);return new C(L,E)}getColumn(p,_){return this.partDataToCharOffset(p.partIndex,_,p.charIndex)+1}partDataToCharOffset(p,_,L){if(this.length===0)return 0;const E=(p<<16|L<<0)>>>0;let M=0,k=this.length-1;for(;M+1<k;){const x=M+k>>>1,H=this._data[x];if(H===E)return x;H>E?k=x:M=x}if(M===k)return M;const A=this._data[M],F=this._data[k];if(A===E)return M;if(F===E)return k;const B=h.getPartIndex(A),T=h.getCharIndex(A),R=h.getPartIndex(F);let O;B!==R?O=_:O=h.getCharIndex(F);const P=L-T,D=O-L;return P<=D?M:k}}e.CharacterMapping=h;class g{constructor(p,_,L){this._renderLineOutputBrand=void 0,this.characterMapping=p,this.containsRTL=_,this.containsForeignElements=L}}e.RenderLineOutput=g;function t(v,p){if(v.lineContent.length===0){if(v.lineDecorations.length>0){p.appendASCIIString("<span>");let _=0,L=0,E=0;for(const k of v.lineDecorations)(k.type===1||k.type===2)&&(p.appendASCIIString('<span class="'),p.appendASCIIString(k.className),p.appendASCIIString('"></span>'),k.type===1&&(E|=1,_++),k.type===2&&(E|=2,L++));p.appendASCIIString("</span>");const M=new h(1,_+L);return M.setColumnInfo(1,_,0,0),new g(M,!1,E)}return p.appendASCIIString("<span><span></span></span>"),new g(new h(0,0),!1,0)}return f(d(v),p)}e.renderViewLine=t;class i{constructor(p,_,L,E){this.characterMapping=p,this.html=_,this.containsRTL=L,this.containsForeignElements=E}}e.RenderLineOutput2=i;function n(v){const p=(0,m.createStringBuilder)(1e4),_=t(v,p);return new i(_.characterMapping,p.build(),_.containsRTL,_.containsForeignElements)}e.renderViewLine2=n;class o{constructor(p,_,L,E,M,k,A,F,B,T,R,O,P,D,x){this.fontIsMonospace=p,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=L,this.len=E,this.isOverflowing=M,this.parts=k,this.containsForeignElements=A,this.fauxIndentLength=F,this.tabSize=B,this.startVisibleColumn=T,this.containsRTL=R,this.spaceWidth=O,this.renderSpaceCharCode=P,this.renderWhitespace=D,this.renderControlCharacters=x}}function d(v){const p=v.lineContent;let _,L;v.stopRenderingLineAfter!==-1&&v.stopRenderingLineAfter<p.length?(_=!0,L=v.stopRenderingLineAfter):(_=!1,L=p.length);let E=c(v.lineTokens,v.fauxIndentLength,L);v.renderControlCharacters&&!v.isBasicASCII&&(E=r(p,E)),(v.renderWhitespace===4||v.renderWhitespace===1||v.renderWhitespace===2&&!!v.selectionsOnLine||v.renderWhitespace===3)&&(E=l(v,p,L,E));let M=0;if(v.lineDecorations.length>0){for(let k=0,A=v.lineDecorations.length;k<A;k++){const F=v.lineDecorations[k];F.type===3||F.type===1?M|=1:F.type===2&&(M|=2)}E=u(p,L,E,v.lineDecorations)}return v.containsRTL||(E=s(p,E,!v.isBasicASCII||v.fontLigatures)),new o(v.useMonospaceOptimizations,v.canUseHalfwidthRightwardsArrow,p,L,_,E,M,v.fauxIndentLength,v.tabSize,v.startVisibleColumn,v.containsRTL,v.spaceWidth,v.renderSpaceCharCode,v.renderWhitespace,v.renderControlCharacters)}function c(v,p,_){const L=[];let E=0;p>0&&(L[E++]=new I(p,"",0));for(let M=0,k=v.getCount();M<k;M++){const A=v.getEndOffset(M);if(A<=p)continue;const F=v.getClassName(M);if(A>=_){L[E++]=new I(_,F,0);break}L[E++]=new I(A,F,0)}return L}function s(v,p,_){let L=0;const E=[];let M=0;if(_)for(let k=0,A=p.length;k<A;k++){const F=p[k],B=F.endIndex;if(L+50<B){const T=F.type,R=F.metadata;let O=-1,P=L;for(let D=L;D<B;D++)v.charCodeAt(D)===32&&(O=D),O!==-1&&D-P>=50&&(E[M++]=new I(O+1,T,R),P=O+1,O=-1);P!==B&&(E[M++]=new I(B,T,R))}else E[M++]=F;L=B}else for(let k=0,A=p.length;k<A;k++){const F=p[k],B=F.endIndex,T=B-L;if(T>50){const R=F.type,O=F.metadata,P=Math.ceil(T/50);for(let D=1;D<P;D++){const x=L+D*50;E[M++]=new I(x,R,O)}E[M++]=new I(B,R,O)}else E[M++]=F;L=B}return E}function a(v){return v<32?v!==9:v===127||v>=8234&&v<=8238||v>=8294&&v<=8297||v>=8206&&v<=8207||v===1564}function r(v,p){const _=[];let L=new I(0,"",0),E=0;for(const M of p){const k=M.endIndex;for(;E<k;E++){const A=v.charCodeAt(E);a(A)&&(E>L.endIndex&&(L=new I(E,M.type,M.metadata),_.push(L)),L=new I(E+1,"mtkcontrol",M.metadata),_.push(L))}E>L.endIndex&&(L=new I(k,M.type,M.metadata),_.push(L))}return _}function l(v,p,_,L){const E=v.continuesWithWrappedLine,M=v.fauxIndentLength,k=v.tabSize,A=v.startVisibleColumn,F=v.useMonospaceOptimizations,B=v.selectionsOnLine,T=v.renderWhitespace===1,R=v.renderWhitespace===3,O=v.renderSpaceWidth!==v.spaceWidth,P=[];let D=0,x=0,H=L[x].type,j=L[x].endIndex;const Q=L.length;let G=!1,se=y.firstNonWhitespaceIndex(p),ne;se===-1?(G=!0,se=_,ne=_):ne=y.lastNonWhitespaceIndex(p);let Z=!1,U=0,W=B&&B[U],V=A%k;for(let X=M;X<_;X++){const ae=p.charCodeAt(X);W&&X>=W.endOffset&&(U++,W=B&&B[U]);let J;if(X<se||X>ne)J=!0;else if(ae===9)J=!0;else if(ae===32)if(T)if(Z)J=!0;else{const de=X+1<_?p.charCodeAt(X+1):0;J=de===32||de===9}else J=!0;else J=!1;if(J&&B&&(J=!!W&&W.startOffset<=X&&W.endOffset>X),J&&R&&(J=G||X>ne),Z){if(!J||!F&&V>=k){if(O){const de=D>0?P[D-1].endIndex:M;for(let q=de+1;q<=X;q++)P[D++]=new I(q,"mtkw",1)}else P[D++]=new I(X,"mtkw",1);V=V%k}}else(X===j||J&&X>M)&&(P[D++]=new I(X,H,0),V=V%k);for(ae===9?V=k:y.isFullWidthCharacter(ae)?V+=2:V++,Z=J;X===j&&(x++,x<Q);)H=L[x].type,j=L[x].endIndex}let Y=!1;if(Z)if(E&&T){const X=_>0?p.charCodeAt(_-1):0,ae=_>1?p.charCodeAt(_-2):0;X===32&&ae!==32&&ae!==9||(Y=!0)}else Y=!0;if(Y)if(O){const X=D>0?P[D-1].endIndex:M;for(let ae=X+1;ae<=_;ae++)P[D++]=new I(ae,"mtkw",1)}else P[D++]=new I(_,"mtkw",1);else P[D++]=new I(_,H,0);return P}function u(v,p,_,L){L.sort(N.LineDecoration.compare);const E=N.LineDecorationsNormalizer.normalize(v,L),M=E.length;let k=0;const A=[];let F=0,B=0;for(let R=0,O=_.length;R<O;R++){const P=_[R],D=P.endIndex,x=P.type,H=P.metadata;for(;k<M&&E[k].startOffset<D;){const j=E[k];if(j.startOffset>B&&(B=j.startOffset,A[F++]=new I(B,x,H)),j.endOffset+1<=D)B=j.endOffset+1,A[F++]=new I(B,x+" "+j.className,H|j.metadata),k++;else{B=D,A[F++]=new I(B,x+" "+j.className,H|j.metadata);break}}D>B&&(B=D,A[F++]=new I(B,x,H))}const T=_[_.length-1].endIndex;if(k<M&&E[k].startOffset===T)for(;k<M&&E[k].startOffset===T;){const R=E[k];A[F++]=new I(B,R.className,R.metadata),k++}return A}function f(v,p){const _=v.fontIsMonospace,L=v.canUseHalfwidthRightwardsArrow,E=v.containsForeignElements,M=v.lineContent,k=v.len,A=v.isOverflowing,F=v.parts,B=v.fauxIndentLength,T=v.tabSize,R=v.startVisibleColumn,O=v.containsRTL,P=v.spaceWidth,D=v.renderSpaceCharCode,x=v.renderWhitespace,H=v.renderControlCharacters,j=new h(k+1,F.length);let Q=!1,G=0,se=R,ne=0,Z=0,U=0,W=0;O?p.appendASCIIString('<span dir="ltr">'):p.appendASCIIString("<span>");for(let V=0,Y=F.length;V<Y;V++){W+=U;const X=F[V],ae=X.endIndex,J=X.type,de=x!==0&&X.isWhitespace(),q=de&&!_&&(J==="mtkw"||!E),z=G===ae&&X.isPseudoAfter();if(ne=0,p.appendASCIIString('<span class="'),p.appendASCIIString(q?"mtkz":J),p.appendASCII(34),de){let $=0;{let ie=G,ce=se;for(;ie<ae;ie++){const he=(M.charCodeAt(ie)===9?T-ce%T:1)|0;$+=he,ie>=B&&(ce+=he)}}for(q&&(p.appendASCIIString(' style="width:'),p.appendASCIIString(String(P*$)),p.appendASCIIString('px"')),p.appendASCII(62);G<ae;G++){j.setColumnInfo(G+1,V-Z,ne,W),Z=0;const ie=M.charCodeAt(G);let ce;if(ie===9){ce=T-se%T|0,!L||ce>1?p.write1(8594):p.write1(65515);for(let oe=2;oe<=ce;oe++)p.write1(160)}else ce=1,p.write1(D);ne+=ce,G>=B&&(se+=ce)}U=$}else{let $=0;for(p.appendASCII(62);G<ae;G++){j.setColumnInfo(G+1,V-Z,ne,W),Z=0;const ie=M.charCodeAt(G);let ce=1,oe=1;switch(ie){case 9:ce=T-se%T,oe=ce;for(let he=1;he<=ce;he++)p.write1(160);break;case 32:p.write1(160);break;case 60:p.appendASCIIString("&lt;");break;case 62:p.appendASCIIString("&gt;");break;case 38:p.appendASCIIString("&amp;");break;case 0:H?p.write1(9216):p.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:p.write1(65533);break;default:y.isFullWidthCharacter(ie)&&oe++,H&&ie<32?p.write1(9216+ie):H&&ie===127?p.write1(9249):H&&a(ie)?(p.appendASCIIString("[U+"),p.appendASCIIString(w(ie)),p.appendASCIIString("]"),ce=8):p.write1(ie)}ne+=ce,$+=ce,G>=B&&(se+=oe)}U=$}z?Z++:Z=0,G>=k&&!Q&&X.isPseudoAfter()&&(Q=!0,j.setColumnInfo(G+1,V,ne,W)),p.appendASCIIString("</span>")}return Q||j.setColumnInfo(k+1,F.length-1,ne,W),A&&p.appendASCIIString("<span>&hellip;</span>"),p.appendASCIIString("</span>"),new g(j,O,E)}function w(v){return v.toString(16).toUpperCase().padStart(4,"0")}}),define(ee[425],te([0,1,3]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class m{constructor(I,S,b,C){this.selections=I,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=b,this._model=C,this.visibleRange=new y.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(I){return this._model.getViewLineRenderingData(this.visibleRange,I)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=m}),define(ee[244],te([0,1,20,11,50]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class I{constructor(t,i,n,o,d){this.injectionOffsets=t,this.injectionOptions=i,this.breakOffsets=n,this.breakOffsetsVisibleColumn=o,this.wrappedTextIndentLength=d}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(t){return t>0?this.wrappedTextIndentLength:0}getLineLength(t){const i=t>0?this.breakOffsets[t-1]:0;let o=this.breakOffsets[t]-i;return t>0&&(o+=this.wrappedTextIndentLength),o}getMaxOutputOffset(t){return this.getLineLength(t)}translateToInputOffset(t,i){t>0&&(i=Math.max(0,i-this.wrappedTextIndentLength));let o=t===0?i:this.breakOffsets[t-1]+i;if(this.injectionOffsets!==null)for(let d=0;d<this.injectionOffsets.length&&o>this.injectionOffsets[d];d++)o<this.injectionOffsets[d]+this.injectionOptions[d].content.length?o=this.injectionOffsets[d]:o-=this.injectionOptions[d].content.length;return o}translateToOutputPosition(t,i=2){let n=t;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&!(t<this.injectionOffsets[o]||i!==1&&t===this.injectionOffsets[o]);o++)n+=this.injectionOptions[o].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,i)}offsetInInputWithInjectionsToOutputPosition(t,i=2){let n=0,o=this.breakOffsets.length-1,d=0,c=0;for(;n<=o;){d=n+(o-n)/2|0;const a=this.breakOffsets[d];if(c=d>0?this.breakOffsets[d-1]:0,i===0)if(t<=c)o=d-1;else if(t>a)n=d+1;else break;else if(t<c)o=d-1;else if(t>=a)n=d+1;else break}let s=t-c;return d>0&&(s+=this.wrappedTextIndentLength),new h(d,s)}normalizeOutputPosition(t,i,n){if(this.injectionOffsets!==null){const o=this.outputPositionToOffsetInInputWithInjections(t,i),d=this.normalizeOffsetInInputWithInjectionsAroundInjections(o,n);if(d!==o)return this.offsetInInputWithInjectionsToOutputPosition(d,n)}if(n===0){if(t>0&&i===this.getMinOutputOffset(t))return new h(t-1,this.getMaxOutputOffset(t-1))}else if(n===1){const o=this.getOutputLineCount()-1;if(t<o&&i===this.getMaxOutputOffset(t))return new h(t+1,this.getMinOutputOffset(t+1))}return new h(t,i)}outputPositionToOffsetInInputWithInjections(t,i){return t>0&&(i=Math.max(0,i-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+i}normalizeOffsetInInputWithInjectionsAroundInjections(t,i){const n=this.getInjectedTextAtOffset(t);if(!n)return t;if(i===2){if(t===n.offsetInInputWithInjections+n.length&&S(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;{let o=n.offsetInInputWithInjections;if(b(this.injectionOptions[n.injectedTextIndex].cursorStops))return o;let d=n.injectedTextIndex-1;for(;d>=0&&this.injectionOffsets[d]===this.injectionOffsets[n.injectedTextIndex]&&!(S(this.injectionOptions[d].cursorStops)||(o-=this.injectionOptions[d].content.length,b(this.injectionOptions[d].cursorStops)));)d--;return o}}else if(i===1){let o=n.offsetInInputWithInjections+n.length,d=n.injectedTextIndex;for(;d+1<this.injectionOffsets.length&&this.injectionOffsets[d+1]===this.injectionOffsets[d];)o+=this.injectionOptions[d+1].content.length,d++;return o}else if(i===0){let o=n.offsetInInputWithInjections,d=n.injectedTextIndex;for(;d-1>=0&&this.injectionOffsets[d-1]===this.injectionOffsets[d];)o-=this.injectionOptions[d-1].content.length,d--;return o}(0,y.assertNever)(i)}getInjectedText(t,i){const n=this.outputPositionToOffsetInInputWithInjections(t,i),o=this.getInjectedTextAtOffset(n);return o?{options:this.injectionOptions[o.injectedTextIndex]}:null}getInjectedTextAtOffset(t){const i=this.injectionOffsets,n=this.injectionOptions;if(i!==null){let o=0;for(let d=0;d<i.length;d++){const c=n[d].content.length,s=i[d]+o,a=i[d]+o+c;if(s>t)break;if(t<=a)return{injectedTextIndex:d,offsetInInputWithInjections:s,length:c};o+=c}}}}e.ModelLineProjectionData=I;function S(g){return g==null?!0:g===N.InjectedTextCursorStops.Right||g===N.InjectedTextCursorStops.Both}function b(g){return g==null?!0:g===N.InjectedTextCursorStops.Left||g===N.InjectedTextCursorStops.Both}class C{constructor(t){this.options=t}}e.InjectedText=C;class h{constructor(t,i){this.outputLineIndex=t,this.outputOffset=i}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(t){return new m.Position(t+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=h}),define(ee[426],te([0,1,8,96,91,244]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S{constructor(s,a){this.classifier=new b(s,a)}static create(s){return new S(s.get(120),s.get(119))}createLineBreaksComputer(s,a,r,l){const u=[],f=[],w=[];return{addRequest:(v,p,_)=>{u.push(v),f.push(p),w.push(_)},finalize:()=>{const v=s.typicalFullwidthCharacterWidth/s.typicalHalfwidthCharacterWidth,p=[];for(let _=0,L=u.length;_<L;_++){const E=f[_],M=w[_];M&&!M.injectionOptions&&!E?p[_]=g(this.classifier,M,u[_],a,r,v,l):p[_]=t(this.classifier,u[_],E,a,r,v,l)}return C.length=0,h.length=0,p}}}}e.MonospaceLineBreaksComputerFactory=S;class b extends m.CharacterClassifier{constructor(s,a){super(0);for(let r=0;r<s.length;r++)this.set(s.charCodeAt(r),1);for(let r=0;r<a.length;r++)this.set(a.charCodeAt(r),2)}get(s){return s>=0&&s<256?this._asciiMap[s]:s>=12352&&s<=12543||s>=13312&&s<=19903||s>=19968&&s<=40959?3:this._map.get(s)||this._defaultValue}}let C=[],h=[];function g(c,s,a,r,l,u,f){if(l===-1)return null;const w=a.length;if(w<=1)return null;const v=s.breakOffsets,p=s.breakOffsetsVisibleColumn,_=d(a,r,l,u,f),L=l-_,E=C,M=h;let k=0,A=0,F=0,B=l;const T=v.length;let R=0;if(R>=0){let O=Math.abs(p[R]-B);for(;R+1<T;){const P=Math.abs(p[R+1]-B);if(P>=O)break;O=P,R++}}for(;R<T;){let O=R<0?0:v[R],P=R<0?0:p[R];A>O&&(O=A,P=F);let D=0,x=0,H=0,j=0;if(P<=B){let G=P,se=O===0?0:a.charCodeAt(O-1),ne=O===0?0:c.get(se),Z=!0;for(let U=O;U<w;U++){const W=U,V=a.charCodeAt(U);let Y,X;if(y.isHighSurrogate(V)?(U++,Y=0,X=2):(Y=c.get(V),X=i(V,G,r,u)),W>A&&o(se,ne,V,Y)&&(D=W,x=G),G+=X,G>B){W>A?(H=W,j=G-X):(H=U+1,j=G),G-x>L&&(D=0),Z=!1;break}se=V,ne=Y}if(Z){k>0&&(E[k]=v[v.length-1],M[k]=p[v.length-1],k++);break}}if(D===0){let G=P,se=a.charCodeAt(O),ne=c.get(se),Z=!1;for(let U=O-1;U>=A;U--){const W=U+1,V=a.charCodeAt(U);if(V===9){Z=!0;break}let Y,X;if(y.isLowSurrogate(V)?(U--,Y=0,X=2):(Y=c.get(V),X=y.isFullWidthCharacter(V)?u:1),G<=B){if(H===0&&(H=W,j=G),G<=B-L)break;if(o(V,Y,se,ne)){D=W,x=G;break}}G-=X,se=V,ne=Y}if(D!==0){const U=L-(j-x);if(U<=r){const W=a.charCodeAt(H);let V;y.isHighSurrogate(W)?V=2:V=i(W,j,r,u),U-V<0&&(D=0)}}if(Z){R--;continue}}if(D===0&&(D=H,x=j),D<=A){const G=a.charCodeAt(A);y.isHighSurrogate(G)?(D=A+2,x=F+2):(D=A+1,x=F+i(G,F,r,u))}for(A=D,E[k]=D,F=x,M[k]=x,k++,B=x+L;R<0||R<T&&p[R]<x;)R++;let Q=Math.abs(p[R]-B);for(;R+1<T;){const G=Math.abs(p[R+1]-B);if(G>=Q)break;Q=G,R++}}return k===0?null:(E.length=k,M.length=k,C=s.breakOffsets,h=s.breakOffsetsVisibleColumn,s.breakOffsets=E,s.breakOffsetsVisibleColumn=M,s.wrappedTextIndentLength=_,s)}function t(c,s,a,r,l,u,f){const w=N.LineInjectedText.applyInjectedText(s,a);let v,p;if(a&&a.length>0?(v=a.map(x=>x.options),p=a.map(x=>x.column-1)):(v=null,p=null),l===-1)return v?new I.ModelLineProjectionData(p,v,[w.length],[],0):null;const _=w.length;if(_<=1)return v?new I.ModelLineProjectionData(p,v,[w.length],[],0):null;const L=d(w,r,l,u,f),E=l-L,M=[],k=[];let A=0,F=0,B=0,T=l,R=w.charCodeAt(0),O=c.get(R),P=i(R,0,r,u),D=1;y.isHighSurrogate(R)&&(P+=1,R=w.charCodeAt(1),O=c.get(R),D++);for(let x=D;x<_;x++){const H=x,j=w.charCodeAt(x);let Q,G;y.isHighSurrogate(j)?(x++,Q=0,G=2):(Q=c.get(j),G=i(j,P,r,u)),o(R,O,j,Q)&&(F=H,B=P),P+=G,P>T&&((F===0||P-B>E)&&(F=H,B=P-G),M[A]=F,k[A]=B,A++,T=B+E,F=0),R=j,O=Q}return A===0&&(!a||a.length===0)?null:(M[A]=_,k[A]=P,new I.ModelLineProjectionData(p,v,M,k,L))}function i(c,s,a,r){return c===9?a-s%a:y.isFullWidthCharacter(c)||c<32?r:1}function n(c,s){return s-c%s}function o(c,s,a,r){return a!==32&&(s===2||s===3&&r!==2||r===1||r===3&&s!==1)}function d(c,s,a,r,l){let u=0;if(l!==0){const f=y.firstNonWhitespaceIndex(c);if(f!==-1){for(let v=0;v<f;v++)u+=c.charCodeAt(v)===9?n(u,s):1;const w=l===3?2:l===2?1:0;for(let v=0;v<w;v++)u+=n(u,s);u+r>a&&(u=0)}}return u}}),define(ee[245],te([0,1,19,138]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class N{constructor(C){this.values=C,this.prefixSum=new Uint32Array(C.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(C,h){C=(0,m.toUint32)(C);const g=this.values,t=this.prefixSum,i=h.length;return i===0?!1:(this.values=new Uint32Array(g.length+i),this.values.set(g.subarray(0,C),0),this.values.set(g.subarray(C),C+i),this.values.set(h,C),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(t.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(C,h){return C=(0,m.toUint32)(C),h=(0,m.toUint32)(h),this.values[C]===h?!1:(this.values[C]=h,C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),!0)}removeValues(C,h){C=(0,m.toUint32)(C),h=(0,m.toUint32)(h);const g=this.values,t=this.prefixSum;if(C>=g.length)return!1;const i=g.length-C;return h>=i&&(h=i),h===0?!1:(this.values=new Uint32Array(g.length-h),this.values.set(g.subarray(0,C),0),this.values.set(g.subarray(C+h),C),this.prefixSum=new Uint32Array(this.values.length),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(t.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(C){return C<0?0:(C=(0,m.toUint32)(C),this._getPrefixSum(C))}_getPrefixSum(C){if(C<=this.prefixSumValidIndex[0])return this.prefixSum[C];let h=this.prefixSumValidIndex[0]+1;h===0&&(this.prefixSum[0]=this.values[0],h++),C>=this.values.length&&(C=this.values.length-1);for(let g=h;g<=C;g++)this.prefixSum[g]=this.prefixSum[g-1]+this.values[g];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],C),this.prefixSum[C]}getIndexOf(C){C=Math.floor(C),this.getTotalSum();let h=0,g=this.values.length-1,t=0,i=0,n=0;for(;h<=g;)if(t=h+(g-h)/2|0,i=this.prefixSum[t],n=i-this.values[t],C<n)g=t-1;else if(C>=i)h=t+1;else break;return new S(t,C-n)}}e.PrefixSumComputer=N;class I{constructor(C){this._values=C,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(C){return this._ensureValid(),C===0?0:this._prefixSum[C-1]}getIndexOf(C){this._ensureValid();const h=this._indexBySum[C],g=h>0?this._prefixSum[h-1]:0;return new S(h,C-g)}removeValues(C,h){this._values.splice(C,h),this._invalidate(C)}insertValues(C,h){this._values=(0,y.arrayInsert)(this._values,C,h),this._invalidate(C)}_invalidate(C){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,C-1)}_ensureValid(){if(!this._isValid){for(let C=this._validEndIndex+1,h=this._values.length;C<h;C++){const g=this._values[C],t=C>0?this._prefixSum[C-1]:0;this._prefixSum[C]=t+g;for(let i=0;i<g;i++)this._indexBySum[t+i]=C}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(C,h){this._values[C]!==h&&(this._values[C]=h,this._invalidate(C))}}e.ConstantTimePrefixSumComputer=I;class S{constructor(C,h){this.index=C,this.remainder=h,this._prefixSumIndexOfResultBrand=void 0,this.index=C,this.remainder=h}}e.PrefixSumIndexOfResult=S}),define(ee[427],te([0,1,8,11,245]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class I{constructor(b,C,h,g){this._uri=b,this._lines=C,this._eol=h,this._versionId=g,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(b){b.eol&&b.eol!==this._eol&&(this._eol=b.eol,this._lineStarts=null);const C=b.changes;for(const h of C)this._acceptDeleteRange(h.range),this._acceptInsertText(new m.Position(h.range.startLineNumber,h.range.startColumn),h.text);this._versionId=b.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const b=this._eol.length,C=this._lines.length,h=new Uint32Array(C);for(let g=0;g<C;g++)h[g]=this._lines[g].length+b;this._lineStarts=new N.PrefixSumComputer(h)}}_setLineText(b,C){this._lines[b]=C,this._lineStarts&&this._lineStarts.setValue(b,this._lines[b].length+this._eol.length)}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber){if(b.startColumn===b.endColumn)return;this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.startLineNumber-1].substring(b.endColumn-1));return}this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.endLineNumber-1].substring(b.endColumn-1)),this._lines.splice(b.startLineNumber,b.endLineNumber-b.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(b.startLineNumber,b.endLineNumber-b.startLineNumber)}_acceptInsertText(b,C){if(C.length===0)return;const h=(0,y.splitLines)(C);if(h.length===1){this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+h[0]+this._lines[b.lineNumber-1].substring(b.column-1));return}h[h.length-1]+=this._lines[b.lineNumber-1].substring(b.column-1),this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+h[0]);const g=new Uint32Array(h.length-1);for(let t=1;t<h.length;t++)this._lines.splice(b.lineNumber+t-1,0,h[t]),g[t-1]=h[t].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(b.lineNumber,g)}}e.MirrorTextModel=I}),define(ee[428],te([0,1,137,17,25,11,3,235,427,148,400,403,242,20,87,239]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class c extends C.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,u){const f=(0,h.getWordAtText)(l.column,(0,h.ensureValidWordDefinition)(u),this._lines[l.lineNumber-1],0);return f?new S.Range(l.lineNumber,f.startColumn,l.lineNumber,f.endColumn):null}words(l){const u=this._lines,f=this._wordenize.bind(this);let w=0,v="",p=0,_=[];return{*[Symbol.iterator](){for(;;)if(p<_.length){const L=v.substring(_[p].start,_[p].end);p+=1,yield L}else if(w<u.length)v=u[w],_=f(v,l),p=0,w+=1;else break}}}getLineWords(l,u){const f=this._lines[l-1],w=this._wordenize(f,u),v=[];for(const p of w)v.push({word:f.substring(p.start,p.end),startColumn:p.start+1,endColumn:p.end+1});return v}_wordenize(l,u){const f=[];let w;for(u.lastIndex=0;(w=u.exec(l))&&w[0].length!==0;)f.push({start:w.index,end:w.index+w[0].length});return f}getValueInRange(l){if(l=this._validateRange(l),l.startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const u=this._eol,f=l.startLineNumber-1,w=l.endLineNumber-1,v=[];v.push(this._lines[f].substring(l.startColumn-1));for(let p=f+1;p<w;p++)v.push(this._lines[p]);return v.push(this._lines[w].substring(0,l.endColumn-1)),v.join(u)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const u=this._lineStarts.getIndexOf(l),f=this._lines[u.index].length;return{lineNumber:1+u.index,column:1+Math.min(u.remainder,f)}}_validateRange(l){const u=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),f=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return u.lineNumber!==l.startLineNumber||u.column!==l.startColumn||f.lineNumber!==l.endLineNumber||f.column!==l.endColumn?{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:f.lineNumber,endColumn:f.column}:l}_validatePosition(l){if(!I.Position.isIPosition(l))throw new Error("bad position");let{lineNumber:u,column:f}=l,w=!1;if(u<1)u=1,f=1,w=!0;else if(u>this._lines.length)u=this._lines.length,f=this._lines[u-1].length+1,w=!0;else{const v=this._lines[u-1].length+1;f<1?(f=1,w=!0):f>v&&(f=v,w=!0)}return w?{lineNumber:u,column:f}:l}}e.MirrorModel=c;class s{constructor(l,u){this._host=l,this._models=Object.create(null),this._foreignModuleFactory=u,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(l){return this._models[l]}_getModels(){const l=[];return Object.keys(this._models).forEach(u=>l.push(this._models[u])),l}acceptNewModel(l){this._models[l.url]=new c(N.URI.parse(l.url),l.lines,l.EOL,l.versionId)}acceptModelChanged(l,u){if(!this._models[l])return;this._models[l].onEvents(u)}acceptRemovedModel(l){!this._models[l]||delete this._models[l]}computeUnicodeHighlights(l,u,f){return De(this,void 0,void 0,function*(){const w=this._getModel(l);return w?d.UnicodeTextModelHighlighter.computeUnicodeHighlights(w,u,f):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(l,u,f,w){return De(this,void 0,void 0,function*(){const v=this._getModel(l),p=this._getModel(u);if(!v||!p)return null;const _=v.getLinesContent(),L=p.getLinesContent(),M=new b.DiffComputer(_,L,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:f,shouldMakePrettyDiff:!0,maxComputationTime:w}).computeDiff(),k=M.changes.length>0?!1:this._modelsAreIdentical(v,p);return{quitEarly:M.quitEarly,identical:k,changes:M.changes}})}_modelsAreIdentical(l,u){const f=l.getLineCount(),w=u.getLineCount();if(f!==w)return!1;for(let v=1;v<=f;v++){const p=l.getLineContent(v),_=u.getLineContent(v);if(p!==_)return!1}return!0}computeMoreMinimalEdits(l,u){return De(this,void 0,void 0,function*(){const f=this._getModel(l);if(!f)return u;const w=[];let v;u=u.slice(0).sort((p,_)=>{if(p.range&&_.range)return S.Range.compareRangesUsingStarts(p.range,_.range);const L=p.range?0:1,E=_.range?0:1;return L-E});for(let{range:p,text:_,eol:L}of u){if(typeof L=="number"&&(v=L),S.Range.isEmpty(p)&&!_)continue;const E=f.getValueInRange(p);if(_=_.replace(/\r\n|\n|\r/g,f.eol),E===_)continue;if(Math.max(_.length,E.length)>s._diffLimit){w.push({range:p,text:_});continue}const M=(0,y.stringDiff)(E,_,!1),k=f.offsetAt(S.Range.lift(p).getStartPosition());for(const A of M){const F=f.positionAt(k+A.originalStart),B=f.positionAt(k+A.originalStart+A.originalLength),T={text:_.substr(A.modifiedStart,A.modifiedLength),range:{startLineNumber:F.lineNumber,startColumn:F.column,endLineNumber:B.lineNumber,endColumn:B.column}};f.getValueInRange(T.range)!==T.text&&w.push(T)}}return typeof v=="number"&&w.push({eol:v,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),w})}computeLinks(l){return De(this,void 0,void 0,function*(){const u=this._getModel(l);return u?(0,g.computeLinks)(u):null})}textualSuggest(l,u,f,w){return De(this,void 0,void 0,function*(){const v=new o.StopWatch(!0),p=new RegExp(f,w),_=new Set;e:for(let L of l){const E=this._getModel(L);if(!!E){for(let M of E.words(p))if(!(M===u||!isNaN(Number(M)))&&(_.add(M),_.size>s._suggestionsLimit))break e}}return{words:Array.from(_),duration:v.elapsed()}})}computeWordRanges(l,u,f,w){return De(this,void 0,void 0,function*(){const v=this._getModel(l);if(!v)return Object.create(null);const p=new RegExp(f,w),_=Object.create(null);for(let L=u.startLineNumber;L<u.endLineNumber;L++){const E=v.getLineWords(L,p);for(const M of E){if(!isNaN(Number(M.word)))continue;let k=_[M.word];k||(k=[],_[M.word]=k),k.push({startLineNumber:L,startColumn:M.startColumn,endLineNumber:L,endColumn:M.endColumn})}}return _})}navigateValueSet(l,u,f,w,v){return De(this,void 0,void 0,function*(){const p=this._getModel(l);if(!p)return null;const _=new RegExp(w,v);u.startColumn===u.endColumn&&(u={startLineNumber:u.startLineNumber,startColumn:u.startColumn,endLineNumber:u.endLineNumber,endColumn:u.endColumn+1});const L=p.getValueInRange(u),E=p.getWordAtPosition({lineNumber:u.startLineNumber,column:u.startColumn},_);if(!E)return null;const M=p.getValueInRange(E);return t.BasicInplaceReplace.INSTANCE.navigateValueSet(u,L,E,M,f)})}loadForeignModule(l,u,f){const w=(_,L)=>this._host.fhr(_,L),p={host:n.createProxyObject(f,w),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(p,u),Promise.resolve(n.getAllMethodNames(this._foreignModule))):new Promise((_,L)=>{K([l],E=>{this._foreignModule=E.create(p,u),_(n.getAllMethodNames(this._foreignModule))},L)})}fmr(l,u){if(!this._foreignModule||typeof this._foreignModule[l]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+l));try{return Promise.resolve(this._foreignModule[l].apply(this._foreignModule,u))}catch(f){return Promise.reject(f)}}}e.EditorSimpleWorker=s,s._diffLimit=1e5,s._suggestionsLimit=1e4;function a(r){return new s(r,null)}e.create=a,typeof importScripts=="function"&&(m.globals.monaco=(0,i.createMonacoBaseAPI)())}),define(ee[122],te([0,1,2]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class m extends y.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(I){return!1}onCompositionEnd(I){return!1}onConfigurationChanged(I){return!1}onCursorStateChanged(I){return!1}onDecorationsChanged(I){return!1}onFlushed(I){return!1}onFocusChanged(I){return!1}onLanguageConfigurationChanged(I){return!1}onLineMappingChanged(I){return!1}onLinesChanged(I){return!1}onLinesDeleted(I){return!1}onLinesInserted(I){return!1}onRevealRangeRequest(I){return!1}onScrollChanged(I){return!1}onThemeChanged(I){return!1}onTokensChanged(I){return!1}onTokensColorsChanged(I){return!1}onZonesChanged(I){return!1}handleEvents(I){let S=!1;for(let b=0,C=I.length;b<C;b++){const h=I[b];switch(h.type){case 0:this.onCompositionStart(h)&&(S=!0);break;case 1:this.onCompositionEnd(h)&&(S=!0);break;case 2:this.onConfigurationChanged(h)&&(S=!0);break;case 3:this.onCursorStateChanged(h)&&(S=!0);break;case 4:this.onDecorationsChanged(h)&&(S=!0);break;case 5:this.onFlushed(h)&&(S=!0);break;case 6:this.onFocusChanged(h)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(h)&&(S=!0);break;case 8:this.onLineMappingChanged(h)&&(S=!0);break;case 9:this.onLinesChanged(h)&&(S=!0);break;case 10:this.onLinesDeleted(h)&&(S=!0);break;case 11:this.onLinesInserted(h)&&(S=!0);break;case 12:this.onRevealRangeRequest(h)&&(S=!0);break;case 13:this.onScrollChanged(h)&&(S=!0);break;case 15:this.onTokensChanged(h)&&(S=!0);break;case 14:this.onThemeChanged(h)&&(S=!0);break;case 16:this.onTokensColorsChanged(h)&&(S=!0);break;case 17:this.onZonesChanged(h)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(h)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=m}),define(ee[98],te([0,1,122]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class m extends y.ViewEventHandler{}e.DynamicViewOverlay=m}),define(ee[51],te([0,1,122]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class m extends y.ViewEventHandler{constructor(S){super();this._context=S,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=m;class N{static write(S,b){S.setAttribute("data-mprt",String(b))}static read(S){const b=S.getAttribute("data-mprt");return b===null?0:parseInt(b,10)}static collect(S,b){const C=[];let h=0;for(;S&&S!==document.body&&S!==b;)S.nodeType===S.ELEMENT_NODE&&(C[h++]=this.read(S)),S=S.parentElement;const g=new Uint8Array(h);for(let t=0;t<h;t++)g[t]=C[h-t-1];return g}}e.PartFingerprints=N}),define(ee[429],te([0,1,7,31,51]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class I{constructor(g,t){this._coordinateBrand=void 0,this.top=g,this.left=t}}class S extends N.ViewPart{constructor(g,t){super(g);this._viewDomNode=t,this._widgets={},this.domNode=(0,m.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,m.createFastDomNode)(document.createElement("div")),N.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(g);return!0}onDecorationsChanged(g){return!0}onFlushed(g){return!0}onLineMappingChanged(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(g);return!0}onLinesChanged(g){return!0}onLinesDeleted(g){return!0}onLinesInserted(g){return!0}onScrollChanged(g){return!0}onZonesChanged(g){return!0}addWidget(g){const t=new b(this._context,this._viewDomNode,g);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(g,t,i){this._widgets[g.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(g){const t=g.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(g){return this._widgets.hasOwnProperty(g)?this._widgets[g].suppressMouseDown:!1}onBeforeRender(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(g)}prepareRender(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(g)}render(g){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(g)}}e.ViewContentWidgets=S;class b{constructor(g,t,i){this._context=g,this._viewDomNode=t,this._actual=i,this.domNode=(0,m.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(131);this._fixedOverflowWidgets=n.get(36),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(g){const t=this._context.configuration.options;if(this._lineHeight=t.get(59),g.hasChanged(131)){const i=t.get(131);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(g){this._setPosition(this._range)}_setPosition(g){if(this._range=g,this._viewRange=null,this._range){const t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(g,t){this._setPosition(g),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(g,t,i,n,o){const d=g.top,c=d,s=t.top+this._lineHeight,a=o.viewportHeight-s,r=d-n,l=c>=n,u=s,f=a>=n;let w=g.left,v=t.left;return w+i>o.scrollLeft+o.viewportWidth&&(w=o.scrollLeft+o.viewportWidth-i),v+i>o.scrollLeft+o.viewportWidth&&(v=o.scrollLeft+o.viewportWidth-i),w<o.scrollLeft&&(w=o.scrollLeft),v<o.scrollLeft&&(v=o.scrollLeft),{fitsAbove:l,aboveTop:r,aboveLeft:w,fitsBelow:f,belowTop:u,belowLeft:v}}_layoutHorizontalSegmentInPage(g,t,i,n){const o=Math.max(0,t.left-n),d=Math.min(t.left+t.width+n,g.width);let c=t.left+i-y.StandardWindow.scrollX;if(c+n>d){const s=c-(d-n);c-=s,i-=s}if(c<o){const s=c-o;c-=s,i-=s}return[i,c]}_layoutBoxInPage(g,t,i,n,o){const d=g.top-n,c=t.top+this._lineHeight,s=y.getDomNodePagePosition(this._viewDomNode.domNode),a=s.top+d-y.StandardWindow.scrollY,r=s.top+c-y.StandardWindow.scrollY,l=y.getClientArea(document.body),[u,f]=this._layoutHorizontalSegmentInPage(l,s,g.left-o.scrollLeft+this._contentLeft,i),[w,v]=this._layoutHorizontalSegmentInPage(l,s,t.left-o.scrollLeft+this._contentLeft,i),p=22,_=22,L=a>=p,E=r+n<=l.height-_;return this._fixedOverflowWidgets?{fitsAbove:L,aboveTop:Math.max(a,p),aboveLeft:f,fitsBelow:E,belowTop:r,belowLeft:v}:{fitsAbove:L,aboveTop:d,aboveLeft:u,fitsBelow:E,belowTop:c,belowLeft:w}}_prepareRenderWidgetAtExactPositionOverflowing(g){return new I(g.top,g.left+this._contentLeft)}_getTopAndBottomLeft(g){if(!this._viewRange)return[null,null];const t=g.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],n=t[0];for(const l of t)l.lineNumber<i.lineNumber&&(i=l),l.lineNumber>n.lineNumber&&(n=l);let o=1073741824;for(const l of i.ranges)l.left<o&&(o=l.left);let d=1073741824;for(const l of n.ranges)l.left<d&&(d=l.left);const c=g.getVerticalOffsetForLineNumber(i.lineNumber)-g.scrollTop,s=new I(c,o),a=g.getVerticalOffsetForLineNumber(n.lineNumber)-g.scrollTop,r=new I(a,d);return[s,r]}_prepareRenderWidget(g){if(!this._preference||this._preference.length===0)return null;const[t,i]=this._getTopAndBottomLeft(g);if(!t||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=C(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{const d=this.domNode.domNode;this._cachedDomNodeOffsetWidth=d.offsetWidth,this._cachedDomNodeOffsetHeight=d.offsetHeight}}let n;this.allowEditorOverflow?n=this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g):n=this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g);for(let o=1;o<=2;o++)for(const d of this._preference)if(d===1){if(!n)return null;if(o===2||n.fitsAbove)return{coordinate:new I(n.aboveTop,n.aboveLeft),position:1}}else if(d===2){if(!n)return null;if(o===2||n.fitsBelow)return{coordinate:new I(n.belowTop,n.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(g){!this._viewRange||!this._preference||this._viewRange.endLineNumber<g.startLineNumber||this._viewRange.startLineNumber>g.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(g){this._renderData=this._prepareRenderWidget(g)}render(g){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+g.scrollTop-g.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}function C(h,g,...t){try{return h.call(g,...t)}catch{return null}}}),define(ee[430],te([0,1,98,3,120,348]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class I extends y.DynamicViewOverlay{constructor(b){super();this._context=b;const C=this._context.configuration.options;this._lineHeight=C.get(59),this._typicalHalfwidthCharacterWidth=C.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options;return this._lineHeight=C.get(59),this._typicalHalfwidthCharacterWidth=C.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged||b.scrollWidthChanged}onZonesChanged(b){return!0}prepareRender(b){const C=b.getDecorationsInViewport();let h=[],g=0;for(let o=0,d=C.length;o<d;o++){const c=C[o];c.options.className&&(h[g++]=c)}h=h.sort((o,d)=>{if(o.options.zIndex<d.options.zIndex)return-1;if(o.options.zIndex>d.options.zIndex)return 1;const c=o.options.className,s=d.options.className;return c<s?-1:c>s?1:m.Range.compareRangesUsingStarts(o.range,d.range)});const t=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber,n=[];for(let o=t;o<=i;o++){const d=o-t;n[d]=""}this._renderWholeLineDecorations(b,h,n),this._renderNormalDecorations(b,h,n),this._renderResult=n}_renderWholeLineDecorations(b,C,h){const g=String(this._lineHeight),t=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber;for(let n=0,o=C.length;n<o;n++){const d=C[n];if(!d.options.isWholeLine)continue;const c='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+g+'px;"></div>',s=Math.max(d.range.startLineNumber,t),a=Math.min(d.range.endLineNumber,i);for(let r=s;r<=a;r++){const l=r-t;h[l]+=c}}}_renderNormalDecorations(b,C,h){const g=String(this._lineHeight),t=b.visibleRange.startLineNumber;let i=null,n=!1,o=null;for(let d=0,c=C.length;d<c;d++){const s=C[d];if(s.options.isWholeLine)continue;const a=s.options.className,r=Boolean(s.options.showIfCollapsed);let l=s.range;if(r&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new m.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.model.getLineMaxColumn(l.endLineNumber-1))),i===a&&n===r&&m.Range.areIntersectingOrTouching(o,l)){o=m.Range.plusRange(o,l);continue}i!==null&&this._renderNormalDecoration(b,o,i,n,g,t,h),i=a,n=r,o=l}i!==null&&this._renderNormalDecoration(b,o,i,n,g,t,h)}_renderNormalDecoration(b,C,h,g,t,i,n){const o=b.linesVisibleRangesForRange(C,h==="findMatch");if(!!o)for(let d=0,c=o.length;d<c;d++){const s=o[d];if(s.outsideRenderedLine)continue;const a=s.lineNumber-i;if(g&&s.ranges.length===1){const r=s.ranges[0];if(r.width<this._typicalHalfwidthCharacterWidth){const l=Math.round(r.left+r.width/2),u=Math.max(0,Math.round(l-this._typicalHalfwidthCharacterWidth/2));s.ranges[0]=new N.HorizontalRange(u,this._typicalHalfwidthCharacterWidth)}}for(let r=0,l=s.ranges.length;r<l;r++){const u=s.ranges[r],f='<div class="cdr '+h+'" style="left:'+String(u.left)+"px;width:"+String(u.width)+"px;height:"+t+'px;"></div>';n[a]+=f}}}render(b,C){if(!this._renderResult)return"";const h=C-b;return h<0||h>=this._renderResult.length?"":this._renderResult[h]}}e.DecorationsOverlay=I}),define(ee[180],te([0,1,98,349]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class m{constructor(b,C,h){this._decorationToRenderBrand=void 0,this.startLineNumber=+b,this.endLineNumber=+C,this.className=String(h)}}e.DecorationToRender=m;class N extends y.DynamicViewOverlay{_render(b,C,h){const g=[];for(let n=b;n<=C;n++){const o=n-b;g[o]=[]}if(h.length===0)return g;h.sort((n,o)=>n.className===o.className?n.startLineNumber===o.startLineNumber?n.endLineNumber-o.endLineNumber:n.startLineNumber-o.startLineNumber:n.className<o.className?-1:1);let t=null,i=0;for(let n=0,o=h.length;n<o;n++){const d=h[n],c=d.className;let s=Math.max(d.startLineNumber,b)-b;const a=Math.min(d.endLineNumber,C)-b;t===c?(s=Math.max(i+1,s),i=Math.max(i,a)):(t=c,i=a);for(let r=s;r<=i;r++)g[r].push(t)}return g}}e.DedupOverlay=N;class I extends N{constructor(b){super();this._context=b;const C=this._context.configuration.options,h=C.get(131);this._lineHeight=C.get(59),this._glyphMargin=C.get(50),this._glyphMarginLeft=h.glyphMarginLeft,this._glyphMarginWidth=h.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options,h=C.get(131);return this._lineHeight=C.get(59),this._glyphMargin=C.get(50),this._glyphMarginLeft=h.glyphMarginLeft,this._glyphMarginWidth=h.glyphMarginWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}_getDecorations(b){const C=b.getDecorationsInViewport(),h=[];let g=0;for(let t=0,i=C.length;t<i;t++){const n=C[t],o=n.options.glyphMarginClassName;o&&(h[g++]=new m(n.range.startLineNumber,n.range.endLineNumber,o))}return h}prepareRender(b){if(!this._glyphMargin){this._renderResult=null;return}const C=b.visibleRange.startLineNumber,h=b.visibleRange.endLineNumber,g=this._render(C,h,this._getDecorations(b)),t=this._lineHeight.toString(),i=this._glyphMarginLeft.toString(),n=this._glyphMarginWidth.toString(),o='" style="left:'+i+"px;width:"+n+"px;height:"+t+'px;"></div>',d=[];for(let c=C;c<=h;c++){const s=c-C,a=g[s];a.length===0?d[s]="":d[s]='<div class="cgmr codicon '+a.join(" ")+o}this._renderResult=d}render(b,C){if(!this._renderResult)return"";const h=C-b;return h<0||h>=this._renderResult.length?"":this._renderResult[h]}}e.GlyphMarginOverlay=I}),define(ee[431],te([0,1,180,353]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class m extends y.DedupOverlay{constructor(I){super();this._context=I;const b=this._context.configuration.options.get(131);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){const b=this._context.configuration.options.get(131);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const S=I.getDecorationsInViewport(),b=[];let C=0;for(let h=0,g=S.length;h<g;h++){const t=S[h],i=t.options.linesDecorationsClassName;i&&(b[C++]=new y.DecorationToRender(t.range.startLineNumber,t.range.endLineNumber,i));const n=t.options.firstLineDecorationClassName;n&&(b[C++]=new y.DecorationToRender(t.range.startLineNumber,t.range.startLineNumber,n))}return b}prepareRender(I){const S=I.visibleRange.startLineNumber,b=I.visibleRange.endLineNumber,C=this._render(S,b,this._getDecorations(I)),h=this._decorationsLeft.toString(),g=this._decorationsWidth.toString(),t='" style="left:'+h+"px;width:"+g+'px;"></div>',i=[];for(let n=S;n<=b;n++){const o=n-S,d=C[o];let c="";for(let s=0,a=d.length;s<a;s++)c+='<div class="cldr '+d[s]+t;i[o]=c}this._renderResult=i}render(I,S){return this._renderResult?this._renderResult[S-I]:""}}e.LinesDecorationsOverlay=m}),define(ee[246],te([0,1,31,51]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class N extends m.ViewPart{constructor(S){super(S);const b=this._context.configuration.options,C=b.get(131);this._canUseLayerHinting=!b.get(28),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(N.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(N.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const b=this._context.configuration.options,C=b.get(131);return this._canUseLayerHinting=!b.get(28),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const b=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-b);const C=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(C),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(C)}}e.Margin=N,N.CLASS_NAME="glyph-margin",N.OUTER_CLASS_NAME="margin"}),define(ee[432],te([0,1,180,354]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class m extends y.DedupOverlay{constructor(I){super();this._context=I,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){return!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const S=I.getDecorationsInViewport(),b=[];let C=0;for(let h=0,g=S.length;h<g;h++){const t=S[h],i=t.options.marginClassName;i&&(b[C++]=new y.DecorationToRender(t.range.startLineNumber,t.range.endLineNumber,i))}return b}prepareRender(I){const S=I.visibleRange.startLineNumber,b=I.visibleRange.endLineNumber,C=this._render(S,b,this._getDecorations(I)),h=[];for(let g=S;g<=b;g++){const t=g-S,i=C[t];let n="";for(let o=0,d=i.length;o<d;o++)n+='<div class="cmdr '+i[o]+'" style=""></div>';h[t]=n}this._renderResult=h}render(I,S){return this._renderResult?this._renderResult[S-I]:""}}e.MarginViewLineDecorationsOverlay=m}),define(ee[433],te([0,1,31,51,356]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class N extends m.ViewPart{constructor(S){super(S);const C=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),m.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const C=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,!0}addWidget(S){const b=(0,y.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:b},b.setPosition("absolute"),b.setAttribute("widgetId",S.getId()),this._domNode.appendChild(b),this.setShouldRender()}setWidgetPosition(S,b){const C=this._widgets[S.getId()];return C.preference===b?!1:(C.preference=b,this.setShouldRender(),!0)}removeWidget(S){const b=S.getId();if(this._widgets.hasOwnProperty(b)){const h=this._widgets[b].domNode.domNode;delete this._widgets[b],h.parentNode.removeChild(h),this.setShouldRender()}}_renderWidget(S){const b=S.domNode;if(S.preference===null){b.unsetTop();return}if(S.preference===0)b.setTop(0),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const C=b.domNode.clientHeight;b.setTop(this._editorHeight-C-2*this._horizontalScrollbarHeight),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(b.setTop(0),b.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const b=Object.keys(this._widgets);for(let C=0,h=b.length;C<h;C++){const g=b[C];this._renderWidget(this._widgets[g])}}}e.ViewOverlayWidgets=N}),define(ee[434],te([0,1,31,243,122]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class I extends N.ViewEventHandler{constructor(b,C){super();this._context=b;const h=this._context.configuration.options;this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(C),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new m.OverviewZoneManager(g=>this._context.viewLayout.getVerticalOffsetForLineNumber(g)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(h.get(59)),this._zoneManager.setPixelRatio(h.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(b){const C=this._context.configuration.options;return b.hasChanged(59)&&(this._zoneManager.setLineHeight(C.get(59)),this._render()),b.hasChanged(129)&&(this._zoneManager.setPixelRatio(C.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(b){return this._render(),!0}onScrollChanged(b){return b.scrollHeightChanged&&(this._zoneManager.setOuterHeight(b.scrollHeight),this._render()),!0}onZonesChanged(b){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(b){this._domNode.setTop(b.top),this._domNode.setRight(b.right);let C=!1;C=this._zoneManager.setDOMWidth(b.width)||C,C=this._zoneManager.setDOMHeight(b.height)||C,C&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(b){this._zoneManager.setZones(b),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const b=this._zoneManager.getCanvasWidth(),C=this._zoneManager.getCanvasHeight(),h=this._zoneManager.resolveColorZones(),g=this._zoneManager.getId2Color(),t=this._domNode.domNode.getContext("2d");return t.clearRect(0,0,b,C),h.length>0&&this._renderOneLane(t,h,g,b),!0}_renderOneLane(b,C,h,g){let t=0,i=0,n=0;for(const o of C){const d=o.colorId,c=o.from,s=o.to;d!==t?(b.fillRect(0,i,g,n-i),t=d,b.fillStyle=h[t],i=c,n=s):n>=c?n=Math.max(n,s):(b.fillRect(0,i,g,n-i),i=c,n=s)}b.fillRect(0,i,g,n-i)}}e.OverviewRuler=I}),define(ee[435],te([0,1,31,14,51,11]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class b extends N.ViewPart{constructor(g){super(g);const t=this._context.configuration.options,i=t.get(131);this._lineHeight=t.get(59),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,y.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const g=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of g)t.set(n.id,n);let i=!1;return this._context.model.changeWhitespace(n=>{const o=Object.keys(this._zones);for(let d=0,c=o.length;d<c;d++){const s=o[d],a=this._zones[s],r=this._computeWhitespaceProps(a.delegate);a.isInHiddenArea=r.isInHiddenArea;const l=t.get(s);l&&(l.afterLineNumber!==r.afterViewLineNumber||l.height!==r.heightInPx)&&(n.changeOneWhitespace(s,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(a.delegate,r.heightInPx),i=!0)}}),i}onConfigurationChanged(g){const t=this._context.configuration.options,i=t.get(131);return this._lineHeight=t.get(59),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,g.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(g){return this._recomputeWhitespacesProps()}onLinesDeleted(g){return!0}onScrollChanged(g){return g.scrollTopChanged||g.scrollWidthChanged}onZonesChanged(g){return!0}onLinesInserted(g){return!0}_getZoneOrdinal(g){return typeof g.afterColumn!="undefined"?g.afterColumn:1e4}_computeWhitespaceProps(g){if(g.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(g),minWidthInPx:this._minWidthInPixels(g)};let t;if(typeof g.afterColumn!="undefined")t=this._context.model.validateModelPosition({lineNumber:g.afterLineNumber,column:g.afterColumn});else{const d=this._context.model.validateModelPosition({lineNumber:g.afterLineNumber,column:1}).lineNumber;t=new I.Position(d,this._context.model.getModelLineMaxColumn(d))}let i;t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?i=this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),o=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(g):0,minWidthInPx:this._minWidthInPixels(g)}}changeViewZones(g){let t=!1;return this._context.model.changeWhitespace(i=>{const n={addZone:o=>(t=!0,this._addZone(i,o)),removeZone:o=>{!o||(t=this._removeZone(i,o)||t)},layoutZone:o=>{!o||(t=this._layoutZone(i,o)||t)}};C(g,n),n.addZone=S,n.removeZone=S,n.layoutZone=S}),t}_addZone(g,t){const i=this._computeWhitespaceProps(t),o={whitespaceId:g.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,y.createFastDomNode)(t.domNode),marginDomNode:t.marginDomNode?(0,y.createFastDomNode)(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(g,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],g.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(g,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,g.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(g){if(this._zones.hasOwnProperty(g)){const t=this._zones[g];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(g){return typeof g.heightInPx=="number"?g.heightInPx:typeof g.heightInLines=="number"?this._lineHeight*g.heightInLines:this._lineHeight}_minWidthInPixels(g){return typeof g.minWidthInPx=="number"?g.minWidthInPx:0}_safeCallOnComputedHeight(g,t){if(typeof g.onComputedHeight=="function")try{g.onComputedHeight(t)}catch(i){(0,m.onUnexpectedError)(i)}}_safeCallOnDomNodeTop(g,t){if(typeof g.onDomNodeTop=="function")try{g.onDomNodeTop(t)}catch(i){(0,m.onUnexpectedError)(i)}}prepareRender(g){}render(g){const t=g.viewportData.whitespaceViewportData,i={};let n=!1;for(const d of t)this._zones[d.id].isInHiddenArea||(i[d.id]=d,n=!0);const o=Object.keys(this._zones);for(let d=0,c=o.length;d<c;d++){const s=o[d],a=this._zones[s];let r=0,l=0,u="none";i.hasOwnProperty(s)?(r=i[s].verticalOffset-g.bigNumbersDelta,l=i[s].height,u="block",a.isVisible||(a.domNode.setAttribute("monaco-visible-view-zone","true"),a.isVisible=!0),this._safeCallOnDomNodeTop(a.delegate,g.getScrolledTopFromAbsoluteTop(i[s].verticalOffset))):(a.isVisible&&(a.domNode.removeAttribute("monaco-visible-view-zone"),a.isVisible=!1),this._safeCallOnDomNodeTop(a.delegate,g.getScrolledTopFromAbsoluteTop(-1e6))),a.domNode.setTop(r),a.domNode.setHeight(l),a.domNode.setDisplay(u),a.marginDomNode&&(a.marginDomNode.setTop(r),a.marginDomNode.setHeight(l),a.marginDomNode.setDisplay(u))}n&&(this.domNode.setWidth(Math.max(g.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=b;function C(h,g){try{return h(g)}catch(t){(0,m.onUnexpectedError)(t)}}}),define(ee[67],te([0,1,8,3]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class N{constructor(n,o,d,c){this._viewportBrand=void 0,this.top=n|0,this.left=o|0,this.width=d|0,this.height=c|0}}e.Viewport=N;class I{constructor(n,o){this.tabSize=n,this.data=o}}e.MinimapLinesRenderingData=I;class S{constructor(n,o,d,c,s,a,r){this._viewLineDataBrand=void 0,this.content=n,this.continuesWithWrappedLine=o,this.minColumn=d,this.maxColumn=c,this.startVisibleColumn=s,this.tokens=a,this.inlineDecorations=r}}e.ViewLineData=S;class b{constructor(n,o,d,c,s,a,r,l,u,f){this.minColumn=n,this.maxColumn=o,this.content=d,this.continuesWithWrappedLine=c,this.isBasicASCII=b.isBasicASCII(d,a),this.containsRTL=b.containsRTL(d,this.isBasicASCII,s),this.tokens=r,this.inlineDecorations=l,this.tabSize=u,this.startVisibleColumn=f}static isBasicASCII(n,o){return o?y.isBasicASCII(n):!0}static containsRTL(n,o,d){return!o&&d?y.containsRTL(n):!1}}e.ViewLineRenderingData=b;class C{constructor(n,o,d){this.range=n,this.inlineClassName=o,this.type=d}}e.InlineDecoration=C;class h{constructor(n,o,d,c){this.startOffset=n,this.endOffset=o,this.inlineClassName=d,this.inlineClassNameAffectsLetterSpacing=c}toInlineDecoration(n){return new C(new m.Range(n,this.startOffset+1,n,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=h;class g{constructor(n,o){this._viewModelDecorationBrand=void 0,this.range=n,this.options=o}}e.ViewModelDecoration=g;class t{constructor(n,o,d){this.color=n,this.zIndex=o,this.data=d}static cmp(n,o){return n.zIndex===o.zIndex?n.color<o.color?-1:n.color>o.color?1:0:n.zIndex-o.zIndex}}e.OverviewRulerDecorationsGroup=t}),define(ee[181],te([0,1,4,2]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class N extends m.Disposable{constructor(){super();this._onEvent=this._register(new y.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(o){this._addOutgoingEvent(o),this._emitOutgoingEvents()}_addOutgoingEvent(o){for(let d=0,c=this._outgoingEvents.length;d<c;d++)if(this._outgoingEvents[d].kind===o.kind){this._outgoingEvents[d]=this._outgoingEvents[d].merge(o);return}this._outgoingEvents.push(o)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const o=this._outgoingEvents.shift();o.isNoOp()||this._onEvent.fire(o)}}addViewEventHandler(o){for(let d=0,c=this._eventHandlers.length;d<c;d++)this._eventHandlers[d]===o&&console.warn("Detected duplicate listener in ViewEventDispatcher",o);this._eventHandlers.push(o)}removeViewEventHandler(o){for(let d=0;d<this._eventHandlers.length;d++)if(this._eventHandlers[d]===o){this._eventHandlers.splice(d,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new I),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const o=this._collector.outgoingEvents,d=this._collector.viewEvents;this._collector=null;for(const c of o)this._addOutgoingEvent(c);d.length>0&&this._emitMany(d)}this._emitOutgoingEvents()}emitSingleViewEvent(o){try{this.beginEmitViewEvents().emitViewEvent(o)}finally{this.endEmitViewEvents()}}_emitMany(o){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(o):this._viewEventQueue=o,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const o=this._viewEventQueue;this._viewEventQueue=null;const d=this._eventHandlers.slice(0);for(const c of d)c.handleEvents(o)}}}e.ViewModelEventDispatcher=N;class I{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(o){this.viewEvents.push(o)}emitOutgoingEvent(o){this.outgoingEvents.push(o)}}e.ViewModelEventsCollector=I;class S{constructor(o,d,c,s){this.kind=0,this._oldContentWidth=o,this._oldContentHeight=d,this.contentWidth=c,this.contentHeight=s,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(o){return o.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,o.contentWidth,o.contentHeight)}}e.ContentSizeChangedEvent=S;class b{constructor(o,d){this.kind=1,this.oldHasFocus=o,this.hasFocus=d}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(o){return o.kind!==1?this:new b(this.oldHasFocus,o.hasFocus)}}e.FocusChangedEvent=b;class C{constructor(o,d,c,s,a,r,l,u){this.kind=2,this._oldScrollWidth=o,this._oldScrollLeft=d,this._oldScrollHeight=c,this._oldScrollTop=s,this.scrollWidth=a,this.scrollLeft=r,this.scrollHeight=l,this.scrollTop=u,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(o){return o.kind!==2?this:new C(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,o.scrollWidth,o.scrollLeft,o.scrollHeight,o.scrollTop)}}e.ScrollChangedEvent=C;class h{constructor(){this.kind=3}isNoOp(){return!1}merge(o){return this}}e.ViewZonesChangedEvent=h;class g{constructor(){this.kind=4}isNoOp(){return!1}merge(o){return this}}e.HiddenAreasChangedEvent=g;class t{constructor(o,d,c,s,a,r,l){this.kind=6,this.oldSelections=o,this.selections=d,this.oldModelVersionId=c,this.modelVersionId=s,this.source=a,this.reason=r,this.reachedMaxCursorCount=l}static _selectionsAreEqual(o,d){if(!o&&!d)return!0;if(!o||!d)return!1;const c=o.length,s=d.length;if(c!==s)return!1;for(let a=0;a<c;a++)if(!o[a].equalsSelection(d[a]))return!1;return!0}isNoOp(){return t._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(o){return o.kind!==6?this:new t(this.oldSelections,o.selections,this.oldModelVersionId,o.modelVersionId,o.source,o.reason,this.reachedMaxCursorCount||o.reachedMaxCursorCount)}}e.CursorStateChangedEvent=t;class i{constructor(){this.kind=5}isNoOp(){return!1}merge(o){return this}}e.ReadOnlyEditAttemptEvent=i}),define(ee[436],te([0,1,4,2,136,424,67,181]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const C=125;class h{constructor(n,o,d,c){n=n|0,o=o|0,d=d|0,c=c|0,n<0&&(n=0),o<0&&(o=0),d<0&&(d=0),c<0&&(c=0),this.width=n,this.contentWidth=o,this.scrollWidth=Math.max(n,o),this.height=d,this.contentHeight=c,this.scrollHeight=Math.max(d,c)}equals(n){return this.width===n.width&&this.contentWidth===n.contentWidth&&this.height===n.height&&this.contentHeight===n.contentHeight}}class g extends m.Disposable{constructor(n,o){super();this._onDidContentSizeChange=this._register(new y.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new h(0,0,0,0),this._scrollable=this._register(new N.Scrollable(n,o)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(n){this._scrollable.setSmoothScrollDuration(n)}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}getScrollDimensions(){return this._dimensions}setScrollDimensions(n){if(this._dimensions.equals(n))return;const o=this._dimensions;this._dimensions=n,this._scrollable.setScrollDimensions({width:n.width,scrollWidth:n.scrollWidth,height:n.height,scrollHeight:n.scrollHeight},!0);const d=o.contentWidth!==n.contentWidth,c=o.contentHeight!==n.contentHeight;(d||c)&&this._onDidContentSizeChange.fire(new b.ContentSizeChangedEvent(o.contentWidth,o.contentHeight,n.contentWidth,n.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(n){this._scrollable.setScrollPositionNow(n)}setScrollPositionSmooth(n){this._scrollable.setScrollPositionSmooth(n)}}class t extends m.Disposable{constructor(n,o,d){super();this._configuration=n;const c=this._configuration.options,s=c.get(131),a=c.get(75);this._linesLayout=new I.LinesLayout(o,c.get(59),a.top,a.bottom),this._scrollable=this._register(new g(0,d)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new h(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?C:0)}onConfigurationChanged(n){const o=this._configuration.options;if(n.hasChanged(59)&&this._linesLayout.setLineHeight(o.get(59)),n.hasChanged(75)){const d=o.get(75);this._linesLayout.setPadding(d.top,d.bottom)}if(n.hasChanged(131)){const d=o.get(131),c=d.contentWidth,s=d.height,a=this._scrollable.getScrollDimensions(),r=a.contentWidth;this._scrollable.setScrollDimensions(new h(c,a.contentWidth,s,this._getContentHeight(c,s,r)))}else this._updateHeight();n.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(n){this._linesLayout.onFlushed(n)}onLinesDeleted(n,o){this._linesLayout.onLinesDeleted(n,o)}onLinesInserted(n,o){this._linesLayout.onLinesInserted(n,o)}_getHorizontalScrollbarHeight(n,o){const c=this._configuration.options.get(92);return c.horizontal===2||n>=o?0:c.horizontalScrollbarSize}_getContentHeight(n,o,d){const c=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return c.get(94)?s+=Math.max(0,o-c.get(59)-c.get(75).bottom):s+=this._getHorizontalScrollbarHeight(n,d),s}_updateHeight(){const n=this._scrollable.getScrollDimensions(),o=n.width,d=n.height,c=n.contentWidth;this._scrollable.setScrollDimensions(new h(o,n.contentWidth,d,this._getContentHeight(o,d,c)))}getCurrentViewport(){const n=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new S.Viewport(o.scrollTop,o.scrollLeft,n.width,n.height)}getFutureViewport(){const n=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new S.Viewport(o.scrollTop,o.scrollLeft,n.width,n.height)}_computeContentWidth(n){const o=this._configuration.options,d=o.get(132),c=o.get(44);if(d.isViewportWrapping){const s=o.get(131),a=o.get(65);return n>s.contentWidth+c.typicalHalfwidthCharacterWidth&&a.enabled&&a.side==="right"?n+s.verticalScrollbarWidth:n}else{const s=o.get(93)*c.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(n+s,a)}}setMaxLineWidth(n){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new h(o.width,this._computeContentWidth(n),o.height,o.contentHeight)),this._updateHeight()}saveState(){const n=this._scrollable.getFutureScrollPosition(),o=n.scrollTop,d=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),c=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(d);return{scrollTop:o,scrollTopWithoutViewZones:o-c,scrollLeft:n.scrollLeft}}changeWhitespace(n){const o=this._linesLayout.changeWhitespace(n);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(n){return this._linesLayout.getVerticalOffsetForLineNumber(n)}isAfterLines(n){return this._linesLayout.isAfterLines(n)}isInTopPadding(n){return this._linesLayout.isInTopPadding(n)}isInBottomPadding(n){return this._linesLayout.isInBottomPadding(n)}getLineNumberAtVerticalOffset(n){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n)}getWhitespaceAtVerticalOffset(n){return this._linesLayout.getWhitespaceAtVerticalOffset(n)}getLinesViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(n.top,n.top+n.height)}getLinesViewportDataAtScrollTop(n){const o=this._scrollable.getScrollDimensions();return n+o.height>o.scrollHeight&&(n=o.scrollHeight-o.height),n<0&&(n=0),this._linesLayout.getLinesViewportData(n,n+o.height)}getWhitespaceViewportData(){const n=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(n.top,n.top+n.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(n){return this._scrollable.validateScrollPosition(n)}setScrollPosition(n,o){o===1?this._scrollable.setScrollPositionNow(n):this._scrollable.setScrollPositionSmooth(n)}deltaScrollNow(n,o){const d=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:d.scrollLeft+n,scrollTop:d.scrollTop+o})}}e.ViewLayout=t}),define(ee[437],te([0,1,3,22]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class N{constructor(S,b){this._selection=S,this._isMovingLeft=b}getEditOperations(S,b){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const C=this._selection.startLineNumber,h=this._selection.startColumn,g=this._selection.endColumn;if(!(this._isMovingLeft&&h===1)&&!(!this._isMovingLeft&&g===S.getLineMaxColumn(C)))if(this._isMovingLeft){const t=new y.Range(C,h-1,C,h),i=S.getValueInRange(t);b.addEditOperation(t,null),b.addEditOperation(new y.Range(C,g,C,g),i)}else{const t=new y.Range(C,g,C,g+1),i=S.getValueInRange(t);b.addEditOperation(t,null),b.addEditOperation(new y.Range(C,h,C,h),i)}}computeCursorState(S,b){return this._isMovingLeft?new m.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new m.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=N}),define(ee[150],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class y{constructor(C){this.value=C}equals(C){return this.value===C.value}contains(C){return this.equals(C)||this.value===""||C.value.startsWith(this.value+y.sep)}intersects(C){return this.contains(C)||C.contains(this)}append(C){return new y(this.value+y.sep+C)}}e.CodeActionKind=y,y.sep=".",y.None=new y("@@none@@"),y.Empty=new y(""),y.QuickFix=new y("quickfix"),y.Refactor=new y("refactor"),y.Source=new y("source"),y.SourceOrganizeImports=y.Source.append("organizeImports"),y.SourceFixAll=y.Source.append("fixAll");function m(b,C){return!(b.include&&!b.include.intersects(C)||b.excludes&&b.excludes.some(h=>I(C,h,b.include))||!b.includeSourceActions&&y.Source.contains(C))}e.mayIncludeActionsOfKind=m;function N(b,C){const h=C.kind?new y(C.kind):void 0;return!(b.include&&(!h||!b.include.contains(h))||b.excludes&&h&&b.excludes.some(g=>I(h,g,b.include))||!b.includeSourceActions&&h&&y.Source.contains(h)||b.onlyIncludePreferredActions&&!C.isPreferred)}e.filtersAction=N;function I(b,C,h){return!(!C.contains(b)||h&&C.contains(h))}class S{constructor(C,h,g){this.kind=C,this.apply=h,this.preferred=g}static fromUser(C,h){return!C||typeof C!="object"?new S(h.kind,h.apply,!1):new S(S.getKindFromUser(C,h.kind),S.getApplyFromUser(C,h.apply),S.getPreferredUser(C))}static getApplyFromUser(C,h){switch(typeof C.apply=="string"?C.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return h}}static getKindFromUser(C,h){return typeof C.kind=="string"?new y(C.kind):h}static getPreferredUser(C){return typeof C.preferred=="boolean"?C.preferred:!1}}e.CodeActionCommandArgs=S}),define(ee[438],te([0,1,4]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class m{constructor(I,S,b){this.presentationIndex=b,this._onColorFlushed=new y.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new y.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new y.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=I,this._color=I,this._colorPresentations=S}get color(){return this._color}set color(I){this._color.equals(I)||(this._color=I,this._onDidChangeColor.fire(I))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(I){this._colorPresentations=I,this.presentationIndex>I.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(I,S){for(let b=0;b<this.colorPresentations.length;b++)if(S.toLowerCase()===this.colorPresentations[b].label){this.presentationIndex=b,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=m}),define(ee[247],te([0,1,61,11,3,22]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class S{constructor(C,h,g){this.languageConfigurationService=g,this._selection=C,this._insertSpace=h,this._usedEndToken=null}static _haystackHasNeedleAtOffset(C,h,g){if(g<0)return!1;const t=h.length,i=C.length;if(g+t>i)return!1;for(let n=0;n<t;n++){const o=C.charCodeAt(g+n),d=h.charCodeAt(n);if(o!==d&&!(o>=65&&o<=90&&o+32===d)&&!(d>=65&&d<=90&&d+32===o))return!1}return!0}_createOperationsForBlockComment(C,h,g,t,i,n){const o=C.startLineNumber,d=C.startColumn,c=C.endLineNumber,s=C.endColumn,a=i.getLineContent(o),r=i.getLineContent(c);let l=a.lastIndexOf(h,d-1+h.length),u=r.indexOf(g,s-1-g.length);if(l!==-1&&u!==-1)if(o===c)a.substring(l+h.length,u).indexOf(g)>=0&&(l=-1,u=-1);else{const w=a.substring(l+h.length),v=r.substring(0,u);(w.indexOf(g)>=0||v.indexOf(g)>=0)&&(l=-1,u=-1)}let f;l!==-1&&u!==-1?(t&&l+h.length<a.length&&a.charCodeAt(l+h.length)===32&&(h=h+" "),t&&u>0&&r.charCodeAt(u-1)===32&&(g=" "+g,u-=1),f=S._createRemoveBlockCommentOperations(new N.Range(o,l+h.length+1,c,u+1),h,g)):(f=S._createAddBlockCommentOperations(C,h,g,this._insertSpace),this._usedEndToken=f.length===1?g:null);for(const w of f)n.addTrackedEditOperation(w.range,w.text)}static _createRemoveBlockCommentOperations(C,h,g){let t=[];return N.Range.isEmpty(C)?t.push(y.EditOperation.delete(new N.Range(C.startLineNumber,C.startColumn-h.length,C.endLineNumber,C.endColumn+g.length))):(t.push(y.EditOperation.delete(new N.Range(C.startLineNumber,C.startColumn-h.length,C.startLineNumber,C.startColumn))),t.push(y.EditOperation.delete(new N.Range(C.endLineNumber,C.endColumn,C.endLineNumber,C.endColumn+g.length)))),t}static _createAddBlockCommentOperations(C,h,g,t){let i=[];return N.Range.isEmpty(C)?i.push(y.EditOperation.replace(new N.Range(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),h+"  "+g)):(i.push(y.EditOperation.insert(new m.Position(C.startLineNumber,C.startColumn),h+(t?" ":""))),i.push(y.EditOperation.insert(new m.Position(C.endLineNumber,C.endColumn),(t?" ":"")+g))),i}getEditOperations(C,h){const g=this._selection.startLineNumber,t=this._selection.startColumn;C.tokenizeIfCheap(g);const i=C.getLanguageIdAtPosition(g,t),n=this.languageConfigurationService.getLanguageConfiguration(i).comments;!n||!n.blockCommentStartToken||!n.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,n.blockCommentStartToken,n.blockCommentEndToken,this._insertSpace,C,h)}computeCursorState(C,h){const g=h.getInverseEditOperations();if(g.length===2){const t=g[0],i=g[1];return new I.Selection(t.range.endLineNumber,t.range.endColumn,i.range.startLineNumber,i.range.startColumn)}else{const t=g[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0;return new I.Selection(t.endLineNumber,t.endColumn+i,t.endLineNumber,t.endColumn+i)}}}e.BlockCommentCommand=S}),define(ee[439],te([0,1,3,22]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class N{constructor(S,b,C){this.selection=S,this.targetPosition=b,this.copy=C,this.targetSelection=null}getEditOperations(S,b){let C=S.getValueInRange(this.selection);if(this.copy||b.addEditOperation(this.selection,null),b.addEditOperation(new y.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),C),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new m.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new m.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,b){return this.targetSelection}}e.DragAndDropCommand=N}),define(ee[440],te([0,1,3]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class m{constructor(I,S,b){this._editorSelection=I,this._ranges=S,this._replaceStrings=b,this._trackedEditorSelectionId=null}getEditOperations(I,S){if(this._ranges.length>0){let b=[];for(let g=0;g<this._ranges.length;g++)b.push({range:this._ranges[g],text:this._replaceStrings[g]});b.sort((g,t)=>y.Range.compareRangesUsingStarts(g.range,t.range));let C=[],h=b[0];for(let g=1;g<b.length;g++)h.range.endLineNumber===b[g].range.startLineNumber&&h.range.endColumn===b[g].range.startColumn?(h.range=h.range.plusRange(b[g].range),h.text=h.text+b[g].text):(C.push(h),h=b[g]);C.push(h);for(const g of C)S.addEditOperation(g.range,g.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(I,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=m}),define(ee[441],te([0,1,316]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class m{constructor(g){this.staticValue=g,this.kind=0}}class N{constructor(g){this.pieces=g,this.kind=1}}class I{constructor(g){!g||g.length===0?this._state=new m(""):g.length===1&&g[0].staticValue!==null?this._state=new m(g[0].staticValue):this._state=new N(g)}static fromStaticValue(g){return new I([S.staticValue(g)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(g,t){if(this._state.kind===0)return t?(0,y.buildReplaceStringWithCasePreserved)(g,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){let d=this._state.pieces[n];if(d.staticValue!==null){i+=d.staticValue;continue}let c=I._substitute(d.matchIndex,g);if(d.caseOps!==null&&d.caseOps.length>0){let s=[],a=d.caseOps.length,r=0;for(let l=0,u=c.length;l<u;l++){if(r>=a){s.push(c.slice(l));break}switch(d.caseOps[r]){case"U":s.push(c[l].toUpperCase());break;case"u":s.push(c[l].toUpperCase()),r++;break;case"L":s.push(c[l].toLowerCase());break;case"l":s.push(c[l].toLowerCase()),r++;break;default:s.push(c[l])}}c=s.join("")}i+=c}return i}static _substitute(g,t){if(t===null)return"";if(g===0)return t[0];let i="";for(;g>0;){if(g<t.length)return(t[g]||"")+i;i=String(g%10)+i,g=Math.floor(g/10)}return"$"+i}}e.ReplacePattern=I;class S{constructor(g,t,i){this.staticValue=g,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(g){return new S(g,-1,null)}static caseOps(g,t){return new S(null,g,t)}}e.ReplacePiece=S;class b{constructor(g){this._source=g,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(g){this._emitStatic(this._source.substring(this._lastCharIndex,g)),this._lastCharIndex=g}emitStatic(g,t){this._emitStatic(g),this._lastCharIndex=t}_emitStatic(g){g.length!==0&&(this._currentStaticPiece+=g)}emitMatchIndex(g,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(g,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}function C(h){if(!h||h.length===0)return new I(null);let g=[],t=new b(h);for(let i=0,n=h.length;i<n;i++){let o=h.charCodeAt(i);if(o===92){if(i++,i>=n)break;let d=h.charCodeAt(i);switch(d){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),g.push(String.fromCharCode(d));break}continue}if(o===36){if(i++,i>=n)break;let d=h.charCodeAt(i);if(d===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(d===48||d===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,g),g.length=0;continue}if(49<=d&&d<=57){let c=d-48;if(i+1<n){let s=h.charCodeAt(i+1);if(48<=s&&s<=57){i++,c=c*10+(s-48),t.emitUnchanged(i-2),t.emitMatchIndex(c,i+1,g),g.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(c,i+1,g),g.length=0;continue}}}return t.finalize()}e.parseReplaceString=C}),define(ee[182],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const y=4278190080;class m{constructor(S,b,C){if(S.length!==b.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=b,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=C,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],b=(C,h)=>{let g=S[S.length-1];return this.getStartLineNumber(g)<=C&&this.getEndLineNumber(g)>=h};for(let C=0,h=this._startIndexes.length;C<h;C++){let g=this._startIndexes[C],t=this._endIndexes[C];if(g>e.MAX_LINE_NUMBER||t>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!b(g,t);)S.pop();let i=S.length>0?S[S.length-1]:-1;S.push(C),this._startIndexes[C]=g+((i&255)<<24),this._endIndexes[C]=t+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let b=S/32|0,C=S%32;return(this._collapseStates[b]&1<<C)!=0}setCollapsed(S,b){let C=S/32|0,h=S%32,g=this._collapseStates[C];b?this._collapseStates[C]=g|1<<h:this._collapseStates[C]=g&~(1<<h)}setCollapsedAllOfType(S,b){let C=!1;if(this._types)for(let h=0;h<this._types.length;h++)this._types[h]===S&&(this.setCollapsed(h,b),C=!0);return C}toRegion(S){return new N(this,S)}getParentIndex(S){this.ensureParentIndices();let b=((this._startIndexes[S]&y)>>>24)+((this._endIndexes[S]&y)>>>16);return b===e.MAX_FOLDING_REGIONS?-1:b}contains(S,b){return this.getStartLineNumber(S)<=b&&this.getEndLineNumber(S)>=b}findIndex(S){let b=0,C=this._startIndexes.length;if(C===0)return-1;for(;b<C;){let h=Math.floor((b+C)/2);S<this.getStartLineNumber(h)?C=h:b=h+1}return b-1}findRange(S){let b=this.findIndex(S);if(b>=0){if(this.getEndLineNumber(b)>=S)return b;for(b=this.getParentIndex(b);b!==-1;){if(this.contains(b,S))return b;b=this.getParentIndex(b)}}return-1}toString(){let S=[];for(let b=0;b<this.length;b++)S[b]=`[${this.isCollapsed(b)?"+":"-"}] ${this.getStartLineNumber(b)}/${this.getEndLineNumber(b)}`;return S.join(", ")}}e.FoldingRegions=m;class N{constructor(S,b){this.ranges=S,this.index=b}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=N}),define(ee[442],te([0,1,4,182]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class N{constructor(s,a){this._updateEventEmitter=new y.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=s,this._decorationProvider=a,this._regions=new m.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(s){if(!s.length)return;s=s.sort((r,l)=>r.regionIndex-l.regionIndex);const a={};this._decorationProvider.changeDecorations(r=>{let l=0,u=-1,f=-1;const w=v=>{for(;l<v;){const p=this._regions.getEndLineNumber(l),_=this._regions.isCollapsed(l);p<=u&&r.changeDecorationOptions(this._editorDecorationIds[l],this._decorationProvider.getDecorationOption(_,p<=f)),_&&p>f&&(f=p),l++}};for(let v of s){let p=v.regionIndex,_=this._editorDecorationIds[p];if(_&&!a[_]){a[_]=!0,w(p);let L=!this._regions.isCollapsed(p);this._regions.setCollapsed(p,L),u=Math.max(u,this._regions.getEndLineNumber(p))}}w(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:s})}update(s,a=[]){let r=[],l=(L,E)=>{for(let M of a)if(L<M&&M<=E)return!0;return!1},u=-1,f=(L,E)=>{const M=s.getStartLineNumber(L),k=s.getEndLineNumber(L);E||(E=s.isCollapsed(L)),E&&l(M,k)&&(E=!1),s.setCollapsed(L,E);const A=this._textModel.getLineMaxColumn(M),F={startLineNumber:M,startColumn:Math.max(A-1,1),endLineNumber:M,endColumn:A};r.push({range:F,options:this._decorationProvider.getDecorationOption(E,k<=u)}),E&&k>u&&(u=k)},w=0,v=()=>{for(;w<this._regions.length;){let L=this._regions.isCollapsed(w);if(w++,L)return w-1}return-1},p=0,_=v();for(;_!==-1&&p<s.length;){let L=this._textModel.getDecorationRange(this._editorDecorationIds[_]);if(L){let E=L.startLineNumber;if(L.startColumn===Math.max(L.endColumn-1,1)&&this._textModel.getLineMaxColumn(E)===L.endColumn)for(;p<s.length;){let M=s.getStartLineNumber(p);if(E>=M)f(p,E===M),p++;else break}}_=v()}for(;p<s.length;)f(p,!1),p++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,r),this._regions=s,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let s=[];for(let a=0;a<this._regions.length;a++)if(this._regions.isCollapsed(a)){let r=this._textModel.getDecorationRange(this._editorDecorationIds[a]);if(r){let l=r.startLineNumber,u=r.endLineNumber+this._regions.getEndLineNumber(a)-this._regions.getStartLineNumber(a);s.push({startLineNumber:l,endLineNumber:u})}}if(s.length>0)return s}applyMemento(s){if(!Array.isArray(s))return;let a=[];for(let r of s){let l=this.getRegionAtLine(r.startLineNumber);l&&!l.isCollapsed&&a.push(l)}this.toggleCollapseState(a)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(s,a){let r=[];if(this._regions){let l=this._regions.findRange(s),u=1;for(;l>=0;){let f=this._regions.toRegion(l);(!a||a(f,u))&&r.push(f),u++,l=f.parentIndex}}return r}getRegionAtLine(s){if(this._regions){let a=this._regions.findRange(s);if(a>=0)return this._regions.toRegion(a)}return null}getRegionsInside(s,a){let r=[],l=s?s.regionIndex+1:0,u=s?s.endLineNumber:Number.MAX_VALUE;if(a&&a.length===2){const f=[];for(let w=l,v=this._regions.length;w<v;w++){let p=this._regions.toRegion(w);if(this._regions.getStartLineNumber(w)<u){for(;f.length>0&&!p.containedBy(f[f.length-1]);)f.pop();f.push(p),a(p,f.length)&&r.push(p)}else break}}else for(let f=l,w=this._regions.length;f<w;f++){let v=this._regions.toRegion(f);if(this._regions.getStartLineNumber(f)<u)(!a||a(v))&&r.push(v);else break}return r}}e.FoldingModel=N;function I(c,s,a){let r=[];for(let l of a){let u=c.getRegionAtLine(l);if(u){const f=!u.isCollapsed;if(r.push(u),s>1){let w=c.getRegionsInside(u,(v,p)=>v.isCollapsed!==f&&p<s);r.push(...w)}}}c.toggleCollapseState(r)}e.toggleCollapseState=I;function S(c,s,a=Number.MAX_VALUE,r){let l=[];if(r&&r.length>0)for(let u of r){let f=c.getRegionAtLine(u);if(f&&(f.isCollapsed!==s&&l.push(f),a>1)){let w=c.getRegionsInside(f,(v,p)=>v.isCollapsed!==s&&p<a);l.push(...w)}}else{let u=c.getRegionsInside(null,(f,w)=>f.isCollapsed!==s&&w<a);l.push(...u)}c.toggleCollapseState(l)}e.setCollapseStateLevelsDown=S;function b(c,s,a,r){let l=[];for(let u of r){let f=c.getAllRegionsAtLine(u,(w,v)=>w.isCollapsed!==s&&v<=a);l.push(...f)}c.toggleCollapseState(l)}e.setCollapseStateLevelsUp=b;function C(c,s,a){let r=[];for(let l of a){let u=c.getAllRegionsAtLine(l,f=>f.isCollapsed!==s);u.length>0&&r.push(u[0])}c.toggleCollapseState(r)}e.setCollapseStateUp=C;function h(c,s,a,r){let l=(f,w)=>w===s&&f.isCollapsed!==a&&!r.some(v=>f.containsLine(v)),u=c.getRegionsInside(null,l);c.toggleCollapseState(u)}e.setCollapseStateAtLevel=h;function g(c,s,a){let r=[];for(let f of a){const w=c.getAllRegionsAtLine(f,void 0);w.length>0&&r.push(w[0])}let l=f=>r.every(w=>!w.containedBy(f)&&!f.containedBy(w))&&f.isCollapsed!==s,u=c.getRegionsInside(null,l);c.toggleCollapseState(u)}e.setCollapseStateForRest=g;function t(c,s,a){let r=c.textModel,l=c.regions,u=[];for(let f=l.length-1;f>=0;f--)if(a!==l.isCollapsed(f)){let w=l.getStartLineNumber(f);s.test(r.getLineContent(w))&&u.push(l.toRegion(f))}c.toggleCollapseState(u)}e.setCollapseStateForMatchingLines=t;function i(c,s,a){let r=c.regions,l=[];for(let u=r.length-1;u>=0;u--)a!==r.isCollapsed(u)&&s===r.getType(u)&&l.push(r.toRegion(u));c.toggleCollapseState(l)}e.setCollapseStateForType=i;function n(c,s){let a=null,r=s.getRegionAtLine(c);if(r!==null&&(a=r.startLineNumber,c===a)){let l=r.parentIndex;l!==-1?a=s.regions.getStartLineNumber(l):a=null}return a}e.getParentFoldLine=n;function o(c,s){let a=s.getRegionAtLine(c);if(a!==null&&a.startLineNumber===c){if(c!==a.startLineNumber)return a.startLineNumber;{let r=a.parentIndex,l=0;for(r!==-1&&(l=s.regions.getStartLineNumber(a.parentIndex));a!==null;)if(a.regionIndex>0){if(a=s.regions.toRegion(a.regionIndex-1),a.startLineNumber<=l)return null;if(a.parentIndex===r)return a.startLineNumber}else return null}}else if(s.regions.length>0)for(a=s.regions.toRegion(s.regions.length-1);a!==null;){if(a.startLineNumber<c)return a.startLineNumber;a.regionIndex>0?a=s.regions.toRegion(a.regionIndex-1):a=null}return null}e.getPreviousFoldLine=o;function d(c,s){let a=s.getRegionAtLine(c);if(a!==null&&a.startLineNumber===c){let r=a.parentIndex,l=0;if(r!==-1)l=s.regions.getEndLineNumber(a.parentIndex);else{if(s.regions.length===0)return null;l=s.regions.getEndLineNumber(s.regions.length-1)}for(;a!==null;)if(a.regionIndex<s.regions.length){if(a=s.regions.toRegion(a.regionIndex+1),a.startLineNumber>=l)return null;if(a.parentIndex===r)return a.startLineNumber}else return null}else if(s.regions.length>0)for(a=s.regions.toRegion(0);a!==null;){if(a.startLineNumber>c)return a.startLineNumber;a.regionIndex<s.regions.length?a=s.regions.toRegion(a.regionIndex+1):a=null}return null}e.getNextFoldLine=d}),define(ee[443],te([0,1,19,4,3,119]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class S{constructor(g){this._updateEventEmitter=new m.Emitter,this._hasLineChanges=!1,this._foldingModel=g,this._foldingModelListener=g.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],g.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(g){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=g.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||(0,I.countEOL)(t.text)[0]!==0))}updateHiddenRanges(){let g=!1,t=[],i=0,n=0,o=Number.MAX_VALUE,d=-1,c=this._foldingModel.regions;for(;i<c.length;i++){if(!c.isCollapsed(i))continue;let s=c.getStartLineNumber(i)+1,a=c.getEndLineNumber(i);o<=s&&a<=d||(!g&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===s&&this._hiddenRanges[n].endLineNumber===a?(t.push(this._hiddenRanges[n]),n++):(g=!0,t.push(new N.Range(s,1,a,1))),o=s,d=a)}(this._hasLineChanges||g||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(g){if(!Array.isArray(g)||g.length===0)return!1;let t=[];for(let i of g){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new N.Range(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(g=>({startLineNumber:g.startLineNumber-1,endLineNumber:g.endLineNumber}))}applyHiddenRanges(g){this._hiddenRanges=g,this._hasLineChanges=!1,this._updateEventEmitter.fire(g)}hasRanges(){return this._hiddenRanges.length>0}isHidden(g){return C(this._hiddenRanges,g)!==null}adjustSelections(g){let t=!1,i=this._foldingModel.textModel,n=null,o=d=>((!n||!b(d,n))&&(n=C(this._hiddenRanges,d)),n?n.startLineNumber-1:null);for(let d=0,c=g.length;d<c;d++){let s=g[d],a=o(s.startLineNumber);a&&(s=s.setStartPosition(a,i.getLineMaxColumn(a)),t=!0);let r=o(s.endLineNumber);r&&(s=s.setEndPosition(r,i.getLineMaxColumn(r)),t=!0),g[d]=s}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=S;function b(h,g){return h>=g.startLineNumber&&h<=g.endLineNumber}function C(h,g){let t=(0,y.findFirstInSorted)(h,i=>g<i.startLineNumber)-1;return t>=0&&h[t].endLineNumber>=g?h[t]:null}}),define(ee[444],te([0,1,176,182]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const N=5e3;e.ID_INDENT_PROVIDER="indent";class I{constructor(h,g,t){this.editorModel=h,this.languageConfigurationService=g,this.maxFoldingRegions=t,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(h,g){let t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,n=t&&t.markers;return Promise.resolve(b(this.editorModel,i,n,this.maxFoldingRegions,g))}}e.IndentRangeProvider=I;class S{constructor(h,g){this._notifyTooManyRegions=g,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=h}insertFirst(h,g,t){if(h>m.MAX_LINE_NUMBER||g>m.MAX_LINE_NUMBER)return;let i=this._length;this._startIndexes[i]=h,this._endIndexes[i]=g,this._length++,t<1e3&&(this._indentOccurrences[t]=(this._indentOccurrences[t]||0)+1)}toIndentRanges(h){if(this._length<=this._foldingRangesLimit){let g=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)g[n]=this._startIndexes[i],t[n]=this._endIndexes[i];return new m.FoldingRegions(g,t)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let g=0,t=this._indentOccurrences.length;for(let d=0;d<this._indentOccurrences.length;d++){let c=this._indentOccurrences[d];if(c){if(c+g>this._foldingRangesLimit){t=d;break}g+=c}}const i=h.getOptions().tabSize;let n=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit);for(let d=this._length-1,c=0;d>=0;d--){let s=this._startIndexes[d],a=h.getLineContent(s),r=(0,y.computeIndentLevel)(a,i);(r<t||r===t&&g++<this._foldingRangesLimit)&&(n[c]=s,o[c]=this._endIndexes[d],c++)}return new m.FoldingRegions(n,o)}}}e.RangesCollector=S;function b(C,h,g,t,i){const n=C.getOptions().tabSize;t=t??N;let o=new S(t,i),d;g&&(d=new RegExp(`(${g.start.source})|(?:${g.end.source})`));let c=[],s=C.getLineCount()+1;c.push({indent:-1,endAbove:s,line:s});for(let a=C.getLineCount();a>0;a--){let r=C.getLineContent(a),l=(0,y.computeIndentLevel)(r,n),u=c[c.length-1];if(l===-1){h&&(u.endAbove=a);continue}let f;if(d&&(f=r.match(d)))if(f[1]){let w=c.length-1;for(;w>0&&c[w].indent!==-2;)w--;if(w>0){c.length=w+1,u=c[w],o.insertFirst(a,u.line,l),u.line=a,u.indent=l,u.endAbove=a;continue}}else{c.push({indent:-2,endAbove:a,line:a});continue}if(u.indent>l){do c.pop(),u=c[c.length-1];while(u.indent>l);let w=u.endAbove-1;w-a>=1&&o.insertFirst(a,w,l)}u.indent===l?u.endAbove=a:c.push({indent:l,endAbove:a,line:a})}return o.toIndentRanges(C)}e.computeRanges=b}),define(ee[248],te([0,1,14,2,182]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const I={};e.ID_SYNTAX_PROVIDER="syntax";class S{constructor(t,i,n,o){this.editorModel=t,this.providers=i,this.limit=o,this.id=e.ID_SYNTAX_PROVIDER;for(const d of i)typeof d.onDidChange=="function"&&(this.disposables||(this.disposables=new m.DisposableStore),this.disposables.add(d.onDidChange(n)))}compute(t,i){return b(this.providers,this.editorModel,t).then(n=>n?h(n,this.limit,i):null)}dispose(){var t;(t=this.disposables)===null||t===void 0||t.dispose()}}e.SyntaxRangeProvider=S;function b(g,t,i){let n=null,o=g.map((d,c)=>Promise.resolve(d.provideFoldingRanges(t,I,i)).then(s=>{if(!i.isCancellationRequested&&Array.isArray(s)){Array.isArray(n)||(n=[]);let a=t.getLineCount();for(let r of s)r.start>0&&r.end>r.start&&r.end<=a&&n.push({start:r.start,end:r.end,rank:c,kind:r.kind})}},y.onUnexpectedExternalError));return Promise.all(o).then(d=>n)}class C{constructor(t,i){this._notifyTooManyRegions=i,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,i,n,o){if(t>N.MAX_LINE_NUMBER||i>N.MAX_LINE_NUMBER)return;let d=this._length;this._startIndexes[d]=t,this._endIndexes[d]=i,this._nestingLevels[d]=o,this._types[d]=n,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=0;n<this._length;n++)t[n]=this._startIndexes[n],i[n]=this._endIndexes[n];return new N.FoldingRegions(t,i,this._types)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,i=this._nestingLevelCounts.length;for(let c=0;c<this._nestingLevelCounts.length;c++){let s=this._nestingLevelCounts[c];if(s){if(s+t>this._foldingRangesLimit){i=c;break}t+=s}}let n=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),d=[];for(let c=0,s=0;c<this._length;c++){let a=this._nestingLevels[c];(a<i||a===i&&t++<this._foldingRangesLimit)&&(n[s]=this._startIndexes[c],o[s]=this._endIndexes[c],d[s]=this._types[c],s++)}return new N.FoldingRegions(n,o,d)}}}e.RangesCollector=C;function h(g,t,i){let n=g.sort((s,a)=>{let r=s.start-a.start;return r===0&&(r=s.rank-a.rank),r}),o=new C(t,i),d,c=[];for(let s of n)if(!d)d=s,o.add(s.start,s.end,s.kind&&s.kind.value,c.length);else if(s.start>d.start)if(s.end<=d.end)c.push(d),d=s,o.add(s.start,s.end,s.kind&&s.kind.value,c.length);else{if(s.start>d.end){do d=c.pop();while(d&&s.start>d.end);d&&c.push(d),d=s}o.add(s.start,s.end,s.kind&&s.kind.value,c.length)}return o.toIndentRanges()}e.sanitizeRanges=h}),define(ee[445],te([0,1,248]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class m{constructor(I,S,b,C){if(this.editorModel=I,this.id=e.ID_INIT_PROVIDER,S.length){let h=g=>({range:{startLineNumber:g.startLineNumber,startColumn:0,endLineNumber:g.endLineNumber,endColumn:I.getLineLength(g.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=I.deltaDecorations([],S.map(h)),this.timeout=setTimeout(b,C)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(I){let S=[];if(this.decorationIds)for(let b of this.decorationIds){let C=this.editorModel.getDecorationRange(b);C&&S.push({start:C.startLineNumber,end:C.endLineNumber,rank:1})}return Promise.resolve((0,y.sanitizeRanges)(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=m}),define(ee[249],te([0,1,61,3]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class N{static _handleEolEdits(S,b){let C,h=[];for(let g of b)typeof g.eol=="number"&&(C=g.eol),g.range&&typeof g.text=="string"&&h.push(g);return typeof C=="number"&&S.hasModel()&&S.getModel().pushEOL(C),h}static _isFullModelReplaceEdit(S,b){if(!S.hasModel())return!1;const C=S.getModel(),h=C.validateRange(b.range);return C.getFullModelRange().equalsRange(h)}static execute(S,b,C){C&&S.pushUndoStop();const h=N._handleEolEdits(S,b);h.length===1&&N._isFullModelReplaceEdit(S,h[0])?S.executeEdits("formatEditsCommand",h.map(g=>y.EditOperation.replace(m.Range.lift(g.range),g.text))):S.executeEdits("formatEditsCommand",h.map(g=>y.EditOperation.replaceMove(m.Range.lift(g.range),g.text))),C&&S.pushUndoStop()}}e.FormattingEdit=N}),define(ee[183],te([0,1,4,2,17]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function I(t,i){return!!t[i]}class S{constructor(i,n){this.target=i.target,this.hasTriggerModifier=I(i.event,n.triggerModifier),this.hasSideBySideModifier=I(i.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}}e.ClickLinkMouseEvent=S;class b{constructor(i,n){this.keyCodeIsTriggerKey=i.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=I(i,n.triggerModifier)}}e.ClickLinkKeyboardEvent=b;class C{constructor(i,n,o,d){this.triggerKey=i,this.triggerModifier=n,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=d}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}}e.ClickLinkOptions=C;function h(t){return t==="altKey"?N.isMacintosh?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):N.isMacintosh?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class g extends m.Disposable{constructor(i){super();this._onMouseMoveOrRelevantKeyDown=this._register(new y.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new y.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new y.Emitter),this.onCancel=this._onCancel.event,this._editor=i,this._opts=h(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(70)){const o=h(this._editor.getOption(70));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new S(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new S(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new S(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new b(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new b(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=i.target.position?i.target.position.lineNumber:0}_onEditorMouseUp(i){const n=i.target.position?i.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=g});var Ct=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],y;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),y={},m("next"),m("throw"),m("return"),y[Symbol.asyncIterator]=function(){return this},y);function m(I){y[I]=K[I]&&function(S){return new Promise(function(b,C){S=K[I](S),N(b,C,S.done,S.value)})}}function N(I,S,b,C){Promise.resolve(C).then(function(h){I({value:h,done:b})},S)}};define(ee[250],te([0,1,10,14,4,2]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class S{constructor(h,g,t){this.value=h,this.isComplete=g,this.hasLoadingMessage=t}}e.HoverResult=S;class b extends I.Disposable{constructor(h,g){super();this._editor=h,this._computer=g,this._onResult=this._register(new N.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(h,g=!0){this._state=h,g&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,y.createCancelableAsyncIterable)(h=>this._computer.computeAsync(h)),(()=>De(this,void 0,void 0,function*(){var h,g;try{try{for(var t=Ct(this._asyncIterable),i;i=yield t.next(),!i.done;){const n=i.value;n&&(this._result.push(n),this._fireResult())}}catch(n){h={error:n}}finally{try{i&&!i.done&&(g=t.return)&&(yield g.call(t))}finally{if(h)throw h.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(n){(0,m.onUnexpectedError)(n)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const h=this._state===0,g=this._state===4;this._onResult.fire(new S(this._result.slice(0),h,g))}start(h){if(h===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=b}),define(ee[184],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class y{constructor(I,S){this.priority=I,this.range=S,this.type=1}equals(I){return I.type===1&&this.range.equalsRange(I.range)}canAdoptVisibleHover(I,S){return I.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=y;class m{constructor(I,S,b){this.priority=I,this.owner=S,this.range=b,this.type=2}equals(I){return I.type===2&&this.owner===I.owner}canAdoptVisibleHover(I,S){return I.type===2&&this.owner===I.owner}}e.HoverForeignElementAnchor=m}),define(ee[446],te([0,1,22]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class m{constructor(I,S,b){this._editRange=I,this._originalSelection=S,this._text=b}getEditOperations(I,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(I,S){const C=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new y.Selection(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new y.Selection(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}e.InPlaceReplaceCommand=m}),define(ee[251],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function y(N,I){let S=0;for(let b=0;b<N.length;b++)N.charAt(b)==="	"?S+=I:S++;return S}e.getSpaceCnt=y;function m(N,I,S){N=N<0?0:N;let b="";if(!S){let C=Math.floor(N/I);N=N%I;for(let h=0;h<C;h++)b+="	"}for(let C=0;C<N;C++)b+=" ";return b}e.generateIndent=m}),define(ee[252],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(ee[185],te([0,1,4,2,3]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextPart=e.GhostText=void 0;class I{constructor(t,i,n=0){this.lineNumber=t,this.parts=i,this.additionalReservedLineCount=n}renderForScreenReader(t){if(this.parts.length===0)return"";const i=this.parts[this.parts.length-1],n=t.substr(0,i.column-1);return b(n,this.parts.map(d=>({range:{startLineNumber:1,endLineNumber:1,startColumn:d.column,endColumn:d.column},text:d.lines.join(`
`)}))).substring(this.parts[0].column-1)}}e.GhostText=I;class S{constructor(t){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let i=0;i<t.length;i++)t.charAt(i)===`
`&&this.lineStartOffsetByLineIdx.push(i+1)}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}}function b(g,t){const i=new S(g),n=t.map(o=>{const d=N.Range.lift(o.range);return{startOffset:i.getOffset(d.getStartPosition()),endOffset:i.getOffset(d.getEndPosition()),text:o.text}});n.sort((o,d)=>d.startOffset-o.startOffset);for(const o of n)g=g.substring(0,o.startOffset)+o.text+g.substring(o.endOffset);return g}class C{constructor(t,i,n){this.column=t,this.lines=i,this.preview=n}}e.GhostTextPart=C;class h extends m.Disposable{constructor(t){super();this.editor=t,this._expanded=void 0,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(t.onDidChangeConfiguration(i=>{i.hasChanged(106)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(t){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=h}),define(ee[186],te([0,1,137,8,3,185]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=void 0;function S(t,i){return t===i?!0:!t||!i?!1:t.range.equalsRange(i.range)&&t.text===i.text&&t.command===i.command}e.normalizedInlineCompletionsEquals=S;function b(t,i,n,o,d=0){if(t.range.startLineNumber!==t.range.endLineNumber)return;const c=i.getLineContent(t.range.startLineNumber),s=m.getLeadingWhitespace(c).length;if(t.range.startColumn-1<=s){const v=m.getLeadingWhitespace(t.text).length,p=c.substring(t.range.startColumn-1,s),_=N.Range.fromPositions(t.range.getStartPosition().delta(0,p.length),t.range.getEndPosition()),L=t.text.startsWith(p)?t.text.substring(p.length):t.text.substring(v);t={range:_,text:L,command:t.command}}const r=i.getValueInRange(t.range),l=h(r,t.text);if(!l)return;const u=t.range.startLineNumber,f=new Array;if(n==="prefix"){const v=l.filter(p=>p.originalLength===0);if(v.length>1||v.length===1&&v[0].originalStart!==r.length)return}const w=t.text.length-d;for(const v of l){const p=t.range.startColumn+v.originalStart+v.originalLength;if(n==="subwordSmart"&&o&&o.lineNumber===t.range.startLineNumber&&p<o.column||v.originalLength>0)return;if(v.modifiedLength===0)continue;const _=v.modifiedStart+v.modifiedLength,L=Math.max(v.modifiedStart,Math.min(_,w)),E=t.text.substring(v.modifiedStart,L),M=t.text.substring(L,Math.max(v.modifiedStart,_));if(E.length>0){const k=m.splitLines(E);f.push(new I.GhostTextPart(p,k,!1))}if(M.length>0){const k=m.splitLines(M);f.push(new I.GhostTextPart(p,k,!0))}}return new I.GhostText(u,f,0)}e.inlineCompletionToGhostText=b;let C;function h(t,i){if((C==null?void 0:C.originalValue)===t&&(C==null?void 0:C.newValue)===i)return C==null?void 0:C.changes;{const n=g(t,i);return C={originalValue:t,newValue:i,changes:n},n}}function g(t,i){if(t.length>5e3||i.length>5e3)return;function n(r){let l=0;for(let u=0,f=r.length;u<f;u++){const w=r.charCodeAt(u);w>l&&(l=w)}return l}const o=Math.max(n(t),n(i));function d(r){if(r<0)throw new Error("unexpected");return o+r+1}function c(r){let l=0,u=0;const f=new Int32Array(r.length);for(let w=0,v=r.length;w<v;w++){const p=u*100+l;r[w]==="("?(f[w]=d(2*p),l++):r[w]===")"?(f[w]=d(2*p+1),l===1&&u++,l=Math.max(l-1,0)):f[w]=r.charCodeAt(w)}return f}const s=c(t),a=c(i);return new y.LcsDiff({getElements:()=>s},{getElements:()=>a}).ComputeDiff(!1).changes}}),define(ee[447],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDisposableRef=void 0;function y(m,N){return{object:m,dispose:()=>N==null?void 0:N.dispose()}}e.createDisposableRef=y}),define(ee[448],te([0,1,3,22]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class N{constructor(S,b,C){this._selection=S,this._isCopyingDown=b,this._noop=C||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,b){let C=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._endLineNumberDelta=1,C=C.setEndPosition(C.endLineNumber-1,S.getLineMaxColumn(C.endLineNumber-1)));let h=[];for(let t=C.startLineNumber;t<=C.endLineNumber;t++)h.push(S.getLineContent(t));const g=h.join(`
`);g===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?b.addEditOperation(new y.Range(C.endLineNumber,S.getLineMaxColumn(C.endLineNumber),C.endLineNumber+1,1),C.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?b.addEditOperation(new y.Range(C.startLineNumber,1,C.startLineNumber,1),g+`
`):b.addEditOperation(new y.Range(C.endLineNumber,S.getLineMaxColumn(C.endLineNumber),C.endLineNumber,S.getLineMaxColumn(C.endLineNumber)),`
`+g),this._selectionId=b.trackSelection(C),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,b){let C=b.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let h=C.startLineNumber,g=C.startColumn,t=C.endLineNumber,i=C.endColumn;this._startLineNumberDelta!==0&&(h=h+this._startLineNumberDelta,g=1),this._endLineNumberDelta!==0&&(t=t+this._endLineNumberDelta,i=1),C=m.Selection.createWithDirection(h,g,t,i,this._selectionDirection)}return C}}e.CopyLinesCommand=N}),define(ee[449],te([0,1,61,3]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class N{constructor(C,h){this.selection=C,this.descending=h,this.selectionId=null}static getCollator(){return N._COLLATOR||(N._COLLATOR=new Intl.Collator),N._COLLATOR}getEditOperations(C,h){let g=S(C,this.selection,this.descending);g&&h.addEditOperation(g.range,g.text),this.selectionId=h.trackSelection(this.selection)}computeCursorState(C,h){return h.getTrackedSelection(this.selectionId)}static canRun(C,h,g){if(C===null)return!1;let t=I(C,h,g);if(!t)return!1;for(let i=0,n=t.before.length;i<n;i++)if(t.before[i]!==t.after[i])return!0;return!1}}e.SortLinesCommand=N,N._COLLATOR=null;function I(b,C,h){let g=C.startLineNumber,t=C.endLineNumber;if(C.endColumn===1&&t--,g>=t)return null;let i=[];for(let o=g;o<=t;o++)i.push(b.getLineContent(o));let n=i.slice(0);return n.sort(N.getCollator().compare),h===!0&&(n=n.reverse()),{startLineNumber:g,endLineNumber:t,before:i,after:n}}function S(b,C,h){let g=I(b,C,h);return g?y.EditOperation.replace(new m.Range(g.startLineNumber,1,g.endLineNumber,b.getLineMaxColumn(g.endLineNumber)),g.after.join(`
`)):null}}),define(ee[253],te([0,1,80,11,3]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class I{provideSelectionRanges(b,C){return De(this,void 0,void 0,function*(){const h=[];for(const g of C){const t=[];h.push(t);const i=new Map;yield new Promise(n=>I._bracketsRightYield(n,0,b,g,i)),yield new Promise(n=>I._bracketsLeftYield(n,0,b,g,i,t))}return h})}static _bracketsRightYield(b,C,h,g,t){const i=new Map,n=Date.now();for(;;){if(C>=I._maxRounds){b();break}if(!g){b();break}let o=h.bracketPairs.findNextBracket(g);if(!o){b();break}if(Date.now()-n>I._maxDuration){setTimeout(()=>I._bracketsRightYield(b,C+1,h,g,t));break}const c=o.close[0];if(o.isOpen){let s=i.has(c)?i.get(c):0;i.set(c,s+1)}else{let s=i.has(c)?i.get(c):0;if(s-=1,i.set(c,Math.max(0,s)),s<0){let a=t.get(c);a||(a=new y.LinkedList,t.set(c,a)),a.push(o.range)}}g=o.range.getEndPosition()}}static _bracketsLeftYield(b,C,h,g,t,i){const n=new Map,o=Date.now();for(;;){if(C>=I._maxRounds&&t.size===0){b();break}if(!g){b();break}let d=h.bracketPairs.findPrevBracket(g);if(!d){b();break}if(Date.now()-o>I._maxDuration){setTimeout(()=>I._bracketsLeftYield(b,C+1,h,g,t,i));break}const s=d.close[0];if(d.isOpen){let a=n.has(s)?n.get(s):0;if(a-=1,n.set(s,Math.max(0,a)),a<0){let r=t.get(s);if(r){let l=r.shift();r.size===0&&t.delete(s);const u=N.Range.fromPositions(d.range.getEndPosition(),l.getStartPosition()),f=N.Range.fromPositions(d.range.getStartPosition(),l.getEndPosition());i.push({range:u}),i.push({range:f}),I._addBracketLeading(h,f,i)}}}else{let a=n.has(s)?n.get(s):0;n.set(s,a+1)}g=d.range.getStartPosition()}}static _addBracketLeading(b,C,h){if(C.startLineNumber===C.endLineNumber)return;const g=C.startLineNumber,t=b.getLineFirstNonWhitespaceColumn(g);t!==0&&t!==C.startColumn&&(h.push({range:N.Range.fromPositions(new m.Position(g,t),C.getEndPosition())}),h.push({range:N.Range.fromPositions(new m.Position(g,1),C.getEndPosition())}));const i=g-1;if(i>0){const n=b.getLineFirstNonWhitespaceColumn(i);n===C.startColumn&&n!==b.getLineLastNonWhitespaceColumn(i)&&(h.push({range:N.Range.fromPositions(new m.Position(i,n),C.getEndPosition())}),h.push({range:N.Range.fromPositions(new m.Position(i,1),C.getEndPosition())}))}}}e.BracketSelectionRangeProvider=I,I._maxDuration=30,I._maxRounds=2}),define(ee[450],te([0,1,8,3]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class N{provideSelectionRanges(S,b){const C=[];for(const h of b){const g=[];C.push(g),this._addInWordRanges(g,S,h),this._addWordRanges(g,S,h),this._addWhitespaceLine(g,S,h),g.push({range:S.getFullModelRange()})}return C}_addInWordRanges(S,b,C){const h=b.getWordAtPosition(C);if(!h)return;let{word:g,startColumn:t}=h,i=C.column-t,n=i,o=i,d=0;for(;n>=0;n--){let c=g.charCodeAt(n);if(n!==i&&(c===95||c===45))break;if((0,y.isLowerAsciiLetter)(c)&&(0,y.isUpperAsciiLetter)(d))break;d=c}for(n+=1;o<g.length;o++){let c=g.charCodeAt(o);if((0,y.isUpperAsciiLetter)(c)&&(0,y.isLowerAsciiLetter)(d))break;if(c===95||c===45)break;d=c}n<o&&S.push({range:new m.Range(C.lineNumber,t+n,C.lineNumber,t+o)})}_addWordRanges(S,b,C){const h=b.getWordAtPosition(C);h&&S.push({range:new m.Range(C.lineNumber,h.startColumn,C.lineNumber,h.endColumn)})}_addWhitespaceLine(S,b,C){b.getLineLength(C.lineNumber)>0&&b.getLineFirstNonWhitespaceColumn(C.lineNumber)===0&&b.getLineLastNonWhitespaceColumn(C.lineNumber)===0&&S.push({range:new m.Range(C.lineNumber,1,C.lineNumber,b.getLineMaxColumn(C.lineNumber))})}}e.WordSelectionRangeProvider=N}),define(ee[123],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class y{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return d===95||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let d=this.pos,c=0,s=this.value.charCodeAt(d),a;if(a=y._table[s],typeof a=="number")return this.pos+=1,{type:a,pos:d,len:1};if(y.isDigitCharacter(s)){a=8;do c+=1,s=this.value.charCodeAt(d+c);while(y.isDigitCharacter(s));return this.pos+=c,{type:a,pos:d,len:c}}if(y.isVariableCharacter(s)){a=9;do s=this.value.charCodeAt(d+ ++c);while(y.isVariableCharacter(s)||y.isDigitCharacter(s));return this.pos+=c,{type:a,pos:d,len:c}}a=10;do c+=1,s=this.value.charCodeAt(d+c);while(!isNaN(s)&&typeof y._table[s]=="undefined"&&!y.isDigitCharacter(s)&&!y.isVariableCharacter(s));return this.pos+=c,{type:a,pos:d,len:c}}}e.Scanner=y,y._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class m{constructor(){this._children=[]}appendChild(d){return d instanceof N&&this._children[this._children.length-1]instanceof N?this._children[this._children.length-1].value+=d.value:(d.parent=this,this._children.push(d)),this}replace(d,c){const{parent:s}=d,a=s.children.indexOf(d),r=s.children.slice(0);r.splice(a,1,...c),s._children=r,function l(u,f){for(const w of u)w.parent=f,l(w.children,w)}(c,s)}get children(){return this._children}get snippet(){let d=this;for(;;){if(!d)return;if(d instanceof i)return d;d=d.parent}}toString(){return this.children.reduce((d,c)=>d+c.toString(),"")}len(){return 0}}e.Marker=m;class N extends m{constructor(d){super();this.value=d}toString(){return this.value}len(){return this.value.length}clone(){return new N(this.value)}}e.Text=N;class I extends m{}e.TransformableMarker=I;class S extends I{constructor(d){super();this.index=d}static compareByIndex(d,c){return d.index===c.index?0:d.isFinalTabstop?1:c.isFinalTabstop||d.index<c.index?-1:d.index>c.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof b?this._children[0]:void 0}clone(){let d=new S(this.index);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(c=>c.clone()),d}}e.Placeholder=S;class b extends m{constructor(){super(...arguments);this.options=[]}appendChild(d){return d instanceof N&&(d.parent=this,this.options.push(d)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let d=new b;return this.options.forEach(d.appendChild,d),d}}e.Choice=b;class C extends m{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(d){const c=this;let s=!1,a=d.replace(this.regexp,function(){return s=!0,c._replace(Array.prototype.slice.call(arguments,0,-2))});return!s&&this._children.some(r=>r instanceof h&&Boolean(r.elseValue))&&(a=this._replace([])),a}_replace(d){let c="";for(const s of this._children)if(s instanceof h){let a=d[s.index]||"";a=s.resolve(a),c+=a}else c+=s.toString();return c}toString(){return""}clone(){let d=new C;return d.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),d._children=this.children.map(c=>c.clone()),d}}e.Transform=C;class h extends m{constructor(d,c,s,a){super();this.index=d,this.shorthandName=c,this.ifValue=s,this.elseValue=a}resolve(d){return this.shorthandName==="upcase"?d?d.toLocaleUpperCase():"":this.shorthandName==="downcase"?d?d.toLocaleLowerCase():"":this.shorthandName==="capitalize"?d?d[0].toLocaleUpperCase()+d.substr(1):"":this.shorthandName==="pascalcase"?d?this._toPascalCase(d):"":this.shorthandName==="camelcase"?d?this._toCamelCase(d):"":Boolean(d)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(d)&&typeof this.elseValue=="string"?this.elseValue:d||""}_toPascalCase(d){const c=d.match(/[a-z0-9]+/gi);return c?c.map(s=>s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()).join(""):d}_toCamelCase(d){const c=d.match(/[a-z0-9]+/gi);return c?c.map((s,a)=>a===0?s.toLowerCase():s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()).join(""):d}clone(){return new h(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=h;class g extends I{constructor(d){super();this.name=d}resolve(d){let c=d.resolve(this);return this.transform&&(c=this.transform.resolve(c||"")),c!==void 0?(this._children=[new N(c)],!0):!1}clone(){const d=new g(this.name);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(c=>c.clone()),d}}e.Variable=g;function t(o,d){const c=[...o];for(;c.length>0;){const s=c.shift();if(!d(s))break;c.unshift(...s.children)}}class i extends m{get placeholderInfo(){if(!this._placeholders){let d=[],c;this.walk(function(s){return s instanceof S&&(d.push(s),c=!c||c.index<s.index?s:c),!0}),this._placeholders={all:d,last:c}}return this._placeholders}get placeholders(){const{all:d}=this.placeholderInfo;return d}offset(d){let c=0,s=!1;return this.walk(a=>a===d?(s=!0,!1):(c+=a.len(),!0)),s?c:-1}fullLen(d){let c=0;return t([d],s=>(c+=s.len(),!0)),c}enclosingPlaceholders(d){let c=[],{parent:s}=d;for(;s;)s instanceof S&&c.push(s),s=s.parent;return c}resolveVariables(d){return this.walk(c=>(c instanceof g&&c.resolve(d)&&(this._placeholders=void 0),!0)),this}appendChild(d){return this._placeholders=void 0,super.appendChild(d)}replace(d,c){return this._placeholders=void 0,super.replace(d,c)}clone(){let d=new i;return this._children=this.children.map(c=>c.clone()),d}walk(d){t(this.children,d)}}e.TextmateSnippet=i;class n{constructor(){this._scanner=new y,this._token={type:14,pos:0,len:0}}static escape(d){return d.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(d){return/\${?CLIPBOARD/.test(d)}parse(d,c,s){this._scanner.text(d),this._token=this._scanner.next();const a=new i;for(;this._parse(a););const r=new Map,l=[];let u=0;a.walk(f=>(f instanceof S&&(u+=1,f.isFinalTabstop?r.set(0,void 0):!r.has(f.index)&&f.children.length>0?r.set(f.index,f.children):l.push(f)),!0));for(const f of l){const w=r.get(f.index);if(w){const v=new S(f.index);v.transform=f.transform;for(const p of w)v.appendChild(p.clone());a.replace(f,[v])}}return s||(s=u>0&&c),!r.has(0)&&s&&a.appendChild(new S(0)),a}_accept(d,c){if(d===void 0||this._token.type===d){let s=c?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),s}return!1}_backTo(d){return this._scanner.pos=d.pos+d.len,this._token=d,!1}_until(d){const c=this._token;for(;this._token.type!==d;){if(this._token.type===14)return!1;if(this._token.type===5){const a=this._scanner.next();if(a.type!==0&&a.type!==4&&a.type!==5)return!1}this._token=this._scanner.next()}const s=this._scanner.value.substring(c.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),s}_parse(d){return this._parseEscaped(d)||this._parseTabstopOrVariableName(d)||this._parseComplexPlaceholder(d)||this._parseComplexVariable(d)||this._parseAnything(d)}_parseEscaped(d){let c;return(c=this._accept(5,!0))?(c=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||c,d.appendChild(new N(c)),!0):!1}_parseTabstopOrVariableName(d){let c;const s=this._token;return this._accept(0)&&(c=this._accept(9,!0)||this._accept(8,!0))?(d.appendChild(/^\d+$/.test(c)?new S(Number(c)):new g(c)),!0):this._backTo(s)}_parseComplexPlaceholder(d){let c;const s=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(8,!0))))return this._backTo(s);const r=new S(Number(c));if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(r),!0;if(!this._parse(r))return d.appendChild(new N("${"+c+":")),r.children.forEach(d.appendChild,d),!0}else if(r.index>0&&this._accept(7)){const l=new b;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(l),this._accept(4)))return d.appendChild(r),!0}return this._backTo(s),!1}}else return this._accept(6)?this._parseTransform(r)?(d.appendChild(r),!0):(this._backTo(s),!1):this._accept(4)?(d.appendChild(r),!0):this._backTo(s)}_parseChoiceElement(d){const c=this._token,s=[];for(;!(this._token.type===2||this._token.type===7);){let a;if((a=this._accept(5,!0))?a=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||a:a=this._accept(void 0,!0),!a)return this._backTo(c),!1;s.push(a)}return s.length===0?(this._backTo(c),!1):(d.appendChild(new N(s.join(""))),!0)}_parseComplexVariable(d){let c;const s=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(9,!0))))return this._backTo(s);const r=new g(c);if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(r),!0;if(!this._parse(r))return d.appendChild(new N("${"+c+":")),r.children.forEach(d.appendChild,d),!0}else return this._accept(6)?this._parseTransform(r)?(d.appendChild(r),!0):(this._backTo(s),!1):this._accept(4)?(d.appendChild(r),!0):this._backTo(s)}_parseTransform(d){let c=new C,s="",a="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,s+=r;continue}if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,c.appendChild(new N(r));continue}if(!(this._parseFormatString(c)||this._parseAnything(c)))return!1}for(;!this._accept(4);){if(this._token.type!==14){a+=this._accept(void 0,!0);continue}return!1}try{c.regexp=new RegExp(s,a)}catch{return!1}return d.transform=c,!0}_parseFormatString(d){const c=this._token;if(!this._accept(0))return!1;let s=!1;this._accept(3)&&(s=!0);let a=this._accept(8,!0);if(a)if(s){if(this._accept(4))return d.appendChild(new h(Number(a))),!0;if(!this._accept(1))return this._backTo(c),!1}else return d.appendChild(new h(Number(a))),!0;else return this._backTo(c),!1;if(this._accept(6)){let r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(c),!1):(d.appendChild(new h(Number(a),r)),!0)}else if(this._accept(11)){let r=this._until(4);if(r)return d.appendChild(new h(Number(a),void 0,r,void 0)),!0}else if(this._accept(12)){let r=this._until(4);if(r)return d.appendChild(new h(Number(a),void 0,void 0,r)),!0}else if(this._accept(13)){let r=this._until(1);if(r){let l=this._until(4);if(l)return d.appendChild(new h(Number(a),void 0,r,l)),!0}}else{let r=this._until(4);if(r)return d.appendChild(new h(Number(a),void 0,void 0,r)),!0}return this._backTo(c),!1}_parseAnything(d){return this._token.type!==14?(d.appendChild(new N(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=n}),define(ee[451],te([0,1,19,72,8]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class I{constructor(C,h){this.leadingLineContent=C,this.characterCountDelta=h}}e.LineContext=I;class S{constructor(C,h,g,t,i,n,o){this.clipboardText=o,this._snippetCompareFn=S._compareCompletionItems,this._items=C,this._column=h,this._wordDistance=t,this._options=i,this._refilterKind=1,this._lineContext=g,n==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:n==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(C){(this._lineContext.leadingLineContent!==C.leadingLineContent||this._lineContext.characterCountDelta!==C.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<C.characterCountDelta&&this._filteredItems?2:1,this._lineContext=C)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const C=new Set;for(let[h,g]of this._providerInfo)g&&C.add(h);return C}adopt(C){let h=[];for(let g=0;g<this._items.length;)C.has(this._items[g].provider)?g++:(h.push(this._items[g]),this._items[g]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,h}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const C=[],{leadingLineContent:h,characterCountDelta:g}=this._lineContext;let t="",i="";const n=this._refilterKind===1?this._items:this._filteredItems,o=[],d=!this._options.filterGraceful||n.length>2e3?m.fuzzyScore:m.fuzzyScoreGracefulAggressive;for(let c=0;c<n.length;c++){const s=n[c];if(s.isInvalid)continue;this._providerInfo.set(s.provider,Boolean(s.container.incomplete));const a=s.position.column-s.editStart.column,r=a+g-(s.position.column-this._column);if(t.length!==r&&(t=r===0?"":h.slice(-r),i=t.toLowerCase()),s.word=t,r===0)s.score=m.FuzzyScore.Default;else{let l=0;for(;l<a;){const u=t.charCodeAt(l);if(u===32||u===9)l+=1;else break}if(l>=r)s.score=m.FuzzyScore.Default;else if(typeof s.completion.filterText=="string"){let u=d(t,i,l,s.completion.filterText,s.filterTextLow,0,!1);if(!u)continue;(0,N.compareIgnoreCase)(s.completion.filterText,s.textLabel)===0?s.score=u:(s.score=(0,m.anyScore)(t,i,l,s.textLabel,s.labelLow,0),s.score[0]=u[0])}else{let u=d(t,i,l,s.textLabel,s.labelLow,0,!1);if(!u)continue;s.score=u}}s.idx=c,s.distance=this._wordDistance.distance(s.position,s.completion),o.push(s),C.push(s.textLabel.length)}this._filteredItems=o.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:C.length?(0,y.quickSelect)(C.length-.85,C,(c,s)=>c-s):0}}static _compareCompletionItems(C,h){return C.score[0]>h.score[0]?-1:C.score[0]<h.score[0]?1:C.distance<h.distance?-1:C.distance>h.distance?1:C.idx<h.idx?-1:C.idx>h.idx?1:0}static _compareCompletionItemsSnippetsDown(C,h){if(C.completion.kind!==h.completion.kind){if(C.completion.kind===27)return 1;if(h.completion.kind===27)return-1}return S._compareCompletionItems(C,h)}static _compareCompletionItemsSnippetsUp(C,h){if(C.completion.kind!==h.completion.kind){if(C.completion.kind===27)return-1;if(h.completion.kind===27)return 1}return S._compareCompletionItems(C,h)}}e.CompletionModel=S}),define(ee[254],te([0,1,7,111,4,2]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new N.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new N.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new I.DisposableStore,this._size=new y.Dimension(0,0),this._minSize=new y.Dimension(0,0),this._maxSize=new y.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new m.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new m.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new m.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:m.OrthogonalEdge.North}),this._southSash=new m.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:m.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let C,h=0,g=0;this._sashListener.add(N.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{C===void 0&&(this._onDidWillResize.fire(),C=this._size,h=0,g=0)})),this._sashListener.add(N.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{C!==void 0&&(C=void 0,h=0,g=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(t=>{C&&(g=t.currentX-t.startX,this.layout(C.height+h,C.width+g),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(t=>{C&&(g=-(t.currentX-t.startX),this.layout(C.height+h,C.width+g),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(t=>{C&&(h=-(t.currentY-t.startY),this.layout(C.height+h,C.width+g),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(t=>{C&&(h=t.currentY-t.startY,this.layout(C.height+h,C.width+g),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(N.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(t=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(N.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(t=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(C,h,g,t){this._northSash.state=C?3:0,this._eastSash.state=h?3:0,this._southSash.state=g?3:0,this._westSash.state=t?3:0}layout(C=this.size.height,h=this.size.width){const{height:g,width:t}=this._minSize,{height:i,width:n}=this._maxSize;C=Math.max(g,Math.min(i,C)),h=Math.max(t,Math.min(n,h));const o=new y.Dimension(h,C);y.Dimension.equals(o,this._size)||(this.domNode.style.height=C+"px",this.domNode.style.width=h+"px",this._size=o,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(C){this._maxSize=C}get maxSize(){return this._maxSize}set minSize(C){this._minSize=C}get minSize(){return this._minSize}set preferredSize(C){this._preferredSize=C}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(ee[452],te([0,1,19,2,96]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class I{constructor(b,C,h){this._disposables=new m.DisposableStore,this._disposables.add(C.onDidShow(()=>this._onItem(C.getFocusedItem()))),this._disposables.add(C.onDidFocus(this._onItem,this)),this._disposables.add(C.onDidHide(this.reset,this)),this._disposables.add(b.onWillType(g=>{if(this._active&&!C.isFrozen()){const t=g.charCodeAt(g.length-1);this._active.acceptCharacters.has(t)&&b.getOption(0)&&h(this._active.item)}}))}_onItem(b){if(!b||!(0,y.isNonEmptyArray)(b.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===b.item)return;const C=new N.CharacterSet;for(const h of b.item.completion.commitCharacters)h.length>0&&C.add(h.charCodeAt(0));this._active={acceptCharacters:C,item:b}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=I}),define(ee[453],te([0,1,2]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class m{constructor(I,S){this._disposables=new y.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(I.onWillType(()=>{if(!this._empty||!I.hasModel())return;const b=I.getSelections(),C=b.length;let h=!1;for(let t=0;t<C;t++)if(!b[t].isEmpty()){h=!0;break}if(!h)return;this._lastOvertyped=[];const g=I.getModel();for(let t=0;t<C;t++){const i=b[t];if(g.getValueLengthInRange(i)>m._maxSelectionLength)return;this._lastOvertyped[t]={value:g.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1})),this._disposables.add(S.onDidCancel(b=>{!this._empty&&!b.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(I){if(!this._empty&&I>=0&&I<this._lastOvertyped.length)return this._lastOvertyped[I]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=m,m._maxSelectionLength=51200}),define(ee[454],te([0,1,19,3,253]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class I{static create(b,C){return De(this,void 0,void 0,function*(){if(!C.getOption(106).localityBonus||!C.hasModel())return I.None;const h=C.getModel(),g=C.getPosition();if(!b.canComputeWordRanges(h.uri))return I.None;const[t]=yield new N.BracketSelectionRangeProvider().provideSelectionRanges(h,[g]);if(t.length===0)return I.None;const i=yield b.computeWordRanges(h.uri,t[0].range);if(!i)return I.None;const n=h.getWordUntilPosition(g);return delete i[n.word],new class extends I{distance(o,d){if(!g.equals(C.getPosition()))return 0;if(d.kind===17)return 2<<20;let c=typeof d.label=="string"?d.label:d.label.label,s=i[c];if((0,y.isFalsyOrEmpty)(s))return 2<<20;let a=(0,y.binarySearch)(s,m.Range.fromPositions(o),m.Range.compareRangesUsingStarts),r=a>=0?s[a]:s[Math.max(0,~a-1)],l=t.length;for(const u of t){if(!m.Range.containsRange(u.range,r))break;l-=1}return l}}})}}e.WordDistance=I,I.None=new class extends I{distance(){return 0}}}),define(ee[255],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function y(o){return Array.isArray(o)}e.isFuzzyActionArr=y;function m(o){return!y(o)}e.isFuzzyAction=m;function N(o){return typeof o=="string"}e.isString=N;function I(o){return!N(o)}e.isIAction=I;function S(o){return!o}e.empty=S;function b(o,d){return o.ignoreCase&&d?d.toLowerCase():d}e.fixCase=b;function C(o){return o.replace(/[&<>'"_]/g,"-")}e.sanitize=C;function h(o,d){console.log(`${o.languageId}: ${d}`)}e.log=h;function g(o,d){return new Error(`${o.languageId}: ${d}`)}e.createError=g;function t(o,d,c,s,a){const r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let l=null;return d.replace(r,function(u,f,w,v,p,_,L,E,M){return S(w)?S(v)?!S(p)&&p<s.length?b(o,s[p]):!S(L)&&o&&typeof o[L]=="string"?o[L]:(l===null&&(l=a.split("."),l.unshift(a)),!S(_)&&_<l.length?b(o,l[_]):""):b(o,c):"$"})}e.substituteMatches=t;function i(o,d){let c=d;for(;c&&c.length>0;){const s=o.tokenizer[c];if(s)return s;const a=c.lastIndexOf(".");a<0?c=null:c=c.substr(0,a)}return null}e.findRules=i;function n(o,d){let c=d;for(;c&&c.length>0;){if(o.stateNames[c])return!0;const a=c.lastIndexOf(".");a<0?c=null:c=c.substr(0,a)}return!1}e.stateExists=n}),define(ee[455],te([0,1,255]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function m(o,d){if(!d||!Array.isArray(d))return!1;for(const c of d)if(!o(c))return!1;return!0}function N(o,d){return typeof o=="boolean"?o:d}function I(o,d){return typeof o=="string"?o:d}function S(o){const d={};for(const c of o)d[c]=!0;return d}function b(o,d=!1){d&&(o=o.map(function(s){return s.toLowerCase()}));const c=S(o);return d?function(s){return c[s.toLowerCase()]!==void 0&&c.hasOwnProperty(s.toLowerCase())}:function(s){return c[s]!==void 0&&c.hasOwnProperty(s)}}function C(o,d){d=d.replace(/@@/g,"");let c=0,s;do s=!1,d=d.replace(/@(\w+)/g,function(r,l){s=!0;let u="";if(typeof o[l]=="string")u=o[l];else if(o[l]&&o[l]instanceof RegExp)u=o[l].source;else throw o[l]===void 0?y.createError(o,"language definition does not contain attribute '"+l+"', used at: "+d):y.createError(o,"attribute reference '"+l+"' must be a string, used at: "+d);return y.empty(u)?"":"(?:"+u+")"}),c++;while(s&&c<5);d=d.replace(/\x01/g,"@");const a=(o.ignoreCase?"i":"")+(o.unicode?"u":"");return new RegExp(d,a)}function h(o,d,c,s){if(s<0)return o;if(s<d.length)return d[s];if(s>=100){s=s-100;const a=c.split(".");if(a.unshift(c),s<a.length)return a[s]}return null}function g(o,d,c,s){let a=-1,r=c,l=c.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(a=parseInt(l[3]),l[2]&&(a=a+100)),r=l[4]);let u="~",f=r;!r||r.length===0?(u="!=",f=""):/^\w*$/.test(f)?u="==":(l=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(u=l[1],f=l[2]));let w;if((u==="~"||u==="!~")&&/^(\w|\|)*$/.test(f)){const v=b(f.split("|"),o.ignoreCase);w=function(p){return u==="~"?v(p):!v(p)}}else if(u==="@"||u==="!@"){const v=o[f];if(!v)throw y.createError(o,"the @ match target '"+f+"' is not defined, in rule: "+d);if(!m(function(_){return typeof _=="string"},v))throw y.createError(o,"the @ match target '"+f+"' must be an array of strings, in rule: "+d);const p=b(v,o.ignoreCase);w=function(_){return u==="@"?p(_):!p(_)}}else if(u==="~"||u==="!~")if(f.indexOf("$")<0){const v=C(o,"^"+f+"$");w=function(p){return u==="~"?v.test(p):!v.test(p)}}else w=function(v,p,_,L){return C(o,"^"+y.substituteMatches(o,f,p,_,L)+"$").test(v)};else if(f.indexOf("$")<0){const v=y.fixCase(o,f);w=function(p){return u==="=="?p===v:p!==v}}else{const v=y.fixCase(o,f);w=function(p,_,L,E,M){const k=y.substituteMatches(o,v,_,L,E);return u==="=="?p===k:p!==k}}return a===-1?{name:c,value:s,test:function(v,p,_,L){return w(v,v,p,_,L)}}:{name:c,value:s,test:function(v,p,_,L){const E=h(v,p,_,a);return w(E||"",v,p,_,L)}}}function t(o,d,c){if(c){if(typeof c=="string")return c;if(c.token||c.token===""){if(typeof c.token!="string")throw y.createError(o,"a 'token' attribute must be of type string, in rule: "+d);{const s={token:c.token};if(c.token.indexOf("$")>=0&&(s.tokenSubst=!0),typeof c.bracket=="string")if(c.bracket==="@open")s.bracket=1;else if(c.bracket==="@close")s.bracket=-1;else throw y.createError(o,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+d);if(c.next){if(typeof c.next!="string")throw y.createError(o,"the next state must be a string value in rule: "+d);{let a=c.next;if(!/^(@pop|@push|@popall)$/.test(a)&&(a[0]==="@"&&(a=a.substr(1)),a.indexOf("$")<0&&!y.stateExists(o,y.substituteMatches(o,a,"",[],""))))throw y.createError(o,"the next state '"+c.next+"' is not defined in rule: "+d);s.next=a}}return typeof c.goBack=="number"&&(s.goBack=c.goBack),typeof c.switchTo=="string"&&(s.switchTo=c.switchTo),typeof c.log=="string"&&(s.log=c.log),typeof c.nextEmbedded=="string"&&(s.nextEmbedded=c.nextEmbedded,o.usesEmbedded=!0),s}}else if(Array.isArray(c)){const s=[];for(let a=0,r=c.length;a<r;a++)s[a]=t(o,d,c[a]);return{group:s}}else if(c.cases){const s=[];for(let r in c.cases)if(c.cases.hasOwnProperty(r)){const l=t(o,d,c.cases[r]);r==="@default"||r==="@"||r===""?s.push({test:void 0,value:l,name:r}):r==="@eos"?s.push({test:function(u,f,w,v){return v},value:l,name:r}):s.push(g(o,d,r,l))}const a=o.defaultToken;return{test:function(r,l,u,f){for(const w of s)if(!w.test||w.test(r,l,u,f))return w.value;return a}}}else throw y.createError(o,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+d)}else return{token:""}}class i{constructor(d){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=d}setRegex(d,c){let s;if(typeof c=="string")s=c;else if(c instanceof RegExp)s=c.source;else throw y.createError(d,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=s.length>0&&s[0]==="^",this.name=this.name+": "+s,this.regex=C(d,"^(?:"+(this.matchOnlyAtLineStart?s.substr(1):s)+")")}setAction(d,c){this.action=t(d,this.name,c)}}function n(o,d){if(!d||typeof d!="object")throw new Error("Monarch: expecting a language definition object");const c={};c.languageId=o,c.includeLF=N(d.includeLF,!1),c.noThrow=!1,c.maxStack=100,c.start=typeof d.start=="string"?d.start:null,c.ignoreCase=N(d.ignoreCase,!1),c.unicode=N(d.unicode,!1),c.tokenPostfix=I(d.tokenPostfix,"."+c.languageId),c.defaultToken=I(d.defaultToken,"source"),c.usesEmbedded=!1;const s=d;s.languageId=o,s.includeLF=c.includeLF,s.ignoreCase=c.ignoreCase,s.unicode=c.unicode,s.noThrow=c.noThrow,s.usesEmbedded=c.usesEmbedded,s.stateNames=d.tokenizer,s.defaultToken=c.defaultToken;function a(l,u,f){for(const w of f){let v=w.include;if(v){if(typeof v!="string")throw y.createError(c,"an 'include' attribute must be a string at: "+l);if(v[0]==="@"&&(v=v.substr(1)),!d.tokenizer[v])throw y.createError(c,"include target '"+v+"' is not defined at: "+l);a(l+"."+v,u,d.tokenizer[v])}else{const p=new i(l);if(Array.isArray(w)&&w.length>=1&&w.length<=3)if(p.setRegex(s,w[0]),w.length>=3)if(typeof w[1]=="string")p.setAction(s,{token:w[1],next:w[2]});else if(typeof w[1]=="object"){const _=w[1];_.next=w[2],p.setAction(s,_)}else throw y.createError(c,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+l);else p.setAction(s,w[1]);else{if(!w.regex)throw y.createError(c,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+l);w.name&&typeof w.name=="string"&&(p.name=w.name),w.matchOnlyAtStart&&(p.matchOnlyAtLineStart=N(w.matchOnlyAtLineStart,!1)),p.setRegex(s,w.regex),p.setAction(s,w.action)}u.push(p)}}}if(!d.tokenizer||typeof d.tokenizer!="object")throw y.createError(c,"a language definition must define the 'tokenizer' attribute as an object");c.tokenizer=[];for(let l in d.tokenizer)if(d.tokenizer.hasOwnProperty(l)){c.start||(c.start=l);const u=d.tokenizer[l];c.tokenizer[l]=new Array,a("tokenizer."+l,c.tokenizer[l],u)}if(c.usesEmbedded=s.usesEmbedded,d.brackets){if(!Array.isArray(d.brackets))throw y.createError(c,"the 'brackets' attribute must be defined as an array")}else d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const r=[];for(let l of d.brackets){let u=l;if(u&&Array.isArray(u)&&u.length===3&&(u={token:u[2],open:u[0],close:u[1]}),u.open===u.close)throw y.createError(c,"open and close brackets in a 'brackets' attribute must be different: "+u.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof u.open=="string"&&typeof u.token=="string"&&typeof u.close=="string")r.push({token:u.token+c.tokenPostfix,open:y.fixCase(c,u.open),close:y.fixCase(c,u.close)});else throw y.createError(c,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return c.brackets=r,c.noThrow=!0,c}e.compile=n}),define(ee[456],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ee[457],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/findinput/findInput",e)}),define(ee[458],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(ee[256],te([0,1,170,27,458]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const I=N.localize(0,null),S=N.localize(1,null),b=N.localize(2,null);class C extends y.Checkbox{constructor(i){super({icon:m.Codicon.caseSensitive,title:I+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=C;class h extends y.Checkbox{constructor(i){super({icon:m.Codicon.wholeWord,title:S+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsCheckbox=h;class g extends y.Checkbox{constructor(i){super({icon:m.Codicon.regex,title:b+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexCheckbox=g}),define(ee[459],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ee[460],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ee[461],te([0,1,7,10,21,65,94,2,20,460]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function g(n,o){(0,C.isString)(o)?n.title=(0,S.stripIcons)(o):(o==null?void 0:o.markdownNotSupportedFallback)?n.title=o.markdownNotSupportedFallback:n.removeAttribute("title")}e.setupNativeHover=g;class t{constructor(o,d,c){this.hoverDelegate=o,this.target=d,this.fadeInAnimation=c}update(o,d){var c;return De(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let s;if(o===void 0||(0,C.isString)(o)||o instanceof HTMLElement)s=o;else if(!(0,C.isFunction)(o.markdown))s=(c=o.markdown)!==null&&c!==void 0?c:o.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,h.localize)(0,null),d),this._cancellationTokenSource=new N.CancellationTokenSource;const a=this._cancellationTokenSource.token;if(s=yield o.markdown(a),this.isDisposed||a.isCancellationRequested)return}this.show(s,d)})}show(o,d){const c=this._hoverWidget;if(this.hasContent(o)){const s={content:o,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!c};this._hoverWidget=this.hoverDelegate.showHover(s,d)}c==null||c.dispose()}hasContent(o){return o?(0,I.isMarkdownString)(o)?!!o.value:!0:!1}get isDisposed(){var o;return(o=this._hoverWidget)===null||o===void 0?void 0:o.isDisposed}dispose(){var o,d;(o=this._hoverWidget)===null||o===void 0||o.dispose(),(d=this._cancellationTokenSource)===null||d===void 0||d.dispose(!0),this._cancellationTokenSource=void 0}}function i(n,o,d){let c,s;const a=(w,v)=>{var p;w&&(s==null||s.dispose(),s=void 0),v&&(c==null||c.dispose(),c=void 0),(p=n.onDidHideHover)===null||p===void 0||p.call(n)},r=(w,v,p)=>new m.TimeoutTimer(()=>De(this,void 0,void 0,function*(){(!s||s.isDisposed)&&(s=new t(n,p||o,w>0),yield s.update(d,v))}),w),l=()=>{if(c)return;const w=new b.DisposableStore,v=L=>a(!1,L.fromElement===o);w.add(y.addDisposableListener(o,y.EventType.MOUSE_LEAVE,v,!0));const p=()=>a(!0,!0);w.add(y.addDisposableListener(o,y.EventType.MOUSE_DOWN,p,!0));const _={targetElements:[o],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const L=E=>_.x=E.x+10;w.add(y.addDisposableListener(o,y.EventType.MOUSE_MOVE,L,!0))}w.add(r(n.delay,!1,_)),c=w},u=y.addDisposableListener(o,y.EventType.MOUSE_OVER,l,!0);return{show:w=>{a(!1,!0),r(0,w)},hide:()=>{a(!0,!0)},update:w=>De(this,void 0,void 0,function*(){d=w,yield s==null?void 0:s.update(d)}),dispose:()=>{u.dispose(),a(!0,!0)}}}e.setupCustomHover=i}),define(ee[187],te([0,1,7,215,461,2,38,135,333]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class C{constructor(o){this._element=o}get element(){return this._element}set textContent(o){this.disposed||o===this._textContent||(this._textContent=o,this._element.textContent=o)}set className(o){this.disposed||o===this._className||(this._className=o,this._element.className=o)}set empty(o){this.disposed||o===this._empty||(this._empty=o,this._element.style.marginLeft=o?"0":"")}dispose(){this.disposed=!0}}class h extends I.Disposable{constructor(o,d){super();this.customHovers=new Map,this.domNode=this._register(new C(y.append(o,y.$(".monaco-icon-label")))),this.labelContainer=y.append(this.domNode.element,y.$(".monaco-icon-label-container"));const c=y.append(this.labelContainer,y.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new C(y.append(this.labelContainer,y.$("span.monaco-icon-description-container")))),(d==null?void 0:d.supportHighlights)||(d==null?void 0:d.supportIcons)?this.nameNode=new i(c,!!d.supportIcons):this.nameNode=new g(c),(d==null?void 0:d.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new m.HighlightedLabel(y.append(this.descriptionContainer.element,y.$("span.label-description")),{supportIcons:!!d.supportIcons}):this.descriptionNodeFactory=()=>this._register(new C(y.append(this.descriptionContainer.element,y.$("span.label-description")))),this.hoverDelegate=d==null?void 0:d.hoverDelegate}get element(){return this.domNode.element}setLabel(o,d,c){const s=["monaco-icon-label"];c&&(c.extraClasses&&s.push(...c.extraClasses),c.italic&&s.push("italic"),c.strikethrough&&s.push("strikethrough")),this.domNode.className=s.join(" "),this.setupHover((c==null?void 0:c.descriptionTitle)?this.labelContainer:this.element,c==null?void 0:c.title),this.nameNode.setLabel(o,c),(d||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof m.HighlightedLabel?(this.descriptionNode.set(d||"",c?c.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,c==null?void 0:c.descriptionTitle)):(this.descriptionNode.textContent=d||"",this.setupHover(this.descriptionNode.element,(c==null?void 0:c.descriptionTitle)||""),this.descriptionNode.empty=!d))}setupHover(o,d){const c=this.customHovers.get(o);if(c&&(c.dispose(),this.customHovers.delete(o)),!d){o.removeAttribute("title");return}if(!this.hoverDelegate)(0,N.setupNativeHover)(o,d);else{const s=(0,N.setupCustomHover)(this.hoverDelegate,o,d);s&&this.customHovers.set(o,s)}}dispose(){super.dispose();for(const o of this.customHovers.values())o.dispose();this.customHovers.clear()}}e.IconLabel=h;class g{constructor(o){this.container=o,this.label=void 0,this.singleLabel=void 0}setLabel(o,d){if(!(this.label===o&&(0,S.equals)(this.options,d)))if(this.label=o,this.options=d,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=y.append(this.container,y.$("a.label-name",{id:d==null?void 0:d.domId}))),this.singleLabel.textContent=o;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let c=0;c<o.length;c++){const s=o[c],a=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${c}`;y.append(this.container,y.$("a.label-name",{id:a,"data-icon-label-count":o.length,"data-icon-label-index":c,role:"treeitem"},s)),c<o.length-1&&y.append(this.container,y.$("span.label-separator",void 0,(d==null?void 0:d.separator)||"/"))}}}}function t(n,o,d){if(!d)return;let c=0;return n.map(s=>{const a={start:c,end:c+s.length},r=d.map(l=>b.Range.intersect(a,l)).filter(l=>!b.Range.isEmpty(l)).map(({start:l,end:u})=>({start:l-c,end:u-c}));return c=a.end+o.length,r})}class i{constructor(o,d){this.container=o,this.supportIcons=d,this.label=void 0,this.singleLabel=void 0}setLabel(o,d){if(!(this.label===o&&(0,S.equals)(this.options,d)))if(this.label=o,this.options=d,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new m.HighlightedLabel(y.append(this.container,y.$("a.label-name",{id:d==null?void 0:d.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(o,d==null?void 0:d.matches,void 0,d==null?void 0:d.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const c=(d==null?void 0:d.separator)||"/",s=t(o,c,d==null?void 0:d.matches);for(let a=0;a<o.length;a++){const r=o[a],l=s?s[a]:void 0,u=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${a}`,f=y.$("a.label-name",{id:u,"data-icon-label-count":o.length,"data-icon-label-index":a,role:"treeitem"});new m.HighlightedLabel(y.append(this.container,f),{supportIcons:this.supportIcons}).set(r,l,void 0,d==null?void 0:d.labelEscapeNewLines),a<o.length-1&&y.append(f,y.$("span.label-separator",void 0,c))}}}}}),define(ee[462],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ee[463],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ee[464],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/menu/menu",e)}),define(ee[465],te([5,6]),function(K,e){return K.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ee[188],te([0,1,162,7,88,47,171,112,165,106,19,10,27,212,4,72,2,108,17,465,345]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class l extends S.ElementsDragAndDropData{constructor(P){super(P.elements.map(D=>D.element));this.data=P}}function u(O){return O instanceof S.ElementsDragAndDropData?new l(O):O}class f{constructor(P,D){this.modelProvider=P,this.dnd=D,this.autoExpandDisposable=c.Disposable.None}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,D){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(x=>x.element),D)}onDragStart(P,D){this.dnd.onDragStart&&this.dnd.onDragStart(u(P),D)}onDragOver(P,D,x,H,j=!0){const Q=this.dnd.onDragOver(u(P),D&&D.element,x,H),G=this.autoExpandNode!==D;if(G&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=D),typeof D=="undefined")return Q;if(G&&typeof Q!="boolean"&&Q.autoExpand&&(this.autoExpandDisposable=(0,t.disposableTimeout)(()=>{const W=this.modelProvider(),V=W.getNodeLocation(D);W.isCollapsed(V)&&W.setCollapsed(V,!1),this.autoExpandNode=void 0},500)),typeof Q=="boolean"||!Q.accept||typeof Q.bubble=="undefined"||Q.feedback){if(!j){const W=typeof Q=="boolean"?Q:Q.accept,V=typeof Q=="boolean"?void 0:Q.effect;return{accept:W,effect:V,feedback:[x]}}return Q}if(Q.bubble===1){const W=this.modelProvider(),V=W.getNodeLocation(D),Y=W.getParentNodeLocation(V),X=W.getNode(Y),ae=Y&&W.getListIndex(Y);return this.onDragOver(P,X,ae,H,!1)}const se=this.modelProvider(),ne=se.getNodeLocation(D),Z=se.getListIndex(ne),U=se.getListRenderCount(ne);return Object.assign(Object.assign({},Q),{feedback:(0,g.range)(Z,Z+U)})}drop(P,D,x,H){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(u(P),D&&D.element,x,H)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}}function w(O,P){return P&&Object.assign(Object.assign({},P),{identityProvider:P.identityProvider&&{getId(D){return P.identityProvider.getId(D.element)}},dnd:P.dnd&&new f(O,P.dnd),multipleSelectionController:P.multipleSelectionController&&{isSelectionSingleChangeEvent(D){return P.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},D),{element:D.element}))},isSelectionRangeChangeEvent(D){return P.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},D),{element:D.element}))}},accessibilityProvider:P.accessibilityProvider&&Object.assign(Object.assign({},P.accessibilityProvider),{getSetSize(D){const x=O(),H=x.getNodeLocation(D),j=x.getParentNodeLocation(H);return x.getNode(j).visibleChildrenCount},getPosInSet(D){return D.visibleChildIndex+1},isChecked:P.accessibilityProvider&&P.accessibilityProvider.isChecked?D=>P.accessibilityProvider.isChecked(D.element):void 0,getRole:P.accessibilityProvider&&P.accessibilityProvider.getRole?D=>P.accessibilityProvider.getRole(D.element):()=>"treeitem",getAriaLabel(D){return P.accessibilityProvider.getAriaLabel(D.element)},getWidgetAriaLabel(){return P.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:P.accessibilityProvider&&P.accessibilityProvider.getWidgetRole?()=>P.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:P.accessibilityProvider&&P.accessibilityProvider.getAriaLevel?D=>P.accessibilityProvider.getAriaLevel(D.element):D=>D.depth,getActiveDescendantId:P.accessibilityProvider.getActiveDescendantId&&(D=>P.accessibilityProvider.getActiveDescendantId(D.element))}),keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(D){return P.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(D.element)}}),enableKeyboardNavigation:P.simpleKeyboardNavigation})}class v{constructor(P){this.delegate=P}getHeight(P){return this.delegate.getHeight(P.element)}getTemplateId(P){return this.delegate.getTemplateId(P.element)}hasDynamicHeight(P){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(P.element)}setDynamicHeight(P,D){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(P.element,D)}}e.ComposedTreeDelegate=v;var p;(function(O){O.None="none",O.OnHover="onHover",O.Always="always"})(p=e.RenderIndentGuides||(e.RenderIndentGuides={}));class _{constructor(P,D=[]){this._elements=D,this.onDidChange=o.Event.forEach(P,x=>this._elements=x)}get elements(){return this._elements}}class L{constructor(P,D,x,H,j={}){this.renderer=P,this.modelProvider=D,this.activeNodes=H,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new n.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=c.Disposable.None,this.disposables=new c.DisposableStore,this.templateId=P.templateId,this.updateOptions(j),o.Event.map(x,Q=>Q.node)(this.onDidChangeNodeTwistieState,this,this.disposables),P.onDidChangeTwistieState&&P.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(P={}){if(typeof P.indent!="undefined"&&(this.indent=(0,s.clamp)(P.indent,0,40)),typeof P.renderIndentGuides!="undefined"){const D=P.renderIndentGuides!==p.None;if(D!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=D,this.indentGuidesDisposable.dispose(),D)){const x=new c.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,x),this.indentGuidesDisposable=x,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof P.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=P.hideTwistiesOfChildlessElements)}renderTemplate(P){const D=(0,m.append)(P,(0,m.$)(".monaco-tl-row")),x=(0,m.append)(D,(0,m.$)(".monaco-tl-indent")),H=(0,m.append)(D,(0,m.$)(".monaco-tl-twistie")),j=(0,m.append)(D,(0,m.$)(".monaco-tl-contents")),Q=this.renderer.renderTemplate(j);return{container:P,indent:x,twistie:H,indentGuidesDisposable:c.Disposable.None,templateData:Q}}renderElement(P,D,x,H){typeof H=="number"&&(this.renderedNodes.set(P,{templateData:x,height:H}),this.renderedElements.set(P.element,P));const j=L.DefaultIndent+(P.depth-1)*this.indent;x.twistie.style.paddingLeft=`${j}px`,x.indent.style.width=`${j+this.indent-16}px`,this.renderTwistie(P,x),typeof H=="number"&&this.renderIndentGuides(P,x),this.renderer.renderElement(P,D,x.templateData,H)}disposeElement(P,D,x,H){x.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(P,D,x.templateData,H),typeof H=="number"&&(this.renderedNodes.delete(P),this.renderedElements.delete(P.element))}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}onDidChangeTwistieState(P){const D=this.renderedElements.get(P);!D||this.onDidChangeNodeTwistieState(D)}onDidChangeNodeTwistieState(P){const D=this.renderedNodes.get(P);!D||(this.renderTwistie(P,D.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(P,D.templateData))}renderTwistie(P,D){D.twistie.classList.remove(...i.Codicon.treeItemExpanded.classNamesArray);let x=!1;this.renderer.renderTwistie&&(x=this.renderer.renderTwistie(P.element,D.twistie)),P.collapsible&&(!this.hideTwistiesOfChildlessElements||P.visibleChildrenCount>0)?(x||D.twistie.classList.add(...i.Codicon.treeItemExpanded.classNamesArray),D.twistie.classList.add("collapsible"),D.twistie.classList.toggle("collapsed",P.collapsed)):D.twistie.classList.remove("collapsible","collapsed"),P.collapsible?D.container.setAttribute("aria-expanded",String(!P.collapsed)):D.container.removeAttribute("aria-expanded")}renderIndentGuides(P,D){if((0,m.clearNode)(D.indent),D.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const x=new c.DisposableStore,H=this.modelProvider();let j=P;for(;;){const Q=H.getNodeLocation(j),G=H.getParentNodeLocation(Q);if(!G)break;const se=H.getNode(G),ne=(0,m.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(se)&&ne.classList.add("active"),D.indent.childElementCount===0?D.indent.appendChild(ne):D.indent.insertBefore(ne,D.indent.firstElementChild),this.renderedIndentGuides.add(se,ne),x.add((0,c.toDisposable)(()=>this.renderedIndentGuides.delete(se,ne))),j=se}D.indentGuidesDisposable=x}_onDidChangeActiveNodes(P){if(!this.shouldRenderIndentGuides)return;const D=new Set,x=this.modelProvider();P.forEach(H=>{const j=x.getNodeLocation(H);try{const Q=x.getParentNodeLocation(j);H.collapsible&&H.children.length>0&&!H.collapsed?D.add(H):Q&&D.add(x.getNode(Q))}catch{}}),this.activeIndentNodes.forEach(H=>{D.has(H)||this.renderedIndentGuides.forEach(H,j=>j.classList.remove("active"))}),D.forEach(H=>{this.activeIndentNodes.has(H)||this.renderedIndentGuides.forEach(H,j=>j.classList.add("active"))}),this.activeIndentNodes=D}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,c.dispose)(this.disposables)}}L.DefaultIndent=8;class E{constructor(P,D,x){this.tree=P,this.keyboardNavigationLabelProvider=D,this._filter=x,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new c.DisposableStore,P.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(P){this._pattern=P,this._lowercasePattern=P.toLowerCase()}filter(P,D){if(this._filter){const j=this._filter.filter(P,D);if(this.tree.options.simpleKeyboardNavigation)return j;let Q;if(typeof j=="boolean"?Q=j?1:0:(0,C.isFilterResult)(j)?Q=(0,C.getVisibleState)(j.visibility):Q=j,Q===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:d.FuzzyScore.Default,visibility:!0};const x=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P),H=Array.isArray(x)?x:[x];for(const j of H){const Q=j&&j.toString();if(typeof Q=="undefined")return{data:d.FuzzyScore.Default,visibility:!0};const G=(0,d.fuzzyScore)(this._pattern,this._lowercasePattern,0,Q,Q.toLowerCase(),0,!0);if(G)return this._matchCount++,H.length===1?{data:G,visibility:!0}:{data:{label:Q,score:G},visibility:!0}}return this.tree.options.filterOnType?2:{data:d.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,c.dispose)(this.disposables)}}class M{constructor(P,D,x,H,j){this.tree=P,this.view=x,this.filter=H,this.keyboardNavigationDelegate=j,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new o.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new o.Emitter,this.enabledDisposables=new c.DisposableStore,this.disposables=new c.DisposableStore,this.domNode=(0,m.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,m.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,m.append)(x.getHTMLElement(),(0,m.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,m.append)(this.domNode,(0,m.$)("span.label"));const Q=(0,m.append)(this.domNode,(0,m.$)(".controls"));this._filterOnType=!!P.options.filterOnType,this.filterOnTypeDomNode=(0,m.append)(Q,(0,m.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,m.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,m.append)(Q,(0,m.$)("button.clear"+i.Codicon.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,r.localize)(0,null),this.keyboardNavigationEventFilter=P.options.keyboardNavigationEventFilter,D.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(P.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(P){P.simpleKeyboardNavigation?this.disable():this.enable(),typeof P.filterOnType!="undefined"&&(this._filterOnType=!!P.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof P.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=P.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const P=this.enabledDisposables.add(new N.DomEmitter(this.view.getHTMLElement(),"keydown")),D=o.Event.chain(P.event).filter(H=>!(0,b.isInputElement)(H.target)||H.target===this.filterOnTypeDomNode).filter(H=>H.key!=="Dead"&&!/^Media/.test(H.key)).map(H=>new I.StandardKeyboardEvent(H)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(H=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(H)&&!(H.keyCode===18||H.keyCode===16||H.keyCode===15||H.keyCode===17)||(this.pattern.length>0||this.triggered)&&(H.keyCode===9||H.keyCode===1)&&!H.altKey&&!H.ctrlKey&&!H.metaKey||H.keyCode===1&&(a.isMacintosh?H.altKey&&!H.metaKey:H.ctrlKey)&&!H.shiftKey).forEach(H=>{H.stopPropagation(),H.preventDefault()}).event,x=this.enabledDisposables.add(new N.DomEmitter(this.clearDomNode,"click"));o.Event.chain(o.Event.any(D,x.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(P){typeof P=="string"?this.onInput(P):P instanceof MouseEvent||P.keyCode===9||P.keyCode===1&&(a.isMacintosh?P.altKey:P.ctrlKey)?this.onInput(""):P.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+P.browserEvent.key)}onInput(P){const D=this.view.getHTMLElement();P&&!this.domNode.parentElement?D.append(this.domNode):!P&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=P,this._onDidChangePattern.fire(P),this.filter.pattern=P,this.tree.refilter(),P&&this.tree.focusNext(0,!0,void 0,H=>!d.FuzzyScore.isDefault(H.filterData));const x=this.tree.getFocus();if(x.length>0){const H=x[0];this.tree.getRelativeTop(H)===null&&this.tree.reveal(H,.5)}this.render(),P||(this.triggered=!1)}onDragStart(){const P=this.view.getHTMLElement(),{left:D}=(0,m.getDomNodePagePosition)(P),x=P.clientWidth,H=x/2,j=this.domNode.clientWidth,Q=new c.DisposableStore;let G=this.positionClassName;const se=()=>{switch(G){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${x-j-6}px`;break}},ne=U=>{U.preventDefault();const W=U.clientX-D;U.dataTransfer&&(U.dataTransfer.dropEffect="none"),W<H?G="nw":G="ne",se()},Z=()=>{this.positionClassName=G,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,c.dispose)(Q)};se(),this.domNode.classList.remove(G),this.domNode.classList.add("dragging"),Q.add((0,c.toDisposable)(()=>this.domNode.classList.remove("dragging"))),Q.add((0,m.addDisposableListener)(document,"dragover",U=>ne(U))),Q.add((0,m.addDisposableListener)(this.domNode,"dragend",()=>Z())),y.StaticDND.CurrentDragAndDropData=new y.DragAndDropData("vscode-ui"),Q.add((0,c.toDisposable)(()=>y.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...i.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...i.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,r.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...i.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...i.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,r.localize)(2,null))}render(){const P=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&P?(this.messageDomNode.textContent=(0,r.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",P),this.domNode.title=(0,r.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(P){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!d.FuzzyScore.isDefault(P.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,c.dispose)(this.disposables)}}function k(O){let P=h.TreeMouseEventTarget.Unknown;return(0,m.hasParentWithClass)(O.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?P=h.TreeMouseEventTarget.Twistie:(0,m.hasParentWithClass)(O.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(P=h.TreeMouseEventTarget.Element),{browserEvent:O.browserEvent,element:O.element?O.element.element:null,target:P}}function A(O,P){P(O),O.children.forEach(D=>A(D,P))}class F{constructor(P,D){this.getFirstViewElementWithTrait=P,this.identityProvider=D,this.nodes=[],this._onDidChange=new o.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(P,D){!(D==null?void 0:D.__forceEvent)&&(0,g.equals)(this.nodes,P)||this._set(P,!1,D)}_set(P,D,x){if(this.nodes=[...P],this.elements=void 0,this._nodeSet=void 0,!D){const H=this;this._onDidChange.fire({get elements(){return H.get()},browserEvent:x})}}get(){return this.elements||(this.elements=this.nodes.map(P=>P.element)),[...this.elements]}getNodes(){return this.nodes}has(P){return this.nodeSet.has(P)}onDidModelSplice({insertedNodes:P,deletedNodes:D}){if(!this.identityProvider){const se=this.createNodeSet(),ne=Z=>se.delete(Z);D.forEach(Z=>A(Z,ne)),this.set([...se.values()]);return}const x=new Set,H=se=>x.add(this.identityProvider.getId(se.element).toString());D.forEach(se=>A(se,H));const j=new Map,Q=se=>j.set(this.identityProvider.getId(se.element).toString(),se);P.forEach(se=>A(se,Q));const G=[];for(const se of this.nodes){const ne=this.identityProvider.getId(se.element).toString();if(!x.has(ne))G.push(se);else{const U=j.get(ne);U&&G.push(U)}}if(this.nodes.length>0&&G.length===0){const se=this.getFirstViewElementWithTrait();se&&G.push(se)}this._set(G,!0)}createNodeSet(){const P=new Set;for(const D of this.nodes)P.add(D);return P}}class B extends b.MouseController{constructor(P,D){super(P);this.tree=D}onViewPointer(P){if((0,b.isInputElement)(P.browserEvent.target)||(0,b.isMonacoEditor)(P.browserEvent.target))return;const D=P.element;if(!D)return super.onViewPointer(P);if(this.isSelectionRangeChangeEvent(P)||this.isSelectionSingleChangeEvent(P))return super.onViewPointer(P);const x=P.browserEvent.target,H=x.classList.contains("monaco-tl-twistie")||x.classList.contains("monaco-icon-label")&&x.classList.contains("folder-icon")&&P.browserEvent.offsetX<16;let j=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?j=this.tree.expandOnlyOnTwistieClick(D.element):j=!!this.tree.expandOnlyOnTwistieClick,j&&!H&&P.browserEvent.detail!==2)return super.onViewPointer(P);if(!this.tree.expandOnDoubleClick&&P.browserEvent.detail===2)return super.onViewPointer(P);if(D.collapsible){const Q=this.tree.model,G=Q.getNodeLocation(D),se=P.browserEvent.altKey;if(this.tree.setFocus([G]),Q.setCollapsed(G,void 0,se),j&&H)return}super.onViewPointer(P)}onDoubleClick(P){P.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(P)}}class T extends b.List{constructor(P,D,x,H,j,Q,G,se){super(P,D,x,H,se);this.focusTrait=j,this.selectionTrait=Q,this.anchorTrait=G}createMouseController(P){return new B(this,P.tree)}splice(P,D,x=[]){if(super.splice(P,D,x),x.length===0)return;const H=[],j=[];let Q;x.forEach((G,se)=>{this.focusTrait.has(G)&&H.push(P+se),this.selectionTrait.has(G)&&j.push(P+se),this.anchorTrait.has(G)&&(Q=P+se)}),H.length>0&&super.setFocus((0,g.distinct)([...super.getFocus(),...H])),j.length>0&&super.setSelection((0,g.distinct)([...super.getSelection(),...j])),typeof Q=="number"&&super.setAnchor(Q)}setFocus(P,D,x=!1){super.setFocus(P,D),x||this.focusTrait.set(P.map(H=>this.element(H)),D)}setSelection(P,D,x=!1){super.setSelection(P,D),x||this.selectionTrait.set(P.map(H=>this.element(H)),D)}setAnchor(P,D=!1){super.setAnchor(P),D||(typeof P=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(P)]))}}class R{constructor(P,D,x,H,j={}){this._user=P,this._options=j,this.eventBufferer=new o.EventBufferer,this.disposables=new c.DisposableStore,this._onWillRefilter=new o.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new o.Emitter;const Q=new v(x),G=new o.Relay,se=new o.Relay,ne=new _(se.event);this.renderers=H.map(W=>new L(W,()=>this.model,G.event,ne,j));for(let W of this.renderers)this.disposables.add(W);let Z;j.keyboardNavigationLabelProvider&&(Z=new E(this,j.keyboardNavigationLabelProvider,j.filter),j=Object.assign(Object.assign({},j),{filter:Z}),this.disposables.add(Z)),this.focus=new F(()=>this.view.getFocusedElements()[0],j.identityProvider),this.selection=new F(()=>this.view.getSelectedElements()[0],j.identityProvider),this.anchor=new F(()=>this.view.getAnchorElement(),j.identityProvider),this.view=new T(P,D,Q,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},w(()=>this.model,j)),{tree:this})),this.model=this.createModel(P,this.view,j),G.input=this.model.onDidChangeCollapseState;const U=o.Event.forEach(this.model.onDidSplice,W=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(W),this.selection.onDidModelSplice(W)})});if(U(()=>null,null,this.disposables),se.input=o.Event.chain(o.Event.any(U,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const W=new Set;for(const V of this.focus.getNodes())W.add(V);for(const V of this.selection.getNodes())W.add(V);return[...W.values()]}).event,j.keyboardSupport!==!1){const W=o.Event.chain(this.view.onKeyDown).filter(V=>!(0,b.isInputElement)(V.target)).map(V=>new I.StandardKeyboardEvent(V));W.filter(V=>V.keyCode===15).on(this.onLeftArrow,this,this.disposables),W.filter(V=>V.keyCode===17).on(this.onRightArrow,this,this.disposables),W.filter(V=>V.keyCode===10).on(this.onSpace,this,this.disposables)}if(j.keyboardNavigationLabelProvider){const W=j.keyboardNavigationDelegate||b.DefaultKeyboardNavigationDelegate;this.typeFilterController=new M(this,this.model,this.view,Z,W),this.focusNavigationFilter=V=>this.typeFilterController.shouldAllowFocus(V),this.disposables.add(this.typeFilterController)}this.styleElement=(0,m.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===p.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return o.Event.map(this.view.onMouseDblClick,k)}get onPointer(){return o.Event.map(this.view.onPointer,k)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return o.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(P={}){this._options=Object.assign(Object.assign({},this._options),P);for(const D of this.renderers)D.updateOptions(P);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===p.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(P){this.view.scrollTop=P}domFocus(){this.view.domFocus()}layout(P,D){this.view.layout(P,D)}style(P){const D=`.${this.view.domId}`,x=[];P.treeIndentGuidesStroke&&(x.push(`.monaco-list${D}:hover .monaco-tl-indent > .indent-guide, .monaco-list${D}.always .monaco-tl-indent > .indent-guide  { border-color: ${P.treeIndentGuidesStroke.transparent(.4)}; }`),x.push(`.monaco-list${D} .monaco-tl-indent > .indent-guide.active { border-color: ${P.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=x.join(`
`),this.view.style(P)}getParentElement(P){const D=this.model.getParentNodeLocation(P);return this.model.getNode(D).element}getFirstElementChild(P){return this.model.getFirstElementChild(P)}getNode(P){return this.model.getNode(P)}collapse(P,D=!1){return this.model.setCollapsed(P,!0,D)}expand(P,D=!1){return this.model.setCollapsed(P,!1,D)}isCollapsible(P){return this.model.isCollapsible(P)}setCollapsible(P,D){return this.model.setCollapsible(P,D)}isCollapsed(P){return this.model.isCollapsed(P)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(P,D){const x=P.map(j=>this.model.getNode(j));this.selection.set(x,D);const H=P.map(j=>this.model.getListIndex(j)).filter(j=>j>-1);this.view.setSelection(H,D,!0)}getSelection(){return this.selection.get()}setFocus(P,D){const x=P.map(j=>this.model.getNode(j));this.focus.set(x,D);const H=P.map(j=>this.model.getListIndex(j)).filter(j=>j>-1);this.view.setFocus(H,D,!0)}focusNext(P=1,D=!1,x,H=this.focusNavigationFilter){this.view.focusNext(P,D,x,H)}getFocus(){return this.focus.get()}reveal(P,D){this.model.expandTo(P);const x=this.model.getListIndex(P);x!==-1&&this.view.reveal(x,D)}getRelativeTop(P){const D=this.model.getListIndex(P);return D===-1?null:this.view.getRelativeTop(D)}onLeftArrow(P){P.preventDefault(),P.stopPropagation();const D=this.view.getFocusedElements();if(D.length===0)return;const x=D[0],H=this.model.getNodeLocation(x);if(!this.model.setCollapsed(H,!0)){const Q=this.model.getParentNodeLocation(H);if(!Q)return;const G=this.model.getListIndex(Q);this.view.reveal(G),this.view.setFocus([G])}}onRightArrow(P){P.preventDefault(),P.stopPropagation();const D=this.view.getFocusedElements();if(D.length===0)return;const x=D[0],H=this.model.getNodeLocation(x);if(!this.model.setCollapsed(H,!1)){if(!x.children.some(se=>se.visible))return;const[Q]=this.view.getFocus(),G=Q+1;this.view.reveal(G),this.view.setFocus([G])}}onSpace(P){P.preventDefault(),P.stopPropagation();const D=this.view.getFocusedElements();if(D.length===0)return;const x=D[0],H=this.model.getNodeLocation(x),j=P.browserEvent.altKey;this.model.setCollapsed(H,void 0,j)}dispose(){(0,c.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=R}),define(ee[466],te([0,1,188,166]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class N extends y.AbstractTree{constructor(S,b,C,h,g,t={}){super(S,b,C,h,t);this.user=S,this.dataSource=g,this.identityProvider=t.identityProvider}createModel(S,b,C){return new m.ObjectTreeModel(S,b,C)}}e.DataTree=N}),define(ee[257],te([0,1,188,314,166,92,55]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class b extends y.AbstractTree{constructor(i,n,o,d,c={}){super(i,n,o,d,c);this.user=i}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(i,n=S.Iterable.empty(),o){this.model.setChildren(i,n,o)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,n,o){return new N.ObjectTreeModel(i,n,o)}}e.ObjectTree=b;class C{constructor(i,n){this._compressedTreeNodeProvider=i,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(i){const n=this.renderer.renderTemplate(i);return{compressedTreeNode:void 0,data:n}}renderElement(i,n,o,d){const c=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element);c.element.elements.length===1?(o.compressedTreeNode=void 0,this.renderer.renderElement(i,n,o.data,d)):(o.compressedTreeNode=c,this.renderer.renderCompressedElements(c,n,o.data,d))}disposeElement(i,n,o,d){o.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(o.compressedTreeNode,n,o.data,d):this.renderer.disposeElement&&this.renderer.disposeElement(i,n,o.data,d)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,n){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,n):!1}}Be([I.memoize],C.prototype,"compressedTreeNodeProvider",null);function h(t,i){return i&&Object.assign(Object.assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let o;try{o=t().getCompressedTreeNode(n)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return o.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(o.element.elements)}}})}class g extends b{constructor(i,n,o,d,c={}){const s=()=>this,a=d.map(r=>new C(s,r));super(i,n,o,a,h(s,c))}setChildren(i,n=S.Iterable.empty(),o){this.model.setChildren(i,n,o)}createModel(i,n,o){return new m.CompressibleObjectTreeModel(i,n,o)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=g}),define(ee[467],te([0,1,171,188,165,257,106,10,27,14,4,55,2]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function n(A){return Object.assign(Object.assign({},A),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function o(A,F){return F.parent?F.parent===A?!0:o(A,F.parent):!1}function d(A,F){return A===F||o(A,F)||o(F,A)}class c{constructor(F){this.node=F}get element(){return this.node.element.element}get children(){return this.node.children.map(F=>new c(F))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class s{constructor(F,B,T){this.renderer=F,this.nodeMapper=B,this.onDidChangeTwistieState=T,this.renderedNodes=new Map,this.templateId=F.templateId}renderTemplate(F){return{templateData:this.renderer.renderTemplate(F)}}renderElement(F,B,T,R){this.renderer.renderElement(this.nodeMapper.map(F),B,T.templateData,R)}renderTwistie(F,B){return F.slow?(B.classList.add(...C.Codicon.treeItemLoading.classNamesArray),!0):(B.classList.remove(...C.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(F,B,T,R){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(F),B,T.templateData,R)}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}dispose(){this.renderedNodes.clear()}}function a(A){return{browserEvent:A.browserEvent,elements:A.elements.map(F=>F.element)}}function r(A){return{browserEvent:A.browserEvent,element:A.element&&A.element.element,target:A.target}}class l extends y.ElementsDragAndDropData{constructor(F){super(F.elements.map(B=>B.element));this.data=F}}function u(A){return A instanceof y.ElementsDragAndDropData?new l(A):A}class f{constructor(F){this.dnd=F}getDragURI(F){return this.dnd.getDragURI(F.element)}getDragLabel(F,B){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(F.map(T=>T.element),B)}onDragStart(F,B){this.dnd.onDragStart&&this.dnd.onDragStart(u(F),B)}onDragOver(F,B,T,R,O=!0){return this.dnd.onDragOver(u(F),B&&B.element,T,R)}drop(F,B,T,R){this.dnd.drop(u(F),B&&B.element,T,R)}onDragEnd(F){this.dnd.onDragEnd&&this.dnd.onDragEnd(F)}}function w(A){return A&&Object.assign(Object.assign({},A),{collapseByDefault:!0,identityProvider:A.identityProvider&&{getId(F){return A.identityProvider.getId(F.element)}},dnd:A.dnd&&new f(A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent(F){return A.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},F),{element:F.element}))},isSelectionRangeChangeEvent(F){return A.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},F),{element:F.element}))}},accessibilityProvider:A.accessibilityProvider&&Object.assign(Object.assign({},A.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:A.accessibilityProvider.getRole?F=>A.accessibilityProvider.getRole(F.element):()=>"treeitem",isChecked:A.accessibilityProvider.isChecked?F=>{var B;return!!((B=A.accessibilityProvider)===null||B===void 0?void 0:B.isChecked(F.element))}:void 0,getAriaLabel(F){return A.accessibilityProvider.getAriaLabel(F.element)},getWidgetAriaLabel(){return A.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider.getAriaLevel&&(F=>A.accessibilityProvider.getAriaLevel(F.element)),getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(F=>A.accessibilityProvider.getActiveDescendantId(F.element))}),filter:A.filter&&{filter(F,B){return A.filter.filter(F.element,B)}},keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(F){return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(F.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof A.expandOnlyOnTwistieClick=="undefined"?void 0:typeof A.expandOnlyOnTwistieClick!="function"?A.expandOnlyOnTwistieClick:F=>A.expandOnlyOnTwistieClick(F.element),additionalScrollHeight:A.additionalScrollHeight})}function v(A,F){F(A),A.children.forEach(B=>v(B,F))}class p{constructor(F,B,T,R,O,P={}){this.user=F,this.dataSource=O,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new g.Emitter,this._onDidChangeNodeSlowState=new g.Emitter,this.nodeMapper=new S.WeakMapper(D=>new c(D)),this.disposables=new i.DisposableStore,this.identityProvider=P.identityProvider,this.autoExpandSingleChildren=typeof P.autoExpandSingleChildren=="undefined"?!1:P.autoExpandSingleChildren,this.sorter=P.sorter,this.collapseByDefault=P.collapseByDefault,this.tree=this.createTree(F,B,T,R,P),this.root=n({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return g.Event.map(this.tree.onDidChangeFocus,a)}get onDidChangeSelection(){return g.Event.map(this.tree.onDidChangeSelection,a)}get onMouseDblClick(){return g.Event.map(this.tree.onMouseDblClick,r)}get onPointer(){return g.Event.map(this.tree.onPointer,r)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(F,B,T,R,O){const P=new m.ComposedTreeDelegate(T),D=R.map(H=>new s(H,this.nodeMapper,this._onDidChangeNodeSlowState.event)),x=w(O)||{};return new I.ObjectTree(F,B,P,D,x)}updateOptions(F={}){this.tree.updateOptions(F)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(F){this.tree.scrollTop=F}domFocus(){this.tree.domFocus()}layout(F,B){this.tree.layout(F,B)}style(F){this.tree.style(F)}getInput(){return this.root.element}setInput(F,B){return De(this,void 0,void 0,function*(){this.refreshPromises.forEach(R=>R.cancel()),this.refreshPromises.clear(),this.root.element=F;const T=B&&{viewState:B,focus:[],selection:[]};yield this._updateChildren(F,!0,!1,T),T&&(this.tree.setFocus(T.focus),this.tree.setSelection(T.selection)),B&&typeof B.scrollTop=="number"&&(this.scrollTop=B.scrollTop)})}_updateChildren(F=this.root.element,B=!0,T=!1,R,O){return De(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const P=this.getDataNode(F);if(yield this.refreshAndRenderNode(P,B,R,O),T)try{this.tree.rerender(P)}catch{}})}rerender(F){if(F===void 0||F===this.root.element){this.tree.rerender();return}const B=this.getDataNode(F);this.tree.rerender(B)}getNode(F=this.root.element){const B=this.getDataNode(F),T=this.tree.getNode(B===this.root?null:B);return this.nodeMapper.map(T)}collapse(F,B=!1){const T=this.getDataNode(F);return this.tree.collapse(T===this.root?null:T,B)}expand(F,B=!1){return De(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const T=this.getDataNode(F);if(this.tree.hasElement(T)&&!this.tree.isCollapsible(T)||(T.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),T!==this.root&&!T.refreshPromise&&!this.tree.isCollapsed(T)))return!1;const R=this.tree.expand(T===this.root?null:T,B);return T.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),R})}setSelection(F,B){const T=F.map(R=>this.getDataNode(R));this.tree.setSelection(T,B)}getSelection(){return this.tree.getSelection().map(B=>B.element)}setFocus(F,B){const T=F.map(R=>this.getDataNode(R));this.tree.setFocus(T,B)}getFocus(){return this.tree.getFocus().map(B=>B.element)}reveal(F,B){this.tree.reveal(this.getDataNode(F),B)}getParentElement(F){const B=this.tree.getParentElement(this.getDataNode(F));return B&&B.element}getFirstElementChild(F=this.root.element){const B=this.getDataNode(F),T=this.tree.getFirstElementChild(B===this.root?null:B);return T&&T.element}getDataNode(F){const B=this.nodes.get(F===this.root.element?null:F);if(!B)throw new S.TreeError(this.user,`Data tree node not found: ${F}`);return B}refreshAndRenderNode(F,B,T,R){return De(this,void 0,void 0,function*(){yield this.refreshNode(F,B,T),this.render(F,T,R)})}refreshNode(F,B,T){return De(this,void 0,void 0,function*(){let R;return this.subTreeRefreshPromises.forEach((O,P)=>{!R&&d(P,F)&&(R=O.then(()=>this.refreshNode(F,B,T)))}),R||this.doRefreshSubTree(F,B,T)})}doRefreshSubTree(F,B,T){return De(this,void 0,void 0,function*(){let R;F.refreshPromise=new Promise(O=>R=O),this.subTreeRefreshPromises.set(F,F.refreshPromise),F.refreshPromise.finally(()=>{F.refreshPromise=void 0,this.subTreeRefreshPromises.delete(F)});try{const O=yield this.doRefreshNode(F,B,T);F.stale=!1,yield b.Promises.settled(O.map(P=>this.doRefreshSubTree(P,B,T)))}finally{R()}})}doRefreshNode(F,B,T){return De(this,void 0,void 0,function*(){F.hasChildren=!!this.dataSource.hasChildren(F.element);let R;if(!F.hasChildren)R=Promise.resolve(t.Iterable.empty());else{const O=(0,b.timeout)(800);O.then(()=>{F.slow=!0,this._onDidChangeNodeSlowState.fire(F)},P=>null),R=this.doGetChildren(F).finally(()=>O.cancel())}try{const O=yield R;return this.setChildren(F,O,B,T)}catch(O){if(F!==this.root&&this.tree.hasElement(F)&&this.tree.collapse(F),(0,h.isCancellationError)(O))return[];throw O}finally{F.slow&&(F.slow=!1,this._onDidChangeNodeSlowState.fire(F))}})}doGetChildren(F){let B=this.refreshPromises.get(F);return B||(B=(0,b.createCancelablePromise)(()=>De(this,void 0,void 0,function*(){const T=yield this.dataSource.getChildren(F.element);return this.processChildren(T)})),this.refreshPromises.set(F,B),B.finally(()=>{this.refreshPromises.delete(F)}))}_onDidChangeCollapseState({node:F,deep:B}){F.element!==null&&!F.collapsed&&F.element.stale&&(B?this.collapse(F.element.element):this.refreshAndRenderNode(F.element,!1).catch(h.onUnexpectedError))}setChildren(F,B,T,R){const O=[...B];if(F.children.length===0&&O.length===0)return[];const P=new Map,D=new Map;for(const j of F.children)if(P.set(j.element,j),this.identityProvider){const Q=this.tree.isCollapsed(j);D.set(j.id,{node:j,collapsed:Q})}const x=[],H=O.map(j=>{const Q=!!this.dataSource.hasChildren(j);if(!this.identityProvider){const Z=n({element:j,parent:F,hasChildren:Q});return Q&&this.collapseByDefault&&!this.collapseByDefault(j)&&(Z.collapsedByDefault=!1,x.push(Z)),Z}const G=this.identityProvider.getId(j).toString(),se=D.get(G);if(se){const Z=se.node;return P.delete(Z.element),this.nodes.delete(Z.element),this.nodes.set(j,Z),Z.element=j,Z.hasChildren=Q,T?se.collapsed?(Z.children.forEach(U=>v(U,W=>this.nodes.delete(W.element))),Z.children.splice(0,Z.children.length),Z.stale=!0):x.push(Z):Q&&this.collapseByDefault&&!this.collapseByDefault(j)&&(Z.collapsedByDefault=!1,x.push(Z)),Z}const ne=n({element:j,parent:F,id:G,hasChildren:Q});return R&&R.viewState.focus&&R.viewState.focus.indexOf(G)>-1&&R.focus.push(ne),R&&R.viewState.selection&&R.viewState.selection.indexOf(G)>-1&&R.selection.push(ne),R&&R.viewState.expanded&&R.viewState.expanded.indexOf(G)>-1?x.push(ne):Q&&this.collapseByDefault&&!this.collapseByDefault(j)&&(ne.collapsedByDefault=!1,x.push(ne)),ne});for(const j of P.values())v(j,Q=>this.nodes.delete(Q.element));for(const j of H)this.nodes.set(j.element,j);return F.children.splice(0,F.children.length,...H),F!==this.root&&this.autoExpandSingleChildren&&H.length===1&&x.length===0&&(H[0].collapsedByDefault=!1,x.push(H[0])),x}render(F,B,T){const R=F.children.map(P=>this.asTreeElement(P,B)),O=T&&Object.assign(Object.assign({},T),{diffIdentityProvider:T.diffIdentityProvider&&{getId(P){return T.diffIdentityProvider.getId(P.element)}}});this.tree.setChildren(F===this.root?null:F,R,O),F!==this.root&&this.tree.setCollapsible(F,F.hasChildren),this._onDidRender.fire()}asTreeElement(F,B){if(F.stale)return{element:F,collapsible:F.hasChildren,collapsed:!0};let T;return B&&B.viewState.expanded&&F.id&&B.viewState.expanded.indexOf(F.id)>-1?T=!1:T=F.collapsedByDefault,F.collapsedByDefault=void 0,{element:F,children:F.hasChildren?t.Iterable.map(F.children,R=>this.asTreeElement(R,B)):[],collapsible:F.hasChildren,collapsed:T}}processChildren(F){return this.sorter&&(F=[...F].sort(this.sorter.compare.bind(this.sorter))),F}dispose(){this.disposables.dispose()}}e.AsyncDataTree=p;class _{constructor(F){this.node=F}get element(){return{elements:this.node.element.elements.map(F=>F.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(F=>new _(F))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L{constructor(F,B,T,R){this.renderer=F,this.nodeMapper=B,this.compressibleNodeMapperProvider=T,this.onDidChangeTwistieState=R,this.renderedNodes=new Map,this.disposables=[],this.templateId=F.templateId}renderTemplate(F){return{templateData:this.renderer.renderTemplate(F)}}renderElement(F,B,T,R){this.renderer.renderElement(this.nodeMapper.map(F),B,T.templateData,R)}renderCompressedElements(F,B,T,R){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(F),B,T.templateData,R)}renderTwistie(F,B){return F.slow?(B.classList.add(...C.Codicon.treeItemLoading.classNamesArray),!0):(B.classList.remove(...C.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(F,B,T,R){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(F),B,T.templateData,R)}disposeCompressedElements(F,B,T,R){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(F),B,T.templateData,R)}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function E(A){const F=A&&w(A);return F&&Object.assign(Object.assign({},F),{keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(B){return A.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(B.map(T=>T.element))}})})}class M extends p{constructor(F,B,T,R,O,P,D={}){super(F,B,T,O,P,D);this.compressionDelegate=R,this.compressibleNodeMapper=new S.WeakMapper(x=>new _(x)),this.filter=D.filter}createTree(F,B,T,R,O){const P=new m.ComposedTreeDelegate(T),D=R.map(H=>new L(H,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),x=E(O)||{};return new I.CompressibleObjectTree(F,B,P,D,x)}asTreeElement(F,B){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(F.element)},super.asTreeElement(F,B))}updateOptions(F={}){this.tree.updateOptions(F)}render(F,B){if(!this.identityProvider)return super.render(F,B);const T=G=>this.identityProvider.getId(G).toString(),R=G=>{const se=new Set;for(const ne of G){const Z=this.tree.getCompressedTreeNode(ne===this.root?null:ne);if(!!Z.element)for(const U of Z.element.elements)se.add(T(U.element))}return se},O=R(this.tree.getSelection()),P=R(this.tree.getFocus());super.render(F,B);const D=this.getSelection();let x=!1;const H=this.getFocus();let j=!1;const Q=G=>{const se=G.element;if(se)for(let ne=0;ne<se.elements.length;ne++){const Z=T(se.elements[ne].element),U=se.elements[se.elements.length-1].element;O.has(Z)&&D.indexOf(U)===-1&&(D.push(U),x=!0),P.has(Z)&&H.indexOf(U)===-1&&(H.push(U),j=!0)}G.children.forEach(Q)};Q(this.tree.getCompressedTreeNode(F===this.root?null:F)),x&&this.setSelection(D),j&&this.setFocus(H)}processChildren(F){return this.filter&&(F=t.Iterable.filter(F,B=>{const T=this.filter.filter(B,1),R=k(T);if(R===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return R===1})),super.processChildren(F)}}e.CompressibleAsyncDataTree=M;function k(A){return typeof A=="boolean"?A?1:0:(0,N.isFilterResult)(A)?(0,N.getVisibleState)(A.visibility):(0,N.getVisibleState)(A)}}),define(ee[468],te([5,6]),function(K,e){return K.create("vs/base/common/actions",e)}),define(ee[44],te([0,1,4,2,468]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class I extends m.Disposable{constructor(t,i="",n="",o=!0,d){super();this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=t,this._label=i,this._cssClass=n,this._enabled=o,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(t){this._setLabel(t)}_setLabel(t){this._label!==t&&(this._label=t,this._onDidChange.fire({label:t}))}get tooltip(){return this._tooltip||""}set tooltip(t){this._setTooltip(t)}_setTooltip(t){this._tooltip!==t&&(this._tooltip=t,this._onDidChange.fire({tooltip:t}))}get class(){return this._cssClass}set class(t){this._setClass(t)}_setClass(t){this._cssClass!==t&&(this._cssClass=t,this._onDidChange.fire({class:t}))}get enabled(){return this._enabled}set enabled(t){this._setEnabled(t)}_setEnabled(t){this._enabled!==t&&(this._enabled=t,this._onDidChange.fire({enabled:t}))}get checked(){return this._checked}set checked(t){this._setChecked(t)}_setChecked(t){this._checked!==t&&(this._checked=t,this._onDidChange.fire({checked:t}))}run(t,i){return De(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(t))})}}e.Action=I;class S extends m.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new y.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new y.Emitter),this.onDidRun=this._onDidRun.event}run(t,i){return De(this,void 0,void 0,function*(){if(!t.enabled)return;this._onBeforeRun.fire({action:t});let n;try{yield this.runAction(t,i)}catch(o){n=o}this._onDidRun.fire({action:t,error:n})})}runAction(t,i){return De(this,void 0,void 0,function*(){yield t.run(i)})}}e.ActionRunner=S;class b extends I{constructor(t){super(b.ID,t,t?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=b,b.ID="vs.actions.separator";class C{constructor(t,i,n,o){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=t,this.label=i,this.class=o,this._actions=n}get actions(){return this._actions}dispose(){}run(){return De(this,void 0,void 0,function*(){})}}e.SubmenuAction=C;class h extends I{constructor(){super(h.ID,N.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=h,h.ID="vs.actions.empty"}),define(ee[124],te([0,1,33,162,7,58,44,2,17,20,456,219]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends b.Disposable{constructor(o,d,c={}){super();this.options=c,this._context=o||this,this._action=d,d instanceof S.Action&&this._register(d.onDidChange(s=>{!this.element||this.handleActionChangeEvent(s)}))}handleActionChangeEvent(o){o.enabled!==void 0&&this.updateEnabled(),o.checked!==void 0&&this.updateChecked(),o.class!==void 0&&this.updateClass(),o.label!==void 0&&(this.updateLabel(),this.updateTooltip()),o.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new S.ActionRunner)),this._actionRunner}set actionRunner(o){this._actionRunner=o}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(o){this._context=o}render(o){const d=this.element=o;this._register(I.Gesture.addTarget(o));const c=this.options&&this.options.draggable;c&&(o.draggable=!0,y.isFirefox&&this._register((0,N.addDisposableListener)(o,N.EventType.DRAG_START,s=>{var a;return(a=s.dataTransfer)===null||a===void 0?void 0:a.setData(m.DataTransfers.TEXT,this._action.label)}))),this._register((0,N.addDisposableListener)(d,I.EventType.Tap,s=>this.onClick(s,!0))),this._register((0,N.addDisposableListener)(d,N.EventType.MOUSE_DOWN,s=>{c||N.EventHelper.stop(s,!0),this._action.enabled&&s.button===0&&d.classList.add("active")})),C.isMacintosh&&this._register((0,N.addDisposableListener)(d,N.EventType.CONTEXT_MENU,s=>{s.button===0&&s.ctrlKey===!0&&this.onClick(s)})),this._register((0,N.addDisposableListener)(d,N.EventType.CLICK,s=>{N.EventHelper.stop(s,!0),this.options&&this.options.isMenu||this.onClick(s)})),this._register((0,N.addDisposableListener)(d,N.EventType.DBLCLICK,s=>{N.EventHelper.stop(s,!0)})),[N.EventType.MOUSE_UP,N.EventType.MOUSE_OUT].forEach(s=>{this._register((0,N.addDisposableListener)(d,s,a=>{N.EventHelper.stop(a),d.classList.remove("active")}))})}onClick(o,d=!1){var c;N.EventHelper.stop(o,!0);const s=h.isUndefinedOrNull(this._context)?((c=this.options)===null||c===void 0?void 0:c.useEventAsContext)?o:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,s)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(o){this.element&&(this.element.tabIndex=o?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=t;class i extends t{constructor(o,d,c={}){super(o,d,c);this.options=c,this.options.icon=c.icon!==void 0?c.icon:!1,this.options.label=c.label!==void 0?c.label:!0,this.cssClass=""}render(o){super.render(o),this.element&&(this.label=(0,N.append)(this.element,(0,N.$)("a.action-label"))),this.label&&(this._action.id===S.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,N.append)(this.element,(0,N.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(o){this.label&&(this.label.tabIndex=o?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let o=null;this.getAction().tooltip?o=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(o=this.getAction().label,this.options.keybinding&&(o=g.localize(0,null,o,this.options.keybinding))),o&&this.label&&(this.label.title=o)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=i}),define(ee[82],te([0,1,7,47,124,44,4,2,20,219]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class h extends b.Disposable{constructor(t,i={}){var n,o,d,c,s,a;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new S.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new S.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new S.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new S.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=i,this._context=(n=i.context)!==null&&n!==void 0?n:null,this._orientation=(o=this.options.orientation)!==null&&o!==void 0?o:0,this._triggerKeys={keyDown:(c=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&c!==void 0?c:!1,keys:(a=(s=this.options.triggerKeys)===null||s===void 0?void 0:s.keys)!==null&&a!==void 0?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new I.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(u=>this._onDidRun.fire(u))),this._register(this._actionRunner.onBeforeRun(u=>this._onBeforeRun.fire(u))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&this.domNode.classList.add("animated");let r,l;switch(this._orientation){case 0:r=[15],l=[17];break;case 1:r=[16],l=[18],this.domNode.className+=" vertical";break}this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_DOWN,u=>{const f=new m.StandardKeyboardEvent(u);let w=!0;const v=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;r&&(f.equals(r[0])||f.equals(r[1]))?w=this.focusPrevious():l&&(f.equals(l[0])||f.equals(l[1]))?w=this.focusNext():f.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():f.equals(14)?w=this.focusFirst():f.equals(13)?w=this.focusLast():f.equals(2)&&v instanceof N.BaseActionViewItem&&v.trapsArrowNavigation?w=this.focusNext():this.isTriggerKeyEvent(f)?this._triggerKeys.keyDown?this.doTrigger(f):this.triggerKeyDown=!0:w=!1,w&&(f.preventDefault(),f.stopPropagation())})),this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_UP,u=>{const f=new m.StandardKeyboardEvent(u);this.isTriggerKeyEvent(f)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(f)),f.preventDefault(),f.stopPropagation()):(f.equals(2)||f.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(y.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(y.getActiveElement()===this.domNode||!y.isAncestor(y.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),t.appendChild(this.domNode)}setFocusable(t){if(this.focusable=t,this.focusable){const i=this.viewItems.find(n=>n instanceof N.BaseActionViewItem&&n.isEnabled());i instanceof N.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof N.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(t){let i=!1;return this._triggerKeys.keys.forEach(n=>{i=i||t.equals(n)}),i}updateFocusedItem(){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(y.isAncestor(y.getActiveElement(),i)){this.focusedItem=t;break}}}get context(){return this._context}set context(t){this._context=t,this.viewItems.forEach(i=>i.setActionContext(t))}get actionRunner(){return this._actionRunner}set actionRunner(t){t&&(this._actionRunner=t,this.viewItems.forEach(i=>i.actionRunner=t))}getContainer(){return this.domNode}push(t,i={}){const n=Array.isArray(t)?t:[t];let o=C.isNumber(i.index)?i.index:null;n.forEach(d=>{const c=document.createElement("li");c.className="action-item",c.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(y.addDisposableListener(c,y.EventType.CONTEXT_MENU,a=>{y.EventHelper.stop(a,!0)}));let s;this.options.actionViewItemProvider&&(s=this.options.actionViewItemProvider(d)),s||(s=new N.ActionViewItem(this.context,d,i)),s.actionRunner=this._actionRunner,s.setActionContext(this.context),s.render(c),this.focusable&&s instanceof N.BaseActionViewItem&&this.viewItems.length===0&&s.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(c),this.viewItems.push(s),this._actionIds.push(d.id)):(this.actionsList.insertBefore(c,this.actionsList.children[o]),this.viewItems.splice(o,0,s),this._actionIds.splice(o,0,d.id),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],y.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(t){let i=!1,n;if(t===void 0?i=!0:typeof t=="number"?n=t:typeof t=="boolean"&&(i=t),i&&typeof this.focusedItem=="undefined"){const o=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(t){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(!t&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&this.options.focusOnlyEnabledItems&&!n.isEnabled());return this.updateFocus(),!0}focusPrevious(t){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!t&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&this.options.focusOnlyEnabledItems&&!n.isEnabled());return this.updateFocus(!0),!0}updateFocus(t,i,n=!1){var o;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((o=this.viewItems[this.previouslyFocusedItem])===null||o===void 0||o.blur());const d=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(d){let c=!0;C.isFunction(d.focus)||(c=!1),this.options.focusOnlyEnabledItems&&C.isFunction(d.isEnabled)&&!d.isEnabled()&&(c=!1),c?(n||this.previouslyFocusedItem!==this.focusedItem)&&(d.focus(t),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0)}}doTrigger(t){if(typeof this.focusedItem=="undefined")return;const i=this.viewItems[this.focusedItem];if(i instanceof N.BaseActionViewItem){const n=i._context===null||i._context===void 0?t:i._context;this.run(i._action,n)}}run(t,i){return De(this,void 0,void 0,function*(){yield this._actionRunner.run(t,i)})}dispose(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=h}),define(ee[469],te([0,1,7,47,58,44,4,222]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class b extends I.ActionRunner{constructor(g,t){super();this._onDidChangeVisibility=this._register(new S.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,y.append)(g,(0,y.$)(".monaco-dropdown")),this._label=(0,y.append)(this._element,(0,y.$)(".dropdown-label"));let i=t.labelRenderer;i||(i=o=>(o.textContent=t.label||"",null));for(const o of[y.EventType.CLICK,y.EventType.MOUSE_DOWN,N.EventType.Tap])this._register((0,y.addDisposableListener)(this.element,o,d=>y.EventHelper.stop(d,!0)));for(const o of[y.EventType.MOUSE_DOWN,N.EventType.Tap])this._register((0,y.addDisposableListener)(this._label,o,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,y.addDisposableListener)(this._label,y.EventType.KEY_UP,o=>{const d=new m.StandardKeyboardEvent(o);(d.equals(3)||d.equals(10))&&(y.EventHelper.stop(o,!0),this.visible?this.hide():this.show())}));const n=i(this._label);n&&this._register(n),this._register(N.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=b;class C extends b{constructor(g,t){super(g,t);this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(g){this._menuOptions=g}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(g){this._actions=g}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:g=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(g):void 0,getKeyBinding:g=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(g):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=C}),define(ee[470],te([0,1,7,124,469,4,222]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends m.BaseActionViewItem{constructor(C,h,g,t=Object.create(null)){super(null,C,t);this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Emitter),this.menuActionsOrProvider=h,this.contextMenuProvider=g,this.options=t,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const h=i=>{this.element=(0,y.append)(i,(0,y.$)("a.action-label"));let n=[];return typeof this.options.classNames=="string"?n=this.options.classNames.split(/\s+/g).filter(o=>!!o):this.options.classNames&&(n=this.options.classNames),n.find(o=>o==="icon")||n.push("codicon"),this.element.classList.add(...n),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},g=Array.isArray(this.menuActionsOrProvider),t={contextMenuProvider:this.contextMenuProvider,labelRenderer:h,menuAsChild:this.options.menuAsChild,actions:g?this.menuActionsOrProvider:void 0,actionProvider:g?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new N.DropdownMenu(C,t)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}updateEnabled(){var C,h;const g=!this.getAction().enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",g),(h=this.element)===null||h===void 0||h.classList.toggle("disabled",g)}}e.DropdownMenuActionViewItem=S}),define(ee[189],te([0,1,7,88,167,82,43,66,60,29,4,309,38,462,334]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const o=y.$,d={inputBackground:h.Color.fromHex("#3C3C3C"),inputForeground:h.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:h.Color.fromHex("#55AAFF"),inputValidationInfoBackground:h.Color.fromHex("#063B49"),inputValidationWarningBorder:h.Color.fromHex("#B89500"),inputValidationWarningBackground:h.Color.fromHex("#352A05"),inputValidationErrorBorder:h.Color.fromHex("#BE1100"),inputValidationErrorBackground:h.Color.fromHex("#5A1D1D")};class c extends C.Widget{constructor(r,l,u){var f;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new g.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new g.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=l,this.options=u||Object.create(null),(0,i.mixin)(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(f=this.options.tooltip)!==null&&f!==void 0?f:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=y.append(r,o(".monaco-inputbox.idle"));let w=this.options.flexibleHeight?"textarea":"input",v=y.append(this.element,o(".ibwrapper"));if(this.input=y.append(v,o(w+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=y.append(v,o("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),y.append(r,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(L=>this.input.scrollTop=L.scrollTop));const p=this._register(new m.DomEmitter(document,"selectionchange")),_=g.Event.filter(p.event,()=>{const L=document.getSelection();return(L==null?void 0:L.anchorNode)===v});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new I.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(r){this.placeholder=r,this.input.setAttribute("placeholder",r)}setTooltip(r){this.tooltip=r,this.input.title=r}setAriaLabel(r){this.ariaLabel=r,r?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(r){this.input.value!==r&&(this.input.value=r,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:y.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(r=null){this.input.select(),r&&(this.input.setSelectionRange(r.start,r.end),r.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return y.getTotalWidth(this.input)}set width(r){if(this.options.flexibleHeight&&this.options.flexibleWidth){let l=0;if(this.mirror){const u=parseFloat(this.mirror.style.paddingLeft||"")||0,f=parseFloat(this.mirror.style.paddingRight||"")||0;l=u+f}this.input.style.width=r-l+"px"}else this.input.style.width=r+"px";this.mirror&&(this.mirror.style.width=r+"px")}set paddingRight(r){this.input.style.width=`calc(100% - ${r}px)`,this.mirror&&(this.mirror.style.paddingRight=r+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const r=this.cachedContentHeight,l=this.cachedHeight,u=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:r,height:l}),this.scrollableElement.setScrollPosition({scrollTop:u})}showMessage(r,l){this.message=r,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(r.type));const u=this.stylesForType(this.message.type);this.element.style.border=u.border?`1px solid ${u.border}`:"",(this.hasFocus()||l)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let r=null;return this.validation&&(r=this.validation(this.value),r?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(r)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),r==null?void 0:r.type}stylesForType(r){switch(r){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(r){switch(r){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let r,l=()=>r.style.width=y.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:f=>{if(!this.message)return null;r=y.append(f,o(".monaco-inputbox-container")),l();const w={inline:!0,className:"monaco-inputbox-message"},v=this.message.formatContent?(0,N.renderFormattedText)(this.message.content,w):(0,N.renderText)(this.message.content,w);v.classList.add(this.classForType(this.message.type));const p=this.stylesForType(this.message.type);return v.style.backgroundColor=p.background?p.background.toString():"",v.style.color=p.foreground?p.foreground.toString():"",v.style.border=p.border?`1px solid ${p.border}`:"",y.append(r,v),null},onHide:()=>{this.state="closed"},layout:l});let u;this.message.type===3?u=n.localize(0,null,this.message.content):this.message.type===2?u=n.localize(1,null,this.message.content):u=n.localize(2,null,this.message.content),S.alert(u),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const r=this.value,u=r.charCodeAt(r.length-1)===10?" ":"";(r+u).replace(/\u000c/g,"")?this.mirror.textContent=r+u:this.mirror.innerText="\xA0",this.layout()}style(r){this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const r=this.inputBackground?this.inputBackground.toString():"",l=this.inputForeground?this.inputForeground.toString():"",u=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=r,this.element.style.color=l,this.input.style.backgroundColor="inherit",this.input.style.color=l,this.element.style.borderWidth=u?"1px":"",this.element.style.borderStyle=u?"solid":"",this.element.style.borderColor=u}layout(){if(!this.mirror)return;const r=this.cachedContentHeight;this.cachedContentHeight=y.getTotalHeight(this.mirror),r!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(r){const l=this.inputElement,u=l.selectionStart,f=l.selectionEnd,w=l.value;u!==null&&f!==null&&(this.value=w.substr(0,u)+r+w.substr(f),l.setSelectionRange(u+1,u+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=c;class s extends c{constructor(r,l,u){const f=n.localize(3,null),w=` or \u21C5 ${f}`,v=` (\u21C5 ${f})`;super(r,l,u);this.history=new t.HistoryNavigator(u.history,100);const p=()=>{if(u.showHistoryHint&&u.showHistoryHint()&&!this.placeholder.endsWith(w)&&!this.placeholder.endsWith(v)&&this.history.getHistory().length){const _=this.placeholder.endsWith(")")?w:v,L=this.placeholder+_;u.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=L:this.setPlaceHolder(L)}};this.observer=new MutationObserver((_,L)=>{_.forEach(E=>{E.target.textContent||p()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>p()),this.onblur(this.input,()=>{const _=L=>{if(this.placeholder.endsWith(L)){const E=this.placeholder.slice(0,this.placeholder.length-L.length);return u.showPlaceholderOnFocus?this.placeholder=E:this.setPlaceHolder(E),!0}else return!1};_(v)||_(w)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let r=this.getNextValue();r&&(r=r===this.value?this.getNextValue():r),r&&(this.value=r,S.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let r=this.getPreviousValue();r&&(r=r===this.value?this.getPreviousValue():r),r&&(this.value=r,S.status(this.value))}getCurrentValue(){let r=this.history.current();return r||(r=this.history.last(),this.history.next()),r}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=s}),define(ee[471],te([0,1,7,256,189,60,4,457,223]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const C=b.localize(0,null);class h extends I.Widget{constructor(t,i,n,o){super();this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=i,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||C,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const d=o.appendCaseSensitiveLabel||"",c=o.appendWholeWordsLabel||"",s=o.appendRegexLabel||"",a=o.history||[],r=!!o.flexibleHeight,l=!!o.flexibleWidth,u=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new N.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,showHistoryHint:o.showHistoryHint,flexibleHeight:r,flexibleWidth:l,flexibleMaxHeight:u})),this.regex=this._register(new m.RegexCheckbox({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(w=>{this._onRegexKeyDown.fire(w)})),this.wholeWords=this._register(new m.WholeWordsCheckbox({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new m.CaseSensitiveCheckbox({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(w=>{this._onCaseSensitiveKeyDown.fire(w)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,w=>{if(w.equals(15)||w.equals(17)||w.equals(9)){let v=f.indexOf(document.activeElement);if(v>=0){let p=-1;w.equals(17)?p=(v+1)%f.length:w.equals(15)&&(v===0?p=f.length-1:p=v-1),w.equals(9)?(f[v].blur(),this.inputBox.focus()):p>=0&&f[p].focus(),y.EventHelper.stop(w,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),t&&t.appendChild(this.domNode),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionstart",w=>{this.imeSessionInProgress=!0})),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionend",w=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,w=>this._onKeyDown.fire(w)),this.onkeyup(this.inputBox.inputElement,w=>this._onKeyUp.fire(w)),this.oninput(this.inputBox.inputElement,w=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,w=>this._onMouseDown.fire(w))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(t){this.fixFocusOnOptionClickEnabled=t}setEnabled(t){t?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t);const i={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(i)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(t){this.caseSensitive.checked=t}getWholeWords(){return this.wholeWords.checked}setWholeWords(t){this.wholeWords.checked=t}getRegex(){return this.regex.checked}setRegex(t){this.regex.checked=t,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=h}),define(ee[472],te([0,1,7,170,189,60,27,4,459,223]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const h=C.localize(0,null),g=C.localize(1,null);class t extends m.Checkbox{constructor(o){super({icon:S.Codicon.preserveCase,title:g+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=t;class i extends I.Widget{constructor(o,d,c,s){super();this._showOptionButtons=c,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new b.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.Emitter),this._onInput=this._register(new b.Emitter),this._onKeyUp=this._register(new b.Emitter),this._onPreserveCaseKeyDown=this._register(new b.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=d,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||h,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const a=s.appendPreserveCaseLabel||"",r=s.history||[],l=!!s.flexibleHeight,u=!!s.flexibleWidth,f=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new N.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,showHistoryHint:s.showHistoryHint,flexibleHeight:l,flexibleWidth:u,flexibleMaxHeight:f})),this.preserveCase=this._register(new t({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(p=>{this._onPreserveCaseKeyDown.fire(p)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let w=[this.preserveCase.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){let _=w.indexOf(document.activeElement);if(_>=0){let L=-1;p.equals(17)?L=(_+1)%w.length:p.equals(15)&&(_===0?L=w.length-1:L=_-1),p.equals(9)?(w[_].blur(),this.inputBox.focus()):L>=0&&w[L].focus(),y.EventHelper.stop(p,!0)}}});let v=document.createElement("div");v.className="controls",v.style.display=this._showOptionButtons?"block":"none",v.appendChild(this.preserveCase.domNode),this.domNode.appendChild(v),o&&o.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(o){o?this.enable():this.disable()}style(o){this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const o={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(o);const d={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(d)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(o){this.preserveCase.checked=o}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(o){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=o,this.domNode.style.width=o+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(ee[473],te([0,1,33,58,7,47,57,82,124,139,220,66,44,10,27,94,2,17,8,464]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var l;(function(L){L[L.Right=0]="Right",L[L.Left=1]="Left"})(l=e.Direction||(e.Direction={}));class u extends b.ActionBar{constructor(E,M,k={}){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const A=document.createElement("div");A.classList.add("monaco-menu"),A.setAttribute("role","presentation");super(A,{orientation:1,actionViewItemProvider:T=>this.doGetActionViewItem(T,k,F),context:k.context,actionRunner:k.actionRunner,ariaLabel:k.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...s.isMacintosh||s.isLinux?[10]:[]],keyDown:!0}});this.menuElement=A,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new c.DisposableStore),this.initializeOrUpdateStyleSheet(E,{}),this._register(m.Gesture.addTarget(A)),(0,N.addDisposableListener)(A,N.EventType.KEY_DOWN,T=>{new I.StandardKeyboardEvent(T).equals(2)&&T.preventDefault()}),k.enableMnemonics&&this.menuDisposables.add((0,N.addDisposableListener)(A,N.EventType.KEY_DOWN,T=>{const R=T.key.toLocaleLowerCase();if(this.mnemonics.has(R)){N.EventHelper.stop(T,!0);const O=this.mnemonics.get(R);if(O.length===1&&(O[0]instanceof w&&O[0].container&&this.focusItemByElement(O[0].container),O[0].onClick(T)),O.length>1){const P=O.shift();P&&P.container&&(this.focusItemByElement(P.container),O.push(P)),this.mnemonics.set(R,O)}}})),s.isLinux&&this._register((0,N.addDisposableListener)(A,N.EventType.KEY_DOWN,T=>{const R=new I.StandardKeyboardEvent(T);R.equals(14)||R.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),N.EventHelper.stop(T,!0)):(R.equals(13)||R.equals(12))&&(this.focusedItem=0,this.focusPrevious(),N.EventHelper.stop(T,!0))})),this._register((0,N.addDisposableListener)(this.domNode,N.EventType.MOUSE_OUT,T=>{let R=T.relatedTarget;(0,N.isAncestor)(R,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),T.stopPropagation())})),this._register((0,N.addDisposableListener)(this.actionsList,N.EventType.MOUSE_OVER,T=>{let R=T.target;if(!(!R||!(0,N.isAncestor)(R,this.actionsList)||R===this.actionsList)){for(;R.parentElement!==this.actionsList&&R.parentElement!==null;)R=R.parentElement;if(R.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(R),O!==this.focusedItem&&this.updateFocus()}}})),this._register(m.Gesture.addTarget(this.actionsList)),this._register((0,N.addDisposableListener)(this.actionsList,m.EventType.Tap,T=>{let R=T.initialTarget;if(!(!R||!(0,N.isAncestor)(R,this.actionsList)||R===this.actionsList)){for(;R.parentElement!==this.actionsList&&R.parentElement!==null;)R=R.parentElement;if(R.classList.contains("action-item")){const O=this.focusedItem;this.setFocusedItem(R),O!==this.focusedItem&&this.updateFocus()}}}));let F={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new t.DomScrollableElement(A,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const B=this.scrollableElement.getDomNode();B.style.position="",this._register((0,N.addDisposableListener)(A,m.EventType.Change,T=>{N.EventHelper.stop(T,!0);const R=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:R-T.translationY})})),this._register((0,N.addDisposableListener)(B,N.EventType.MOUSE_UP,T=>{T.preventDefault()})),A.style.maxHeight=`${Math.max(10,window.innerHeight-E.getBoundingClientRect().top-35)}px`,M=M.filter(T=>{var R;return((R=k.submenuIds)===null||R===void 0?void 0:R.has(T.id))?(console.warn(`Found submenu cycle: ${T.id}`),!1):!0}),this.push(M,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(T=>!(T instanceof v)).forEach((T,R,O)=>{T.updatePositionInSet(R+1,O.length)})}initializeOrUpdateStyleSheet(E,M){this.styleSheet||((0,N.isInShadowDOM)(E)?this.styleSheet=(0,N.createStyleSheet)(E):(u.globalStyleSheet||(u.globalStyleSheet=(0,N.createStyleSheet)()),this.styleSheet=u.globalStyleSheet)),this.styleSheet.textContent=_(M)}style(E){const M=this.getContainer();this.initializeOrUpdateStyleSheet(M,E);const k=E.foregroundColor?`${E.foregroundColor}`:"",A=E.backgroundColor?`${E.backgroundColor}`:"",F=E.borderColor?`1px solid ${E.borderColor}`:"",B=E.shadowColor?`0 2px 4px ${E.shadowColor}`:"";M.style.border=F,this.domNode.style.color=k,this.domNode.style.backgroundColor=A,M.style.boxShadow=B,this.viewItems&&this.viewItems.forEach(T=>{(T instanceof f||T instanceof v)&&T.style(E)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const M=this.focusedItem;this.setFocusedItem(E),M!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let M=0;M<this.actionsList.children.length;M++){let k=this.actionsList.children[M];if(E===k){this.focusedItem=M;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,M,k){if(E instanceof i.Separator)return new v(M.context,E,{icon:!0});if(E instanceof i.SubmenuAction){const A=new w(E,E.actions,k,Object.assign(Object.assign({},M),{submenuIds:new Set([...M.submenuIds||[],E.id])}));if(M.enableMnemonics){const F=A.getMnemonic();if(F&&A.isEnabled()){let B=[];this.mnemonics.has(F)&&(B=this.mnemonics.get(F)),B.push(A),this.mnemonics.set(F,B)}}return A}else{const A={enableMnemonics:M.enableMnemonics,useEventAsContext:M.useEventAsContext};if(M.getKeyBinding){const B=M.getKeyBinding(E);if(B){const T=B.getLabel();T&&(A.keybinding=T)}}const F=new f(M.context,E,A);if(M.enableMnemonics){const B=F.getMnemonic();if(B&&F.isEnabled()){let T=[];this.mnemonics.has(B)&&(T=this.mnemonics.get(B)),T.push(F),this.mnemonics.set(B,T)}}return F}}}e.Menu=u;class f extends C.BaseActionViewItem{constructor(E,M,k={}){k.isMenu=!0;super(M,M,k);if(this.options=k,this.options.icon=k.icon!==void 0?k.icon:!1,this.options.label=k.label!==void 0?k.label:!0,this.cssClass="",this.options.label&&k.enableMnemonics){let A=this.getAction().label;if(A){let F=e.MENU_MNEMONIC_REGEX.exec(A);F&&(this.mnemonic=(F[1]?F[1]:F[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new n.RunOnceScheduler(()=>{!this.element||(this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_UP,A=>{if(N.EventHelper.stop(A,!0),y.isFirefox){if(new S.StandardMouseEvent(A).rightButton)return;this.onClick(A)}else setTimeout(()=>{this.onClick(A)},0)})),this._register((0,N.addDisposableListener)(this.element,N.EventType.CONTEXT_MENU,A=>{N.EventHelper.stop(A,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),!!this.element&&(this.container=E,this.item=(0,N.append)(this.element,(0,N.$)("a.action-menu-item")),this._action.id===i.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,N.append)(this.item,(0,N.$)("span.menu-item-check"+o.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,N.append)(this.item,(0,N.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,N.append)(this.item,(0,N.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(E,M){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${M}`))}updateLabel(){if(!!this.label&&this.options.label){(0,N.clearNode)(this.label);let E=(0,d.stripIcons)(this.getAction().label);if(E){const M=p(E);this.options.enableMnemonics||(E=M),this.label.setAttribute("aria-label",M.replace(/&&/g,"&"));const k=e.MENU_MNEMONIC_REGEX.exec(E);if(k){E=a.escape(E),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);for(;A&&A[1];)A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);const F=B=>B.replace(/&amp;&amp;/g,"&amp;");A?this.label.append(a.ltrim(F(E.substr(0,A.index))," "),(0,N.$)("u",{"aria-hidden":"true"},A[3]),a.rtrim(F(E.substr(A.index+A[0].length))," ")):this.label.innerText=F(E).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(k[1]?k[1]:k[3]).toLocaleLowerCase())}else this.label.innerText=E.replace(/&&/g,"&").trim()}}}updateTooltip(){let E=null;this.getAction().tooltip?E=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(E=this.getAction().label,this.options.keybinding&&(E=r.localize(0,null,E,this.options.keybinding))),E&&this.item&&(this.item.title=E)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.getAction().checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const E=this.element&&this.element.classList.contains("focused"),M=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,k=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,A=E&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=M?M.toString():"",this.item.style.backgroundColor=k?k.toString():""),this.check&&(this.check.style.color=M?M.toString():""),this.container&&(this.container.style.border=A)}style(E){this.menuStyle=E,this.applyStyle()}}class w extends f{constructor(E,M,k,A){super(E,E,A);this.submenuActions=M,this.parentData=k,this.submenuOptions=A,this.mysubmenu=null,this.submenuDisposables=this._register(new c.DisposableStore),this.mouseOver=!1,this.expandDirection=A&&A.expandDirection!==void 0?A.expandDirection:l.Right,this.showScheduler=new n.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new n.RunOnceScheduler(()=>{this.element&&!(0,N.isAncestor)((0,N.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,N.append)(this.item,(0,N.$)("span.submenu-indicator"+o.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,N.addDisposableListener)(this.element,N.EventType.KEY_UP,M=>{let k=new I.StandardKeyboardEvent(M);(k.equals(17)||k.equals(3))&&(N.EventHelper.stop(M,!0),this.createSubmenu(!0))})),this._register((0,N.addDisposableListener)(this.element,N.EventType.KEY_DOWN,M=>{let k=new I.StandardKeyboardEvent(M);(0,N.getActiveElement)()===this.item&&(k.equals(17)||k.equals(3))&&N.EventHelper.stop(M,!0)})),this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_OVER,M=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,N.addDisposableListener)(this.element,N.EventType.MOUSE_LEAVE,M=>{this.mouseOver=!1})),this._register((0,N.addDisposableListener)(this.element,N.EventType.FOCUS_OUT,M=>{this.element&&!(0,N.isAncestor)((0,N.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(E){N.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,M,k,A){const F={top:0,left:0};return F.left=(0,g.layout)(E.width,M.width,{position:A===l.Right?0:1,offset:k.left,size:k.width}),F.left>=k.left&&F.left<k.left+k.width&&(k.left+10+M.width<=E.width&&(F.left=k.left+10),k.top+=10,k.height=0),F.top=(0,g.layout)(E.height,M.height,{position:0,offset:k.top,size:0}),F.top+M.height===k.top&&F.top+k.height+M.height<=E.height&&(F.top+=k.height),F}createSubmenu(E=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,N.append)(this.element,(0,N.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const M=getComputedStyle(this.parentData.parent.domNode),k=parseFloat(M.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new u(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new i.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const A=this.element.getBoundingClientRect(),F={top:A.top-k,left:A.left,height:A.height+2*k,width:A.width},B=this.submenuContainer.getBoundingClientRect(),{top:T,left:R}=this.calculateSubmenuMenuLayout(new N.Dimension(window.innerWidth,window.innerHeight),N.Dimension.lift(B),F,this.expandDirection);this.submenuContainer.style.left=`${R-B.left}px`,this.submenuContainer.style.top=`${T-B.top}px`,this.submenuDisposables.add((0,N.addDisposableListener)(this.submenuContainer,N.EventType.KEY_UP,O=>{new I.StandardKeyboardEvent(O).equals(15)&&(N.EventHelper.stop(O,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,N.addDisposableListener)(this.submenuContainer,N.EventType.KEY_DOWN,O=>{new I.StandardKeyboardEvent(O).equals(15)&&N.EventHelper.stop(O,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var M;this.item&&((M=this.item)===null||M===void 0||M.setAttribute("aria-expanded",E))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const M=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=M?`${M}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class v extends C.ActionViewItem{style(E){this.label&&(this.label.style.borderBottomColor=E.separatorColor?`${E.separatorColor}`:"")}}function p(L){const E=e.MENU_MNEMONIC_REGEX,M=E.exec(L);if(!M)return L;const k=!M[1];return L.replace(E,k?"$2$3":"").trim()}e.cleanMnemonic=p;function _(L){let E=`
.monaco-menu {
	font-size: 13px;

}

${(0,h.formatRule)(o.Codicon.menuSelection)}
${(0,h.formatRule)(o.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
`;const M=L.scrollbarShadow;M&&(E+=`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${M} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${M} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${M} 6px 6px 6px -6px inset;
			}
		`);const k=L.scrollbarSliderBackground;k&&(E+=`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${k};
			}
		`);const A=L.scrollbarSliderHoverBackground;A&&(E+=`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${A};
			}
		`);const F=L.scrollbarSliderActiveBackground;return F&&(E+=`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${F};
			}
		`),E}}),define(ee[474],te([0,1,7,47,57,189,2,73,141]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const C=y.$;class h extends S.Disposable{constructor(t){super();this.parent=t,this.onKeyDown=i=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.KEY_DOWN,n=>{i(new m.StandardKeyboardEvent(n))}),this.onMouseDown=i=>y.addDisposableListener(this.inputBox.inputElement,y.EventType.MOUSE_DOWN,n=>{i(new N.StandardMouseEvent(n))}),this.onDidChange=i=>this.inputBox.onDidChange(i),this.container=y.append(this.parent,C(".quick-input-box")),this.inputBox=this._register(new I.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return this.inputBox.inputElement.type==="password"}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,i){this.inputBox.inputElement.setAttribute(t,i)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===b.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===b.default.Info?1:t===b.default.Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===b.default.Info?1:t===b.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}e.QuickInputBox=h}),define(ee[475],te([5,6]),function(K,e){return K.create("vs/base/common/errorMessage",e)}),define(ee[476],te([0,1,19,20,475]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function I(h,g){return g&&(h.stack||h.stacktrace)?N.localize(0,null,b(h),S(h.stack)||S(h.stacktrace)):b(h)}function S(h){return Array.isArray(h)?h.join(`
`):h}function b(h){return typeof h.code=="string"&&typeof h.errno=="number"&&typeof h.syscall=="string"?N.localize(1,null,h.message):h.message||N.localize(2,null)}function C(h=null,g=!1){if(!h)return N.localize(3,null);if(Array.isArray(h)){const t=y.coalesce(h),i=C(t[0],g);return t.length>1?N.localize(4,null,i,t.length):i}if(m.isString(h))return h;if(h.detail){const t=h.detail;if(t.error)return I(t.error,g);if(t.exception)return I(t.exception,g)}return h.stack?I(h,g):h.message?h.message:N.localize(5,null)}e.toErrorMessage=C}),define(ee[477],te([5,6]),function(K,e){return K.create("vs/base/common/keybindingLabels",e)}),define(ee[190],te([0,1,477]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class m{constructor(S,b,C=b){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=b,this.modifierLabels[3]=C}toLabel(S,b,C){if(b.length===0)return null;const h=[];for(let g=0,t=b.length;g<t;g++){const i=b[g],n=C(i);if(n===null)return null;h[g]=N(i,n,this.modifierLabels[S])}return h.join(" ")}}e.ModifierLabelProvider=m,e.UILabelProvider=new m({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:y.localize(0,null),shiftKey:y.localize(1,null),altKey:y.localize(2,null),metaKey:y.localize(3,null),separator:"+"},{ctrlKey:y.localize(4,null),shiftKey:y.localize(5,null),altKey:y.localize(6,null),metaKey:y.localize(7,null),separator:"+"}),e.AriaLabelProvider=new m({ctrlKey:y.localize(8,null),shiftKey:y.localize(9,null),altKey:y.localize(10,null),metaKey:y.localize(11,null),separator:"+"},{ctrlKey:y.localize(12,null),shiftKey:y.localize(13,null),altKey:y.localize(14,null),metaKey:y.localize(15,null),separator:"+"},{ctrlKey:y.localize(16,null),shiftKey:y.localize(17,null),altKey:y.localize(18,null),metaKey:y.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new m({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new m({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function N(I,S,b){if(S===null)return"";const C=[];return I.ctrlKey&&C.push(b.ctrlKey),I.shiftKey&&C.push(b.shiftKey),I.altKey&&C.push(b.altKey),I.metaKey&&C.push(b.metaKey),S!==""&&C.push(S),C.join(b.separator)}}),define(ee[478],te([0,1,7,190,38,463,335]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=y.$;class b{constructor(h,g,t){this.os=g,this.keyElements=new Set,this.options=t||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=y.append(h,S(".monaco-keybinding")),this.didEverRender=!1,h.appendChild(this.domNode)}get element(){return this.domNode}set(h,g){this.didEverRender&&this.keybinding===h&&b.areSame(this.matches,g)||(this.keybinding=h,this.matches=g,this.render())}render(){if(this.clear(),this.keybinding){let[h,g]=this.keybinding.getParts();h&&this.renderPart(this.domNode,h,this.matches?this.matches.firstPart:null),g&&(y.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,g,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){y.clearNode(this.domNode),this.keyElements.clear()}renderPart(h,g,t){const i=m.UILabelProvider.modifierLabels[this.os];g.ctrlKey&&this.renderKey(h,i.ctrlKey,Boolean(t==null?void 0:t.ctrlKey),i.separator),g.shiftKey&&this.renderKey(h,i.shiftKey,Boolean(t==null?void 0:t.shiftKey),i.separator),g.altKey&&this.renderKey(h,i.altKey,Boolean(t==null?void 0:t.altKey),i.separator),g.metaKey&&this.renderKey(h,i.metaKey,Boolean(t==null?void 0:t.metaKey),i.separator);const n=g.keyLabel;n&&this.renderKey(h,n,Boolean(t==null?void 0:t.keyCode),"")}renderKey(h,g,t,i){y.append(h,this.createKeyElement(g,t?".highlight":"")),i&&y.append(h,S("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(h){y.append(h,this.createKeyElement((0,I.localize)(0,null)))}createKeyElement(h,g=""){const t=S("span.monaco-keybinding-key"+g,void 0,h);return this.keyElements.add(t),t}style(h){this.labelBackground=h.keybindingLabelBackground,this.labelForeground=h.keybindingLabelForeground,this.labelBorder=h.keybindingLabelBorder,this.labelBottomBorder=h.keybindingLabelBottomBorder,this.labelShadow=h.keybindingLabelShadow,this.applyStyles()}applyStyles(){var h;if(this.element){for(const g of this.keyElements)this.labelBackground&&(g.style.backgroundColor=(h=this.labelBackground)===null||h===void 0?void 0:h.toString()),this.labelBorder&&(g.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(g.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(g.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(h,g){return h===g||!h&&!g?!0:!!h&&!!g&&(0,N.equals)(h.firstPart,g.firstPart)&&(0,N.equals)(h.chordPart,g.chordPart)}}e.KeybindingLabel=b}),define(ee[479],te([5,6]),function(K,e){return K.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(ee[480],te([5,6]),function(K,e){return K.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(ee[481],te([0,1,7,47,82,187,478,44,19,27,313,92,4,94,2,17,20,227,480,141]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const r=y.$;class l{constructor(E){this.hidden=!1,this._onChecked=new i.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,E)}get checked(){return!!this._checked}set checked(E){E!==this._checked&&(this._checked=E,this._onChecked.fire(E))}dispose(){this._onChecked.dispose()}}class u{get templateId(){return u.ID}renderTemplate(E){const M=Object.create(null);M.toDisposeElement=[],M.toDisposeTemplate=[],M.entry=y.append(E,r(".quick-input-list-entry"));const k=y.append(M.entry,r("label.quick-input-list-label"));M.toDisposeTemplate.push(y.addStandardDisposableListener(k,y.EventType.CLICK,O=>{M.checkbox.offsetParent||O.preventDefault()})),M.checkbox=y.append(k,r("input.quick-input-list-checkbox")),M.checkbox.type="checkbox",M.toDisposeTemplate.push(y.addStandardDisposableListener(M.checkbox,y.EventType.CHANGE,O=>{M.element.checked=M.checkbox.checked}));const A=y.append(k,r(".quick-input-list-rows")),F=y.append(A,r(".quick-input-list-row")),B=y.append(A,r(".quick-input-list-row"));M.label=new I.IconLabel(F,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const T=y.append(F,r(".quick-input-list-entry-keybinding"));M.keybinding=new S.KeybindingLabel(T,d.OS);const R=y.append(B,r(".quick-input-list-label-meta"));return M.detail=new I.IconLabel(R,{supportHighlights:!0,supportIcons:!0}),M.separator=y.append(M.entry,r(".quick-input-list-separator")),M.actionBar=new N.ActionBar(M.entry),M.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),M.toDisposeTemplate.push(M.actionBar),M}renderElement(E,M,k){k.toDisposeElement=(0,o.dispose)(k.toDisposeElement),k.element=E,k.checkbox.checked=E.checked,k.toDisposeElement.push(E.onChecked(O=>k.checkbox.checked=O));const{labelHighlights:A,descriptionHighlights:F,detailHighlights:B}=E,T=Object.create(null);T.matches=A||[],T.descriptionTitle=E.saneDescription,T.descriptionMatches=F||[],T.extraClasses=E.item.iconClasses,T.italic=E.item.italic,T.strikethrough=E.item.strikethrough,k.label.setLabel(E.saneLabel,E.saneDescription,T),k.keybinding.set(E.item.keybinding),E.saneDetail&&k.detail.setLabel(E.saneDetail,void 0,{matches:B,title:E.saneDetail}),E.separator&&E.separator.label?(k.separator.textContent=E.separator.label,k.separator.style.display=""):k.separator.style.display="none",k.entry.classList.toggle("quick-input-list-separator-border",!!E.separator),k.actionBar.clear();const R=E.item.buttons;R&&R.length?(k.actionBar.push(R.map((O,P)=>{let D=O.iconClass||(O.iconPath?(0,s.getIconClass)(O.iconPath):void 0);O.alwaysVisible&&(D=D?`${D} always-visible`:"always-visible");const x=new b.Action(`id-${P}`,"",D,!0,()=>De(this,void 0,void 0,function*(){E.fireButtonTriggered({button:O,item:E.item})}));return x.tooltip=O.tooltip||"",x}),{icon:!0,label:!1}),k.entry.classList.add("has-actions")):k.entry.classList.remove("has-actions")}disposeElement(E,M,k){k.toDisposeElement=(0,o.dispose)(k.toDisposeElement)}disposeTemplate(E){E.toDisposeElement=(0,o.dispose)(E.toDisposeElement),E.toDisposeTemplate=(0,o.dispose)(E.toDisposeTemplate)}}u.ID="listelement";class f{getHeight(E){return E.saneDetail?44:22}getTemplateId(E){return u.ID}}var w;(function(L){L[L.First=1]="First",L[L.Second=2]="Second",L[L.Last=3]="Last",L[L.Next=4]="Next",L[L.Previous=5]="Previous",L[L.NextPage=6]="NextPage",L[L.PreviousPage=7]="PreviousPage"})(w=e.QuickInputListFocus||(e.QuickInputListFocus={}));class v{constructor(E,M,k){this.parent=E,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new i.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new i.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new i.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new i.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new i.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new i.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new i.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=M,this.container=y.append(this.parent,r(".quick-input-list"));const A=new f,F=new _;this.list=k.createList("QuickInput",this.container,A,[new u],{identityProvider:{getId:B=>B.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:F}),this.list.getHTMLElement().id=M,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(B=>{const T=new m.StandardKeyboardEvent(B);switch(T.keyCode){case 10:this.toggleCheckbox();break;case 31:(d.isMacintosh?B.metaKey:B.ctrlKey)&&this.list.setFocus((0,C.range)(this.list.length));break;case 16:{const R=this.list.getFocus();R.length===1&&R[0]===0&&this._onLeave.fire();break}case 18:{const R=this.list.getFocus();R.length===1&&R[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(T)})),this.disposables.push(this.list.onMouseDown(B=>{B.browserEvent.button!==2&&B.browserEvent.preventDefault()})),this.disposables.push(y.addDisposableListener(this.container,y.EventType.CLICK,B=>{(B.x||B.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(B=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(B=>{typeof B.index=="number"&&(B.browserEvent.preventDefault(),this.list.setSelection([B.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return i.Event.map(this.list.onDidChangeFocus,E=>E.elements.map(M=>M.item))}get onDidChangeSelection(){return i.Event.map(this.list.onDidChangeSelection,E=>({items:E.elements.map(M=>M.item),event:E.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(E){this.list.scrollTop=E}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(E,M=!0){for(let k=0,A=E.length;k<A;k++){const F=E[k];if(!F.hidden)if(F.checked)M=!0;else return!1}return M}getCheckedCount(){let E=0;const M=this.elements;for(let k=0,A=M.length;k<A;k++)M[k].checked&&E++;return E}getVisibleCount(){let E=0;const M=this.elements;for(let k=0,A=M.length;k<A;k++)M[k].hidden||E++;return E}setAllVisibleChecked(E){try{this._fireCheckedEvents=!1,this.elements.forEach(M=>{M.hidden||(M.checked=E)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(E){this.elementDisposables=(0,o.dispose)(this.elementDisposables);const M=k=>this.fireButtonTriggered(k);this.inputElements=E,this.elements=E.reduce((k,A,F)=>{var B,T,R;if(A.type!=="separator"){const O=F&&E[F-1],P=A.label&&A.label.replace(/\r?\n/g," "),D=A.meta&&A.meta.replace(/\r?\n/g," "),x=A.description&&A.description.replace(/\r?\n/g," "),H=A.detail&&A.detail.replace(/\r?\n/g," "),j=A.ariaLabel||[P,x,H].map(Q=>(0,h.getCodiconAriaLabel)(Q)).filter(Q=>!!Q).join(", ");k.push(new l({index:F,item:A,saneLabel:P,saneMeta:D,saneAriaLabel:j,saneDescription:x,saneDetail:H,labelHighlights:(B=A.highlights)===null||B===void 0?void 0:B.label,descriptionHighlights:(T=A.highlights)===null||T===void 0?void 0:T.description,detailHighlights:(R=A.highlights)===null||R===void 0?void 0:R.detail,checked:!1,separator:O&&O.type==="separator"?O:void 0,fireButtonTriggered:M}))}return k},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(k=>k.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((k,A,F)=>(k.set(A.item,F),k),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(E=>E.item)}setFocusedElements(E){if(this.list.setFocus(E.filter(M=>this.elementsToIndexes.has(M)).map(M=>this.elementsToIndexes.get(M))),E.length>0){const M=this.list.getFocus()[0];typeof M=="number"&&this.list.reveal(M)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(E){this.list.setSelection(E.filter(M=>this.elementsToIndexes.has(M)).map(M=>this.elementsToIndexes.get(M)))}getCheckedElements(){return this.elements.filter(E=>E.checked).map(E=>E.item)}setCheckedElements(E){try{this._fireCheckedEvents=!1;const M=new Set;for(const k of E)M.add(k);for(const k of this.elements)k.checked=M.has(k.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(E){this.list.getHTMLElement().style.pointerEvents=E?"":"none"}focus(E){if(!this.list.length)return;switch(E===w.Next&&this.list.getFocus()[0]===this.list.length-1&&(E=w.First),E===w.Previous&&this.list.getFocus()[0]===0&&(E=w.Last),E===w.Second&&this.list.length<2&&(E=w.First),E){case w.First:this.list.focusFirst();break;case w.Second:this.list.focusNth(1);break;case w.Last:this.list.focusLast();break;case w.Next:this.list.focusNext();break;case w.Previous:this.list.focusPrevious();break;case w.NextPage:this.list.focusNextPage();break;case w.PreviousPage:this.list.focusPreviousPage();break}const M=this.list.getFocus()[0];typeof M=="number"&&this.list.reveal(M)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(E){this.list.getHTMLElement().style.maxHeight=E?`calc(${Math.floor(E/44)*44}px)`:"",this.list.layout()}filter(E){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(E=E.trim(),!E||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(k=>{k.labelHighlights=void 0,k.descriptionHighlights=void 0,k.detailHighlights=void 0,k.hidden=!1;const A=k.index&&this.inputElements[k.index-1];k.separator=A&&A.type==="separator"?A:void 0});else{let k;this.elements.forEach(A=>{const F=this.matchOnLabel?(0,c.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(E,(0,n.parseLabelWithIcons)(A.saneLabel))):void 0,B=this.matchOnDescription?(0,c.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(E,(0,n.parseLabelWithIcons)(A.saneDescription||""))):void 0,T=this.matchOnDetail?(0,c.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(E,(0,n.parseLabelWithIcons)(A.saneDetail||""))):void 0,R=this.matchOnMeta?(0,c.withNullAsUndefined)((0,n.matchesFuzzyIconAware)(E,(0,n.parseLabelWithIcons)(A.saneMeta||""))):void 0;if(F||B||T||R?(A.labelHighlights=F,A.descriptionHighlights=B,A.detailHighlights=T,A.hidden=!1):(A.labelHighlights=void 0,A.descriptionHighlights=void 0,A.detailHighlights=void 0,A.hidden=!A.item.alwaysShow),A.separator=void 0,!this.sortByLabel){const O=A.index&&this.inputElements[A.index-1];k=O&&O.type==="separator"?O:k,k&&!A.hidden&&(A.separator=k,k=void 0)}})}const M=this.elements.filter(k=>!k.hidden);if(this.sortByLabel&&E){const k=E.toLowerCase();M.sort((A,F)=>p(A,F,k))}return this.elementsToIndexes=M.reduce((k,A,F)=>(k.set(A.item,F),k),new Map),this.list.splice(0,this.list.length,M),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(M.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const E=this.list.getFocusedElements(),M=this.allVisibleChecked(E);for(const k of E)k.checked=!M}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(E){this.container.style.display=E?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,o.dispose)(this.elementDisposables),this.disposables=(0,o.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(E){this._onButtonTriggered.fire(E)}style(E){this.list.style(E)}}Be([t.memoize],v.prototype,"onDidChangeFocus",null),Be([t.memoize],v.prototype,"onDidChangeSelection",null),e.QuickInputList=v;function p(L,E,M){const k=L.labelHighlights||[],A=E.labelHighlights||[];return k.length&&!A.length?-1:!k.length&&A.length?1:k.length===0&&A.length===0?0:(0,g.compareAnything)(L.saneLabel,E.saneLabel,M)}class _{getWidgetAriaLabel(){return(0,a.localize)(0,null)}getAriaLabel(E){return E.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(ee[482],te([0,1,7,47,82,326,221,110,338,44,19,10,21,27,4,2,17,73,20,227,218,479,474,481,141]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const v=y.$,p={iconClass:n.Codicon.quickInputBack.classNames,tooltip:(0,u.localize)(0,null),handle:-1};class _ extends d.Disposable{constructor(k){super();this.ui=k,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=_.noPromptMessage,this._severity=s.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.onDidHideEmitter=this._register(new o.Emitter),this.onDisposeEmitter=this._register(new o.Emitter),this.visibleDisposables=this._register(new d.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(k){this._title=k,this.update()}get description(){return this._description}set description(k){this._description=k,this.update()}get step(){return this._steps}set step(k){this._steps=k,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(k){this._totalSteps=k,this.update()}get enabled(){return this._enabled}set enabled(k){this._enabled=k,this.update()}get contextKey(){return this._contextKey}set contextKey(k){this._contextKey=k,this.update()}get busy(){return this._busy}set busy(k){this._busy=k,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(k){const A=this._ignoreFocusOut!==k&&!c.isIOS;this._ignoreFocusOut=k&&!c.isIOS,A&&this.update()}get buttons(){return this._buttons}set buttons(k){this._buttons=k,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(k){this._validationMessage=k,this.update()}get severity(){return this._severity}set severity(k){this._severity=k,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(k=>{this.buttons.indexOf(k)!==-1&&this.onDidTriggerButtonEmitter.fire(k)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(k=l.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:k})}update(){if(!this.visible)return;const k=this.getTitle();k&&this.ui.title.textContent!==k?this.ui.title.textContent=k:!k&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const A=this.getDescription();if(this.ui.description1.textContent!==A&&(this.ui.description1.textContent=A),this.ui.description2.textContent!==A&&(this.ui.description2.textContent=A),this.busy&&!this.busyDelay&&(this.busyDelay=new t.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const B=this.buttons.filter(R=>R===p);this.ui.leftActionBar.push(B.map((R,O)=>{const P=new h.Action(`id-${O}`,"",R.iconClass||(0,r.getIconClass)(R.iconPath),!0,()=>De(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(R)}));return P.tooltip=R.tooltip||"",P}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const T=this.buttons.filter(R=>R!==p);this.ui.rightActionBar.push(T.map((R,O)=>{const P=new h.Action(`id-${O}`,"",R.iconClass||(0,r.getIconClass)(R.iconPath),!0,()=>De(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(R)}));return P.tooltip=R.tooltip||"",P}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const F=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==F&&(this._lastValidationMessage=F,y.reset(this.ui.message,...(0,b.renderLabelWithIcons)(F))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,u.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(k){if(this.ui.inputBox.showDecoration(k),k!==s.default.Ignore){const A=this.ui.inputBox.stylesForType(k);this.ui.message.style.color=A.foreground?`${A.foreground}`:"",this.ui.message.style.backgroundColor=A.background?`${A.background}`:"",this.ui.message.style.border=A.border?`1px solid ${A.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_.noPromptMessage=(0,u.localize)(1,null);class L extends _{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new o.Emitter),this.onWillAcceptEmitter=this._register(new o.Emitter),this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?l.ItemActivation.NONE:l.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new o.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new o.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new o.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=k=>k,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(k){this._quickNavigate=k,this.update()}get value(){return this._value}set value(k){this.doSetValue(k)}doSetValue(k,A){this._value!==k&&(this._value=k,A||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(k){this._ariaLabel=k,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(k){this._placeholder=k,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(k){this.ui.list.scrollTop=k}set items(k){this._items=k,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(k){this._canSelectMany=k,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(k){this._canAcceptInBackground=k}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(k){this._matchOnDescription=k,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(k){this._matchOnDetail=k,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(k){this._matchOnLabel=k,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(k){this._sortByLabel=k,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(k){this._autoFocusOnList=k,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(k){this._keepScrollPosition=k}get itemActivation(){return this._itemActivation}set itemActivation(k){this._itemActivation=k}get activeItems(){return this._activeItems}set activeItems(k){this._activeItems=k,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(k){this._selectedItems=k,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?l.NO_KEY_MODS:this.ui.keyMods}set valueSelection(k){this._valueSelection=k,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(k){this._customButton=k,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(k){this._customButtonLabel=k,this.update()}get customHover(){return this._customButtonHover}set customHover(k){this._customButtonHover=k,this.update()}get ok(){return this._ok}set ok(k){this._ok=k,this.update()}get hideInput(){return!!this._hideInput}set hideInput(k){this._hideInput=k,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(w.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(k=>{this.doSetValue(k,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(k=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(k=>{switch(k.keyCode){case 18:this.ui.list.focus(w.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(k,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(w.QuickInputListFocus.Previous):this.ui.list.focus(w.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(k,!0);break;case 12:this.ui.list.focus(w.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(k,!0);break;case 11:this.ui.list.focus(w.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(k,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(k.ctrlKey||k.metaKey)&&!k.shiftKey&&!k.altKey&&(this.ui.list.focus(w.QuickInputListFocus.First),y.EventHelper.stop(k,!0));break;case 13:(k.ctrlKey||k.metaKey)&&!k.shiftKey&&!k.altKey&&(this.ui.list.focus(w.QuickInputListFocus.Last),y.EventHelper.stop(k,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(k=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,g.equals)(k,this._activeItems,(A,F)=>A===F)||(this._activeItems=k,this.onDidChangeActiveEmitter.fire(k))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:k,event:A})=>{if(this.canSelectMany){k.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(k,this._selectedItems,(F,B)=>F===B)||(this._selectedItems=k,this.onDidChangeSelectionEmitter.fire(k),k.length&&this.handleAccept(A instanceof MouseEvent&&A.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(k=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(k,this._selectedItems,(A,F)=>A===F)||(this._selectedItems=k,this.onDidChangeSelectionEmitter.fire(k))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(k=>this.onDidTriggerItemButtonEmitter.fire(k))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(k){let A=!1;this.onWillAcceptEmitter.fire({veto:()=>A=!0}),A||this.onDidAcceptEmitter.fire({inBackground:k})}registerQuickNavigation(){return y.addDisposableListener(this.ui.container,y.EventType.KEY_UP,k=>{if(this.canSelectMany||!this._quickNavigate)return;const A=new m.StandardKeyboardEvent(k),F=A.keyCode;this._quickNavigate.keybindings.some(R=>{const[O,P]=R.getParts();return P?!1:O.shiftKey&&F===4?!(A.ctrlKey||A.altKey||A.metaKey):!!(O.altKey&&F===6||O.ctrlKey&&F===5||O.metaKey&&F===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const k=this.keepScrollPosition?this.scrollTop:0,A=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",A&&!this.description);const F={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!A,progressBar:!A,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(F),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const B=this.ariaLabel||this.placeholder||L.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==B&&(this.ui.inputBox.ariaLabel=B),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case l.ItemActivation.NONE:this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.SECOND:this.ui.list.focus(w.QuickInputListFocus.Second),this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.LAST:this.ui.list.focus(w.QuickInputListFocus.Last),this._itemActivation=l.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),F.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(w.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=k)}}L.DEFAULT_ARIA_LABEL=(0,u.localize)(3,null);class E extends d.Disposable{constructor(k){super();this.options=k,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new o.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new o.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=k.idPrefix,this.parentElement=k.container,this.styles=k.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const k=A=>{this.keyMods.ctrlCmd=A.ctrlKey||A.metaKey,this.keyMods.alt=A.altKey};this._register(y.addDisposableListener(window,y.EventType.KEY_DOWN,k,!0)),this._register(y.addDisposableListener(window,y.EventType.KEY_UP,k,!0)),this._register(y.addDisposableListener(window,y.EventType.MOUSE_DOWN,k,!0))}getUI(){if(this.ui)return this.ui;const k=y.append(this.parentElement,v(".quick-input-widget.show-file-icons"));k.tabIndex=-1,k.style.display="none";const A=y.createStyleSheet(k),F=y.append(k,v(".quick-input-titlebar")),B=this._register(new N.ActionBar(F));B.domNode.classList.add("quick-input-left-action-bar");const T=y.append(F,v(".quick-input-title")),R=this._register(new N.ActionBar(F));R.domNode.classList.add("quick-input-right-action-bar");const O=y.append(k,v(".quick-input-description")),P=y.append(k,v(".quick-input-header")),D=y.append(P,v("input.quick-input-check-all"));D.type="checkbox",this._register(y.addStandardDisposableListener(D,y.EventType.CHANGE,q=>{const z=D.checked;ae.setAllVisibleChecked(z)})),this._register(y.addDisposableListener(D,y.EventType.CLICK,q=>{(q.x||q.y)&&Q.setFocus()}));const x=y.append(P,v(".quick-input-description")),H=y.append(P,v(".quick-input-and-message")),j=y.append(H,v(".quick-input-filter")),Q=this._register(new f.QuickInputBox(j));Q.setAttribute("aria-describedby",`${this.idPrefix}message`);const G=y.append(j,v(".quick-input-visible-count"));G.setAttribute("aria-live","polite"),G.setAttribute("aria-atomic","true");const se=new S.CountBadge(G,{countFormat:(0,u.localize)(4,null)}),ne=y.append(j,v(".quick-input-count"));ne.setAttribute("aria-live","polite");const Z=new S.CountBadge(ne,{countFormat:(0,u.localize)(5,null)}),U=y.append(P,v(".quick-input-action")),W=new I.Button(U);W.label=(0,u.localize)(6,null),this._register(W.onDidClick(q=>{this.onDidAcceptEmitter.fire()}));const V=y.append(P,v(".quick-input-action")),Y=new I.Button(V);Y.label=(0,u.localize)(7,null),this._register(Y.onDidClick(q=>{this.onDidCustomEmitter.fire()}));const X=y.append(H,v(`#${this.idPrefix}message.quick-input-message`)),ae=this._register(new w.QuickInputList(k,this.idPrefix+"list",this.options));this._register(ae.onChangedAllVisibleChecked(q=>{D.checked=q})),this._register(ae.onChangedVisibleCount(q=>{se.setCount(q)})),this._register(ae.onChangedCheckedCount(q=>{Z.setCount(q)})),this._register(ae.onLeave(()=>{setTimeout(()=>{Q.setFocus(),this.controller instanceof L&&this.controller.canSelectMany&&ae.clearFocus()},0)})),this._register(ae.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const J=new C.ProgressBar(k);J.getContainer().classList.add("quick-input-progress");const de=y.trackFocus(k);return this._register(de),this._register(y.addDisposableListener(k,y.EventType.FOCUS,q=>{this.previousFocusElement=q.relatedTarget instanceof HTMLElement?q.relatedTarget:void 0},!0)),this._register(de.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(l.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(y.addDisposableListener(k,y.EventType.FOCUS,q=>{Q.setFocus()})),this._register(y.addDisposableListener(k,y.EventType.KEY_DOWN,q=>{const z=new m.StandardKeyboardEvent(q);switch(z.keyCode){case 3:y.EventHelper.stop(q,!0),this.onDidAcceptEmitter.fire();break;case 9:y.EventHelper.stop(q,!0),this.hide(l.QuickInputHideReason.Gesture);break;case 2:if(!z.altKey&&!z.ctrlKey&&!z.metaKey){const $=[".action-label.codicon"];k.classList.contains("show-checkboxes")?$.push("input"):$.push("input[type=text]"),this.getUI().list.isDisplayed()&&$.push(".monaco-list");const ie=k.querySelectorAll($.join(", "));z.shiftKey&&z.target===ie[0]?(y.EventHelper.stop(q,!0),ie[ie.length-1].focus()):!z.shiftKey&&z.target===ie[ie.length-1]&&(y.EventHelper.stop(q,!0),ie[0].focus())}break}})),this.ui={container:k,styleSheet:A,leftActionBar:B,titleBar:F,title:T,description1:O,description2:x,rightActionBar:R,checkAll:D,filterContainer:j,inputBox:Q,visibleCountContainer:G,visibleCount:se,countContainer:ne,count:Z,okContainer:U,ok:W,message:X,customButtonContainer:V,customButton:Y,list:ae,progressBar:J,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:q=>this.show(q),hide:()=>this.hide(),setVisibilities:q=>this.setVisibilities(q),setComboboxAccessibility:q=>this.setComboboxAccessibility(q),setEnabled:q=>this.setEnabled(q),setContextKey:q=>this.options.setContextKey(q)},this.updateStyles(),this.ui}pick(k,A={},F=i.CancellationToken.None){return new Promise((B,T)=>{let R=x=>{R=B,A.onKeyMods&&A.onKeyMods(O.keyMods),B(x)};if(F.isCancellationRequested){R(void 0);return}const O=this.createQuickPick();let P;const D=[O,O.onDidAccept(()=>{if(O.canSelectMany)R(O.selectedItems.slice()),O.hide();else{const x=O.activeItems[0];x&&(R(x),O.hide())}}),O.onDidChangeActive(x=>{const H=x[0];H&&A.onDidFocus&&A.onDidFocus(H)}),O.onDidChangeSelection(x=>{if(!O.canSelectMany){const H=x[0];H&&(R(H),O.hide())}}),O.onDidTriggerItemButton(x=>A.onDidTriggerItemButton&&A.onDidTriggerItemButton(Object.assign(Object.assign({},x),{removeItem:()=>{const H=O.items.indexOf(x.item);if(H!==-1){const j=O.items.slice(),Q=j.splice(H,1),G=O.activeItems.filter(ne=>ne!==Q[0]),se=O.keepScrollPosition;O.keepScrollPosition=!0,O.items=j,G&&(O.activeItems=G),O.keepScrollPosition=se}}}))),O.onDidChangeValue(x=>{P&&!x&&(O.activeItems.length!==1||O.activeItems[0]!==P)&&(O.activeItems=[P])}),F.onCancellationRequested(()=>{O.hide()}),O.onDidHide(()=>{(0,d.dispose)(D),R(void 0)})];O.title=A.title,O.canSelectMany=!!A.canPickMany,O.placeholder=A.placeHolder,O.ignoreFocusOut=!!A.ignoreFocusLost,O.matchOnDescription=!!A.matchOnDescription,O.matchOnDetail=!!A.matchOnDetail,O.matchOnLabel=A.matchOnLabel===void 0||A.matchOnLabel,O.autoFocusOnList=A.autoFocusOnList===void 0||A.autoFocusOnList,O.quickNavigate=A.quickNavigate,O.contextKey=A.contextKey,O.busy=!0,Promise.all([k,A.activeItem]).then(([x,H])=>{P=H,O.busy=!1,O.items=x,O.canSelectMany&&(O.selectedItems=x.filter(j=>j.type!=="separator"&&j.picked)),P&&(O.activeItems=[P])}),O.show(),Promise.resolve(k).then(void 0,x=>{T(x),O.hide()})})}createQuickPick(){const k=this.getUI();return new L(k)}show(k){const A=this.getUI();this.onShowEmitter.fire();const F=this.controller;this.controller=k,F&&F.didHide(),this.setEnabled(!0),A.leftActionBar.clear(),A.title.textContent="",A.description1.textContent="",A.description2.textContent="",A.rightActionBar.clear(),A.checkAll.checked=!1,A.inputBox.placeholder="",A.inputBox.password=!1,A.inputBox.showDecoration(s.default.Ignore),A.visibleCount.setCount(0),A.count.setCount(0),y.reset(A.message),A.progressBar.stop(),A.list.setElements([]),A.list.matchOnDescription=!1,A.list.matchOnDetail=!1,A.list.matchOnLabel=!0,A.list.sortByLabel=!0,A.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),A.inputBox.ariaLabel="";const B=this.options.backKeybindingLabel();p.tooltip=B?(0,u.localize)(8,null,B):(0,u.localize)(9,null),A.container.style.display="",this.updateLayout(),A.inputBox.setFocus()}setVisibilities(k){const A=this.getUI();A.title.style.display=k.title?"":"none",A.description1.style.display=k.description&&(k.inputBox||k.checkAll)?"":"none",A.description2.style.display=k.description&&!(k.inputBox||k.checkAll)?"":"none",A.checkAll.style.display=k.checkAll?"":"none",A.filterContainer.style.display=k.inputBox?"":"none",A.visibleCountContainer.style.display=k.visibleCount?"":"none",A.countContainer.style.display=k.count?"":"none",A.okContainer.style.display=k.ok?"":"none",A.customButtonContainer.style.display=k.customButton?"":"none",A.message.style.display=k.message?"":"none",A.progressBar.getContainer().style.display=k.progressBar?"":"none",A.list.display(!!k.list),A.container.classList[k.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(k){if(k!==this.comboboxAccessibility){const A=this.getUI();this.comboboxAccessibility=k,this.comboboxAccessibility?(A.inputBox.setAttribute("role","combobox"),A.inputBox.setAttribute("aria-haspopup","true"),A.inputBox.setAttribute("aria-autocomplete","list"),A.inputBox.setAttribute("aria-activedescendant",A.list.getActiveDescendant()||"")):(A.inputBox.removeAttribute("role"),A.inputBox.removeAttribute("aria-haspopup"),A.inputBox.removeAttribute("aria-autocomplete"),A.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(k){if(k!==this.enabled){this.enabled=k;for(const A of this.getUI().leftActionBar.viewItems)A.getAction().enabled=k;for(const A of this.getUI().rightActionBar.viewItems)A.getAction().enabled=k;this.getUI().checkAll.disabled=!k,this.getUI().ok.enabled=k,this.getUI().list.enabled=k}}hide(k){var A;const F=this.controller;if(F){const B=!((A=this.ui)===null||A===void 0?void 0:A.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!B){let T=this.previousFocusElement;for(;T&&!T.offsetParent;)T=(0,a.withNullAsUndefined)(T.parentElement);(T==null?void 0:T.offsetParent)?(T.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}F.didHide(k)}}layout(k,A){this.dimension=k,this.titleBarOffset=A,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const k=this.ui.container.style,A=Math.min(this.dimension.width*.62,E.MAX_WIDTH);k.width=A+"px",k.marginLeft="-"+A/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(k){this.styles=k,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:k,quickInputBackground:A,quickInputForeground:F,contrastBorder:B,widgetShadow:T}=this.styles.widget;this.ui.titleBar.style.backgroundColor=k?k.toString():"",this.ui.container.style.backgroundColor=A?A.toString():"",this.ui.container.style.color=F?F.toString():"",this.ui.container.style.border=B?`1px solid ${B}`:"",this.ui.container.style.boxShadow=T?`0 0 8px 2px ${T}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const R=[];this.styles.list.pickerGroupBorder&&R.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&R.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(R.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&R.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&R.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&R.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&R.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&R.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),R.push("}"));const O=R.join(`
`);O!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=O)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(ee[483],te([5,6]),function(K,e){return K.create("vs/editor/browser/controller/coreCommands",e)}),define(ee[484],te([5,6]),function(K,e){return K.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ee[485],te([5,6]),function(K,e){return K.create("vs/editor/browser/core/keybindingCancellation",e)}),define(ee[486],te([5,6]),function(K,e){return K.create("vs/editor/browser/editorExtensions",e)}),define(ee[487],te([5,6]),function(K,e){return K.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ee[488],te([5,6]),function(K,e){return K.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ee[489],te([5,6]),function(K,e){return K.create("vs/editor/browser/widget/diffReview",e)}),define(ee[490],te([5,6]),function(K,e){return K.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ee[491],te([0,1,490,7,44,2,3,27]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class C extends I.Disposable{constructor(g,t,i,n,o,d){super();this._viewZoneId=g,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=o,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=b.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const c=i.getOption(59),s=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${c}px`,this._diffActions.style.lineHeight=`${c}px`,this._marginDomNode.appendChild(this._diffActions);const a=[],r=n.modifiedEndLineNumber===0;a.push(new N.Action("diff.clipboard.copyDeletedContent",r?n.originalEndLineNumber>n.modifiedStartLineNumber?y.localize(0,null):y.localize(1,null):n.originalEndLineNumber>n.modifiedStartLineNumber?y.localize(2,null):y.localize(3,null),void 0,!0,()=>De(this,void 0,void 0,function*(){const v=new S.Range(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),p=n.originalModel.getValueInRange(v);yield this._clipboardService.writeText(p)})));let l=0,u;n.originalEndLineNumber>n.modifiedStartLineNumber&&(u=new N.Action("diff.clipboard.copyDeletedLineContent",r?y.localize(4,null,n.originalStartLineNumber):y.localize(5,null,n.originalStartLineNumber),void 0,!0,()=>De(this,void 0,void 0,function*(){const v=n.originalModel.getLineContent(n.originalStartLineNumber+l);if(v===""){const p=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(p===0?`
`:`\r
`)}else yield this._clipboardService.writeText(v)})),a.push(u)),i.getOption(81)||a.push(new N.Action("diff.inline.revertChange",y.localize(6,null),void 0,!0,()=>De(this,void 0,void 0,function*(){const v=new S.Range(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),p=n.originalModel.getValueInRange(v);if(n.modifiedEndLineNumber===0){const _=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new S.Range(n.modifiedStartLineNumber,_,n.modifiedStartLineNumber,_),text:s+p}])}else{const _=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new S.Range(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,_),text:p}])}})));const w=(v,p)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:v,y:p}),getActions:()=>(u&&(u.label=r?y.localize(7,null,n.originalStartLineNumber+l):y.localize(8,null,n.originalStartLineNumber+l)),a),autoSelectFirstItem:!0})};this._register(m.addStandardDisposableListener(this._diffActions,"mousedown",v=>{const{top:p,height:_}=m.getDomNodePagePosition(this._diffActions),L=Math.floor(c/3);v.preventDefault(),w(v.posx,p+_+L)})),this._register(i.onMouseMove(v=>{v.target.type===8||v.target.type===5?v.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,l=this._updateLightBulbPosition(this._marginDomNode,v.event.browserEvent.y,c)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(v=>{!v.event.rightButton||(v.target.type===8||v.target.type===5)&&v.target.detail.viewZoneId===this._viewZoneId&&(v.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,v.event.browserEvent.y,c),w(v.event.posx,v.event.posy+c))}))}get visibility(){return this._visibility}set visibility(g){this._visibility!==g&&(this._visibility=g,g?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(g,t,i){const{top:n}=m.getDomNodePagePosition(g),o=t-n,d=Math.floor(o/i),c=d*i;if(this._diffActions.style.top=`${c}px`,this.diff.viewLineCounts){let s=0;for(let a=0;a<this.diff.viewLineCounts.length;a++)if(s+=this.diff.viewLineCounts[a],d<s)return a}return d}}e.InlineDiffMargin=C}),define(ee[492],te([5,6]),function(K,e){return K.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ee[493],te([5,6]),function(K,e){return K.create("vs/editor/common/config/editorOptions",e)}),define(ee[30],te([0,1,493,17,148,19,38]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class b{constructor(re){this._values=re}hasChanged(re){return this._values[re]}}e.ConfigurationChangedEvent=b;class C{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=C;class h{constructor(re,fe,ye,Me){this.id=re,this.name=fe,this.defaultValue=ye,this.schema=Me}applyUpdate(re,fe){return t(re,fe)}compute(re,fe,ye){return ye}}class g{constructor(re,fe){this.newValue=re,this.didChange=fe}}e.ApplyUpdateResult=g;function t(be,re){if(typeof be!="object"||typeof re!="object"||!be||!re)return new g(re,be!==re);if(Array.isArray(be)||Array.isArray(re)){const ye=Array.isArray(be)&&Array.isArray(re)&&I.equals(be,re);return new g(re,ye)}let fe=!1;for(const ye in re)if(re.hasOwnProperty(ye)){const Me=t(be[ye],re[ye]);Me.didChange&&(be[ye]=Me.newValue,fe=!0)}return new g(be,fe)}class i{constructor(re){this.schema=void 0,this.id=re,this.name="_never_",this.defaultValue=void 0}applyUpdate(re,fe){return t(re,fe)}validate(re){return this.defaultValue}}class n{constructor(re,fe,ye,Me){this.id=re,this.name=fe,this.defaultValue=ye,this.schema=Me}applyUpdate(re,fe){return t(re,fe)}validate(re){return typeof re=="undefined"?this.defaultValue:re}compute(re,fe,ye){return ye}}function o(be,re){return typeof be=="undefined"?re:be==="false"?!1:Boolean(be)}e.boolean=o;class d extends n{constructor(re,fe,ye,Me=void 0){typeof Me!="undefined"&&(Me.type="boolean",Me.default=ye);super(re,fe,ye,Me)}validate(re){return o(re,this.defaultValue)}}function c(be,re,fe,ye){if(typeof be=="undefined")return re;let Me=parseInt(be,10);return isNaN(Me)?re:(Me=Math.max(fe,Me),Me=Math.min(ye,Me),Me|0)}e.clampedInt=c;class s extends n{constructor(re,fe,ye,Me,Oe,He=void 0){typeof He!="undefined"&&(He.type="integer",He.default=ye,He.minimum=Me,He.maximum=Oe);super(re,fe,ye,He);this.minimum=Me,this.maximum=Oe}static clampedInt(re,fe,ye,Me){return c(re,fe,ye,Me)}validate(re){return s.clampedInt(re,this.defaultValue,this.minimum,this.maximum)}}class a extends n{constructor(re,fe,ye,Me,Oe){typeof Oe!="undefined"&&(Oe.type="number",Oe.default=ye);super(re,fe,ye,Oe);this.validationFn=Me}static clamp(re,fe,ye){return re<fe?fe:re>ye?ye:re}static float(re,fe){if(typeof re=="number")return re;if(typeof re=="undefined")return fe;const ye=parseFloat(re);return isNaN(ye)?fe:ye}validate(re){return this.validationFn(a.float(re,this.defaultValue))}}class r extends n{static string(re,fe){return typeof re!="string"?fe:re}constructor(re,fe,ye,Me=void 0){typeof Me!="undefined"&&(Me.type="string",Me.default=ye);super(re,fe,ye,Me)}validate(re){return r.string(re,this.defaultValue)}}function l(be,re,fe){return typeof be!="string"||fe.indexOf(be)===-1?re:be}e.stringSet=l;class u extends n{constructor(re,fe,ye,Me,Oe=void 0){typeof Oe!="undefined"&&(Oe.type="string",Oe.enum=Me,Oe.default=ye);super(re,fe,ye,Oe);this._allowedValues=Me}validate(re){return l(re,this.defaultValue,this._allowedValues)}}class f extends h{constructor(re,fe,ye,Me,Oe,He,Ve=void 0){typeof Ve!="undefined"&&(Ve.type="string",Ve.enum=Oe,Ve.default=Me);super(re,fe,ye,Ve);this._allowedValues=Oe,this._convert=He}validate(re){return typeof re!="string"?this.defaultValue:this._allowedValues.indexOf(re)===-1?this.defaultValue:this._convert(re)}}function w(be){switch(be){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class v extends h{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[y.localize(0,null),y.localize(1,null),y.localize(2,null)],default:"auto",description:y.localize(3,null)})}validate(re){switch(re){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(re,fe,ye){return ye===0?re.accessibilitySupport:ye}}class p extends h{constructor(){const re={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",re,{"editor.comments.insertSpace":{type:"boolean",default:re.insertSpace,description:y.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:re.ignoreEmptyLines,description:y.localize(5,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{insertSpace:o(fe.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:o(fe.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function _(be){switch(be){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var L;(function(be){be[be.Line=1]="Line",be[be.Block=2]="Block",be[be.Underline=3]="Underline",be[be.LineThin=4]="LineThin",be[be.BlockOutline=5]="BlockOutline",be[be.UnderlineThin=6]="UnderlineThin"})(L=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function E(be){switch(be){case"line":return L.Line;case"block":return L.Block;case"underline":return L.Underline;case"line-thin":return L.LineThin;case"block-outline":return L.BlockOutline;case"underline-thin":return L.UnderlineThin}}class M extends i{constructor(){super(128)}compute(re,fe,ye){const Me=["monaco-editor"];return fe.get(33)&&Me.push(fe.get(33)),re.extraEditorClassName&&Me.push(re.extraEditorClassName),fe.get(66)==="default"?Me.push("mouse-default"):fe.get(66)==="copy"&&Me.push("mouse-copy"),fe.get(100)&&Me.push("showUnused"),fe.get(126)&&Me.push("showDeprecated"),Me.join(" ")}}class k extends d{constructor(){super(32,"emptySelectionClipboard",!0,{description:y.localize(6,null)})}compute(re,fe,ye){return ye&&re.emptySelectionClipboard}}class A extends h{constructor(){const re={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",re,{"editor.find.cursorMoveOnType":{type:"boolean",default:re.cursorMoveOnType,description:y.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:re.seedSearchStringFromSelection,enumDescriptions:[y.localize(8,null),y.localize(9,null),y.localize(10,null)],description:y.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:re.autoFindInSelection,enumDescriptions:[y.localize(12,null),y.localize(13,null),y.localize(14,null)],description:y.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:re.globalFindClipboard,description:y.localize(16,null),included:m.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:re.addExtraSpaceOnTop,description:y.localize(17,null)},"editor.find.loop":{type:"boolean",default:re.loop,description:y.localize(18,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{cursorMoveOnType:o(fe.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof re.seedSearchStringFromSelection=="boolean"?re.seedSearchStringFromSelection?"always":"never":l(fe.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof re.autoFindInSelection=="boolean"?re.autoFindInSelection?"always":"never":l(fe.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:o(fe.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:o(fe.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:o(fe.loop,this.defaultValue.loop)}}}class F extends h{constructor(){super(45,"fontLigatures",F.OFF,{anyOf:[{type:"boolean",description:y.localize(19,null)},{type:"string",description:y.localize(20,null)}],description:y.localize(21,null),default:!1})}validate(re){return typeof re=="undefined"?this.defaultValue:typeof re=="string"?re==="false"?F.OFF:re==="true"?F.ON:re:Boolean(re)?F.ON:F.OFF}}e.EditorFontLigatures=F,F.OFF='"liga" off, "calt" off',F.ON='"liga" on, "calt" on';class B extends i{constructor(){super(44)}compute(re,fe,ye){return re.fontInfo}}class T extends n{constructor(){super(46,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:y.localize(22,null)})}validate(re){const fe=a.float(re,this.defaultValue);return fe===0?e.EDITOR_FONT_DEFAULTS.fontSize:a.clamp(fe,6,100)}compute(re,fe,ye){return re.fontInfo.fontSize}}class R extends h{constructor(){super(47,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:R.MINIMUM_VALUE,maximum:R.MAXIMUM_VALUE,errorMessage:y.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:R.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:y.localize(24,null)})}validate(re){return re==="normal"||re==="bold"?re:String(s.clampedInt(re,e.EDITOR_FONT_DEFAULTS.fontWeight,R.MINIMUM_VALUE,R.MAXIMUM_VALUE))}}R.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],R.MINIMUM_VALUE=1,R.MAXIMUM_VALUE=1e3;class O extends h{constructor(){const re={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},fe={type:"string",enum:["peek","gotoAndPeek","goto"],default:re.multiple,enumDescriptions:[y.localize(25,null),y.localize(26,null),y.localize(27,null)]},ye=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",re,{"editor.gotoLocation.multiple":{deprecationMessage:y.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:y.localize(29,null)},fe),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:y.localize(30,null)},fe),"editor.gotoLocation.multipleDeclarations":Object.assign({description:y.localize(31,null)},fe),"editor.gotoLocation.multipleImplementations":Object.assign({description:y.localize(32,null)},fe),"editor.gotoLocation.multipleReferences":Object.assign({description:y.localize(33,null)},fe),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:re.alternativeDefinitionCommand,enum:ye,description:y.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:re.alternativeTypeDefinitionCommand,enum:ye,description:y.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:re.alternativeDeclarationCommand,enum:ye,description:y.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:re.alternativeImplementationCommand,enum:ye,description:y.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:re.alternativeReferenceCommand,enum:ye,description:y.localize(38,null)}})}validate(re){var fe,ye,Me,Oe,He;if(!re||typeof re!="object")return this.defaultValue;const Ve=re;return{multiple:l(Ve.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(fe=Ve.multipleDefinitions)!==null&&fe!==void 0?fe:l(Ve.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(ye=Ve.multipleTypeDefinitions)!==null&&ye!==void 0?ye:l(Ve.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Me=Ve.multipleDeclarations)!==null&&Me!==void 0?Me:l(Ve.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Oe=Ve.multipleImplementations)!==null&&Oe!==void 0?Oe:l(Ve.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(He=Ve.multipleReferences)!==null&&He!==void 0?He:l(Ve.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:r.string(Ve.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:r.string(Ve.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:r.string(Ve.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:r.string(Ve.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:r.string(Ve.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class P extends h{constructor(){const re={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",re,{"editor.hover.enabled":{type:"boolean",default:re.enabled,description:y.localize(39,null)},"editor.hover.delay":{type:"number",default:re.delay,minimum:0,maximum:1e4,description:y.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:re.sticky,description:y.localize(41,null)},"editor.hover.above":{type:"boolean",default:re.above,description:y.localize(42,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{enabled:o(fe.enabled,this.defaultValue.enabled),delay:s.clampedInt(fe.delay,this.defaultValue.delay,0,1e4),sticky:o(fe.sticky,this.defaultValue.sticky),above:o(fe.above,this.defaultValue.above)}}}class D extends i{constructor(){super(131)}compute(re,fe,ye){return D.computeLayout(fe,{memory:re.memory,outerWidth:re.outerWidth,outerHeight:re.outerHeight,isDominatedByLongLines:re.isDominatedByLongLines,lineHeight:re.fontInfo.lineHeight,viewLineCount:re.viewLineCount,lineNumbersDigitCount:re.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:re.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:re.fontInfo.maxDigitWidth,pixelRatio:re.pixelRatio})}static computeContainedMinimapLineCount(re){const fe=re.height/re.lineHeight,ye=re.scrollBeyondLastLine?fe-1:0,Me=(re.viewLineCount+ye)/(re.pixelRatio*re.height),Oe=Math.floor(re.viewLineCount/Me);return{typicalViewportLineCount:fe,extraLinesBeyondLastLine:ye,desiredRatio:Me,minimapLineCount:Oe}}static _computeMinimapLayout(re,fe){const ye=re.outerWidth,Me=re.outerHeight,Oe=re.pixelRatio;if(!re.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Oe*Me),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Me};const He=fe.stableMinimapLayoutInput,Ve=He&&re.outerHeight===He.outerHeight&&re.lineHeight===He.lineHeight&&re.typicalHalfwidthCharacterWidth===He.typicalHalfwidthCharacterWidth&&re.pixelRatio===He.pixelRatio&&re.scrollBeyondLastLine===He.scrollBeyondLastLine&&re.minimap.enabled===He.minimap.enabled&&re.minimap.side===He.minimap.side&&re.minimap.size===He.minimap.size&&re.minimap.showSlider===He.minimap.showSlider&&re.minimap.renderCharacters===He.minimap.renderCharacters&&re.minimap.maxColumn===He.minimap.maxColumn&&re.minimap.scale===He.minimap.scale&&re.verticalScrollbarWidth===He.verticalScrollbarWidth&&re.isViewportWrapping===He.isViewportWrapping,Ge=re.lineHeight,Je=re.typicalHalfwidthCharacterWidth,Ze=re.scrollBeyondLastLine,et=re.minimap.renderCharacters;let Ee=Oe>=2?Math.round(re.minimap.scale*2):re.minimap.scale;const Ie=re.minimap.maxColumn,Re=re.minimap.size,Ue=re.minimap.side,Ne=re.verticalScrollbarWidth,ke=re.viewLineCount,Te=re.remainingWidth,pe=re.isViewportWrapping,Ce=et?2:3;let Le=Math.floor(Oe*Me);const we=Le/Oe;let _e=!1,Pe=!1,Ae=Ce*Ee,xe=Ee/Oe,je=1;if(Re==="fill"||Re==="fit"){const{typicalViewportLineCount:Xe,extraLinesBeyondLastLine:Qe,desiredRatio:Ye,minimapLineCount:it}=D.computeContainedMinimapLineCount({viewLineCount:ke,scrollBeyondLastLine:Ze,height:Me,lineHeight:Ge,pixelRatio:Oe});if(ke/it>1)_e=!0,Pe=!0,Ee=1,Ae=1,xe=Ee/Oe;else{let lt=!1,ot=Ee+1;if(Re==="fit"){const ct=Math.ceil((ke+Qe)*Ae);pe&&Ve&&Te<=fe.stableFitRemainingWidth?(lt=!0,ot=fe.stableFitMaxMinimapScale):lt=ct>Le}if(Re==="fill"||lt){_e=!0;const ct=Ee;Ae=Math.min(Ge*Oe,Math.max(1,Math.floor(1/Ye))),pe&&Ve&&Te<=fe.stableFitRemainingWidth&&(ot=fe.stableFitMaxMinimapScale),Ee=Math.min(ot,Math.max(1,Math.floor(Ae/Ce))),Ee>ct&&(je=Math.min(2,Ee/ct)),xe=Ee/Oe/je,Le=Math.ceil(Math.max(Xe,ke+Qe)*Ae),pe?(fe.stableMinimapLayoutInput=re,fe.stableFitRemainingWidth=Te,fe.stableFitMaxMinimapScale=Ee):(fe.stableMinimapLayoutInput=null,fe.stableFitRemainingWidth=0)}}}const qe=Math.floor(Ie*xe),ze=Math.min(qe,Math.max(0,Math.floor((Te-Ne-2)*xe/(Je+xe)))+e.MINIMAP_GUTTER_WIDTH);let Fe=Math.floor(Oe*ze);const We=Fe/Oe;Fe=Math.floor(Fe*je);const $e=et?1:2,Ke=Ue==="left"?0:ye-ze-Ne;return{renderMinimap:$e,minimapLeft:Ke,minimapWidth:ze,minimapHeightIsEditorHeight:_e,minimapIsSampling:Pe,minimapScale:Ee,minimapLineHeight:Ae,minimapCanvasInnerWidth:Fe,minimapCanvasInnerHeight:Le,minimapCanvasOuterWidth:We,minimapCanvasOuterHeight:we}}static computeLayout(re,fe){const ye=fe.outerWidth|0,Me=fe.outerHeight|0,Oe=fe.lineHeight|0,He=fe.lineNumbersDigitCount|0,Ve=fe.typicalHalfwidthCharacterWidth,Ge=fe.maxDigitWidth,Je=fe.pixelRatio,Ze=fe.viewLineCount,et=re.get(123),Ee=et==="inherit"?re.get(122):et,Ie=Ee==="inherit"?re.get(118):Ee,Re=re.get(121),Ue=re.get(2),Ne=fe.isDominatedByLongLines,ke=re.get(50),Te=re.get(60).renderType!==0,pe=re.get(61),Ce=re.get(94),Le=re.get(65),we=re.get(92),_e=we.verticalScrollbarSize,Pe=we.verticalHasArrows,Ae=we.arrowSize,xe=we.horizontalScrollbarSize,je=re.get(58),qe=re.get(37);let ze;if(typeof je=="string"&&/^\d+(\.\d+)?ch$/.test(je)){const ft=parseFloat(je.substr(0,je.length-2));ze=s.clampedInt(ft*Ve,0,0,1e3)}else ze=s.clampedInt(je,0,0,1e3);qe&&(ze+=16);let Fe=0;if(Te){const ft=Math.max(He,pe);Fe=Math.round(ft*Ge)}let We=0;ke&&(We=Oe);let $e=0,Ke=$e+We,Xe=Ke+Fe,Qe=Xe+ze;const Ye=ye-We-Fe-ze;let it=!1,at=!1,lt=-1;Ue!==2&&(Ee==="inherit"&&Ne?(it=!0,at=!0):Ie==="on"||Ie==="bounded"?at=!0:Ie==="wordWrapColumn"&&(lt=Re));const ot=D._computeMinimapLayout({outerWidth:ye,outerHeight:Me,lineHeight:Oe,typicalHalfwidthCharacterWidth:Ve,pixelRatio:Je,scrollBeyondLastLine:Ce,minimap:Le,verticalScrollbarWidth:_e,viewLineCount:Ze,remainingWidth:Ye,isViewportWrapping:at},fe.memory||new C);ot.renderMinimap!==0&&ot.minimapLeft===0&&($e+=ot.minimapWidth,Ke+=ot.minimapWidth,Xe+=ot.minimapWidth,Qe+=ot.minimapWidth);const ct=Ye-ot.minimapWidth,st=Math.max(1,Math.floor((ct-_e-2)/Ve)),ht=Pe?Ae:0;return at&&(lt=Math.max(1,st),Ie==="bounded"&&(lt=Math.min(lt,Re))),{width:ye,height:Me,glyphMarginLeft:$e,glyphMarginWidth:We,lineNumbersLeft:Ke,lineNumbersWidth:Fe,decorationsLeft:Xe,decorationsWidth:ze,contentLeft:Qe,contentWidth:ct,minimap:ot,viewportColumn:st,isWordWrapMinified:it,isViewportWrapping:at,wrappingColumn:lt,verticalScrollbarWidth:_e,horizontalScrollbarHeight:xe,overviewRuler:{top:ht,width:_e,height:Me-2*ht,right:0}}}}e.EditorLayoutInfoComputer=D;class x extends h{constructor(){const re={enabled:!0};super(57,"lightbulb",re,{"editor.lightbulb.enabled":{type:"boolean",default:re.enabled,description:y.localize(43,null)}})}validate(re){return!re||typeof re!="object"?this.defaultValue:{enabled:o(re.enabled,this.defaultValue.enabled)}}}class H extends h{constructor(){const re={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",re,{"editor.inlayHints.enabled":{type:"boolean",default:re.enabled,description:y.localize(44,null)},"editor.inlayHints.fontSize":{type:"number",default:re.fontSize,markdownDescription:y.localize(45,null)},"editor.inlayHints.fontFamily":{type:"string",default:re.fontFamily,markdownDescription:y.localize(46,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{enabled:o(fe.enabled,this.defaultValue.enabled),fontSize:s.clampedInt(fe.fontSize,this.defaultValue.fontSize,0,100),fontFamily:r.string(fe.fontFamily,this.defaultValue.fontFamily)}}}class j extends a{constructor(){super(59,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,re=>a.clamp(re,0,150),{markdownDescription:y.localize(47,null)})}compute(re,fe,ye){return re.fontInfo.lineHeight}}class Q extends h{constructor(){const re={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",re,{"editor.minimap.enabled":{type:"boolean",default:re.enabled,description:y.localize(48,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[y.localize(49,null),y.localize(50,null),y.localize(51,null)],default:re.size,description:y.localize(52,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:re.side,description:y.localize(53,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:re.showSlider,description:y.localize(54,null)},"editor.minimap.scale":{type:"number",default:re.scale,minimum:1,maximum:3,enum:[1,2,3],description:y.localize(55,null)},"editor.minimap.renderCharacters":{type:"boolean",default:re.renderCharacters,description:y.localize(56,null)},"editor.minimap.maxColumn":{type:"number",default:re.maxColumn,description:y.localize(57,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{enabled:o(fe.enabled,this.defaultValue.enabled),size:l(fe.size,this.defaultValue.size,["proportional","fill","fit"]),side:l(fe.side,this.defaultValue.side,["right","left"]),showSlider:l(fe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:o(fe.renderCharacters,this.defaultValue.renderCharacters),scale:s.clampedInt(fe.scale,1,1,3),maxColumn:s.clampedInt(fe.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function G(be){return be==="ctrlCmd"?m.isMacintosh?"metaKey":"ctrlKey":"altKey"}class se extends h{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(58,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:y.localize(59,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{top:s.clampedInt(fe.top,0,0,1e3),bottom:s.clampedInt(fe.bottom,0,0,1e3)}}}class ne extends h{constructor(){const re={enabled:!0,cycle:!1};super(76,"parameterHints",re,{"editor.parameterHints.enabled":{type:"boolean",default:re.enabled,description:y.localize(60,null)},"editor.parameterHints.cycle":{type:"boolean",default:re.cycle,description:y.localize(61,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{enabled:o(fe.enabled,this.defaultValue.enabled),cycle:o(fe.cycle,this.defaultValue.cycle)}}}class Z extends i{constructor(){super(129)}compute(re,fe,ye){return re.pixelRatio}}class U extends h{constructor(){const re={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",re,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:re.strings,description:y.localize(62,null)},comments:{type:"boolean",default:re.comments,description:y.localize(63,null)},other:{type:"boolean",default:re.other,description:y.localize(64,null)}}}],default:re,description:y.localize(65,null)});this.defaultValue=re}validate(re){if(typeof re=="boolean")return re;if(re&&typeof re=="object"){const fe=re,ye={other:o(fe.other,this.defaultValue.other),comments:o(fe.comments,this.defaultValue.comments),strings:o(fe.strings,this.defaultValue.strings)};return ye.other&&ye.comments&&ye.strings?!0:!ye.other&&!ye.comments&&!ye.strings?!1:ye}return this.defaultValue}}class W extends h{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[y.localize(66,null),y.localize(67,null),y.localize(68,null),y.localize(69,null)],default:"on",description:y.localize(70,null)})}validate(re){let fe=this.defaultValue.renderType,ye=this.defaultValue.renderFn;return typeof re!="undefined"&&(typeof re=="function"?(fe=4,ye=re):re==="interval"?fe=3:re==="relative"?fe=2:re==="on"?fe=1:fe=0),{renderType:fe,renderFn:ye}}}function V(be){const re=be.get(87);return re==="editable"?be.get(81):re!=="on"}e.filterValidationDecorations=V;class Y extends h{constructor(){const re=[],fe={type:"number",description:y.localize(71,null)};super(91,"rulers",re,{type:"array",items:{anyOf:[fe,{type:["object"],properties:{column:fe,color:{type:"string",description:y.localize(72,null),format:"color-hex"}}}]},default:re,description:y.localize(73,null)})}validate(re){if(Array.isArray(re)){const fe=[];for(let ye of re)if(typeof ye=="number")fe.push({column:s.clampedInt(ye,0,0,1e4),color:null});else if(ye&&typeof ye=="object"){const Me=ye;fe.push({column:s.clampedInt(Me.column,0,0,1e4),color:Me.color})}return fe.sort((ye,Me)=>ye.column-Me.column),fe}return this.defaultValue}}function X(be,re){if(typeof be!="string")return re;switch(be){case"hidden":return 2;case"visible":return 3;default:return 1}}class ae extends h{constructor(){const re={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",re,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(74,null),y.localize(75,null),y.localize(76,null)],default:"auto",description:y.localize(77,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[y.localize(78,null),y.localize(79,null),y.localize(80,null)],default:"auto",description:y.localize(81,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:re.verticalScrollbarSize,description:y.localize(82,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:re.horizontalScrollbarSize,description:y.localize(83,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:re.scrollByPage,description:y.localize(84,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re,ye=s.clampedInt(fe.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Me=s.clampedInt(fe.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:s.clampedInt(fe.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:X(fe.vertical,this.defaultValue.vertical),horizontal:X(fe.horizontal,this.defaultValue.horizontal),useShadows:o(fe.useShadows,this.defaultValue.useShadows),verticalHasArrows:o(fe.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:o(fe.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:o(fe.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:o(fe.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:ye,horizontalSliderSize:s.clampedInt(fe.horizontalSliderSize,ye,0,1e3),verticalScrollbarSize:Me,verticalSliderSize:s.clampedInt(fe.verticalSliderSize,Me,0,1e3),scrollByPage:o(fe.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class J extends h{constructor(){const re={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",re,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:re.nonBasicASCII,description:y.localize(85,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:re.invisibleCharacters,description:y.localize(86,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:re.ambiguousCharacters,description:y.localize(87,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:re.includeComments,description:y.localize(88,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:re.includeStrings,description:y.localize(89,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:re.allowedCharacters,description:y.localize(90,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:re.allowedLocales,description:y.localize(91,null)}})}applyUpdate(re,fe){let ye=!1;fe.allowedCharacters&&(S.equals(re.allowedCharacters,fe.allowedCharacters)||(re=Object.assign(Object.assign({},re),{allowedCharacters:fe.allowedCharacters}),ye=!0)),fe.allowedLocales&&(S.equals(re.allowedLocales,fe.allowedLocales)||(re=Object.assign(Object.assign({},re),{allowedLocales:fe.allowedLocales}),ye=!0));const Me=super.applyUpdate(re,fe);return ye?new g(Me.newValue,!0):Me}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{nonBasicASCII:$(fe.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:o(fe.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:o(fe.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:$(fe.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:$(fe.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(re.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(re.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(re,fe){if(typeof re!="object"||!re)return fe;const ye={};for(const[Me,Oe]of Object.entries(re))Oe===!0&&(ye[Me]=!0);return ye}}class de extends h{constructor(){const re={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",re,{"editor.inlineSuggest.enabled":{type:"boolean",default:re.enabled,description:y.localize(92,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{enabled:o(fe.enabled,this.defaultValue.enabled),mode:l(fe.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class q extends h{constructor(){const re={enabled:e.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",re,{"editor.bracketPairColorization.enabled":{type:"boolean",default:re.enabled,description:y.localize(93,null)}})}validate(re){return!re||typeof re!="object"?this.defaultValue:{enabled:o(re.enabled,this.defaultValue.enabled)}}}class z extends h{constructor(){const re={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",re,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[y.localize(94,null),y.localize(95,null),y.localize(96,null)],default:re.bracketPairs,description:y.localize(97,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[y.localize(98,null),y.localize(99,null),y.localize(100,null)],default:re.bracketPairsHorizontal,description:y.localize(101,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:re.highlightActiveBracketPair,description:y.localize(102,null)},"editor.guides.indentation":{type:"boolean",default:re.indentation,description:y.localize(103,null)},"editor.guides.highlightActiveIndentation":{type:"boolean",default:re.highlightActiveIndentation,description:y.localize(104,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{bracketPairs:$(fe.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:$(fe.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:o(fe.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:o(fe.indentation,this.defaultValue.indentation),highlightActiveIndentation:o(fe.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function $(be,re,fe){const ye=fe.indexOf(be);return ye===-1?re:fe[ye]}class ie extends h{constructor(){const re={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",re,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[y.localize(105,null),y.localize(106,null)],default:re.insertMode,description:y.localize(107,null)},"editor.suggest.filterGraceful":{type:"boolean",default:re.filterGraceful,description:y.localize(108,null)},"editor.suggest.localityBonus":{type:"boolean",default:re.localityBonus,description:y.localize(109,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:re.shareSuggestSelections,markdownDescription:y.localize(110,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:re.snippetsPreventQuickSuggestions,description:y.localize(111,null)},"editor.suggest.showIcons":{type:"boolean",default:re.showIcons,description:y.localize(112,null)},"editor.suggest.showStatusBar":{type:"boolean",default:re.showStatusBar,description:y.localize(113,null)},"editor.suggest.preview":{type:"boolean",default:re.preview,description:y.localize(114,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:re.showInlineDetails,description:y.localize(115,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:y.localize(116,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:y.localize(117,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:y.localize(118,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:y.localize(119,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:y.localize(120,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:y.localize(121,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:y.localize(122,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:y.localize(123,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:y.localize(124,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:y.localize(125,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:y.localize(126,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:y.localize(127,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:y.localize(128,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:y.localize(129,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:y.localize(130,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:y.localize(131,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:y.localize(132,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:y.localize(133,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:y.localize(134,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:y.localize(135,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:y.localize(136,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:y.localize(137,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:y.localize(138,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:y.localize(139,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:y.localize(140,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:y.localize(141,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:y.localize(142,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:y.localize(143,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:y.localize(144,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:y.localize(145,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:y.localize(146,null)}})}validate(re){if(!re||typeof re!="object")return this.defaultValue;const fe=re;return{insertMode:l(fe.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:o(fe.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:o(fe.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:o(fe.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:o(fe.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:o(fe.showIcons,this.defaultValue.showIcons),showStatusBar:o(fe.showStatusBar,this.defaultValue.showStatusBar),preview:o(fe.preview,this.defaultValue.preview),previewMode:l(fe.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:o(fe.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:o(fe.showMethods,this.defaultValue.showMethods),showFunctions:o(fe.showFunctions,this.defaultValue.showFunctions),showConstructors:o(fe.showConstructors,this.defaultValue.showConstructors),showDeprecated:o(fe.showDeprecated,this.defaultValue.showDeprecated),showFields:o(fe.showFields,this.defaultValue.showFields),showVariables:o(fe.showVariables,this.defaultValue.showVariables),showClasses:o(fe.showClasses,this.defaultValue.showClasses),showStructs:o(fe.showStructs,this.defaultValue.showStructs),showInterfaces:o(fe.showInterfaces,this.defaultValue.showInterfaces),showModules:o(fe.showModules,this.defaultValue.showModules),showProperties:o(fe.showProperties,this.defaultValue.showProperties),showEvents:o(fe.showEvents,this.defaultValue.showEvents),showOperators:o(fe.showOperators,this.defaultValue.showOperators),showUnits:o(fe.showUnits,this.defaultValue.showUnits),showValues:o(fe.showValues,this.defaultValue.showValues),showConstants:o(fe.showConstants,this.defaultValue.showConstants),showEnums:o(fe.showEnums,this.defaultValue.showEnums),showEnumMembers:o(fe.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:o(fe.showKeywords,this.defaultValue.showKeywords),showWords:o(fe.showWords,this.defaultValue.showWords),showColors:o(fe.showColors,this.defaultValue.showColors),showFiles:o(fe.showFiles,this.defaultValue.showFiles),showReferences:o(fe.showReferences,this.defaultValue.showReferences),showFolders:o(fe.showFolders,this.defaultValue.showFolders),showTypeParameters:o(fe.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:o(fe.showSnippets,this.defaultValue.showSnippets),showUsers:o(fe.showUsers,this.defaultValue.showUsers),showIssues:o(fe.showIssues,this.defaultValue.showIssues)}}}class ce extends h{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:y.localize(147,null),default:!0,type:"boolean"}})}validate(re){return!re||typeof re!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:o(re.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class oe extends i{constructor(){super(130)}compute(re,fe,ye){return fe.get(81)?!0:re.tabFocusMode}}function he(be){switch(be){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class ve extends i{constructor(){super(132)}compute(re,fe,ye){const Me=fe.get(131);return{isDominatedByLongLines:re.isDominatedByLongLines,isWordWrapMinified:Me.isWordWrapMinified,isViewportWrapping:Me.isViewportWrapping,wrappingColumn:Me.wrappingColumn}}}const Se="Consolas, 'Courier New', monospace",le="Menlo, Monaco, 'Courier New', monospace",ge="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:m.isMacintosh?le:m.isLinux?ge:Se,fontWeight:"normal",fontSize:m.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},e.editorOptionsRegistry=[];function ue(be){return e.editorOptionsRegistry[be.id]=be,be}e.EditorOptions={acceptSuggestionOnCommitCharacter:ue(new d(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:y.localize(148,null)})),acceptSuggestionOnEnter:ue(new u(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",y.localize(149,null),""],markdownDescription:y.localize(150,null)})),accessibilitySupport:ue(new v),accessibilityPageSize:ue(new s(3,"accessibilityPageSize",10,1,1073741824,{description:y.localize(151,null)})),ariaLabel:ue(new r(4,"ariaLabel",y.localize(152,null))),autoClosingBrackets:ue(new u(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(153,null),y.localize(154,null),""],description:y.localize(155,null)})),autoClosingDelete:ue(new u(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",y.localize(156,null),""],description:y.localize(157,null)})),autoClosingOvertype:ue(new u(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",y.localize(158,null),""],description:y.localize(159,null)})),autoClosingQuotes:ue(new u(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",y.localize(160,null),y.localize(161,null),""],description:y.localize(162,null)})),autoIndent:ue(new f(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],w,{enumDescriptions:[y.localize(163,null),y.localize(164,null),y.localize(165,null),y.localize(166,null),y.localize(167,null)],description:y.localize(168,null)})),automaticLayout:ue(new d(10,"automaticLayout",!1)),autoSurround:ue(new u(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[y.localize(169,null),y.localize(170,null),y.localize(171,null),""],description:y.localize(172,null)})),bracketPairColorization:ue(new q),bracketPairGuides:ue(new z),stickyTabStops:ue(new d(104,"stickyTabStops",!1,{description:y.localize(173,null)})),codeLens:ue(new d(14,"codeLens",!0,{description:y.localize(174,null)})),codeLensFontFamily:ue(new r(15,"codeLensFontFamily","",{description:y.localize(175,null)})),codeLensFontSize:ue(new s(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:y.localize(176,null)})),colorDecorators:ue(new d(17,"colorDecorators",!0,{description:y.localize(177,null)})),columnSelection:ue(new d(18,"columnSelection",!1,{description:y.localize(178,null)})),comments:ue(new p),contextmenu:ue(new d(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ue(new d(21,"copyWithSyntaxHighlighting",!0,{description:y.localize(179,null)})),cursorBlinking:ue(new f(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],_,{description:y.localize(180,null)})),cursorSmoothCaretAnimation:ue(new d(23,"cursorSmoothCaretAnimation",!1,{description:y.localize(181,null)})),cursorStyle:ue(new f(24,"cursorStyle",L.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],E,{description:y.localize(182,null)})),cursorSurroundingLines:ue(new s(25,"cursorSurroundingLines",0,0,1073741824,{description:y.localize(183,null)})),cursorSurroundingLinesStyle:ue(new u(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[y.localize(184,null),y.localize(185,null)],description:y.localize(186,null)})),cursorWidth:ue(new s(27,"cursorWidth",0,0,1073741824,{markdownDescription:y.localize(187,null)})),disableLayerHinting:ue(new d(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ue(new d(29,"disableMonospaceOptimizations",!1)),domReadOnly:ue(new d(30,"domReadOnly",!1)),dragAndDrop:ue(new d(31,"dragAndDrop",!0,{description:y.localize(188,null)})),emptySelectionClipboard:ue(new k),extraEditorClassName:ue(new r(33,"extraEditorClassName","")),fastScrollSensitivity:ue(new a(34,"fastScrollSensitivity",5,be=>be<=0?5:be,{markdownDescription:y.localize(189,null)})),find:ue(new A),fixedOverflowWidgets:ue(new d(36,"fixedOverflowWidgets",!1)),folding:ue(new d(37,"folding",!0,{description:y.localize(190,null)})),foldingStrategy:ue(new u(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[y.localize(191,null),y.localize(192,null)],description:y.localize(193,null)})),foldingHighlight:ue(new d(39,"foldingHighlight",!0,{description:y.localize(194,null)})),foldingImportsByDefault:ue(new d(40,"foldingImportsByDefault",!1,{description:y.localize(195,null)})),foldingMaximumRegions:ue(new s(41,"foldingMaximumRegions",5e3,10,65e3,{description:y.localize(196,null)})),unfoldOnClickAfterEndOfLine:ue(new d(42,"unfoldOnClickAfterEndOfLine",!1,{description:y.localize(197,null)})),fontFamily:ue(new r(43,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:y.localize(198,null)})),fontInfo:ue(new B),fontLigatures2:ue(new F),fontSize:ue(new T),fontWeight:ue(new R),formatOnPaste:ue(new d(48,"formatOnPaste",!1,{description:y.localize(199,null)})),formatOnType:ue(new d(49,"formatOnType",!1,{description:y.localize(200,null)})),glyphMargin:ue(new d(50,"glyphMargin",!0,{description:y.localize(201,null)})),gotoLocation:ue(new O),hideCursorInOverviewRuler:ue(new d(52,"hideCursorInOverviewRuler",!1,{description:y.localize(202,null)})),hover:ue(new P),inDiffEditor:ue(new d(54,"inDiffEditor",!1)),letterSpacing:ue(new a(56,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,be=>a.clamp(be,-5,20),{description:y.localize(203,null)})),lightbulb:ue(new x),lineDecorationsWidth:ue(new n(58,"lineDecorationsWidth",10)),lineHeight:ue(new j),lineNumbers:ue(new W),lineNumbersMinChars:ue(new s(61,"lineNumbersMinChars",5,1,300)),linkedEditing:ue(new d(62,"linkedEditing",!1,{description:y.localize(204,null)})),links:ue(new d(63,"links",!0,{description:y.localize(205,null)})),matchBrackets:ue(new u(64,"matchBrackets","always",["always","near","never"],{description:y.localize(206,null)})),minimap:ue(new Q),mouseStyle:ue(new u(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ue(new a(67,"mouseWheelScrollSensitivity",1,be=>be===0?1:be,{markdownDescription:y.localize(207,null)})),mouseWheelZoom:ue(new d(68,"mouseWheelZoom",!1,{markdownDescription:y.localize(208,null)})),multiCursorMergeOverlapping:ue(new d(69,"multiCursorMergeOverlapping",!0,{description:y.localize(209,null)})),multiCursorModifier:ue(new f(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],G,{markdownEnumDescriptions:[y.localize(210,null),y.localize(211,null)],markdownDescription:y.localize(212,null)})),multiCursorPaste:ue(new u(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[y.localize(213,null),y.localize(214,null)],markdownDescription:y.localize(215,null)})),occurrencesHighlight:ue(new d(72,"occurrencesHighlight",!0,{description:y.localize(216,null)})),overviewRulerBorder:ue(new d(73,"overviewRulerBorder",!0,{description:y.localize(217,null)})),overviewRulerLanes:ue(new s(74,"overviewRulerLanes",3,0,3)),padding:ue(new se),parameterHints:ue(new ne),peekWidgetDefaultFocus:ue(new u(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[y.localize(218,null),y.localize(219,null)],description:y.localize(220,null)})),definitionLinkOpensInPeek:ue(new d(78,"definitionLinkOpensInPeek",!1,{description:y.localize(221,null)})),quickSuggestions:ue(new U),quickSuggestionsDelay:ue(new s(80,"quickSuggestionsDelay",10,0,1073741824,{description:y.localize(222,null)})),readOnly:ue(new d(81,"readOnly",!1)),renameOnType:ue(new d(82,"renameOnType",!1,{description:y.localize(223,null),markdownDeprecationMessage:y.localize(224,null)})),renderControlCharacters:ue(new d(83,"renderControlCharacters",!0,{description:y.localize(225,null),restricted:!0})),renderFinalNewline:ue(new d(84,"renderFinalNewline",!0,{description:y.localize(226,null)})),renderLineHighlight:ue(new u(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",y.localize(227,null)],description:y.localize(228,null)})),renderLineHighlightOnlyWhenFocus:ue(new d(86,"renderLineHighlightOnlyWhenFocus",!1,{description:y.localize(229,null)})),renderValidationDecorations:ue(new u(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ue(new u(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",y.localize(230,null),y.localize(231,null),y.localize(232,null),""],description:y.localize(233,null)})),revealHorizontalRightPadding:ue(new s(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ue(new d(90,"roundedSelection",!0,{description:y.localize(234,null)})),rulers:ue(new Y),scrollbar:ue(new ae),scrollBeyondLastColumn:ue(new s(93,"scrollBeyondLastColumn",5,0,1073741824,{description:y.localize(235,null)})),scrollBeyondLastLine:ue(new d(94,"scrollBeyondLastLine",!0,{description:y.localize(236,null)})),scrollPredominantAxis:ue(new d(95,"scrollPredominantAxis",!0,{description:y.localize(237,null)})),selectionClipboard:ue(new d(96,"selectionClipboard",!0,{description:y.localize(238,null),included:m.isLinux})),selectionHighlight:ue(new d(97,"selectionHighlight",!0,{description:y.localize(239,null)})),selectOnLineNumbers:ue(new d(98,"selectOnLineNumbers",!0)),showFoldingControls:ue(new u(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[y.localize(240,null),y.localize(241,null)],description:y.localize(242,null)})),showUnused:ue(new d(100,"showUnused",!0,{description:y.localize(243,null)})),showDeprecated:ue(new d(126,"showDeprecated",!0,{description:y.localize(244,null)})),inlayHints:ue(new H),snippetSuggestions:ue(new u(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[y.localize(245,null),y.localize(246,null),y.localize(247,null),y.localize(248,null)],description:y.localize(249,null)})),smartSelect:ue(new ce),smoothScrolling:ue(new d(103,"smoothScrolling",!1,{description:y.localize(250,null)})),stopRenderingLineAfter:ue(new s(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ue(new ie),inlineSuggest:ue(new de),suggestFontSize:ue(new s(107,"suggestFontSize",0,0,1e3,{markdownDescription:y.localize(251,null)})),suggestLineHeight:ue(new s(108,"suggestLineHeight",0,0,1e3,{markdownDescription:y.localize(252,null)})),suggestOnTriggerCharacters:ue(new d(109,"suggestOnTriggerCharacters",!0,{description:y.localize(253,null)})),suggestSelection:ue(new u(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[y.localize(254,null),y.localize(255,null),y.localize(256,null)],description:y.localize(257,null)})),tabCompletion:ue(new u(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[y.localize(258,null),y.localize(259,null),y.localize(260,null)],description:y.localize(261,null)})),tabIndex:ue(new s(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:ue(new J),unusualLineTerminators:ue(new u(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[y.localize(262,null),y.localize(263,null),y.localize(264,null)],description:y.localize(265,null)})),useShadowDOM:ue(new d(115,"useShadowDOM",!0)),useTabStops:ue(new d(116,"useTabStops",!0,{description:y.localize(266,null)})),wordSeparators:ue(new r(117,"wordSeparators",N.USUAL_WORD_SEPARATORS,{description:y.localize(267,null)})),wordWrap:ue(new u(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[y.localize(268,null),y.localize(269,null),y.localize(270,null),y.localize(271,null)],description:y.localize(272,null)})),wordWrapBreakAfterCharacters:ue(new r(119,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ue(new r(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ue(new s(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:y.localize(273,null)})),wordWrapOverride1:ue(new u(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ue(new u(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ue(new f(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],he,{enumDescriptions:[y.localize(274,null),y.localize(275,null),y.localize(276,null),y.localize(277,null)],description:y.localize(278,null)})),wrappingStrategy:ue(new u(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[y.localize(279,null),y.localize(280,null)],description:y.localize(281,null)})),editorClassName:ue(new M),pixelRatio:ue(new Z),tabFocusMode:ue(new oe),layoutInfo:ue(new D),wrappingInfo:ue(new ve)}}),define(ee[62],te([0,1,33,31,30]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function I(S,b){S instanceof m.FastDomNode?(S.setFontFamily(b.getMassagedFontFamily(y.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null)),S.setFontWeight(b.fontWeight),S.setFontSize(b.fontSize),S.setFontFeatureSettings(b.fontFeatureSettings),S.setLineHeight(b.lineHeight),S.setLetterSpacing(b.letterSpacing)):(S.style.fontFamily=b.getMassagedFontFamily(y.isSafari?N.EDITOR_FONT_DEFAULTS.fontFamily:null),S.style.fontWeight=b.fontWeight,S.style.fontSize=b.fontSize+"px",S.style.fontFeatureSettings=b.fontFeatureSettings,S.style.lineHeight=b.lineHeight+"px",S.style.letterSpacing=b.letterSpacing+"px")}e.applyFontInfo=I}),define(ee[494],te([0,1,62]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class m{constructor(b,C){this.chr=b,this.type=C,this.width=0}fulfill(b){this.width=b}}e.CharWidthRequest=m;class N{constructor(b,C){this._bareFontInfo=b,this._requests=C,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const b=document.createElement("div");b.style.position="absolute",b.style.top="-50000px",b.style.width="50000px";const C=document.createElement("div");(0,y.applyFontInfo)(C,this._bareFontInfo),b.appendChild(C);const h=document.createElement("div");(0,y.applyFontInfo)(h,this._bareFontInfo),h.style.fontWeight="bold",b.appendChild(h);const g=document.createElement("div");(0,y.applyFontInfo)(g,this._bareFontInfo),g.style.fontStyle="italic",b.appendChild(g);const t=[];for(const i of this._requests){let n;i.type===0&&(n=C),i.type===2&&(n=h),i.type===1&&(n=g),n.appendChild(document.createElement("br"));const o=document.createElement("span");N._render(o,i),n.appendChild(o),t.push(o)}this._container=b,this._testElements=t}static _render(b,C){if(C.chr===" "){let h="\xA0";for(let g=0;g<8;g++)h+=h;b.innerText=h}else{let h=C.chr;for(let g=0;g<8;g++)h+=h;b.textContent=h}}_readFromDomElements(){for(let b=0,C=this._requests.length;b<C;b++){const h=this._requests[b],g=this._testElements[b];h.fulfill(g.offsetWidth/256)}}}function I(S,b){new N(S,b).read()}e.readCharWidths=I}),define(ee[258],te([0,1,33,4,2,494,30,172]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=void 0;class C extends N.Disposable{constructor(){super();this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new h,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new h,this._onDidChange.fire()}_writeToCache(t,i){this._cache.put(t,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const t=this._cache.getValues();let i=!1;for(const n of t)n.isTrusted||(i=!0,this._cache.remove(n));i&&this._onDidChange.fire()}readFontInfo(t){if(!this._cache.has(t)){let i=this._actualReadFontInfo(t);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new b.FontInfo({pixelRatio:y.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(t,i)}return this._cache.get(t)}_createRequest(t,i,n,o){const d=new I.CharWidthRequest(t,i);return n.push(d),o&&o.push(d),d}_actualReadFontInfo(t){const i=[],n=[],o=this._createRequest("n",0,i,n),d=this._createRequest("\uFF4D",0,i,null),c=this._createRequest(" ",0,i,n),s=this._createRequest("0",0,i,n),a=this._createRequest("1",0,i,n),r=this._createRequest("2",0,i,n),l=this._createRequest("3",0,i,n),u=this._createRequest("4",0,i,n),f=this._createRequest("5",0,i,n),w=this._createRequest("6",0,i,n),v=this._createRequest("7",0,i,n),p=this._createRequest("8",0,i,n),_=this._createRequest("9",0,i,n),L=this._createRequest("\u2192",0,i,n),E=this._createRequest("\uFFEB",0,i,null),M=this._createRequest("\xB7",0,i,n),k=this._createRequest(String.fromCharCode(11825),0,i,null),A="|/-_ilm%";for(let O=0,P=A.length;O<P;O++)this._createRequest(A.charAt(O),0,i,n),this._createRequest(A.charAt(O),1,i,n),this._createRequest(A.charAt(O),2,i,n);(0,I.readCharWidths)(t,i);const F=Math.max(s.width,a.width,r.width,l.width,u.width,f.width,w.width,v.width,p.width,_.width);let B=t.fontFeatureSettings===S.EditorFontLigatures.OFF;const T=n[0].width;for(let O=1,P=n.length;B&&O<P;O++){const D=T-n[O].width;if(D<-.001||D>.001){B=!1;break}}let R=!0;return B&&E.width!==T&&(R=!1),E.width>L.width&&(R=!1),new b.FontInfo({pixelRatio:y.PixelRatio.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:B,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:d.width,canUseHalfwidthRightwardsArrow:R,spaceWidth:c.width,middotWidth:M.width,wsmiddotWidth:k.width,maxDigitWidth:F},!0)}}class h{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(t){const i=t.getId();return!!this._values[i]}get(t){const i=t.getId();return this._values[i]}put(t,i){const n=t.getId();this._keys[n]=t,this._values[n]=i}remove(t){const i=t.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(t=>this._values[t])}}e.FontMeasurements=new C}),define(ee[495],te([0,1,89,8,62,91,244]),function(K,e,y,m,N,I,S){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const C=(b=window.trustedTypes)===null||b===void 0?void 0:b.createPolicy("domLineBreaksComputer",{createHTML:d=>d});class h{static create(){return new h}constructor(){}createLineBreaksComputer(c,s,a,r){const l=[],u=[];return{addRequest:(f,w,v)=>{l.push(f),u.push(w)},finalize:()=>g(l,c,s,a,r,u)}}}e.DOMLineBreaksComputerFactory=h;function g(d,c,s,a,r,l){var u;function f(x){const H=l[x];if(H){const j=I.LineInjectedText.applyInjectedText(d[x],H),Q=H.map(se=>se.options),G=H.map(se=>se.column-1);return new S.ModelLineProjectionData(G,Q,[j.length],[],0)}else return null}if(a===-1){const x=[];for(let H=0,j=d.length;H<j;H++)x[H]=f(H);return x}const w=Math.round(a*c.typicalHalfwidthCharacterWidth),p=Math.round(s*(r===3?2:r===2?1:0)),_=Math.ceil(c.spaceWidth*p),L=document.createElement("div");(0,N.applyFontInfo)(L,c);const E=(0,y.createStringBuilder)(1e4),M=[],k=[],A=[],F=[],B=[];for(let x=0;x<d.length;x++){const H=I.LineInjectedText.applyInjectedText(d[x],l[x]);let j=0,Q=0,G=w;if(r!==0)if(j=m.firstNonWhitespaceIndex(H),j===-1)j=0;else{for(let U=0;U<j;U++)Q+=H.charCodeAt(U)===9?s-Q%s:1;const Z=Math.ceil(c.spaceWidth*Q);Z+c.typicalFullwidthCharacterWidth>w?(j=0,Q=0):G=w-Z}const se=H.substr(j),ne=t(se,Q,s,G,E,_);M[x]=j,k[x]=Q,A[x]=se,F[x]=ne[0],B[x]=ne[1]}const T=E.build(),R=(u=C==null?void 0:C.createHTML(T))!==null&&u!==void 0?u:T;L.innerHTML=R,L.style.position="absolute",L.style.top="10000",L.style.wordWrap="break-word",document.body.appendChild(L);const O=document.createRange(),P=Array.prototype.slice.call(L.children,0),D=[];for(let x=0;x<d.length;x++){const H=P[x],j=i(O,H,A[x],F[x]);if(j===null){D[x]=f(x);continue}const Q=M[x],G=k[x]+p,se=B[x],ne=[];for(let V=0,Y=j.length;V<Y;V++)ne[V]=se[j[V]];if(Q!==0)for(let V=0,Y=j.length;V<Y;V++)j[V]+=Q;let Z,U;const W=l[x];W?(Z=W.map(V=>V.options),U=W.map(V=>V.column-1)):(Z=null,U=null),D[x]=new S.ModelLineProjectionData(U,Z,j,ne,G)}return document.body.removeChild(L),D}function t(d,c,s,a,r,l){if(l!==0){const L=String(l);r.appendASCIIString('<div style="text-indent: -'),r.appendASCIIString(L),r.appendASCIIString("px; padding-left: "),r.appendASCIIString(L),r.appendASCIIString("px; box-sizing: border-box; width:")}else r.appendASCIIString('<div style="width:');r.appendASCIIString(String(a)),r.appendASCIIString('px;">');const u=d.length;let f=c,w=0;const v=[],p=[];let _=0<u?d.charCodeAt(0):0;r.appendASCIIString("<span>");for(let L=0;L<u;L++){L!==0&&L%16384==0&&r.appendASCIIString("</span><span>"),v[L]=w,p[L]=f;const E=_;_=L+1<u?d.charCodeAt(L+1):0;let M=1,k=1;switch(E){case 9:M=s-f%s,k=M;for(let A=1;A<=M;A++)A<M?r.write1(160):r.appendASCII(32);break;case 32:_===32?r.write1(160):r.appendASCII(32);break;case 60:r.appendASCIIString("&lt;");break;case 62:r.appendASCIIString("&gt;");break;case 38:r.appendASCIIString("&amp;");break;case 0:r.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.write1(65533);break;default:m.isFullWidthCharacter(E)&&k++,E<32?r.write1(9216+E):r.write1(E)}w+=M,f+=k}return r.appendASCIIString("</span>"),v[d.length]=w,p[d.length]=f,r.appendASCIIString("</div>"),[v,p]}function i(d,c,s,a){if(s.length<=1)return null;const r=Array.prototype.slice.call(c.children,0),l=[];try{n(d,r,a,0,null,s.length-1,null,l)}catch(u){return console.log(u),null}return l.length===0?null:(l.push(s.length),l)}function n(d,c,s,a,r,l,u,f){if(a===l||(r=r||o(d,c,s[a],s[a+1]),u=u||o(d,c,s[l],s[l+1]),Math.abs(r[0].top-u[0].top)<=.1))return;if(a+1===l){f.push(l);return}const w=a+(l-a)/2|0,v=o(d,c,s[w],s[w+1]);n(d,c,s,a,r,w,v,f),n(d,c,s,w,v,l,u,f)}function o(d,c,s,a){return d.setStart(c[s/16384|0].firstChild,s%16384),d.setEnd(c[a/16384|0].firstChild,a%16384),d.getClientRects()}}),define(ee[496],te([0,1,31,62,174,51]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends I.ViewPart{constructor(t){super(t);this._visibleLines=new N.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,i=this._dynamicOverlays.length;t<i;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,i=this._dynamicOverlays.length;t<i;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new b(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onConfigurationChanged(t);return!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const i=this._dynamicOverlays.filter(n=>n.shouldRender());for(let n=0,o=i.length;n<o;n++){const d=i[n];d.prepareRender(t),d.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}e.ViewOverlays=S;class b{constructor(t,i){this._configuration=t,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=(0,y.createFastDomNode)(t)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(t){this._lineHeight=this._configuration.options.get(59)}renderLine(t,i,n,o){let d="";for(let c=0,s=this._dynamicOverlays.length;c<s;c++)d+=this._dynamicOverlays[c].render(n.startLineNumber,t);return this._renderedContent===d?!1:(this._renderedContent=d,o.appendASCIIString('<div style="position:absolute;top:'),o.appendASCIIString(String(i)),o.appendASCIIString("px;width:100%;height:"),o.appendASCIIString(String(this._lineHeight)),o.appendASCIIString('px;">'),o.appendASCIIString(d),o.appendASCIIString("</div>"),!0)}layoutLine(t,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=b;class C extends S{constructor(t){super(t);const n=this._context.configuration.options.get(131);this._contentWidth=n.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const n=this._context.configuration.options.get(131);return this._contentWidth=n.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=C;class h extends S{constructor(t){super(t);const i=this._context.configuration.options,n=i.get(131);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,m.applyFontInfo)(this.domNode,i.get(44))}onConfigurationChanged(t){const i=this._context.configuration.options;(0,m.applyFontInfo)(this.domNode,i.get(44));const n=i.get(131);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const i=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=h}),define(ee[497],te([0,1,7,31,8,62,30,11,3,140]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class g{constructor(n,o,d,c,s,a){this.top=n,this.left=o,this.width=d,this.height=c,this.textContent=s,this.textContentClassName=a}}class t{constructor(n){this._context=n;const o=this._context.configuration.options,d=o.get(44);this._cursorStyle=o.get(24),this._lineHeight=o.get(59),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${h.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,I.applyFontInfo)(this._domNode,d),this._domNode.setDisplay("none"),this._position=new b.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(n){const o=this._context.configuration.options,d=o.get(44);return this._cursorStyle=o.get(24),this._lineHeight=o.get(59),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),(0,I.applyFontInfo)(this._domNode,d),!0}onCursorPositionChanged(n){return this._position=n,!0}_getGraphemeAwarePosition(){const{lineNumber:n,column:o}=this._position,d=this._context.model.getLineContent(n),[c,s]=N.getCharContainingOffset(d,o-1);return[new b.Position(n,c+1),d.substring(c,s)]}_prepareRender(n){let o="";const[d,c]=this._getGraphemeAwarePosition();if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const v=n.visibleRangeForPosition(d);if(!v||v.outsideRenderedLine)return null;let p;this._cursorStyle===S.TextEditorCursorStyle.Line?(p=y.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),p>2&&(o=c)):p=y.computeScreenAwareSize(1);let _=v.left;p>=2&&_>=1&&(_-=1);const L=n.getVerticalOffsetForLineNumber(d.lineNumber)-n.bigNumbersDelta;return new g(L,_,p,this._lineHeight,o,"")}const s=n.linesVisibleRangesForRange(new C.Range(d.lineNumber,d.column,d.lineNumber,d.column+c.length),!1);if(!s||s.length===0)return null;const a=s[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const r=a.ranges[0],l=r.width<1?this._typicalHalfwidthCharacterWidth:r.width;let u="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const v=this._context.model.getViewLineData(d.lineNumber);o=c;const p=v.tokens.findTokenIndexAtOffset(d.column-1);u=v.tokens.getClassName(p)}let f=n.getVerticalOffsetForLineNumber(d.lineNumber)-n.bigNumbersDelta,w=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(f+=this._lineHeight-2,w=2),new g(f,r.left,l,w,o,u)}prepareRender(n){this._renderData=this._prepareRender(n)}render(n){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${h.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=t}),define(ee[259],te([0,1,11,3,67,30]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class S{constructor(i,n,o,d,c){this.editorId=i,this.model=n,this.configuration=o,this._linesCollection=d,this._coordinatesConverter=c,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(i){const n=i.id;let o=this._decorationsCache[n];if(!o){const d=i.range,c=i.options;let s;if(c.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(d.startLineNumber,1),0),r=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(d.endLineNumber,this.model.getLineMaxColumn(d.endLineNumber)),1);s=new m.Range(a.lineNumber,a.column,r.lineNumber,r.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(d,1);o=new N.ViewModelDecoration(s,c),this._decorationsCache[n]=o}return o}getDecorationsViewportData(i){let n=this._cachedModelDecorationsResolver!==null;return n=n&&i.equalsRange(this._cachedModelDecorationsResolverViewRange),n||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(i),this._cachedModelDecorationsResolverViewRange=i),this._cachedModelDecorationsResolver}_getDecorationsViewportData(i){const n=this._linesCollection.getDecorationsInRange(i,this.editorId,(0,I.filterValidationDecorations)(this.configuration.options)),o=i.startLineNumber,d=i.endLineNumber,c=[];let s=0;const a=[];for(let r=o;r<=d;r++)a[r-o]=[];for(let r=0,l=n.length;r<l;r++){const u=n[r],f=u.options;if(!b(this.model,u))continue;const w=this._getOrCreateViewModelDecoration(u),v=w.range;if(c[s++]=w,f.inlineClassName){const p=new N.InlineDecoration(v,f.inlineClassName,f.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(o,v.startLineNumber),L=Math.min(d,v.endLineNumber);for(let E=_;E<=L;E++)a[E-o].push(p)}if(f.beforeContentClassName&&o<=v.startLineNumber&&v.startLineNumber<=d){const p=new N.InlineDecoration(new m.Range(v.startLineNumber,v.startColumn,v.startLineNumber,v.startColumn),f.beforeContentClassName,1);a[v.startLineNumber-o].push(p)}if(f.afterContentClassName&&o<=v.endLineNumber&&v.endLineNumber<=d){const p=new N.InlineDecoration(new m.Range(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn),f.afterContentClassName,2);a[v.endLineNumber-o].push(p)}}return{decorations:c,inlineDecorations:a}}}e.ViewModelDecorations=S;function b(t,i){return!(i.options.hideInCommentTokens&&C(t,i)||i.options.hideInStringTokens&&h(t,i))}e.isModelDecorationVisible=b;function C(t,i){return g(t,i.range,n=>n===1)}e.isModelDecorationInComment=C;function h(t,i){return g(t,i.range,n=>n===2)}e.isModelDecorationInString=h;function g(t,i,n){for(let o=i.startLineNumber;o<=i.endLineNumber;o++){const d=t.getLineTokens(o),c=o===i.startLineNumber,s=o===i.endLineNumber;let a=c?d.findTokenIndexAtOffset(i.startColumn-1):0;for(;a<d.getCount()&&!(s&&d.getStartOffset(a)>i.endColumn-1);){if(!n(d.getStandardTokenType(a)))return!1;a++}}return!0}}),define(ee[498],te([5,6]),function(K,e){return K.create("vs/editor/common/editorContextKeys",e)}),define(ee[499],te([5,6]),function(K,e){return K.create("vs/editor/common/languages/modesRegistry",e)}),define(ee[500],te([5,6]),function(K,e){return K.create("vs/editor/common/model/editStack",e)}),define(ee[260],te([0,1,500,14,22,25,238,107,41]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function h(c){return c.toString()}class g{constructor(s,a,r,l,u,f,w){this.beforeVersionId=s,this.afterVersionId=a,this.beforeEOL=r,this.afterEOL=l,this.beforeCursorState=u,this.afterCursorState=f,this.changes=w}static create(s,a){const r=s.getAlternativeVersionId(),l=n(s);return new g(r,r,l,l,a,a,[])}append(s,a,r,l,u){a.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,a)),this.afterEOL=r,this.afterVersionId=l,this.afterCursorState=u}static _writeSelectionsSize(s){return 4+4*4*(s?s.length:0)}static _writeSelections(s,a,r){if(b.writeUInt32BE(s,a?a.length:0,r),r+=4,a)for(const l of a)b.writeUInt32BE(s,l.selectionStartLineNumber,r),r+=4,b.writeUInt32BE(s,l.selectionStartColumn,r),r+=4,b.writeUInt32BE(s,l.positionLineNumber,r),r+=4,b.writeUInt32BE(s,l.positionColumn,r),r+=4;return r}static _readSelections(s,a,r){const l=b.readUInt32BE(s,a);a+=4;for(let u=0;u<l;u++){const f=b.readUInt32BE(s,a);a+=4;const w=b.readUInt32BE(s,a);a+=4;const v=b.readUInt32BE(s,a);a+=4;const p=b.readUInt32BE(s,a);a+=4,r.push(new N.Selection(f,w,v,p))}return a}serialize(){let s=4+4+1+1+g._writeSelectionsSize(this.beforeCursorState)+g._writeSelectionsSize(this.afterCursorState)+4;for(const l of this.changes)s+=l.writeSize();const a=new Uint8Array(s);let r=0;b.writeUInt32BE(a,this.beforeVersionId,r),r+=4,b.writeUInt32BE(a,this.afterVersionId,r),r+=4,b.writeUInt8(a,this.beforeEOL,r),r+=1,b.writeUInt8(a,this.afterEOL,r),r+=1,r=g._writeSelections(a,this.beforeCursorState,r),r=g._writeSelections(a,this.afterCursorState,r),b.writeUInt32BE(a,this.changes.length,r),r+=4;for(const l of this.changes)r=l.write(a,r);return a.buffer}static deserialize(s){const a=new Uint8Array(s);let r=0;const l=b.readUInt32BE(a,r);r+=4;const u=b.readUInt32BE(a,r);r+=4;const f=b.readUInt8(a,r);r+=1;const w=b.readUInt8(a,r);r+=1;const v=[];r=g._readSelections(a,r,v);const p=[];r=g._readSelections(a,r,p);const _=b.readUInt32BE(a,r);r+=4;const L=[];for(let E=0;E<_;E++)r=S.TextChange.read(a,r,L);return new g(l,u,f,w,v,p,L)}}e.SingleModelEditStackData=g;class t{constructor(s,a){this.model=s,this._data=g.create(s,a)}get type(){return 0}get resource(){return I.URI.isUri(this.model)?this.model:this.model.uri}get label(){return y.localize(0,null)}toString(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map(a=>a.toString()).join(", ")}matchesResource(s){return(I.URI.isUri(this.model)?this.model:this.model.uri).toString()===s.toString()}setModel(s){this.model=s}canAppend(s){return this.model===s&&this._data instanceof g}append(s,a,r,l,u){this._data instanceof g&&this._data.append(s,a,r,l,u)}close(){this._data instanceof g&&(this._data=this._data.serialize())}open(){this._data instanceof g||(this._data=g.deserialize(this._data))}undo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const s=g.deserialize(this._data);this.model._applyUndo(s.changes,s.beforeEOL,s.beforeVersionId,s.beforeCursorState)}redo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const s=g.deserialize(this._data);this.model._applyRedo(s.changes,s.afterEOL,s.afterVersionId,s.afterCursorState)}heapSize(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=t;class i{constructor(s,a){this.type=1,this.label=s,this._isOpen=!0,this._editStackElementsArr=a.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const l=h(r.resource);this._editStackElementsMap.set(l,r)}this._delegate=null}get resources(){return this._editStackElementsArr.map(s=>s.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(s){const a=h(s);return this._editStackElementsMap.has(a)}setModel(s){const a=h(I.URI.isUri(s)?s:s.uri);this._editStackElementsMap.has(a)&&this._editStackElementsMap.get(a).setModel(s)}canAppend(s){if(!this._isOpen)return!1;const a=h(s.uri);return this._editStackElementsMap.has(a)?this._editStackElementsMap.get(a).canAppend(s):!1}append(s,a,r,l,u){const f=h(s.uri);this._editStackElementsMap.get(f).append(s,a,r,l,u)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const s of this._editStackElementsArr)s.undo()}redo(){for(const s of this._editStackElementsArr)s.redo()}heapSize(s){const a=h(s);return this._editStackElementsMap.has(a)?this._editStackElementsMap.get(a).heapSize():0}split(){return this._editStackElementsArr}toString(){let s=[];for(const a of this._editStackElementsArr)s.push(`${(0,C.basename)(a.resource)}: ${a}`);return`{${s.join(", ")}}`}}e.MultiModelEditStackElement=i;function n(c){return c.getEOL()===`
`?0:1}function o(c){return c?c instanceof t||c instanceof i:!1}e.isEditStackElement=o;class d{constructor(s,a){this._model=s,this._undoRedoService=a}pushStackElement(){const s=this._undoRedoService.getLastElement(this._model.uri);o(s)&&s.close()}popStackElement(){const s=this._undoRedoService.getLastElement(this._model.uri);o(s)&&s.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(s){const a=this._undoRedoService.getLastElement(this._model.uri);if(o(a)&&a.canAppend(this._model))return a;const r=new t(this._model,s);return this._undoRedoService.pushElement(r),r}pushEOL(s){const a=this._getOrCreateEditStackElement(null);this._model.setEOL(s),a.append(this._model,[],n(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(s,a,r){const l=this._getOrCreateEditStackElement(s),u=this._model.applyEdits(a,!0),f=d._computeCursorState(r,u),w=u.map((v,p)=>({index:p,textChange:v.textChange}));return w.sort((v,p)=>v.textChange.oldPosition===p.textChange.oldPosition?v.index-p.index:v.textChange.oldPosition-p.textChange.oldPosition),l.append(this._model,w.map(v=>v.textChange),n(this._model),this._model.getAlternativeVersionId(),f),f}static _computeCursorState(s,a){try{return s?s(a):null}catch(r){return(0,m.onUnexpectedError)(r),null}}}e.EditStack=d}),define(ee[501],te([5,6]),function(K,e){return K.create("vs/editor/common/standaloneStrings",e)}),define(ee[68],te([0,1,501]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var m;(function(i){i.noSelection=y.localize(0,null),i.singleSelectionRange=y.localize(1,null),i.singleSelection=y.localize(2,null),i.multiSelectionRange=y.localize(3,null),i.multiSelection=y.localize(4,null),i.emergencyConfOn=y.localize(5,null),i.openingDocs=y.localize(6,null),i.readonlyDiffEditor=y.localize(7,null),i.editableDiffEditor=y.localize(8,null),i.readonlyEditor=y.localize(9,null),i.editableEditor=y.localize(10,null),i.changeConfigToOnMac=y.localize(11,null),i.changeConfigToOnWinLinux=y.localize(12,null),i.auto_on=y.localize(13,null),i.auto_off=y.localize(14,null),i.tabFocusModeOnMsg=y.localize(15,null),i.tabFocusModeOnMsgNoKb=y.localize(16,null),i.tabFocusModeOffMsg=y.localize(17,null),i.tabFocusModeOffMsgNoKb=y.localize(18,null),i.openDocMac=y.localize(19,null),i.openDocWinLinux=y.localize(20,null),i.outroMsg=y.localize(21,null),i.showAccessibilityHelpAction=y.localize(22,null)})(m=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var N;(function(i){i.inspectTokensAction=y.localize(23,null)})(N=e.InspectTokensNLS||(e.InspectTokensNLS={}));var I;(function(i){i.gotoLineActionLabel=y.localize(24,null)})(I=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(i){i.helpQuickAccessActionLabel=y.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var b;(function(i){i.quickCommandActionLabel=y.localize(26,null),i.quickCommandHelp=y.localize(27,null)})(b=e.QuickCommandNLS||(e.QuickCommandNLS={}));var C;(function(i){i.quickOutlineActionLabel=y.localize(28,null),i.quickOutlineByCategoryActionLabel=y.localize(29,null)})(C=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var h;(function(i){i.editorViewAccessibleLabel=y.localize(30,null),i.accessibilityHelpMessage=y.localize(31,null)})(h=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var g;(function(i){i.toggleHighContrast=y.localize(32,null)})(g=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var t;(function(i){i.bulkEditServiceSummary=y.localize(33,null)})(t=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(ee[502],te([5,6]),function(K,e){return K.create("vs/editor/common/view/editorColorRegistry",e)}),define(ee[503],te([5,6]),function(K,e){return K.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(ee[504],te([5,6]),function(K,e){return K.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(ee[505],te([5,6]),function(K,e){return K.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(ee[506],te([5,6]),function(K,e){return K.create("vs/editor/contrib/caretOperations/transpose",e)}),define(ee[507],te([5,6]),function(K,e){return K.create("vs/editor/contrib/clipboard/clipboard",e)}),define(ee[508],te([5,6]),function(K,e){return K.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(ee[509],te([5,6]),function(K,e){return K.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(ee[510],te([5,6]),function(K,e){return K.create("vs/editor/contrib/codelens/codelensController",e)}),define(ee[511],te([5,6]),function(K,e){return K.create("vs/editor/contrib/colorPicker/colorPickerWidget",e)}),define(ee[512],te([5,6]),function(K,e){return K.create("vs/editor/contrib/comment/comment",e)}),define(ee[513],te([5,6]),function(K,e){return K.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(ee[514],te([5,6]),function(K,e){return K.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(ee[515],te([5,6]),function(K,e){return K.create("vs/editor/contrib/find/findController",e)}),define(ee[516],te([5,6]),function(K,e){return K.create("vs/editor/contrib/find/findWidget",e)}),define(ee[517],te([5,6]),function(K,e){return K.create("vs/editor/contrib/folding/folding",e)}),define(ee[518],te([5,6]),function(K,e){return K.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(ee[519],te([5,6]),function(K,e){return K.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(ee[520],te([5,6]),function(K,e){return K.create("vs/editor/contrib/format/format",e)}),define(ee[521],te([5,6]),function(K,e){return K.create("vs/editor/contrib/format/formatActions",e)}),define(ee[522],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoError/gotoError",e)}),define(ee[523],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(ee[524],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(ee[525],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(ee[526],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(ee[527],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(ee[528],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(ee[529],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(ee[125],te([0,1,14,4,132,2,48,41,8,3,529]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class t{constructor(c,s,a,r){this.isProviderFirst=c,this.parent=s,this.link=a,this._rangeCallback=r,this.id=N.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var c,s;return(s=(c=this._range)!==null&&c!==void 0?c:this.link.targetSelectionRange)!==null&&s!==void 0?s:this.link.range}set range(c){this._range=c,this._rangeCallback(this)}get ariaMessage(){var c;const s=(c=this.parent.getPreview(this))===null||c===void 0?void 0:c.preview(this.range);return s?(0,g.localize)(1,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,s.value):(0,g.localize)(0,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=t;class i{constructor(c){this._modelReference=c}dispose(){this._modelReference.dispose()}preview(c,s=8){const a=this._modelReference.object.textEditorModel;if(!a)return;const{startLineNumber:r,startColumn:l,endLineNumber:u,endColumn:f}=c,w=a.getWordUntilPosition({lineNumber:r,column:l-s}),v=new h.Range(r,w.startColumn,r,l),p=new h.Range(u,f,u,1073741824),_=a.getValueInRange(v).replace(/^\s+/,""),L=a.getValueInRange(c),E=a.getValueInRange(p).replace(/\s+$/,"");return{value:_+L+E,highlight:{start:_.length,end:_.length+L.length}}}}e.FilePreview=i;class n{constructor(c,s){this.parent=c,this.uri=s,this.children=[],this._previews=new S.ResourceMap}dispose(){(0,I.dispose)(this._previews.values()),this._previews.clear()}getPreview(c){return this._previews.get(c.uri)}get ariaMessage(){const c=this.children.length;return c===1?(0,g.localize)(2,null,(0,b.basename)(this.uri),this.uri.fsPath):(0,g.localize)(3,null,c,(0,b.basename)(this.uri),this.uri.fsPath)}resolve(c){return De(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let s of this.children)if(!this._previews.has(s.uri))try{const a=yield c.createModelReference(s.uri);this._previews.set(s.uri,new i(a))}catch(a){(0,y.onUnexpectedError)(a)}return this})}}e.FileReferences=n;class o{constructor(c,s){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new m.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=c,this._title=s;const[a]=c;c.sort(o._compareReferences);let r;for(let l of c)if((!r||!b.extUri.isEqual(r.uri,l.uri,!0))&&(r=new n(this,l.uri),this.groups.push(r)),r.children.length===0||o._compareReferences(l,r.children[r.children.length-1])!==0){const u=new t(a===l,r,l,f=>this._onDidChangeReferenceRange.fire(f));this.references.push(u),r.children.push(u)}}dispose(){(0,I.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new o(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,g.localize)(4,null):this.references.length===1?(0,g.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,g.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,g.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(c,s){let{parent:a}=c,r=a.children.indexOf(c),l=a.children.length,u=a.parent.groups.length;return u===1||s&&r+1<l||!s&&r>0?(s?r=(r+1)%l:r=(r+l-1)%l,a.children[r]):(r=a.parent.groups.indexOf(a),s?(r=(r+1)%u,a.parent.groups[r].children[0]):(r=(r+u-1)%u,a.parent.groups[r].children[a.parent.groups[r].children.length-1]))}nearestReference(c,s){const a=this.references.map((r,l)=>({idx:l,prefixLen:C.commonPrefixLength(r.uri.toString(),c.toString()),offsetDist:Math.abs(r.range.startLineNumber-s.lineNumber)*100+Math.abs(r.range.startColumn-s.column)})).sort((r,l)=>r.prefixLen>l.prefixLen?-1:r.prefixLen<l.prefixLen?1:r.offsetDist<l.offsetDist?-1:r.offsetDist>l.offsetDist?1:0)[0];if(a)return this.references[a.idx]}referenceAt(c,s){for(const a of this.references)if(a.uri.toString()===c.toString()&&h.Range.containsPosition(a.range,s))return a}firstReference(){for(const c of this.references)if(c.isProviderFirst)return c;return this.references[0]}static _compareReferences(c,s){return b.extUri.compare(c.uri,s.uri)||h.Range.compareRangesUsingStarts(c.range,s.range)}}e.ReferencesModel=o}),define(ee[530],te([5,6]),function(K,e){return K.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(ee[531],te([5,6]),function(K,e){return K.create("vs/editor/contrib/hover/hover",e)}),define(ee[532],te([5,6]),function(K,e){return K.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(ee[533],te([5,6]),function(K,e){return K.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(ee[534],te([5,6]),function(K,e){return K.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(ee[535],te([5,6]),function(K,e){return K.create("vs/editor/contrib/indentation/indentation",e)}),define(ee[536],te([5,6]),function(K,e){return K.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(ee[537],te([5,6]),function(K,e){return K.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(ee[538],te([5,6]),function(K,e){return K.create("vs/editor/contrib/lineSelection/lineSelection",e)}),define(ee[539],te([5,6]),function(K,e){return K.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(ee[540],te([5,6]),function(K,e){return K.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(ee[541],te([5,6]),function(K,e){return K.create("vs/editor/contrib/links/links",e)}),define(ee[542],te([5,6]),function(K,e){return K.create("vs/editor/contrib/message/messageController",e)}),define(ee[543],te([5,6]),function(K,e){return K.create("vs/editor/contrib/multicursor/multicursor",e)}),define(ee[544],te([5,6]),function(K,e){return K.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(ee[545],te([5,6]),function(K,e){return K.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(ee[546],te([5,6]),function(K,e){return K.create("vs/editor/contrib/peekView/peekView",e)}),define(ee[547],te([5,6]),function(K,e){return K.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(ee[548],te([5,6]),function(K,e){return K.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(ee[549],te([5,6]),function(K,e){return K.create("vs/editor/contrib/rename/rename",e)}),define(ee[550],te([5,6]),function(K,e){return K.create("vs/editor/contrib/rename/renameInputField",e)}),define(ee[551],te([5,6]),function(K,e){return K.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(ee[552],te([5,6]),function(K,e){return K.create("vs/editor/contrib/snippet/snippetController2",e)}),define(ee[553],te([5,6]),function(K,e){return K.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(ee[554],te([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/suggest",e)}),define(ee[555],te([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/suggestController",e)}),define(ee[556],te([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(ee[557],te([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(ee[558],te([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(ee[559],te([5,6]),function(K,e){return K.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(ee[560],te([5,6]),function(K,e){return K.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(ee[561],te([5,6]),function(K,e){return K.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(ee[562],te([5,6]),function(K,e){return K.create("vs/editor/contrib/tokenization/tokenization",e)}),define(ee[563],te([5,6]),function(K,e){return K.create("vs/editor/contrib/unicodeHighlighter/unicodeHighlighter",e)}),define(ee[564],te([5,6]),function(K,e){return K.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(ee[565],te([5,6]),function(K,e){return K.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(ee[566],te([5,6]),function(K,e){return K.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(ee[567],te([5,6]),function(K,e){return K.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ee[568],te([5,6]),function(K,e){return K.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ee[569],te([5,6]),function(K,e){return K.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ee[570],te([5,6]),function(K,e){return K.create("vs/platform/contextkey/common/contextkeys",e)}),define(ee[571],te([5,6]),function(K,e){return K.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ee[572],te([5,6]),function(K,e){return K.create("vs/platform/list/browser/listService",e)}),define(ee[573],te([5,6]),function(K,e){return K.create("vs/platform/markers/common/markers",e)}),define(ee[574],te([5,6]),function(K,e){return K.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ee[575],te([5,6]),function(K,e){return K.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ee[576],te([5,6]),function(K,e){return K.create("vs/platform/theme/common/colorRegistry",e)}),define(ee[577],te([5,6]),function(K,e){return K.create("vs/platform/theme/common/iconRegistry",e)}),define(ee[578],te([5,6]),function(K,e){return K.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ee[579],te([5,6]),function(K,e){return K.create("vs/platform/workspaces/common/workspaces",e)}),define(ee[580],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var y;(function(m){m[m.API=0]="API",m[m.USER=1]="USER"})(y=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(ee[581],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class y{constructor(N){this.value=N,this._lower=N.toLowerCase()}static toKey(N){return typeof N=="string"?N.toLowerCase():N._lower}}e.ExtensionIdentifier=y}),define(ee[261],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var y;(function(m){m[m.FILE=0]="FILE",m[m.FOLDER=1]="FOLDER",m[m.ROOT_FOLDER=2]="ROOT_FOLDER"})(y=e.FileKind||(e.FileKind={}))}),define(ee[582],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function y(m){var N,I;return((N=m.lookupKeybinding("history.showPrevious"))===null||N===void 0?void 0:N.getElectronAccelerator())==="Up"&&((I=m.lookupKeybinding("history.showNext"))===null||I===void 0?void 0:I.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=y}),define(ee[191],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class y{constructor(N,I=[],S=!1){this.ctor=N,this.staticArguments=I,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=y}),define(ee[54],te([0,1,191]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const m=[];function N(S,b,C){b instanceof y.SyncDescriptor||(b=new y.SyncDescriptor(b,[],C)),m.push([S,b])}e.registerSingleton=N;function I(){return m}e.getSingletonServiceDescriptors=I}),define(ee[583],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class y{constructor(I){this.incoming=new Map,this.outgoing=new Map,this.data=I}}e.Node=y;class m{constructor(I){this._hashFn=I,this._nodes=new Map}roots(){const I=[];for(let S of this._nodes.values())S.outgoing.size===0&&I.push(S);return I}insertEdge(I,S){const b=this.lookupOrInsertNode(I),C=this.lookupOrInsertNode(S);b.outgoing.set(this._hashFn(S),C),C.incoming.set(this._hashFn(I),b)}removeNode(I){const S=this._hashFn(I);this._nodes.delete(S);for(let b of this._nodes.values())b.outgoing.delete(S),b.incoming.delete(S)}lookupOrInsertNode(I){const S=this._hashFn(I);let b=this._nodes.get(S);return b||(b=new y(I),this._nodes.set(S,b)),b}isEmpty(){return this._nodes.size===0}toString(){let I=[];for(let[S,b]of this._nodes)I.push(`${S}, (incoming)[${[...b.incoming.keys()].join(", ")}], (outgoing)[${[...b.outgoing.keys()].join(",")}]`);return I.join(`
`)}findCycleSlow(){for(let[I,S]of this._nodes){const b=new Set([I]),C=this._findCycle(S,b);if(C)return C}}_findCycle(I,S){for(let[b,C]of I.outgoing){if(S.has(b))return[...S,b].join(" -> ");S.add(b);const h=this._findCycle(C,S);if(h)return h;S.delete(b)}}}e.Graph=m}),define(ee[9],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var y;(function(I){I.serviceIds=new Map,I.DI_TARGET="$di$target",I.DI_DEPENDENCIES="$di$dependencies";function S(b){return b[I.DI_DEPENDENCIES]||[]}I.getServiceDependencies=S})(y=e._util||(e._util={})),e.IInstantiationService=N("instantiationService");function m(I,S,b,C){S[y.DI_TARGET]===S?S[y.DI_DEPENDENCIES].push({id:I,index:b,optional:C}):(S[y.DI_DEPENDENCIES]=[{id:I,index:b,optional:C}],S[y.DI_TARGET]=S)}function N(I){if(y.serviceIds.has(I))return y.serviceIds.get(I);const S=function(b,C,h){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");m(S,b,h,!1)};return S.toString=()=>I,y.serviceIds.set(I,S),S}e.createDecorator=N}),define(ee[192],te([0,1,9,25,20]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,y.createDecorator)("IWorkspaceEditService");function I(g){return(0,N.isObject)(g)&&(Boolean(g.newUri)||Boolean(g.oldUri))}function S(g){return(0,N.isObject)(g)&&m.URI.isUri(g.resource)&&(0,N.isObject)(g.edit)}class b{constructor(t){this.metadata=t}static convert(t){return t.edits.map(i=>{if(S(i))return new C(i.resource,i.edit,i.modelVersionId,i.metadata);if(I(i))return new h(i.oldUri,i.newUri,i.options,i.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=b;class C extends b{constructor(t,i,n,o){super(o);this.resource=t,this.textEdit=i,this.versionId=n}}e.ResourceTextEdit=C;class h extends b{constructor(t,i,n,o){super(o);this.oldResource=t,this.newResource=i,this.options=n}}e.ResourceFileEdit=h}),define(ee[28],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,y.createDecorator)("codeEditorService")}),define(ee[83],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,y.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(ee[34],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,y.createDecorator)("languageService")}),define(ee[193],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,y.createDecorator)("markerDecorationsService")}),define(ee[45],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,y.createDecorator)("modelService");function m(N){return!N.isTooLargeForSyncing()&&!N.isForSimpleWidget}e.shouldSynchronizeModel=m}),define(ee[584],te([0,1,4,2,399,45]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function S(C){return typeof C=="string"?!1:Array.isArray(C)?C.every(S):!!C.exclusive}class b{constructor(){this._clock=0,this._entries=[],this._onDidChange=new y.Emitter}get onDidChange(){return this._onDidChange.event}register(h,g){let t={selector:h,provider:g,_score:-1,_time:this._clock++};return this._entries.push(t),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,m.toDisposable)(()=>{if(t){const i=this._entries.indexOf(t);i>=0&&(this._entries.splice(i,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),t=void 0)}})}has(h){return this.all(h).length>0}all(h){if(!h)return[];this._updateScores(h);const g=[];for(let t of this._entries)t._score>0&&g.push(t.provider);return g}ordered(h){const g=[];return this._orderedForEach(h,t=>g.push(t.provider)),g}orderedGroups(h){const g=[];let t,i;return this._orderedForEach(h,n=>{t&&i===n._score?t.push(n.provider):(i=n._score,t=[n.provider],g.push(t))}),g}_orderedForEach(h,g){if(!!h){this._updateScores(h);for(const t of this._entries)t._score>0&&g(t)}}_updateScores(h){const g={uri:h.uri.toString(),language:h.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===g.language&&this._lastCandidate.uri===g.uri)){this._lastCandidate=g;for(let t of this._entries)if(t._score=(0,N.score)(t.selector,h.uri,h.getLanguageId(),(0,I.shouldSynchronizeModel)(h)),S(t.selector)&&t._score>0){for(let i of this._entries)i._score=0;t._score=1e3;break}this._entries.sort(b._compareByScoreAndTime)}}static _compareByScoreAndTime(h,g){return h._score<g._score?1:h._score>g._score?-1:h._time<g._time?1:h._time>g._time?-1:0}}e.LanguageFeatureRegistry=b}),define(ee[18],te([0,1,25,3,584,407,27]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.InlineValuesProviderRegistry=e.EvaluatableExpressionProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.TokenMetadata=void 0;class b{static getLanguageId(a){return(a&255)>>>0}static getTokenType(a){return(a&768)>>>8}static getFontStyle(a){return(a&15360)>>>10}static getForeground(a){return(a&8372224)>>>14}static getBackground(a){return(a&4286578688)>>>23}static getClassNameFromMetadata(a){const r=this.getForeground(a);let l="mtk"+r;const u=this.getFontStyle(a);return u&1&&(l+=" mtki"),u&2&&(l+=" mtkb"),u&4&&(l+=" mtku"),u&8&&(l+=" mtks"),l}static getInlineStyleFromMetadata(a,r){const l=this.getForeground(a),u=this.getFontStyle(a);let f=`color: ${r[l]};`;u&1&&(f+="font-style: italic;"),u&2&&(f+="font-weight: bold;");let w="";return u&4&&(w+=" underline"),u&8&&(w+=" line-through"),w&&(f+=`text-decoration:${w};`),f}static getPresentationFromMetadata(a){const r=this.getForeground(a),l=this.getFontStyle(a);return{foreground:r,italic:Boolean(l&1),bold:Boolean(l&2),underline:Boolean(l&4),strikethrough:Boolean(l&8)}}}e.TokenMetadata=b;var C;(function(s){const a=new Map;a.set(0,S.Codicon.symbolMethod),a.set(1,S.Codicon.symbolFunction),a.set(2,S.Codicon.symbolConstructor),a.set(3,S.Codicon.symbolField),a.set(4,S.Codicon.symbolVariable),a.set(5,S.Codicon.symbolClass),a.set(6,S.Codicon.symbolStruct),a.set(7,S.Codicon.symbolInterface),a.set(8,S.Codicon.symbolModule),a.set(9,S.Codicon.symbolProperty),a.set(10,S.Codicon.symbolEvent),a.set(11,S.Codicon.symbolOperator),a.set(12,S.Codicon.symbolUnit),a.set(13,S.Codicon.symbolValue),a.set(15,S.Codicon.symbolEnum),a.set(14,S.Codicon.symbolConstant),a.set(15,S.Codicon.symbolEnum),a.set(16,S.Codicon.symbolEnumMember),a.set(17,S.Codicon.symbolKeyword),a.set(27,S.Codicon.symbolSnippet),a.set(18,S.Codicon.symbolText),a.set(19,S.Codicon.symbolColor),a.set(20,S.Codicon.symbolFile),a.set(21,S.Codicon.symbolReference),a.set(22,S.Codicon.symbolCustomColor),a.set(23,S.Codicon.symbolFolder),a.set(24,S.Codicon.symbolTypeParameter),a.set(25,S.Codicon.account),a.set(26,S.Codicon.issues);function r(f){let w=a.get(f);return w||(console.info("No codicon found for CompletionItemKind "+f),w=S.Codicon.symbolProperty),w}s.toIcon=r;const l=new Map;l.set("method",0),l.set("function",1),l.set("constructor",2),l.set("field",3),l.set("variable",4),l.set("class",5),l.set("struct",6),l.set("interface",7),l.set("module",8),l.set("property",9),l.set("event",10),l.set("operator",11),l.set("unit",12),l.set("value",13),l.set("constant",14),l.set("enum",15),l.set("enum-member",16),l.set("enumMember",16),l.set("keyword",17),l.set("snippet",27),l.set("text",18),l.set("color",19),l.set("file",20),l.set("reference",21),l.set("customcolor",22),l.set("folder",23),l.set("type-parameter",24),l.set("typeParameter",24),l.set("account",25),l.set("issue",26);function u(f,w){let v=l.get(f);return typeof v=="undefined"&&!w&&(v=9),v}s.fromString=u})(C=e.CompletionItemKinds||(e.CompletionItemKinds={}));var h;(function(s){s[s.Automatic=0]="Automatic",s[s.Explicit=1]="Explicit"})(h=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var g;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(g=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var t;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(t=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function i(s){return s&&y.URI.isUri(s.uri)&&m.Range.isIRange(s.range)&&(m.Range.isIRange(s.originSelectionRange)||m.Range.isIRange(s.targetSelectionRange))}e.isLocationLink=i;var n;(function(s){const a=new Map;a.set(0,S.Codicon.symbolFile),a.set(1,S.Codicon.symbolModule),a.set(2,S.Codicon.symbolNamespace),a.set(3,S.Codicon.symbolPackage),a.set(4,S.Codicon.symbolClass),a.set(5,S.Codicon.symbolMethod),a.set(6,S.Codicon.symbolProperty),a.set(7,S.Codicon.symbolField),a.set(8,S.Codicon.symbolConstructor),a.set(9,S.Codicon.symbolEnum),a.set(10,S.Codicon.symbolInterface),a.set(11,S.Codicon.symbolFunction),a.set(12,S.Codicon.symbolVariable),a.set(13,S.Codicon.symbolConstant),a.set(14,S.Codicon.symbolString),a.set(15,S.Codicon.symbolNumber),a.set(16,S.Codicon.symbolBoolean),a.set(17,S.Codicon.symbolArray),a.set(18,S.Codicon.symbolObject),a.set(19,S.Codicon.symbolKey),a.set(20,S.Codicon.symbolNull),a.set(21,S.Codicon.symbolEnumMember),a.set(22,S.Codicon.symbolStruct),a.set(23,S.Codicon.symbolEvent),a.set(24,S.Codicon.symbolOperator),a.set(25,S.Codicon.symbolTypeParameter);function r(l){let u=a.get(l);return u||(console.info("No codicon found for SymbolKind "+l),u=S.Codicon.symbolProperty),u}s.toIcon=r})(n=e.SymbolKinds||(e.SymbolKinds={}));class o{constructor(a){this.value=a}}e.FoldingRangeKind=o,o.Comment=new o("comment"),o.Imports=new o("imports"),o.Region=new o("region");var d;(function(s){function a(r){return!r||typeof r!="object"?!1:typeof r.id=="string"&&typeof r.title=="string"}s.is=a})(d=e.Command||(e.Command={}));var c;(function(s){s[s.Other=0]="Other",s[s.Type=1]="Type",s[s.Parameter=2]="Parameter"})(c=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new N.LanguageFeatureRegistry,e.RenameProviderRegistry=new N.LanguageFeatureRegistry,e.CompletionProviderRegistry=new N.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new N.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new N.LanguageFeatureRegistry,e.HoverProviderRegistry=new N.LanguageFeatureRegistry,e.EvaluatableExpressionProviderRegistry=new N.LanguageFeatureRegistry,e.InlineValuesProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new N.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new N.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new N.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new N.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new N.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new N.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new N.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new N.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new N.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new N.LanguageFeatureRegistry,e.LinkProviderRegistry=new N.LanguageFeatureRegistry,e.ColorProviderRegistry=new N.LanguageFeatureRegistry,e.SelectionRangeRegistry=new N.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new N.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new N.LanguageFeatureRegistry,e.TokenizationRegistry=new I.TokenizationRegistry}),define(ee[262],te([0,1,14,118,18,146,90]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class b{constructor(i,n,o,d,c){this.length=i,this.kind=n,this.bracketId=o,this.bracketIds=d,this.astNode=c}}e.Token=b;class C{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.reader=new h(this.textModel,this.bracketTokens),this._offset=S.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,S.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(i){this.didPeek=!1,this._offset=(0,S.lengthAdd)(this._offset,i);const n=(0,S.lengthToObj)(this._offset);this.reader.setPosition(n.lineCount,n.columnCount)}read(){let i;return this.peeked?(this.didPeek=!1,i=this.peeked):i=this.reader.read(),i&&(this._offset=(0,S.lengthAdd)(this._offset,i.length)),i}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=C;class h{constructor(i,n){this.textModel=i,this.bracketTokens=n,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}setPosition(i,n){i===this.lineIdx?(this.lineCharOffset=n,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=i,this.lineCharOffset=n,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const c=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,S.lengthGetColumnCountIfZeroLineCount)(c.length),c}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const i=this.lineIdx,n=this.lineCharOffset;let o=0;for(;;){const c=this.lineTokens,s=c.getCount();let a=null;if(this.lineTokenOffset<s){const r=c.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&r===c.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const l=N.TokenMetadata.getTokenType(r)===0,u=c.getEndOffset(this.lineTokenOffset);if(l&&u!==this.lineCharOffset){const f=c.getLanguageId(this.lineTokenOffset),w=this.line.substring(this.lineCharOffset,u),v=this.bracketTokens.getSingleLanguageBracketTokens(f),p=v.regExpGlobal;if(p){p.lastIndex=0;const _=p.exec(w);_&&(a=v.getToken(_[0]),a&&(this.lineCharOffset+=_.index))}}if(o+=u-this.lineCharOffset,a)if(i!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=(0,S.lengthGetColumnCountIfZeroLineCount)(a.length),a;else this.lineTokenOffset++,this.lineCharOffset=u}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,o+=33,o>1e3))break;if(o>1500)break}const d=(0,S.lengthDiff)(i,n,this.lineIdx,this.lineCharOffset);return new b(d,0,-1,m.SmallImmutableSet.getEmpty(),new I.TextAstNode(d))}}class g{constructor(i,n){this.text=i,this._offset=S.lengthZero,this.idx=0;const d=n.getRegExpStr()?new RegExp(n.getRegExpStr()+`|
`,"g"):null,c=[];let s,a=0,r=0,l=0,u=0;const f=new Array;for(let p=0;p<60;p++)f.push(new b((0,S.toLength)(0,p),0,-1,m.SmallImmutableSet.getEmpty(),new I.TextAstNode((0,S.toLength)(0,p))));const w=new Array;for(let p=0;p<60;p++)w.push(new b((0,S.toLength)(1,p),0,-1,m.SmallImmutableSet.getEmpty(),new I.TextAstNode((0,S.toLength)(1,p))));if(d)for(d.lastIndex=0;(s=d.exec(i))!==null;){const p=s.index,_=s[0];if(_===`
`)a++,r=p+1;else{if(l!==p){let L;if(u===a){const E=p-l;if(E<f.length)L=f[E];else{const M=(0,S.toLength)(0,E);L=new b(M,0,-1,m.SmallImmutableSet.getEmpty(),new I.TextAstNode(M))}}else{const E=a-u,M=p-r;if(E===1&&M<w.length)L=w[M];else{const k=(0,S.toLength)(E,M);L=new b(k,0,-1,m.SmallImmutableSet.getEmpty(),new I.TextAstNode(k))}}c.push(L)}c.push(n.getToken(_)),l=p+_.length,u=a}}const v=i.length;if(l!==v){const p=u===a?(0,S.toLength)(0,v-l):(0,S.toLength)(a-u,v-r);c.push(new b(p,0,-1,m.SmallImmutableSet.getEmpty(),new I.TextAstNode(p)))}this.length=(0,S.toLength)(a,v-r),this.tokens=c}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(i){throw new y.NotSupportedError}}e.FastTokenizer=g}),define(ee[585],te([0,1,8,146,90,118,262]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class b{constructor(t){this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(t,i){function n(a,r){return i.getKey(`${a}:::${r}`)}const o=t.characterPair.getColorizedBrackets(),d=new Map,c=new Set;for(const[a,r]of o){c.add(a);let l=d.get(r);const u=n(t.languageId,a);l||(l={openingBrackets:I.SmallImmutableSet.getEmpty(),first:u},d.set(r,l)),l.openingBrackets=l.openingBrackets.add(u,I.identityKeyProvider)}const s=new Map;for(const[a,r]of d){const l=(0,N.toLength)(0,a.length);s.set(a,new S.Token(l,2,r.first,r.openingBrackets,m.BracketAstNode.create(l)))}for(const a of c){const r=(0,N.toLength)(0,a.length),l=n(t.languageId,a);s.set(a,new S.Token(r,1,l,I.SmallImmutableSet.getEmpty().add(l,I.identityKeyProvider),m.BracketAstNode.create(r)))}return new b(s)}getRegExpStr(){if(this.isEmpty)return null;{const t=[...this.map.keys()];return t.sort(),t.reverse(),t.map(i=>C(i)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const t=this.getRegExpStr();this._regExpGlobal=t?new RegExp(t,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(t){return this.map.get(t)}get isEmpty(){return this.map.size===0}}e.BracketTokens=b;function C(g){const t=(0,y.escapeRegExpCharacters)(g);return/^[\w ]+$/.test(g)?`\\b${t}\\b`:t}class h{constructor(t,i){this.denseKeyProvider=t,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}didLanguageChange(t){const i=this.languageIdToBracketTokens.get(t);if(!i)return!1;const n=b.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider).getRegExpStr();return i.getRegExpStr()!==n}getSingleLanguageBracketTokens(t){let i=this.languageIdToBracketTokens.get(t);return i||(i=b.createFromLanguage(this.getLanguageConfiguration(t),this.denseKeyProvider),this.languageIdToBracketTokens.set(t,i)),i}}e.LanguageAgnosticBracketTokens=h}),define(ee[586],te([0,1,4,2,3,408,237,585,90,411,118,262]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends m.Disposable{constructor(s,a){super();if(this.textModel=s,this.getLanguageConfiguration=a,this.didChangeEmitter=new y.Emitter,this.denseKeyProvider=new g.DenseKeyProvider,this.brackets=new b.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(s.onBackgroundTokenizationStateChanged(()=>{if(s.backgroundTokenizationState===2){const r=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,r||this.didChangeEmitter.fire()}})),this._register(s.onDidChangeTokens(({ranges:r})=>{const l=r.map(u=>new S.TextEditInfo((0,C.toLength)(u.fromLineNumber-1,0),(0,C.toLength)(u.toLineNumber,0),(0,C.toLength)(u.toLineNumber-u.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(l,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),s.backgroundTokenizationState===0){const r=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),l=new t.FastTokenizer(this.textModel.getValue(),r);this.initialAstWithoutTokens=(0,h.parseDocument)(l,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else s.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):s.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(s){return this.brackets.didLanguageChange(s)}handleContentChanged(s){const a=s.changes.map(r=>{const l=N.Range.lift(r.range);return new S.TextEditInfo((0,C.positionToLength)(l.getStartPosition()),(0,C.positionToLength)(l.getEndPosition()),(0,C.lengthOfString)(r.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(a,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(a,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(s,a,r){const u=!1?a==null?void 0:a.deepClone():a,f=new t.TextBufferTokenizer(this.textModel,this.brackets);return(0,h.parseDocument)(f,s,u,r)}getBracketsInRange(s){const a=(0,C.toLength)(s.startLineNumber-1,s.startColumn-1),r=(0,C.toLength)(s.endLineNumber-1,s.endColumn-1),l=new Array,u=this.initialAstWithoutTokens||this.astWithTokens;return n(u,C.lengthZero,u.length,a,r,l),l}getBracketPairsInRange(s,a){const r=new Array,l=(0,C.positionToLength)(s.getStartPosition()),u=(0,C.positionToLength)(s.getEndPosition()),f=this.initialAstWithoutTokens||this.astWithTokens,w=new o(r,a,this.textModel);return d(f,C.lengthZero,f.length,l,u,w),r}}e.BracketPairsTree=i;function n(c,s,a,r,l,u,f=0){if(c.kind===1){const w=(0,C.lengthsToRange)(s,a);u.push(new I.BracketInfo(w,f-1,!1))}else if(c.kind===3){const w=(0,C.lengthsToRange)(s,a);u.push(new I.BracketInfo(w,f-1,!0))}else if(c.kind===4)for(const w of c.children)a=(0,C.lengthAdd)(s,w.length),(0,C.lengthLessThanEqual)(s,l)&&(0,C.lengthGreaterThanEqual)(a,r)&&n(w,s,a,r,l,u,f),s=a;else if(c.kind===2){f++;{const w=c.openingBracket;a=(0,C.lengthAdd)(s,w.length),(0,C.lengthLessThanEqual)(s,l)&&(0,C.lengthGreaterThanEqual)(a,r)&&n(w,s,a,r,l,u,f),s=a}if(c.child){const w=c.child;a=(0,C.lengthAdd)(s,w.length),(0,C.lengthLessThanEqual)(s,l)&&(0,C.lengthGreaterThanEqual)(a,r)&&n(w,s,a,r,l,u,f),s=a}if(c.closingBracket){const w=c.closingBracket;a=(0,C.lengthAdd)(s,w.length),(0,C.lengthLessThanEqual)(s,l)&&(0,C.lengthGreaterThanEqual)(a,r)&&n(w,s,a,r,l,u,f),s=a}}}class o{constructor(s,a,r){this.result=s,this.includeMinIndentation=a,this.textModel=r}}function d(c,s,a,r,l,u,f=0){var w;if(c.kind===2){const p=(0,C.lengthAdd)(s,c.openingBracket.length);let _=-1;u.includeMinIndentation&&(_=c.computeMinIndentation(s,u.textModel)),u.result.push(new I.BracketPairWithMinIndentationInfo((0,C.lengthsToRange)(s,a),(0,C.lengthsToRange)(s,p),c.closingBracket?(0,C.lengthsToRange)((0,C.lengthAdd)(p,((w=c.child)===null||w===void 0?void 0:w.length)||C.lengthZero),a):void 0,f,_)),f++}let v=s;for(const p of c.children){const _=v;v=(0,C.lengthAdd)(v,p.length),(0,C.lengthLessThanEqual)(_,l)&&(0,C.lengthLessThanEqual)(r,v)&&d(p,_,v,r,l,u,f)}}}),define(ee[587],te([0,1,4,2,586,117,175]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class b extends m.Disposable{constructor(i,n){super();this.textModel=i,this.languageConfigurationService=n,this.bracketPairsTree=this._register(new m.MutableDisposable),this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(i.onDidChangeOptions(o=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(i.onDidChangeLanguage(o=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(o=>{var d;(!o.languageId||((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.didLanguageChange(o.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){const i=5e4*100;return this.textModel.getValueLength()<=i}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const i=new m.DisposableStore;this.bracketPairsTree.value=C(i.add(new N.BracketPairsTree(this.textModel,n=>this.languageConfigurationService.getLanguageConfiguration(n))),i),i.add(this.bracketPairsTree.value.object.onDidChange(n=>this.onDidChangeEmitter.fire(n))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(i){var n;(n=this.bracketPairsTree.value)===null||n===void 0||n.object.handleContentChanged(i)}getBracketPairsInRange(i){var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.getBracketPairsInRange(i,!1))||[]}getBracketPairsInRangeWithMinIndentation(i){var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.getBracketPairsInRange(i,!0))||[]}getBracketsInRange(i){var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.getBracketsInRange(i))||[]}findMatchingBracketUp(i,n){const o=i.toLowerCase(),d=this.textModel.validatePosition(n),c=this.textModel.getLanguageIdAtPosition(d.lineNumber,d.column),s=this.languageConfigurationService.getLanguageConfiguration(c).brackets;if(!s)return null;const a=s.textIsBracket[o];return a?g(this._findMatchingBracketUp(a,d,null)):null}matchBracket(i){return this._matchBracket(this.textModel.validatePosition(i))}_establishBracketSearchOffsets(i,n,o,d){const c=n.getCount(),s=n.getLanguageId(d);let a=Math.max(0,i.column-1-o.maxBracketLength);for(let l=d-1;l>=0;l--){const u=n.getEndOffset(l);if(u<=a)break;if((0,I.ignoreBracketsInToken)(n.getStandardTokenType(l))||n.getLanguageId(l)!==s){a=u;break}}let r=Math.min(n.getLineContent().length,i.column-1+o.maxBracketLength);for(let l=d+1;l<c;l++){const u=n.getStartOffset(l);if(u>=r)break;if((0,I.ignoreBracketsInToken)(n.getStandardTokenType(l))||n.getLanguageId(l)!==s){r=u;break}}return{searchStartOffset:a,searchEndOffset:r}}_matchBracket(i){const n=i.lineNumber,o=this.textModel.getLineTokens(n),d=this.textModel.getLineContent(n),c=o.findTokenIndexAtOffset(i.column-1);if(c<0)return null;const s=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(c)).brackets;if(s&&!(0,I.ignoreBracketsInToken)(o.getStandardTokenType(c))){let{searchStartOffset:a,searchEndOffset:r}=this._establishBracketSearchOffsets(i,o,s,c),l=null;for(;;){const u=S.BracketsUtils.findNextBracketInRange(s.forwardRegex,n,d,a,r);if(!u)break;if(u.startColumn<=i.column&&i.column<=u.endColumn){const f=d.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),w=this._matchFoundBracket(u,s.textIsBracket[f],s.textIsOpenBracket[f],null);if(w){if(w instanceof h)return null;l=w}}a=u.endColumn-1}if(l)return l}if(c>0&&o.getStartOffset(c)===i.column-1){const a=c-1,r=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId(a)).brackets;if(r&&!(0,I.ignoreBracketsInToken)(o.getStandardTokenType(a))){const{searchStartOffset:l,searchEndOffset:u}=this._establishBracketSearchOffsets(i,o,r,a),f=S.BracketsUtils.findPrevBracketInRange(r.reversedRegex,n,d,l,u);if(f&&f.startColumn<=i.column&&i.column<=f.endColumn){const w=d.substring(f.startColumn-1,f.endColumn-1).toLowerCase(),v=this._matchFoundBracket(f,r.textIsBracket[w],r.textIsOpenBracket[w],null);if(v)return v instanceof h?null:v}}}return null}_matchFoundBracket(i,n,o,d){if(!n)return null;const c=o?this._findMatchingBracketDown(n,i.getEndPosition(),d):this._findMatchingBracketUp(n,i.getStartPosition(),d);return c?c instanceof h?c:[i,c]:null}_findMatchingBracketUp(i,n,o){const d=i.languageId,c=i.reversedRegex;let s=-1,a=0;const r=(l,u,f,w)=>{for(;;){if(o&&++a%100==0&&!o())return h.INSTANCE;const v=S.BracketsUtils.findPrevBracketInRange(c,l,u,f,w);if(!v)break;const p=u.substring(v.startColumn-1,v.endColumn-1).toLowerCase();if(i.isOpen(p)?s++:i.isClose(p)&&s--,s===0)return v;w=v.startColumn-1}return null};for(let l=n.lineNumber;l>=1;l--){const u=this.textModel.getLineTokens(l),f=u.getCount(),w=this.textModel.getLineContent(l);let v=f-1,p=w.length,_=w.length;l===n.lineNumber&&(v=u.findTokenIndexAtOffset(n.column-1),p=n.column-1,_=n.column-1);let L=!0;for(;v>=0;v--){const E=u.getLanguageId(v)===d&&!(0,I.ignoreBracketsInToken)(u.getStandardTokenType(v));if(E)L?p=u.getStartOffset(v):(p=u.getStartOffset(v),_=u.getEndOffset(v));else if(L&&p!==_){const M=r(l,w,p,_);if(M)return M}L=E}if(L&&p!==_){const E=r(l,w,p,_);if(E)return E}}return null}_findMatchingBracketDown(i,n,o){const d=i.languageId,c=i.forwardRegex;let s=1,a=0;const r=(u,f,w,v)=>{for(;;){if(o&&++a%100==0&&!o())return h.INSTANCE;const p=S.BracketsUtils.findNextBracketInRange(c,u,f,w,v);if(!p)break;const _=f.substring(p.startColumn-1,p.endColumn-1).toLowerCase();if(i.isOpen(_)?s++:i.isClose(_)&&s--,s===0)return p;w=p.endColumn-1}return null},l=this.textModel.getLineCount();for(let u=n.lineNumber;u<=l;u++){const f=this.textModel.getLineTokens(u),w=f.getCount(),v=this.textModel.getLineContent(u);let p=0,_=0,L=0;u===n.lineNumber&&(p=f.findTokenIndexAtOffset(n.column-1),_=n.column-1,L=n.column-1);let E=!0;for(;p<w;p++){const M=f.getLanguageId(p)===d&&!(0,I.ignoreBracketsInToken)(f.getStandardTokenType(p));if(M)E||(_=f.getStartOffset(p)),L=f.getEndOffset(p);else if(E&&_!==L){const k=r(u,v,_,L);if(k)return k}E=M}if(E&&_!==L){const M=r(u,v,_,L);if(M)return M}}return null}findPrevBracket(i){const n=this.textModel.validatePosition(i);let o=null,d=null;for(let c=n.lineNumber;c>=1;c--){const s=this.textModel.getLineTokens(c),a=s.getCount(),r=this.textModel.getLineContent(c);let l=a-1,u=r.length,f=r.length;if(c===n.lineNumber){l=s.findTokenIndexAtOffset(n.column-1),u=n.column-1,f=n.column-1;const v=s.getLanguageId(l);o!==v&&(o=v,d=this.languageConfigurationService.getLanguageConfiguration(o).brackets)}let w=!0;for(;l>=0;l--){const v=s.getLanguageId(l);if(o!==v){if(d&&w&&u!==f){const _=S.BracketsUtils.findPrevBracketInRange(d.reversedRegex,c,r,u,f);if(_)return this._toFoundBracket(d,_);w=!1}o=v,d=this.languageConfigurationService.getLanguageConfiguration(o).brackets}const p=!!d&&!(0,I.ignoreBracketsInToken)(s.getStandardTokenType(l));if(p)w?u=s.getStartOffset(l):(u=s.getStartOffset(l),f=s.getEndOffset(l));else if(d&&w&&u!==f){const _=S.BracketsUtils.findPrevBracketInRange(d.reversedRegex,c,r,u,f);if(_)return this._toFoundBracket(d,_)}w=p}if(d&&w&&u!==f){const v=S.BracketsUtils.findPrevBracketInRange(d.reversedRegex,c,r,u,f);if(v)return this._toFoundBracket(d,v)}}return null}findNextBracket(i){const n=this.textModel.validatePosition(i),o=this.textModel.getLineCount();let d=null,c=null;for(let s=n.lineNumber;s<=o;s++){const a=this.textModel.getLineTokens(s),r=a.getCount(),l=this.textModel.getLineContent(s);let u=0,f=0,w=0;if(s===n.lineNumber){u=a.findTokenIndexAtOffset(n.column-1),f=n.column-1,w=n.column-1;const p=a.getLanguageId(u);d!==p&&(d=p,c=this.languageConfigurationService.getLanguageConfiguration(d).brackets)}let v=!0;for(;u<r;u++){const p=a.getLanguageId(u);if(d!==p){if(c&&v&&f!==w){const L=S.BracketsUtils.findNextBracketInRange(c.forwardRegex,s,l,f,w);if(L)return this._toFoundBracket(c,L);v=!1}d=p,c=this.languageConfigurationService.getLanguageConfiguration(d).brackets}const _=!!c&&!(0,I.ignoreBracketsInToken)(a.getStandardTokenType(u));if(_)v||(f=a.getStartOffset(u)),w=a.getEndOffset(u);else if(c&&v&&f!==w){const L=S.BracketsUtils.findNextBracketInRange(c.forwardRegex,s,l,f,w);if(L)return this._toFoundBracket(c,L)}v=_}if(c&&v&&f!==w){const p=S.BracketsUtils.findNextBracketInRange(c.forwardRegex,s,l,f,w);if(p)return this._toFoundBracket(c,p)}}return null}findEnclosingBrackets(i,n){let o;if(typeof n=="undefined")o=null;else{const v=Date.now();o=()=>Date.now()-v<=n}const d=this.textModel.validatePosition(i),c=this.textModel.getLineCount(),s=new Map;let a=[];const r=(v,p)=>{if(!s.has(v)){const _=[];for(let L=0,E=p?p.brackets.length:0;L<E;L++)_[L]=0;s.set(v,_)}a=s.get(v)};let l=0;const u=(v,p,_,L,E)=>{for(;;){if(o&&++l%100==0&&!o())return h.INSTANCE;const M=S.BracketsUtils.findNextBracketInRange(v.forwardRegex,p,_,L,E);if(!M)break;const k=_.substring(M.startColumn-1,M.endColumn-1).toLowerCase(),A=v.textIsBracket[k];if(A&&(A.isOpen(k)?a[A.index]++:A.isClose(k)&&a[A.index]--,a[A.index]===-1))return this._matchFoundBracket(M,A,!1,o);L=M.endColumn-1}return null};let f=null,w=null;for(let v=d.lineNumber;v<=c;v++){const p=this.textModel.getLineTokens(v),_=p.getCount(),L=this.textModel.getLineContent(v);let E=0,M=0,k=0;if(v===d.lineNumber){E=p.findTokenIndexAtOffset(d.column-1),M=d.column-1,k=d.column-1;const F=p.getLanguageId(E);f!==F&&(f=F,w=this.languageConfigurationService.getLanguageConfiguration(f).brackets,r(f,w))}let A=!0;for(;E<_;E++){const F=p.getLanguageId(E);if(f!==F){if(w&&A&&M!==k){const T=u(w,v,L,M,k);if(T)return g(T);A=!1}f=F,w=this.languageConfigurationService.getLanguageConfiguration(f).brackets,r(f,w)}const B=!!w&&!(0,I.ignoreBracketsInToken)(p.getStandardTokenType(E));if(B)A||(M=p.getStartOffset(E)),k=p.getEndOffset(E);else if(w&&A&&M!==k){const T=u(w,v,L,M,k);if(T)return g(T)}A=B}if(w&&A&&M!==k){const F=u(w,v,L,M,k);if(F)return g(F)}}return null}_toFoundBracket(i,n){if(!n)return null;let o=this.textModel.getValueInRange(n);o=o.toLowerCase();const d=i.textIsBracket[o];return d?{range:n,open:d.open,close:d.close,isOpen:i.textIsOpenBracket[o]}:null}}e.BracketPairsTextModelPart=b;function C(t,i){return{object:t,dispose:()=>i==null?void 0:i.dispose()}}class h{constructor(){this._searchCanceledBrand=void 0}}h.INSTANCE=new h;function g(t){return t instanceof h?null:t}}),define(ee[74],te([0,1,18]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class m{constructor(S,b,C){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=b,this._languageIdCodec=C}static createEmpty(S,b){const C=m.defaultTokenMetadata,h=new Uint32Array(2);return h[0]=S.length,h[1]=C,new m(h,S,b)}equals(S){return S instanceof m?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,b,C){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const h=b<<1,g=h+(C<<1);for(let t=h;t<g;t++)if(this._tokens[t]!==S._tokens[t])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const b=this._tokens[(S<<1)+1],C=y.TokenMetadata.getLanguageId(b);return this._languageIdCodec.decodeLanguageId(C)}getStandardTokenType(S){const b=this._tokens[(S<<1)+1];return y.TokenMetadata.getTokenType(b)}getForeground(S){const b=this._tokens[(S<<1)+1];return y.TokenMetadata.getForeground(b)}getClassName(S){const b=this._tokens[(S<<1)+1];return y.TokenMetadata.getClassNameFromMetadata(b)}getInlineStyle(S,b){const C=this._tokens[(S<<1)+1];return y.TokenMetadata.getInlineStyleFromMetadata(C,b)}getPresentation(S){const b=this._tokens[(S<<1)+1];return y.TokenMetadata.getPresentationFromMetadata(b)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return m.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,b,C){return new N(this,S,b,C)}static convertToEndOffset(S,b){const h=(S.length>>>1)-1;for(let g=0;g<h;g++)S[g<<1]=S[g+1<<1];S[h<<1]=b}static findIndexInTokensArray(S,b){if(S.length<=2)return 0;let C=0,h=(S.length>>>1)-1;for(;C<h;){const g=C+Math.floor((h-C)/2),t=S[g<<1];if(t===b)return g+1;t<b?C=g+1:t>b&&(h=g)}return C}withInserted(S){if(S.length===0)return this;let b=0,C=0,h="";const g=new Array;let t=0;for(;;){const i=b<this._tokensCount?this._tokens[b<<1]:-1,n=C<S.length?S[C]:null;if(i!==-1&&(n===null||i<=n.offset)){h+=this._text.substring(t,i);const o=this._tokens[(b<<1)+1];g.push(h.length,o),b++,t=i}else if(n){if(n.offset>t){h+=this._text.substring(t,n.offset);const o=this._tokens[(b<<1)+1];g.push(h.length,o),t=n.offset}h+=n.text,g.push(h.length,n.tokenMetadata),C++}else break}return new m(new Uint32Array(g),h,this._languageIdCodec)}}e.LineTokens=m,m.defaultTokenMetadata=(0<<10|1<<14|2<<23)>>>0;class N{constructor(S,b,C,h){this._source=S,this._startOffset=b,this._endOffset=C,this._deltaOffset=h,this._firstTokenIndex=S.findTokenIndexAtOffset(b),this._tokensCount=0;for(let g=this._firstTokenIndex,t=S.getCount();g<t&&!(S.getStartOffset(g)>=C);g++)this._tokensCount++}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof N?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const b=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,b)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,b){return this._source.getInlineStyle(this._firstTokenIndex+S,b)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(ee[263],te([0,1,8,74,18,116]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const S={getInitialState:()=>I.NullState,tokenizeEncoded:(g,t,i)=>(0,I.nullTokenizeEncoded)(0,i)};function b(g,t,i){return De(this,void 0,void 0,function*(){if(!i)return h(t,g.languageIdCodec,S);const n=yield N.TokenizationRegistry.getOrCreate(i);return h(t,g.languageIdCodec,n||S)})}e.tokenizeToString=b;function C(g,t,i,n,o,d,c){let s="<div>",a=n,r=0,l=!0;for(let u=0,f=t.getCount();u<f;u++){const w=t.getEndOffset(u);if(w<=n)continue;let v="";for(;a<w&&a<o;a++){const p=g.charCodeAt(a);switch(p){case 9:{let _=d-(a+r)%d;for(r+=_-1;_>0;)c&&l?(v+="&#160;",l=!1):(v+=" ",l=!0),_--;break}case 60:v+="&lt;",l=!1;break;case 62:v+="&gt;",l=!1;break;case 38:v+="&amp;",l=!1;break;case 0:v+="&#00;",l=!1;break;case 65279:case 8232:case 8233:case 133:v+="\uFFFD",l=!1;break;case 13:v+="&#8203",l=!1;break;case 32:c&&l?(v+="&#160;",l=!1):(v+=" ",l=!0);break;default:v+=String.fromCharCode(p),l=!1}}if(s+=`<span style="${t.getInlineStyle(u,i)}">${v}</span>`,w>o||a>=o)break}return s+="</div>",s}e.tokenizeLineToHTML=C;function h(g,t,i){let n='<div class="monaco-tokenized-source">';const o=y.splitLines(g);let d=i.getInitialState();for(let c=0,s=o.length;c<s;c++){const a=o[c];c>0&&(n+="<br/>");const r=i.tokenizeEncoded(a,!0,d);m.LineTokens.convertToEndOffset(r.tokens,a.length);const u=new m.LineTokens(r.tokens,a,t).inflate();let f=0;for(let w=0,v=u.getCount();w<v;w++){const p=u.getClassName(w),_=u.getEndOffset(w);n+=`<span class="${p}">${y.escape(a.substring(f,_))}</span>`,f=_}d=r.endState}return n+="</div>",n}e._tokenizeToString=h}),define(ee[588],te([0,1,19,14,74,11,18,116,2,87,119,418,10,17]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class o{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(r){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,r&&this._setBeginState(0,r)}flush(r){this._reset(r)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(r){r<this._len&&(this._valid[r]=!1),r<this._invalidLineStartIndex&&(this._invalidLineStartIndex=r)}_isValid(r){return r<this._len?this._valid[r]:!1}getBeginState(r){return r<this._len?this._beginState[r]:null}_ensureLine(r){for(;r>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(r,l){l!==0&&(r+l>this._len&&(l=this._len-r),this._beginState.splice(r,l),this._valid.splice(r,l),this._len-=l)}_insertLines(r,l){if(l===0)return;const u=[],f=[];for(let w=0;w<l;w++)u[w]=null,f[w]=!1;this._beginState=y.arrayInsert(this._beginState,r,u),this._valid=y.arrayInsert(this._valid,r,f),this._len+=l}_setValid(r,l){this._ensureLine(r),this._valid[r]=l}_setBeginState(r,l){this._ensureLine(r),this._beginState[r]=l}setEndState(r,l,u){if(this._setValid(l,!0),this._invalidLineStartIndex=l+1,l===r-1)return;const f=this.getBeginState(l+1);if(f===null||!u.equals(f)){this._setBeginState(l+1,u),this._invalidateLine(l+1);return}let w=l+1;for(;w<r&&this._isValid(w);)w++;this._invalidLineStartIndex=w}setFakeTokens(r){this._setValid(r,!1)}applyEdits(r,l){const u=r.endLineNumber-r.startLineNumber,w=Math.min(u,l);for(let v=w;v>=0;v--)this._invalidateLine(r.startLineNumber+v-1);this._acceptDeleteRange(r),this._acceptInsertText(new I.Position(r.startLineNumber,r.startColumn),l)}_acceptDeleteRange(r){r.startLineNumber-1>=this._len||this._deleteLines(r.startLineNumber,r.endLineNumber-r.startLineNumber)}_acceptInsertText(r,l){r.lineNumber-1>=this._len||this._insertLines(r.lineNumber,l)}}e.TokenizationStateStore=o;class d extends C.Disposable{constructor(r,l){super();this._textModel=r,this._languageIdCodec=l,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=new o,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(u=>{const f=this._textModel.getLanguageId();u.changedLanguages.indexOf(f)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(u=>{if(u.isFlush){this._resetTokenizationState();return}for(let f=0,w=u.changes.length;f<w;f++){const v=u.changes[f],[p]=(0,g.countEOL)(v.text);this._tokenizationStateStore.applyEdits(v.range,p)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[r,l]=c(this._textModel);this._tokenizationSupport=r,this._tokenizationStateStore.flush(l),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,i.runWhenIdle)(r=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(r)}))}_backgroundTokenizeWithDeadline(r){const l=Date.now()+r.timeRemaining(),u=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<l?(0,n.setTimeout0)(u):this._beginBackgroundTokenization())};u()}_backgroundTokenizeForAtLeast1ms(){const r=this._textModel.getLineCount(),l=new t.ContiguousMultilineTokensBuilder,u=h.StopWatch.create(!1);do if(u.elapsed()>1||this._tokenizeOneInvalidLine(l)>=r)break;while(this._hasLinesToTokenize());this._textModel.setTokens(l.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(r,l){const u=new t.ContiguousMultilineTokensBuilder;this._tokenizeViewport(u,r,l),this._textModel.setTokens(u.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(r){const l=new t.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(l,r),this._textModel.setTokens(l.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(r,l){if(!this._tokenizationSupport)return 0;this.forceTokenization(r.lineNumber);const u=this._tokenizationStateStore.getBeginState(r.lineNumber-1);if(!u)return 0;const f=this._textModel.getLanguageId(),w=this._textModel.getLineContent(r.lineNumber),v=w.substring(0,r.column-1)+l+w.substring(r.column-1),p=s(this._languageIdCodec,f,this._tokenizationSupport,v,!0,u),_=new N.LineTokens(p.tokens,v,this._languageIdCodec);if(_.getCount()===0)return 0;const L=_.findTokenIndexAtOffset(r.column-1);return _.getStandardTokenType(L)}isCheapToTokenize(r){if(!this._tokenizationSupport)return!0;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return r>l?!1:r<l||this._textModel.getLineLength(r)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(r){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(r,l),l}_updateTokensUntilLine(r,l){if(!this._tokenizationSupport)return;const u=this._textModel.getLanguageId(),f=this._textModel.getLineCount(),w=l-1;for(let v=this._tokenizationStateStore.invalidLineStartIndex;v<=w;v++){const p=this._textModel.getLineContent(v+1),_=this._tokenizationStateStore.getBeginState(v),L=s(this._languageIdCodec,u,this._tokenizationSupport,p,!0,_);r.add(v+1,L.tokens),this._tokenizationStateStore.setEndState(f,v,L.endState),v=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(r,l,u){if(!this._tokenizationSupport||u<=this._tokenizationStateStore.invalidLineStartIndex)return;if(l<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(r,u);return}let f=this._textModel.getLineFirstNonWhitespaceColumn(l);const w=[];let v=null;for(let L=l-1;f>1&&L>=1;L--){const E=this._textModel.getLineFirstNonWhitespaceColumn(L);if(E!==0&&E<f){if(v=this._tokenizationStateStore.getBeginState(L-1),v)break;w.push(this._textModel.getLineContent(L)),f=E}}v||(v=this._tokenizationSupport.getInitialState());const p=this._textModel.getLanguageId();let _=v;for(let L=w.length-1;L>=0;L--)_=s(this._languageIdCodec,p,this._tokenizationSupport,w[L],!1,_).endState;for(let L=l;L<=u;L++){const E=this._textModel.getLineContent(L),M=s(this._languageIdCodec,p,this._tokenizationSupport,E,!0,_);r.add(L,M.tokens),this._tokenizationStateStore.setFakeTokens(L-1),_=M.endState}}}e.TextModelTokenization=d;function c(a){const r=a.getLanguageId();let l=a.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(r),u=null;if(l)try{u=l.getInitialState()}catch(f){(0,m.onUnexpectedError)(f),l=null}return[l,u]}function s(a,r,l,u,f,w){let v=null;if(l)try{v=l.tokenizeEncoded(u,f,w.clone())}catch(p){(0,m.onUnexpectedError)(p)}return v||(v=(0,b.nullTokenizeEncoded)(a.encodeLanguageId(r),w)),N.LineTokens.convertToEndOffset(v.tokens,u.length),v}}),define(ee[589],te([0,1,74]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class m{static deleteBeginning(S,b){return S===null||S===e.EMPTY_LINE_TOKENS?S:m.delete(S,0,b)}static deleteEnding(S,b){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const C=N(S),h=C[C.length-2];return m.delete(S,b,h)}static delete(S,b,C){if(S===null||S===e.EMPTY_LINE_TOKENS||b===C)return S;const h=N(S),g=h.length>>>1;if(b===0&&h[h.length-2]===C)return e.EMPTY_LINE_TOKENS;const t=y.LineTokens.findIndexInTokensArray(h,b),i=t>0?h[t-1<<1]:0,n=h[t<<1];if(C<n){const a=C-b;for(let r=t;r<g;r++)h[r<<1]-=a;return S}let o,d;i!==b?(h[t<<1]=b,o=t+1<<1,d=b):(o=t<<1,d=i);const c=C-b;for(let a=t+1;a<g;a++){const r=h[a<<1]-c;r>d&&(h[o++]=r,h[o++]=h[(a<<1)+1],d=r)}if(o===h.length)return S;const s=new Uint32Array(o);return s.set(h.subarray(0,o),0),s.buffer}static append(S,b){if(b===e.EMPTY_LINE_TOKENS)return S;if(S===e.EMPTY_LINE_TOKENS)return b;if(S===null)return S;if(b===null)return null;const C=N(S),h=N(b),g=h.length>>>1,t=new Uint32Array(C.length+h.length);t.set(C,0);let i=C.length;const n=C[C.length-2];for(let o=0;o<g;o++)t[i++]=h[o<<1]+n,t[i++]=h[(o<<1)+1];return t.buffer}static insert(S,b,C){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const h=N(S),g=h.length>>>1;let t=y.LineTokens.findIndexInTokensArray(h,b);t>0&&h[t-1<<1]===b&&t--;for(let i=t;i<g;i++)h[i<<1]+=C;return S}}e.ContiguousTokensEditing=m;function N(I){return I instanceof Uint32Array?I:new Uint32Array(I)}e.toUint32Array=N}),define(ee[590],te([0,1,19,11,589,74,18]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class b{constructor(g){this._lineTokens=[],this._len=0,this._languageIdCodec=g}flush(){this._lineTokens=[],this._len=0}getTokens(g,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),n!==null&&n!==N.EMPTY_LINE_TOKENS)return new I.LineTokens((0,N.toUint32Array)(n),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=C(this._languageIdCodec.encodeLanguageId(g)),new I.LineTokens(o,i,this._languageIdCodec)}static _massageTokens(g,t,i){const n=i?(0,N.toUint32Array)(i):null;if(t===0){let o=!1;if(n&&n.length>1&&(o=S.TokenMetadata.getLanguageId(n[1])!==g),!o)return N.EMPTY_LINE_TOKENS}if(!n||n.length===0){const o=new Uint32Array(2);return o[0]=t,o[1]=C(g),o.buffer}return n[n.length-2]=t,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(g){for(;g>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(g,t){t!==0&&(g+t>this._len&&(t=this._len-g),this._lineTokens.splice(g,t),this._len-=t)}_insertLines(g,t){if(t===0)return;const i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=y.arrayInsert(this._lineTokens,g,i),this._len+=t}setTokens(g,t,i,n,o){const d=b._massageTokens(this._languageIdCodec.encodeLanguageId(g),i,n);this._ensureLine(t);const c=this._lineTokens[t];return this._lineTokens[t]=d,o?!b._equals(c,d):!1}static _equals(g,t){if(!g||!t)return!g&&!t;const i=(0,N.toUint32Array)(g),n=(0,N.toUint32Array)(t);if(i.length!==n.length)return!1;for(let o=0,d=i.length;o<d;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(g,t,i){this._acceptDeleteRange(g),this._acceptInsertText(new m.Position(g.startLineNumber,g.startColumn),t,i)}_acceptDeleteRange(g){const t=g.startLineNumber-1;if(t>=this._len)return;if(g.startLineNumber===g.endLineNumber){if(g.startColumn===g.endColumn)return;this._lineTokens[t]=N.ContiguousTokensEditing.delete(this._lineTokens[t],g.startColumn-1,g.endColumn-1);return}this._lineTokens[t]=N.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],g.startColumn-1);const i=g.endLineNumber-1;let n=null;i<this._len&&(n=N.ContiguousTokensEditing.deleteBeginning(this._lineTokens[i],g.endColumn-1)),this._lineTokens[t]=N.ContiguousTokensEditing.append(this._lineTokens[t],n),this._deleteLines(g.startLineNumber,g.endLineNumber-g.startLineNumber)}_acceptInsertText(g,t,i){if(t===0&&i===0)return;const n=g.lineNumber-1;if(!(n>=this._len)){if(t===0){this._lineTokens[n]=N.ContiguousTokensEditing.insert(this._lineTokens[n],g.column-1,i);return}this._lineTokens[n]=N.ContiguousTokensEditing.deleteEnding(this._lineTokens[n],g.column-1),this._lineTokens[n]=N.ContiguousTokensEditing.insert(this._lineTokens[n],g.column-1,i),this._insertLines(g.lineNumber,t)}}}e.ContiguousTokensStore=b;function C(h){return(h<<0|0<<8|0<<10|1<<14|2<<23)>>>0}}),define(ee[591],te([0,1,19,74]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class N{constructor(S){this._pieces=[],this._isComplete=!1,this._languageIdCodec=S}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(S,b){this._pieces=S||[],this._isComplete=b}setPartial(S,b){let C=S;if(b.length>0){const g=b[0].getRange(),t=b[b.length-1].getRange();if(!g||!t)return S;C=S.plusRange(g).plusRange(t)}let h=null;for(let g=0,t=this._pieces.length;g<t;g++){const i=this._pieces[g];if(i.endLineNumber<C.startLineNumber)continue;if(i.startLineNumber>C.endLineNumber){h=h||{index:g};break}if(i.removeTokens(C),i.isEmpty()){this._pieces.splice(g,1),g--,t--;continue}if(i.endLineNumber<C.startLineNumber)continue;if(i.startLineNumber>C.endLineNumber){h=h||{index:g};continue}const[n,o]=i.split(C);if(n.isEmpty()){h=h||{index:g};continue}o.isEmpty()||(this._pieces.splice(g,1,n,o),g++,t++,h=h||{index:g})}return h=h||{index:this._pieces.length},b.length>0&&(this._pieces=y.arrayInsert(this._pieces,h.index,b)),C}isComplete(){return this._isComplete}addSparseTokens(S,b){const C=this._pieces;if(C.length===0)return b;const h=N._findFirstPieceWithLine(C,S),g=C[h].getLineTokens(S);if(!g)return b;const t=b.getCount(),i=g.getCount();let n=0;const o=[];let d=0,c=0;const s=(a,r)=>{a!==c&&(c=a,o[d++]=a,o[d++]=r)};for(let a=0;a<i;a++){const r=g.getStartCharacter(a),l=g.getEndCharacter(a),u=g.getMetadata(a),f=((u&1?1024:0)|(u&2?2048:0)|(u&4?4096:0)|(u&8?8192:0)|(u&16?8372224:0)|(u&32?4286578688:0))>>>0,w=~f>>>0;for(;n<t&&b.getEndOffset(n)<=r;)s(b.getEndOffset(n),b.getMetadata(n)),n++;for(n<t&&b.getStartOffset(n)<r&&s(r,b.getMetadata(n));n<t&&b.getEndOffset(n)<l;)s(b.getEndOffset(n),b.getMetadata(n)&w|u&f),n++;if(n<t)s(l,b.getMetadata(n)&w|u&f),b.getEndOffset(n)===l&&n++;else{const v=Math.min(Math.max(0,n-1),t-1);s(l,b.getMetadata(v)&w|u&f)}}for(;n<t;)s(b.getEndOffset(n),b.getMetadata(n)),n++;return new m.LineTokens(new Uint32Array(o),b.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(S,b){let C=0,h=S.length-1;for(;C<h;){let g=C+Math.floor((h-C)/2);if(S[g].endLineNumber<b)C=g+1;else if(S[g].startLineNumber>b)h=g-1;else{for(;g>C&&S[g-1].startLineNumber<=b&&b<=S[g-1].endLineNumber;)g--;return g}}return C}acceptEdit(S,b,C,h,g){for(const t of this._pieces)t.acceptEdit(S,b,C,h,g)}}e.SparseTokensStore=N}),define(ee[59],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,y.createDecorator)("textModelService")}),define(ee[151],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,y.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,y.createDecorator)("textResourcePropertiesService")}),define(ee[264],te([0,1,4,2,234,18]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends m.Disposable{constructor(){super();this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(I.TokenizationRegistry.onDidChange(C=>{C.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,m.markAsSingleton)(new S)),this._INSTANCE}_updateColorMap(){const C=I.TokenizationRegistry.getColorMap();if(!C){this._colors=[N.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[N.RGBA8.Empty];for(let g=1;g<C.length;g++){const t=C[g].rgba;this._colors[g]=new N.RGBA8(t.r,t.g,t.b,Math.round(t.a*255))}const h=C[2].getRelativeLuminance();this._backgroundIsLight=h>=.5,this._onDidChange.fire(void 0)}getColor(C){return(C<1||C>=this._colors.length)&&(C=2),this._colors[C]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(ee[592],te([0,1,74,11,91,67]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function S(n,o){return n===null?o?C.INSTANCE:h.INSTANCE:new b(n,o)}e.createModelLineProjection=S;class b{constructor(o,d){this._projectionData=o,this._isVisible=d}isVisible(){return this._isVisible}setVisible(o){return this._isVisible=o,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(o,d,c){this._assertVisible();const s=c>0?this._projectionData.breakOffsets[c-1]:0,a=this._projectionData.breakOffsets[c];let r;if(this._projectionData.injectionOffsets!==null){const l=this._projectionData.injectionOffsets.map((f,w)=>new N.LineInjectedText(0,0,f+1,this._projectionData.injectionOptions[w],0));r=N.LineInjectedText.applyInjectedText(o.getLineContent(d),l).substring(s,a)}else r=o.getValueInRange({startLineNumber:d,startColumn:s+1,endLineNumber:d,endColumn:a+1});return c>0&&(r=t(this._projectionData.wrappedTextIndentLength)+r),r}getViewLineLength(o,d,c){return this._assertVisible(),this._projectionData.getLineLength(c)}getViewLineMinColumn(o,d,c){return this._assertVisible(),this._projectionData.getMinOutputOffset(c)+1}getViewLineMaxColumn(o,d,c){return this._assertVisible(),this._projectionData.getMaxOutputOffset(c)+1}getViewLineData(o,d,c){const s=new Array;return this.getViewLinesData(o,d,c,1,0,[!0],s),s[0]}getViewLinesData(o,d,c,s,a,r,l){this._assertVisible();const u=this._projectionData,f=u.injectionOffsets,w=u.injectionOptions;let v=null;if(f){v=[];let _=0,L=0;for(let E=0;E<u.getOutputLineCount();E++){const M=new Array;v[E]=M;const k=E>0?u.breakOffsets[E-1]:0,A=u.breakOffsets[E];for(;L<f.length;){const F=w[L].content.length,B=f[L]+_,T=B+F;if(B>A)break;if(k<T){const R=w[L];if(R.inlineClassName){const O=E>0?u.wrappedTextIndentLength:0,P=O+Math.max(B-k,0),D=O+Math.min(T-k,A);P!==D&&M.push(new I.SingleLineInlineDecoration(P,D,R.inlineClassName,R.inlineClassNameAffectsLetterSpacing))}}if(T<=A)_+=F,L++;else break}}}let p;f?p=o.getLineTokens(d).withInserted(f.map((_,L)=>({offset:_,text:w[L].content,tokenMetadata:y.LineTokens.defaultTokenMetadata}))):p=o.getLineTokens(d);for(let _=c;_<c+s;_++){const L=a+_-c;if(!r[L]){l[L]=null;continue}l[L]=this._getViewLineData(p,v?v[_]:null,_)}}_getViewLineData(o,d,c){this._assertVisible();const s=this._projectionData,a=c>0?s.wrappedTextIndentLength:0,r=c>0?s.breakOffsets[c-1]:0,l=s.breakOffsets[c],u=o.sliceAndInflate(r,l,a);let f=u.getLineContent();c>0&&(f=t(s.wrappedTextIndentLength)+f);const w=this._projectionData.getMinOutputOffset(c)+1,v=f.length+1,p=c+1<this.getViewLineCount(),_=c===0?0:s.breakOffsetsVisibleColumn[c-1];return new I.ViewLineData(f,p,w,v,_,u,d)}getModelColumnOfViewPosition(o,d){return this._assertVisible(),this._projectionData.translateToInputOffset(o,d-1)+1}getViewPositionOfModelPosition(o,d,c=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(d-1,c).toPosition(o)}getViewLineNumberOfModelPosition(o,d){this._assertVisible();const c=this._projectionData.translateToOutputPosition(d-1);return o+c.outputLineIndex}normalizePosition(o,d,c){const s=d.lineNumber-o;return this._projectionData.normalizeOutputPosition(o,d.column-1,c).toPosition(s)}getInjectedTextAt(o,d){return this._projectionData.getInjectedText(o,d-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class C{constructor(){}isVisible(){return!0}setVisible(o){return o?this:h.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(o,d,c){return o.getLineContent(d)}getViewLineLength(o,d,c){return o.getLineLength(d)}getViewLineMinColumn(o,d,c){return o.getLineMinColumn(d)}getViewLineMaxColumn(o,d,c){return o.getLineMaxColumn(d)}getViewLineData(o,d,c){const s=o.getLineTokens(d),a=s.getLineContent();return new I.ViewLineData(a,!1,1,a.length+1,0,s.inflate(),null)}getViewLinesData(o,d,c,s,a,r,l){if(!r[a]){l[a]=null;return}l[a]=this.getViewLineData(o,d,0)}getModelColumnOfViewPosition(o,d){return d}getViewPositionOfModelPosition(o,d){return new m.Position(o,d)}getViewLineNumberOfModelPosition(o,d){return o}normalizePosition(o,d,c){return d}getInjectedTextAt(o,d){return null}}C.INSTANCE=new C;class h{constructor(){}isVisible(){return!1}setVisible(o){return o?C.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(o,d,c){throw new Error("Not supported")}getViewLineLength(o,d,c){throw new Error("Not supported")}getViewLineMinColumn(o,d,c){throw new Error("Not supported")}getViewLineMaxColumn(o,d,c){throw new Error("Not supported")}getViewLineData(o,d,c){throw new Error("Not supported")}getViewLinesData(o,d,c,s,a,r,l){throw new Error("Not supported")}getModelColumnOfViewPosition(o,d){throw new Error("Not supported")}getViewPositionOfModelPosition(o,d){throw new Error("Not supported")}getViewLineNumberOfModelPosition(o,d){throw new Error("Not supported")}normalizePosition(o,d,c){throw new Error("Not supported")}getInjectedTextAt(o,d){throw new Error("Not supported")}}h.INSTANCE=new h;let g=[""];function t(n){if(n>=g.length)for(let o=1;o<=n;o++)g[o]=i(o);return g[n]}function i(n){return new Array(n+1).join(" ")}}),define(ee[593],te([0,1,14,2,11,3,18]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class b{constructor(t,i){this.range=t,this.direction=i}}e.InlayHintAnchor=b;class C{constructor(t,i,n){this.hint=t,this.anchor=i,this._provider=n,this._isResolved=!1}with(t){const i=new C(this.hint,t.anchor,this._provider);return i._isResolved=this._isResolved,i._currentResolve=this._currentResolve,i}resolve(t){return De(this,void 0,void 0,function*(){if(typeof this._provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var i,n;return De(this,void 0,void 0,function*(){try{const o=yield Promise.resolve(this._provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(i=o==null?void 0:o.tooltip)!==null&&i!==void 0?i:this.hint.tooltip,this.hint.label=(n=o==null?void 0:o.label)!==null&&n!==void 0?n:this.hint.label,this._isResolved=!0}catch(o){(0,y.onUnexpectedExternalError)(o),this._isResolved=!1}})}}e.InlayHintItem=C;class h{constructor(t,i,n){this._disposables=new m.DisposableStore,this.ranges=t,this.provider=new Set;const o=[];for(const[d,c]of i){this._disposables.add(d),this.provider.add(c);for(const s of d.hints){let a=n.validatePosition(s.position),r="before";const l=h._getRangeAtPosition(n,a);let u;l.getStartPosition().isBefore(a)?(u=I.Range.fromPositions(l.getStartPosition(),a),r="after"):(u=I.Range.fromPositions(a,l.getEndPosition()),r="before"),o.push(new C(s,new b(u,r),c))}}this.items=o.sort((d,c)=>N.Position.compare(d.hint.position,c.hint.position))}static create(t,i,n){return De(this,void 0,void 0,function*(){const o=[],d=S.InlayHintsProviderRegistry.ordered(t).reverse().map(c=>i.map(s=>De(this,void 0,void 0,function*(){try{const a=yield c.provideInlayHints(t,s,n);(a==null?void 0:a.hints.length)&&o.push([a,c])}catch(a){(0,y.onUnexpectedExternalError)(a)}})));if(yield Promise.all(d.flat()),n.isCancellationRequested||t.isDisposed())throw new y.CancellationError;return new h(i,o,t)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,i){const n=i.lineNumber,o=t.getWordAtPosition(i);if(o)return new I.Range(n,o.startColumn,n,o.endColumn);t.tokenizeIfCheap(n);const d=t.getLineTokens(n),c=i.column-1,s=d.findTokenIndexAtOffset(c);let a=d.getStartOffset(s),r=d.getEndOffset(s);return r-a==1&&(a===c&&s>1?(a=d.getStartOffset(s-1),r=d.getEndOffset(s-1)):r===c&&s<d.getCount()-1&&(a=d.getStartOffset(s+1),r=d.getEndOffset(s+1))),new I.Range(n,a+1,n,r+1)}}e.InlayHintsFragments=h}),define(ee[265],te([0,1,143,18,116,255]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const S=5;class b{constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}static create(s,a){return this._INSTANCE.create(s,a)}create(s,a){if(s!==null&&s.depth>=this._maxCacheDepth)return new C(s,a);let r=C.getStackElementId(s);r.length>0&&(r+="|"),r+=a;let l=this._entries[r];return l||(l=new C(s,a),this._entries[r]=l,l)}}b._INSTANCE=new b(S);class C{constructor(s,a){this.parent=s,this.state=a,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(s){let a="";for(;s!==null;)a.length>0&&(a+="|"),a+=s.state,s=s.parent;return a}static _equals(s,a){for(;s!==null&&a!==null;){if(s===a)return!0;if(s.state!==a.state)return!1;s=s.parent,a=a.parent}return s===null&&a===null}equals(s){return C._equals(this,s)}push(s){return b.create(this,s)}pop(){return this.parent}popall(){let s=this;for(;s.parent;)s=s.parent;return s}switchTo(s){return b.create(this.parent,s)}}class h{constructor(s,a){this.languageId=s,this.state=a}equals(s){return this.languageId===s.languageId&&this.state.equals(s.state)}clone(){return this.state.clone()===this.state?this:new h(this.languageId,this.state)}}class g{constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}static create(s,a){return this._INSTANCE.create(s,a)}create(s,a){if(a!==null)return new t(s,a);if(s!==null&&s.depth>=this._maxCacheDepth)return new t(s,a);const r=C.getStackElementId(s);let l=this._entries[r];return l||(l=new t(s,null),this._entries[r]=l,l)}}g._INSTANCE=new g(S);class t{constructor(s,a){this.stack=s,this.embeddedLanguageData=a}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:g.create(this.stack,this.embeddedLanguageData)}equals(s){return!(s instanceof t)||!this.stack.equals(s.stack)?!1:this.embeddedLanguageData===null&&s.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||s.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(s.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(s){this._languageId=s}emit(s,a){this._lastTokenType===a&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=a,this._lastTokenLanguage=this._languageId,this._tokens.push(new y.Token(s,a,this._languageId)))}nestedLanguageTokenize(s,a,r,l){const u=r.languageId,f=r.state,w=m.TokenizationRegistry.get(u);if(!w)return this.enterLanguage(u),this.emit(l,""),f;const v=w.tokenize(s,a,f);if(l!==0)for(const p of v.tokens)this._tokens.push(new y.Token(p.offset+l,p.type,p.language));else this._tokens=this._tokens.concat(v.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,v.endState}finalize(s){return new y.TokenizationResult(this._tokens,s)}}class n{constructor(s,a){this._languageService=s,this._theme=a,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(s){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(s)}emit(s,a){const r=this._theme.match(this._currentLanguageId,a);this._lastTokenMetadata!==r&&(this._lastTokenMetadata=r,this._tokens.push(s),this._tokens.push(r))}static _merge(s,a,r){const l=s!==null?s.length:0,u=a.length,f=r!==null?r.length:0;if(l===0&&u===0&&f===0)return new Uint32Array(0);if(l===0&&u===0)return r;if(u===0&&f===0)return s;const w=new Uint32Array(l+u+f);s!==null&&w.set(s);for(let v=0;v<u;v++)w[l+v]=a[v];return r!==null&&w.set(r,l+u),w}nestedLanguageTokenize(s,a,r,l){const u=r.languageId,f=r.state,w=m.TokenizationRegistry.get(u);if(!w)return this.enterLanguage(u),this.emit(l,""),f;const v=w.tokenizeEncoded(s,a,f);if(l!==0)for(let p=0,_=v.tokens.length;p<_;p+=2)v.tokens[p]+=l;return this._prependTokens=n._merge(this._prependTokens,this._tokens,v.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,v.endState}finalize(s){return new y.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),s)}}class o{constructor(s,a,r,l){this._languageService=s,this._standaloneThemeService=a,this._languageId=r,this._lexer=l,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let u=!1;this._tokenizationRegistryListener=m.TokenizationRegistry.onDidChange(f=>{if(u)return;let w=!1;for(let v=0,p=f.changedLanguages.length;v<p;v++){const _=f.changedLanguages[v];if(this._embeddedLanguages[_]){w=!0;break}}w&&(u=!0,m.TokenizationRegistry.fire([this._languageId]),u=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const s=[];for(let a in this._embeddedLanguages){const r=m.TokenizationRegistry.get(a);if(r){if(r instanceof o){const l=r.getLoadStatus();l.loaded===!1&&s.push(l.promise)}continue}m.TokenizationRegistry.isResolved(a)||s.push(m.TokenizationRegistry.getOrCreate(a))}return s.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(s).then(a=>{})}}getInitialState(){const s=b.create(null,this._lexer.start);return g.create(s,null)}tokenize(s,a,r){const l=new i,u=this._tokenize(s,a,r,l);return l.finalize(u)}tokenizeEncoded(s,a,r){const l=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),u=this._tokenize(s,a,r,l);return l.finalize(u)}_tokenize(s,a,r,l){return r.embeddedLanguageData?this._nestedTokenize(s,a,r,0,l):this._myTokenize(s,a,r,0,l)}_findLeavingNestedLanguageOffset(s,a){let r=this._lexer.tokenizer[a.stack.state];if(!r&&(r=I.findRules(this._lexer,a.stack.state),!r))throw I.createError(this._lexer,"tokenizer state is not defined: "+a.stack.state);let l=-1,u=!1;for(const f of r){if(!I.isIAction(f.action)||f.action.nextEmbedded!=="@pop")continue;u=!0;let w=f.regex;const v=f.regex.source;if(v.substr(0,4)==="^(?:"&&v.substr(v.length-1,1)===")"){const _=(w.ignoreCase?"i":"")+(w.unicode?"u":"");w=new RegExp(v.substr(4,v.length-5),_)}const p=s.search(w);p===-1||p!==0&&f.matchOnlyAtLineStart||(l===-1||p<l)&&(l=p)}if(!u)throw I.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+a.stack.state);return l}_nestedTokenize(s,a,r,l,u){const f=this._findLeavingNestedLanguageOffset(s,r);if(f===-1){const p=u.nestedLanguageTokenize(s,a,r.embeddedLanguageData,l);return g.create(r.stack,new h(r.embeddedLanguageData.languageId,p))}const w=s.substring(0,f);w.length>0&&u.nestedLanguageTokenize(w,!1,r.embeddedLanguageData,l);const v=s.substring(f);return this._myTokenize(v,a,r,l+f,u)}_safeRuleName(s){return s?s.name:"(unknown)"}_myTokenize(s,a,r,l,u){u.enterLanguage(this._languageId);const f=s.length,w=a&&this._lexer.includeLF?s+`
`:s,v=w.length;let p=r.embeddedLanguageData,_=r.stack,L=0,E=null,M=!0;for(;M||L<v;){const k=L,A=_.depth,F=E?E.groups.length:0,B=_.state;let T=null,R=null,O=null,P=null,D=null;if(E){T=E.matches;const j=E.groups.shift();R=j.matched,O=j.action,P=E.rule,E.groups.length===0&&(E=null)}else{if(!M&&L>=v)break;M=!1;let j=this._lexer.tokenizer[B];if(!j&&(j=I.findRules(this._lexer,B),!j))throw I.createError(this._lexer,"tokenizer state is not defined: "+B);let Q=w.substr(L);for(const G of j)if((L===0||!G.matchOnlyAtLineStart)&&(T=Q.match(G.regex),T)){R=T[0],O=G.action;break}}if(T||(T=[""],R=""),O||(L<v&&(T=[w.charAt(L)],R=T[0]),O=this._lexer.defaultToken),R===null)break;for(L+=R.length;I.isFuzzyAction(O)&&I.isIAction(O)&&O.test;)O=O.test(R,T,B,L===v);let x=null;if(typeof O=="string"||Array.isArray(O))x=O;else if(O.group)x=O.group;else if(O.token!==null&&O.token!==void 0){if(O.tokenSubst?x=I.substituteMatches(this._lexer,O.token,R,T,B):x=O.token,O.nextEmbedded)if(O.nextEmbedded==="@pop"){if(!p)throw I.createError(this._lexer,"cannot pop embedded language if not inside one");p=null}else{if(p)throw I.createError(this._lexer,"cannot enter embedded language from within an embedded language");D=I.substituteMatches(this._lexer,O.nextEmbedded,R,T,B)}if(O.goBack&&(L=Math.max(0,L-O.goBack)),O.switchTo&&typeof O.switchTo=="string"){let j=I.substituteMatches(this._lexer,O.switchTo,R,T,B);if(j[0]==="@"&&(j=j.substr(1)),I.findRules(this._lexer,j))_=_.switchTo(j);else throw I.createError(this._lexer,"trying to switch to a state '"+j+"' that is undefined in rule: "+this._safeRuleName(P))}else{if(O.transform&&typeof O.transform=="function")throw I.createError(this._lexer,"action.transform not supported");if(O.next)if(O.next==="@push"){if(_.depth>=this._lexer.maxStack)throw I.createError(this._lexer,"maximum tokenizer stack size reached: ["+_.state+","+_.parent.state+",...]");_=_.push(B)}else if(O.next==="@pop"){if(_.depth<=1)throw I.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(P));_=_.pop()}else if(O.next==="@popall")_=_.popall();else{let j=I.substituteMatches(this._lexer,O.next,R,T,B);if(j[0]==="@"&&(j=j.substr(1)),I.findRules(this._lexer,j))_=_.push(j);else throw I.createError(this._lexer,"trying to set a next state '"+j+"' that is undefined in rule: "+this._safeRuleName(P))}}O.log&&typeof O.log=="string"&&I.log(this._lexer,this._lexer.languageId+": "+I.substituteMatches(this._lexer,O.log,R,T,B))}if(x===null)throw I.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(P));const H=j=>{const Q=this._languageService.getLanguageIdByLanguageName(j)||this._languageService.getLanguageIdByMimeType(j)||j,G=this._getNestedEmbeddedLanguageData(Q);if(L<v){const se=s.substr(L);return this._nestedTokenize(se,a,g.create(_,G),l+L,u)}else return g.create(_,G)};if(Array.isArray(x)){if(E&&E.groups.length>0)throw I.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(P));if(T.length!==x.length+1)throw I.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(P));let j=0;for(let Q=1;Q<T.length;Q++)j+=T[Q].length;if(j!==R.length)throw I.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(P));E={rule:P,matches:T,groups:[]};for(let Q=0;Q<x.length;Q++)E.groups[Q]={action:x[Q],matched:T[Q+1]};L-=R.length;continue}else{if(x==="@rematch"&&(L-=R.length,R="",T=null,x="",D!==null))return H(D);if(R.length===0){if(v===0||A!==_.depth||B!==_.state||(E?E.groups.length:0)!==F)continue;throw I.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(P))}let j=null;if(I.isString(x)&&x.indexOf("@brackets")===0){const Q=x.substr("@brackets".length),G=d(this._lexer,R);if(!G)throw I.createError(this._lexer,"@brackets token returned but no bracket defined as: "+R);j=I.sanitize(G.token+Q)}else{const Q=x===""?"":x+this._lexer.tokenPostfix;j=I.sanitize(Q)}k<f&&u.emit(k+l,j)}if(D!==null)return H(D)}return g.create(_,p)}_getNestedEmbeddedLanguageData(s){if(!this._languageService.isRegisteredLanguageId(s))return new h(s,N.NullState);s!==this._languageId&&(m.TokenizationRegistry.getOrCreate(s),this._embeddedLanguages[s]=!0);const a=m.TokenizationRegistry.get(s);return a?new h(s,a.getInitialState()):new h(s,N.NullState)}}e.MonarchTokenizer=o;function d(c,s){if(!s)return null;s=I.fixCase(c,s);const a=c.brackets;for(const r of a){if(r.open===s)return{token:r.token,bracketType:1};if(r.close===s)return{token:r.token,bracketType:-1}}return null}}),define(ee[594],te([0,1,8,74,18,121,67,265]),function(K,e,y,m,N,I,S,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const h=(C=window.trustedTypes)===null||C===void 0?void 0:C.createPolicy("standaloneColorizer",{createHTML:o=>o});class g{static colorizeElement(d,c,s,a){a=a||{};const r=a.theme||"vs",l=a.mimeType||s.getAttribute("lang")||s.getAttribute("data-lang");if(!l)return console.error("Mode not detected"),Promise.resolve();const u=c.getLanguageIdByMimeType(l)||l;d.setTheme(r);const f=s.firstChild?s.firstChild.nodeValue:"";s.className+=" "+r;const w=v=>{var p;const _=(p=h==null?void 0:h.createHTML(v))!==null&&p!==void 0?p:v;s.innerHTML=_};return this.colorize(c,f||"",u,a).then(w,v=>console.error(v))}static colorize(d,c,s,a){return De(this,void 0,void 0,function*(){const r=d.languageIdCodec;let l=4;a&&typeof a.tabSize=="number"&&(l=a.tabSize),y.startsWithUTF8BOM(c)&&(c=c.substr(1));const u=y.splitLines(c);if(!d.isRegisteredLanguageId(s))return i(u,l,r);const f=yield N.TokenizationRegistry.getOrCreate(s);return f?t(u,l,f,r):i(u,l,r)})}static colorizeLine(d,c,s,a,r=4){const l=S.ViewLineRenderingData.isBasicASCII(d,c),u=S.ViewLineRenderingData.containsRTL(d,l,s);return(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,d,!1,l,u,0,a,[],r,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(d,c,s=4){const a=d.getLineContent(c);d.forceTokenization(c);const l=d.getLineTokens(c).inflate();return this.colorizeLine(a,d.mightContainNonBasicASCII(),d.mightContainRTL(),l,s)}}e.Colorizer=g;function t(o,d,c,s){return new Promise((a,r)=>{const l=()=>{const u=n(o,d,c,s);if(c instanceof b.MonarchTokenizer){const f=c.getLoadStatus();if(f.loaded===!1){f.promise.then(l,r);return}}a(u)};l()})}function i(o,d,c){let s=[];const a=(0<<10|1<<14|2<<23)>>>0,r=new Uint32Array(2);r[0]=0,r[1]=a;for(let l=0,u=o.length;l<u;l++){const f=o[l];r[0]=f.length;const w=new m.LineTokens(r,f,c),v=S.ViewLineRenderingData.isBasicASCII(f,!0),p=S.ViewLineRenderingData.containsRTL(f,v,!0),_=(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,f,!1,v,p,0,w,[],d,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(_.html),s.push("<br/>")}return s.join("")}function n(o,d,c,s){let a=[],r=c.getInitialState();for(let l=0,u=o.length;l<u;l++){const f=o[l],w=c.tokenizeEncoded(f,!0,r);m.LineTokens.convertToEndOffset(w.tokens,f.length);const v=new m.LineTokens(w.tokens,f,s),p=S.ViewLineRenderingData.isBasicASCII(f,!0),_=S.ViewLineRenderingData.containsRTL(f,p,!0),L=(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,f,!1,p,_,0,v.inflate(),[],d,0,0,0,0,-1,"none",!1,!1,null));a=a.concat(L.html),a.push("<br/>"),r=w.endState}return a.join("")}}),define(ee[99],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,y.createDecorator)("themeService")}),define(ee[100],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,y.createDecorator)("clipboardService")}),define(ee[26],te([0,1,4,55,2,80,20,9]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,b.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(C,h){if(!C)throw new Error("invalid command");if(typeof C=="string"){if(!h)throw new Error("invalid command");return this.registerCommand({id:C,handler:h})}if(C.description){const o=[];for(let c of C.description.args)o.push(c.constraint);const d=C.handler;C.handler=function(c,...s){return(0,S.validateConstraints)(s,o),d(c,...s)}}const{id:g}=C;let t=this._commands.get(g);t||(t=new I.LinkedList,this._commands.set(g,t));let i=t.unshift(C),n=(0,N.toDisposable)(()=>{i();const o=this._commands.get(g);(o==null?void 0:o.isEmpty())&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),n}registerCommandAlias(C,h){return e.CommandsRegistry.registerCommand(C,(g,...t)=>g.get(e.ICommandService).executeCommand(h,...t))}getCommand(C){const h=this._commands.get(C);if(!(!h||h.isEmpty()))return m.Iterable.first(h)}getCommands(){const C=new Map;for(const h of this._commands.keys()){const g=this.getCommand(h);g&&C.set(h,g)}return C}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>N.Disposable.None,onDidExecuteCommand:()=>N.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ee[266],te([0,1,21,14,25,18,45,26,20,421,3]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function t(f){return f&&!!f.data}e.isSemanticTokens=t;function i(f){return f&&Array.isArray(f.edits)}e.isSemanticTokensEdits=i;class n{constructor(w,v,p){this.provider=w,this.tokens=v,this.error=p}}e.DocumentSemanticTokensResult=n;function o(f){return I.DocumentSemanticTokensProviderRegistry.has(f)}e.hasDocumentSemanticTokensProvider=o;function d(f){const w=I.DocumentSemanticTokensProviderRegistry.orderedGroups(f);return w.length>0?w[0]:[]}function c(f,w,v,p){return De(this,void 0,void 0,function*(){const _=d(f),L=yield Promise.all(_.map(E=>De(this,void 0,void 0,function*(){let M,k=null;try{M=yield E.provideDocumentSemanticTokens(f,E===w?v:null,p)}catch(A){k=A,M=null}return(!M||!t(M)&&!i(M))&&(M=null),new n(E,M,k)})));for(const E of L){if(E.error)throw E.error;if(E.tokens)return E}return L.length>0?L[0]:null})}e.getDocumentSemanticTokens=c;function s(f){const w=I.DocumentSemanticTokensProviderRegistry.orderedGroups(f);return w.length>0?w[0]:null}class a{constructor(w,v){this.provider=w,this.tokens=v}}function r(f){return I.DocumentRangeSemanticTokensProviderRegistry.has(f)}e.hasDocumentRangeSemanticTokensProvider=r;function l(f){const w=I.DocumentRangeSemanticTokensProviderRegistry.orderedGroups(f);return w.length>0?w[0]:[]}function u(f,w,v){return De(this,void 0,void 0,function*(){const p=l(f),_=yield Promise.all(p.map(L=>De(this,void 0,void 0,function*(){let E;try{E=yield L.provideDocumentRangeSemanticTokens(f,w,v)}catch(M){(0,m.onUnexpectedExternalError)(M),E=null}return(!E||!t(E))&&(E=null),new a(L,E)})));for(const L of _)if(L.tokens)return L;return _.length>0?_[0]:null})}e.getDocumentRangeSemanticTokens=u,b.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(f,...w)=>De(void 0,void 0,void 0,function*(){const[v]=w;(0,C.assertType)(v instanceof N.URI);const p=f.get(S.IModelService).getModel(v);if(!p)return;const _=s(p);return _?_[0].getLegend():f.get(b.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",v)})),b.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(f,...w)=>De(void 0,void 0,void 0,function*(){const[v]=w;(0,C.assertType)(v instanceof N.URI);const p=f.get(S.IModelService).getModel(v);if(!p)return;if(!o(p))return f.get(b.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",v,p.getFullModelRange());const _=yield c(p,null,null,y.CancellationToken.None);if(!_)return;const{provider:L,tokens:E}=_;if(!E||!t(E))return;const M=(0,h.encodeSemanticTokensDto)({id:0,type:"full",data:E.data});return E.resultId&&L.releaseDocumentSemanticTokens(E.resultId),M})),b.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(f,...w)=>De(void 0,void 0,void 0,function*(){const[v,p]=w;(0,C.assertType)(v instanceof N.URI);const _=f.get(S.IModelService).getModel(v);if(!_)return;const L=l(_);if(L.length===0)return;if(L.length===1)return L[0].getLegend();if(!p||!g.Range.isIRange(p))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),L[0].getLegend();const E=yield u(_,g.Range.lift(p),y.CancellationToken.None);if(!!E)return E.provider.getLegend()})),b.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(f,...w)=>De(void 0,void 0,void 0,function*(){const[v,p]=w;(0,C.assertType)(v instanceof N.URI),(0,C.assertType)(g.Range.isIRange(p));const _=f.get(S.IModelService).getModel(v);if(!_)return;const L=yield u(_,g.Range.lift(p),y.CancellationToken.None);if(!(!L||!L.tokens))return(0,h.encodeSemanticTokensDto)({id:0,type:"full",data:L.tokens.data})}))}),define(ee[267],te([0,1,21,14,2,20,25,18,45,26]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class g{constructor(){this.lenses=[],this._disposables=new N.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(n,o){this._disposables.add(n);for(const d of n.lenses)this.lenses.push({symbol:d,provider:o})}}e.CodeLensModel=g;function t(i,n){return De(this,void 0,void 0,function*(){const o=b.CodeLensProviderRegistry.ordered(i),d=new Map,c=new g,s=o.map((a,r)=>De(this,void 0,void 0,function*(){d.set(a,r);try{const l=yield Promise.resolve(a.provideCodeLenses(i,n));l&&c.add(l,a)}catch(l){(0,m.onUnexpectedExternalError)(l)}}));return yield Promise.all(s),c.lenses=c.lenses.sort((a,r)=>a.symbol.range.startLineNumber<r.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>r.symbol.range.startLineNumber?1:d.get(a.provider)<d.get(r.provider)?-1:d.get(a.provider)>d.get(r.provider)?1:a.symbol.range.startColumn<r.symbol.range.startColumn?-1:a.symbol.range.startColumn>r.symbol.range.startColumn?1:0),c})}e.getCodeLensModel=t,h.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(i,...n){let[o,d]=n;(0,I.assertType)(S.URI.isUri(o)),(0,I.assertType)(typeof d=="number"||!d);const c=i.get(C.IModelService).getModel(o);if(!c)throw(0,m.illegalArgument)();const s=[],a=new N.DisposableStore;return t(c,y.CancellationToken.None).then(r=>{a.add(r);let l=[];for(const u of r.lenses)d==null||Boolean(u.symbol.command)?s.push(u.symbol):d-- >0&&u.provider.resolveCodeLens&&l.push(Promise.resolve(u.provider.resolveCodeLens(c,u.symbol,y.CancellationToken.None)).then(f=>s.push(f||u.symbol)));return Promise.all(l)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})})}),define(ee[268],te([0,1,21,14,25,3,18,45,26]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function h(t,i){const n=[],d=S.ColorProviderRegistry.ordered(t).reverse().map(c=>Promise.resolve(c.provideDocumentColors(t,i)).then(s=>{if(Array.isArray(s))for(let a of s)n.push({colorInfo:a,provider:c})}));return Promise.all(d).then(()=>n)}e.getColors=h;function g(t,i,n,o){return Promise.resolve(n.provideColorPresentations(t,i,o))}e.getColorPresentations=g,C.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(t,...i){const[n]=i;if(!(n instanceof N.URI))throw(0,m.illegalArgument)();const o=t.get(b.IModelService).getModel(n);if(!o)throw(0,m.illegalArgument)();const d=[],s=S.ColorProviderRegistry.ordered(o).reverse().map(a=>Promise.resolve(a.provideDocumentColors(o,y.CancellationToken.None)).then(r=>{if(Array.isArray(r))for(let l of r)d.push({range:l.range,color:[l.color.red,l.color.green,l.color.blue,l.color.alpha]})}));return Promise.all(s).then(()=>d)}),C.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(t,...i){const[n,o]=i,{uri:d,range:c}=o;if(!(d instanceof N.URI)||!Array.isArray(n)||n.length!==4||!I.Range.isIRange(c))throw(0,m.illegalArgument)();const[s,a,r,l]=n,u=t.get(b.IModelService).getModel(d);if(!u)throw(0,m.illegalArgument)();const f={range:c,color:{red:s,green:a,blue:r,alpha:l}},w=[],p=S.ColorProviderRegistry.ordered(u).reverse().map(_=>Promise.resolve(_.provideColorPresentations(u,f,y.CancellationToken.None)).then(L=>{Array.isArray(L)&&w.push(...L)}));return Promise.all(p).then(()=>w)})}),define(ee[595],te([0,1,19,21,14,2,20,25,3,18,45,26]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class i{constructor(c,s){this._link=c,this._provider=s}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(c){return De(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,c)).then(s=>(this._link=s||this._link,this._link.url?this.resolve(c):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=i;class n{constructor(c){this._disposables=new I.DisposableStore;let s=[];for(const[a,r]of c){const l=a.links.map(u=>new i(u,r));s=n._union(s,l),(0,I.isDisposable)(a)&&this._disposables.add(a)}this.links=s}dispose(){this._disposables.dispose(),this.links.length=0}static _union(c,s){let a=[],r,l,u,f;for(r=0,u=0,l=c.length,f=s.length;r<l&&u<f;){const w=c[r],v=s[u];if(C.Range.areIntersectingOrTouching(w.range,v.range)){r++;continue}C.Range.compareRangesUsingStarts(w.range,v.range)<0?(a.push(w),r++):(a.push(v),u++)}for(;r<l;r++)a.push(c[r]);for(;u<f;u++)a.push(s[u]);return a}}e.LinksList=n;function o(d,c){const s=[],a=h.LinkProviderRegistry.ordered(d).reverse().map((r,l)=>Promise.resolve(r.provideLinks(d,c)).then(u=>{u&&(s[l]=[u,r])},N.onUnexpectedExternalError));return Promise.all(a).then(()=>{const r=new n((0,y.coalesce)(s));return c.isCancellationRequested?(r.dispose(),new n([])):r})}e.getLinks=o,t.CommandsRegistry.registerCommand("_executeLinkProvider",(d,...c)=>De(void 0,void 0,void 0,function*(){let[s,a]=c;(0,S.assertType)(s instanceof b.URI),typeof a!="number"&&(a=0);const r=d.get(g.IModelService).getModel(s);if(!r)return[];const l=yield o(r,m.CancellationToken.None);if(!l)return[];for(let f=0;f<Math.min(a,l.links.length);f++)yield l.links[f].resolve(m.CancellationToken.None);const u=l.links.slice(0);return l.dispose(),u}))}),define(ee[39],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,y.createDecorator)("configurationService");function m(C,h){const g=Object.create(null);for(let t in C)N(g,t,C[t],h);return g}e.toValuesTree=m;function N(C,h,g,t){const i=h.split("."),n=i.pop();let o=C;for(let d=0;d<i.length;d++){let c=i[d],s=o[c];switch(typeof s){case"undefined":s=o[c]=Object.create(null);break;case"object":break;default:t(`Ignoring ${h} as ${i.slice(0,d+1).join(".")} is ${JSON.stringify(s)}`);return}o=s}if(typeof o=="object"&&o!==null)try{o[n]=g}catch{t(`Ignoring ${h} as ${i.join(".")} is ${JSON.stringify(o)}`)}else t(`Ignoring ${h} as ${i.join(".")} is ${JSON.stringify(o)}`)}e.addToValueTree=N;function I(C,h){const g=h.split(".");S(C,g)}e.removeFromValueTree=I;function S(C,h){const g=h.shift();if(h.length===0){delete C[g];return}if(Object.keys(C).indexOf(g)!==-1){const t=C[g];typeof t=="object"&&!Array.isArray(t)&&(S(t,h),Object.keys(t).length===0&&delete C[g])}}function b(C,h,g){function t(o,d){let c=o;for(const s of d){if(typeof c!="object"||c===null)return;c=c[s]}return c}const i=h.split("."),n=t(C,i);return typeof n=="undefined"?g:n}e.getConfigurationValue=b});var me=this&&this.__param||function(K,e){return function(y,m){e(y,m,K)}};define(ee[35],te([0,1,4,2,8,148,115,117,401,405,402,404,175,9,39,34,54]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class s{constructor(k){this.languageId=k}affects(k){return this.languageId?this.languageId===k:!0}}e.LanguageConfigurationServiceChangeEvent=s,e.ILanguageConfigurationService=(0,n.createDecorator)("languageConfigurationService");let a=class extends m.Disposable{constructor(k,A){super();this.configurationService=k,this.languageService=A,this.onDidChangeEmitter=this._register(new y.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values(l));this._register(this.configurationService.onDidChangeConfiguration(B=>{const T=B.change.keys.some(O=>F.has(O)),R=B.change.overrides.filter(([O,P])=>P.some(D=>F.has(D))).map(([O])=>O);if(T)this.configurations.clear(),this.onDidChangeEmitter.fire(new s(void 0));else for(const O of R)this.languageService.isRegisteredLanguageId(O)&&(this.configurations.delete(O),this.onDidChangeEmitter.fire(new s(O)))})),this._register(e.LanguageConfigurationRegistry.onDidChange(B=>{this.configurations.delete(B.languageId),this.onDidChangeEmitter.fire(new s(B.languageId))}))}getLanguageConfiguration(k){let A=this.configurations.get(k);return A||(A=r(k,this.configurationService,this.languageService),this.configurations.set(k,A)),A}};a=Be([me(0,o.IConfigurationService),me(1,d.ILanguageService)],a),e.LanguageConfigurationService=a;function r(M,k,A){let F=e.LanguageConfigurationRegistry.getLanguageConfiguration(M);if(!F){if(!A.isRegisteredLanguageId(M))throw new Error("Unexpected languageId");F=new E(M,{})}const B=u(F.languageId,k),T=_([F.underlyingConfig,B]);return new E(F.languageId,T)}const l={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function u(M,k){const A=k.getValue(l.brackets,{overrideIdentifier:M}),F=k.getValue(l.colorizedBracketPairs,{overrideIdentifier:M});return{brackets:f(A),colorizedBracketPairs:f(F)}}function f(M){if(!!Array.isArray(M))return M.map(k=>{if(!(!Array.isArray(k)||k.length!==2))return[k[0],k[1]]}).filter(k=>!!k)}class w{constructor(k){this.languageId=k}}e.LanguageConfigurationChangeEvent=w;class v{constructor(){this._entries=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event}register(k,A,F=0){let B=this._entries.get(k);B||(B=new p(k),this._entries.set(k,B));const T=B.register(A,F);return this._onDidChange.fire(new w(k)),(0,m.toDisposable)(()=>{T.dispose(),this._onDidChange.fire(new w(k))})}getLanguageConfiguration(k){const A=this._entries.get(k);return(A==null?void 0:A.getResolvedConfiguration())||null}getComments(k){const A=this.getLanguageConfiguration(k);return A&&A.comments||null}getIndentRulesSupport(k){const A=this.getLanguageConfiguration(k);return A&&A.indentRulesSupport||null}getPrecedingValidLine(k,A,F){const B=k.getLanguageIdAtPosition(A,0);if(A>1){let T,R=-1;for(T=A-1;T>=1;T--){if(k.getLanguageIdAtPosition(T,0)!==B)return R;const O=k.getLineContent(T);if(F.shouldIgnore(O)||/^\s+$/.test(O)||O===""){R=T;continue}return T}}return-1}getInheritIndentForLine(k,A,F,B=!0){if(k<4)return null;const T=this.getIndentRulesSupport(A.getLanguageId());if(!T)return null;if(F<=1)return{indentation:"",action:null};const R=this.getPrecedingValidLine(A,F,T);if(R<0)return null;if(R<1)return{indentation:"",action:null};const O=A.getLineContent(R);if(T.shouldIncrease(O)||T.shouldIndentNextLine(O))return{indentation:N.getLeadingWhitespace(O),action:S.IndentAction.Indent,line:R};if(T.shouldDecrease(O))return{indentation:N.getLeadingWhitespace(O),action:null,line:R};{if(R===1)return{indentation:N.getLeadingWhitespace(A.getLineContent(R)),action:null,line:R};const P=R-1,D=T.getIndentMetadata(A.getLineContent(P));if(!(D&(1|2))&&D&4){let x=0;for(let H=P-1;H>0;H--)if(!T.shouldIndentNextLine(A.getLineContent(H))){x=H;break}return{indentation:N.getLeadingWhitespace(A.getLineContent(x+1)),action:null,line:x+1}}if(B)return{indentation:N.getLeadingWhitespace(A.getLineContent(R)),action:null,line:R};for(let x=R;x>0;x--){const H=A.getLineContent(x);if(T.shouldIncrease(H))return{indentation:N.getLeadingWhitespace(H),action:S.IndentAction.Indent,line:x};if(T.shouldIndentNextLine(H)){let j=0;for(let Q=x-1;Q>0;Q--)if(!T.shouldIndentNextLine(A.getLineContent(x))){j=Q;break}return{indentation:N.getLeadingWhitespace(A.getLineContent(j+1)),action:null,line:j+1}}else if(T.shouldDecrease(H))return{indentation:N.getLeadingWhitespace(H),action:null,line:x}}return{indentation:N.getLeadingWhitespace(A.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(k,A,F,B,T){if(k<4)return null;const R=this.getLanguageConfiguration(F);if(!R)return null;const O=this.getIndentRulesSupport(F);if(!O)return null;const P=this.getInheritIndentForLine(k,A,B),D=A.getLineContent(B);if(P){const x=P.line;if(x!==void 0){const H=R.onEnter(k,"",A.getLineContent(x),"");if(H){let j=N.getLeadingWhitespace(A.getLineContent(x));return H.removeText&&(j=j.substring(0,j.length-H.removeText)),H.indentAction===S.IndentAction.Indent||H.indentAction===S.IndentAction.IndentOutdent?j=T.shiftIndent(j):H.indentAction===S.IndentAction.Outdent&&(j=T.unshiftIndent(j)),O.shouldDecrease(D)&&(j=T.unshiftIndent(j)),H.appendText&&(j+=H.appendText),N.getLeadingWhitespace(j)}}return O.shouldDecrease(D)?P.action===S.IndentAction.Indent?P.indentation:T.unshiftIndent(P.indentation):P.action===S.IndentAction.Indent?T.shiftIndent(P.indentation):P.indentation}return null}getIndentForEnter(k,A,F,B){if(k<4)return null;A.forceTokenization(F.startLineNumber);const T=A.getLineTokens(F.startLineNumber),R=(0,b.createScopedLineTokens)(T,F.startColumn-1),O=R.getLineContent();let P=!1,D;R.firstCharOffset>0&&T.getLanguageId(0)!==R.languageId?(P=!0,D=O.substr(0,F.startColumn-1-R.firstCharOffset)):D=T.getLineContent().substring(0,F.startColumn-1);let x;F.isEmpty()?x=O.substr(F.startColumn-1-R.firstCharOffset):x=this.getScopedLineTokens(A,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-R.firstCharOffset);const H=this.getIndentRulesSupport(R.languageId);if(!H)return null;const j=D,Q=N.getLeadingWhitespace(D),G={getLineTokens:U=>A.getLineTokens(U),getLanguageId:()=>A.getLanguageId(),getLanguageIdAtPosition:(U,W)=>A.getLanguageIdAtPosition(U,W),getLineContent:U=>U===F.startLineNumber?j:A.getLineContent(U)},se=N.getLeadingWhitespace(T.getLineContent()),ne=this.getInheritIndentForLine(k,G,F.startLineNumber+1);if(!ne){const U=P?se:Q;return{beforeEnter:U,afterEnter:U}}let Z=P?se:ne.indentation;return ne.action===S.IndentAction.Indent&&(Z=B.shiftIndent(Z)),H.shouldDecrease(x)&&(Z=B.unshiftIndent(Z)),{beforeEnter:P?se:Q,afterEnter:Z}}getIndentActionForType(k,A,F,B,T){if(k<4)return null;const R=this.getScopedLineTokens(A,F.startLineNumber,F.startColumn);if(R.firstCharOffset)return null;const O=this.getIndentRulesSupport(R.languageId);if(!O)return null;const P=R.getLineContent(),D=P.substr(0,F.startColumn-1-R.firstCharOffset);let x;if(F.isEmpty()?x=P.substr(F.startColumn-1-R.firstCharOffset):x=this.getScopedLineTokens(A,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-R.firstCharOffset),!O.shouldDecrease(D+x)&&O.shouldDecrease(D+B+x)){const H=this.getInheritIndentForLine(k,A,F.startLineNumber,!1);if(!H)return null;let j=H.indentation;return H.action!==S.IndentAction.Indent&&(j=T.unshiftIndent(j)),j}return null}getIndentMetadata(k,A){const F=this.getIndentRulesSupport(k.getLanguageId());return!F||A<1||A>k.getLineCount()?null:F.getIndentMetadata(k.getLineContent(A))}getEnterAction(k,A,F){const B=this.getScopedLineTokens(A,F.startLineNumber,F.startColumn),T=this.getLanguageConfiguration(B.languageId);if(!T)return null;const R=B.getLineContent(),O=R.substr(0,F.startColumn-1-B.firstCharOffset);let P;F.isEmpty()?P=R.substr(F.startColumn-1-B.firstCharOffset):P=this.getScopedLineTokens(A,F.endLineNumber,F.endColumn).getLineContent().substr(F.endColumn-1-B.firstCharOffset);let D="";if(F.startLineNumber>1&&B.firstCharOffset===0){const se=this.getScopedLineTokens(A,F.startLineNumber-1);se.languageId===B.languageId&&(D=se.getLineContent())}const x=T.onEnter(k,D,O,P);if(!x)return null;const H=x.indentAction;let j=x.appendText;const Q=x.removeText||0;j?H===S.IndentAction.Indent&&(j="	"+j):H===S.IndentAction.Indent||H===S.IndentAction.IndentOutdent?j="	":j="";let G=this.getIndentationAtPosition(A,F.startLineNumber,F.startColumn);return Q&&(G=G.substring(0,G.length-Q)),{indentAction:H,appendText:j,removeText:Q,indentation:G}}getIndentationAtPosition(k,A,F){const B=k.getLineContent(A);let T=N.getLeadingWhitespace(B);return T.length>F-1&&(T=T.substring(0,F-1)),T}getScopedLineTokens(k,A,F){k.forceTokenization(A);const B=k.getLineTokens(A),T=typeof F=="undefined"?k.getLineMaxColumn(A)-1:F-1;return(0,b.createScopedLineTokens)(B,T)}}e.LanguageConfigurationRegistryImpl=v,e.LanguageConfigurationRegistry=new v;class p{constructor(k){this.languageId=k,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(k,A){const F=new L(k,A,++this._order);return this._entries.push(F),this._resolved=null,(0,m.toDisposable)(()=>{for(let B=0;B<this._entries.length;B++)if(this._entries[B]===F){this._entries.splice(B,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const k=this._resolve();k&&(this._resolved=new E(this.languageId,k))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(L.cmp),_(this._entries.map(k=>k.configuration)))}}function _(M){let k={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const A of M)k={comments:A.comments||k.comments,brackets:A.brackets||k.brackets,wordPattern:A.wordPattern||k.wordPattern,indentationRules:A.indentationRules||k.indentationRules,onEnterRules:A.onEnterRules||k.onEnterRules,autoClosingPairs:A.autoClosingPairs||k.autoClosingPairs,surroundingPairs:A.surroundingPairs||k.surroundingPairs,autoCloseBefore:A.autoCloseBefore||k.autoCloseBefore,folding:A.folding||k.folding,colorizedBracketPairs:A.colorizedBracketPairs||k.colorizedBracketPairs,__electricCharacterSupport:A.__electricCharacterSupport||k.__electricCharacterSupport};return k}class L{constructor(k,A,F){this.configuration=k,this.priority=A,this.order=F}static cmp(k,A){return k.priority===A.priority?k.order-A.order:k.priority-A.priority}}class E{constructor(k,A){this.languageId=k,this.underlyingConfig=A,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new t.OnEnterSupport(this.underlyingConfig):null,this.comments=E._handleComments(this.underlyingConfig),this.characterPair=new C.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||I.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new g.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,I.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new i.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new h.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(k,A,F,B){return this._onEnterSupport?this._onEnterSupport.onEnter(k,A,F,B):null}getAutoClosingPairs(){return new S.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(k){const A=k.comments;if(!A)return null;const F={};if(A.lineComment&&(F.lineCommentToken=A.lineComment),A.blockComment){const[B,T]=A.blockComment;F.blockCommentStartToken=B,F.blockCommentEndToken=T}return F}}e.ResolvedLanguageConfiguration=E,(0,c.registerSingleton)(e.ILanguageConfigurationService,a)}),define(ee[596],te([0,1,8,61,11,3,22,35,247]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class h{constructor(t,i,n,o,d,c,s){this.languageConfigurationService=t,this._selection=i,this._tabSize=n,this._type=o,this._insertSpace=d,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=c,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(t,i,n,o){t.tokenizeIfCheap(i);const d=t.getLanguageIdAtPosition(i,1),c=o.getLanguageConfiguration(d).comments,s=c?c.lineCommentToken:null;if(!s)return null;let a=[];for(let r=0,l=n-i+1;r<l;r++)a[r]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return a}static _analyzeLines(t,i,n,o,d,c,s,a){let r=!0,l;t===0?l=!0:t===1?l=!1:l=!0;for(let u=0,f=o.length;u<f;u++){const w=o[u],v=d+u;if(v===d&&s){w.ignore=!0;continue}const p=n.getLineContent(v),_=y.firstNonWhitespaceIndex(p);if(_===-1){w.ignore=c,w.commentStrOffset=p.length;continue}if(r=!1,w.ignore=!1,w.commentStrOffset=_,l&&!C.BlockCommentCommand._haystackHasNeedleAtOffset(p,w.commentStr,_)&&(t===0?l=!1:t===1||(w.ignore=!0)),l&&i){const L=_+w.commentStrLength;L<p.length&&p.charCodeAt(L)===32&&(w.commentStrLength+=1)}}if(t===0&&r){l=!1;for(let u=0,f=o.length;u<f;u++)o[u].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:o}}static _gatherPreflightData(t,i,n,o,d,c,s,a){const r=h._gatherPreflightCommentStrings(n,o,d,a);return r===null?{supported:!1}:h._analyzeLines(t,i,n,r,o,c,s,a)}_executeLineComments(t,i,n,o){let d;n.shouldRemoveComments?d=h._createRemoveLineCommentsOperations(n.lines,o.startLineNumber):(h._normalizeInsertionPoint(t,n.lines,o.startLineNumber,this._tabSize),d=this._createAddLineCommentsOperations(n.lines,o.startLineNumber));const c=new N.Position(o.positionLineNumber,o.positionColumn);for(let s=0,a=d.length;s<a;s++)i.addEditOperation(d[s].range,d[s].text),I.Range.isEmpty(d[s].range)&&I.Range.getStartPosition(d[s].range).equals(c)&&t.getLineContent(c.lineNumber).length+1===c.column&&(this._deltaColumn=(d[s].text||"").length);this._selectionId=i.trackSelection(o)}_attemptRemoveBlockComment(t,i,n,o){let d=i.startLineNumber,c=i.endLineNumber,s=o.length+Math.max(t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn),a=t.getLineContent(d).lastIndexOf(n,s-1),r=t.getLineContent(c).indexOf(o,i.endColumn-1-n.length);return a!==-1&&r===-1&&(r=t.getLineContent(d).indexOf(o,a+n.length),c=d),a===-1&&r!==-1&&(a=t.getLineContent(c).lastIndexOf(n,r),d=c),i.isEmpty()&&(a===-1||r===-1)&&(a=t.getLineContent(d).indexOf(n),a!==-1&&(r=t.getLineContent(d).indexOf(o,a+n.length))),a!==-1&&t.getLineContent(d).charCodeAt(a+n.length)===32&&(n+=" "),r!==-1&&t.getLineContent(c).charCodeAt(r-1)===32&&(o=" "+o,r-=1),a!==-1&&r!==-1?C.BlockCommentCommand._createRemoveBlockCommentOperations(new I.Range(d,a+n.length+1,c,r+1),n,o):null}_executeBlockComment(t,i,n){t.tokenizeIfCheap(n.startLineNumber);let o=t.getLanguageIdAtPosition(n.startLineNumber,1),d=b.LanguageConfigurationRegistry.getComments(o);if(!d||!d.blockCommentStartToken||!d.blockCommentEndToken)return;const c=d.blockCommentStartToken,s=d.blockCommentEndToken;let a=this._attemptRemoveBlockComment(t,n,c,s);if(!a){if(n.isEmpty()){const r=t.getLineContent(n.startLineNumber);let l=y.firstNonWhitespaceIndex(r);l===-1&&(l=r.length),a=C.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(n.startLineNumber,l+1,n.startLineNumber,r.length+1),c,s,this._insertSpace)}else a=C.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(n.startLineNumber,t.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),c,s,this._insertSpace);a.length===1&&(this._deltaColumn=c.length+1)}this._selectionId=i.trackSelection(n);for(const r of a)i.addEditOperation(r.range,r.text)}getEditOperations(t,i){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){i.addEditOperation(new I.Range(n.startLineNumber,t.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===t.getLineCount()?"":`
`),this._selectionId=i.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,t.getLineMaxColumn(n.endLineNumber-1)));const o=h._gatherPreflightData(this._type,this._insertSpace,t,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(t,i,o,n):this._executeBlockComment(t,i,n)}computeCursorState(t,i){let n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new S.Selection(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(t,i){let n=[];for(let o=0,d=t.length;o<d;o++){const c=t[o];c.ignore||n.push(m.EditOperation.delete(new I.Range(i+o,c.commentStrOffset+1,i+o,c.commentStrOffset+c.commentStrLength+1)))}return n}_createAddLineCommentsOperations(t,i){let n=[];const o=this._insertSpace?" ":"";for(let d=0,c=t.length;d<c;d++){const s=t[d];s.ignore||n.push(m.EditOperation.insert(new N.Position(i+d,s.commentStrOffset+1),s.commentStr+o))}return n}static nextVisibleColumn(t,i,n,o){return n?t+(i-t%i):t+o}static _normalizeInsertionPoint(t,i,n,o){let d=1073741824,c,s;for(let a=0,r=i.length;a<r;a++){if(i[a].ignore)continue;const l=t.getLineContent(n+a);let u=0;for(let f=0,w=i[a].commentStrOffset;u<d&&f<w;f++)u=h.nextVisibleColumn(u,o,l.charCodeAt(f)===9,1);u<d&&(d=u)}d=Math.floor(d/o)*o;for(let a=0,r=i.length;a<r;a++){if(i[a].ignore)continue;const l=t.getLineContent(n+a);let u=0;for(c=0,s=i[a].commentStrOffset;u<d&&c<s;c++)u=h.nextVisibleColumn(u,o,l.charCodeAt(c)===9,1);u>d?i[a].commentStrOffset=c-1:i[a].commentStrOffset=c}}}e.LineCommentCommand=h}),define(ee[16],te([0,1,17,8,9]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;const I=new Map;I.set("false",!1),I.set("true",!0),I.set("isMac",y.isMacintosh),I.set("isLinux",y.isLinux),I.set("isWindows",y.isWindows),I.set("isWeb",y.isWeb),I.set("isMacNative",y.isMacintosh&&!y.isWeb),I.set("isEdge",y.isEdge),I.set("isFirefox",y.isFirefox),I.set("isChrome",y.isChrome),I.set("isSafari",y.isSafari);const S=Object.prototype.hasOwnProperty;class b{static has(T){return i.create(T)}static equals(T,R){return n.create(T,R)}static regex(T,R){return w.create(T,R)}static not(T){return s.create(T)}static and(...T){return _.create(T,null)}static or(...T){return L.create(T,null,!0)}static deserialize(T,R=!1){if(!!T)return this._deserializeOrExpression(T,R)}static _deserializeOrExpression(T,R){let O=T.split("||");return L.create(O.map(P=>this._deserializeAndExpression(P,R)),null,!0)}static _deserializeAndExpression(T,R){let O=T.split("&&");return _.create(O.map(P=>this._deserializeOne(P,R)),null)}static _deserializeOne(T,R){if(T=T.trim(),T.indexOf("!=")>=0){let O=T.split("!=");return c.create(O[0].trim(),this._deserializeValue(O[1],R))}if(T.indexOf("==")>=0){let O=T.split("==");return n.create(O[0].trim(),this._deserializeValue(O[1],R))}if(T.indexOf("=~")>=0){let O=T.split("=~");return w.create(O[0].trim(),this._deserializeRegexValue(O[1],R))}if(T.indexOf(" in ")>=0){let O=T.split(" in ");return o.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(T)){const O=T.split(">=");return l.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(T)){const O=T.split(">");return r.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(T)){const O=T.split("<=");return f.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(T)){const O=T.split("<");return u.create(O[0].trim(),O[1].trim())}return/^\!\s*/.test(T)?s.create(T.substr(1).trim()):i.create(T)}static _deserializeValue(T,R){if(T=T.trim(),T==="true")return!0;if(T==="false")return!1;let O=/^'([^']*)'$/.exec(T);return O?O[1].trim():T}static _deserializeRegexValue(T,R){if((0,m.isFalsyOrWhitespace)(T)){if(R)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let O=T.indexOf("/"),P=T.lastIndexOf("/");if(O===P||O<0){if(R)throw new Error(`bad regexp-value '${T}', missing /-enclosure`);return console.warn(`bad regexp-value '${T}', missing /-enclosure`),null}let D=T.slice(O+1,P),x=T[P+1]==="i"?"i":"";try{return new RegExp(D,x)}catch(H){if(R)throw new Error(`bad regexp-value '${T}', parse error: ${H}`);return console.warn(`bad regexp-value '${T}', parse error: ${H}`),null}}}e.ContextKeyExpr=b;function C(B,T){const R=B?B.substituteConstants():void 0,O=T?T.substituteConstants():void 0;return!R&&!O?!0:!R||!O?!1:R.equals(O)}e.expressionsAreEqualWithConstantSubstitution=C;function h(B,T){return B.cmp(T)}class g{constructor(){this.type=0}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!1}serialize(){return"false"}keys(){return[]}negate(){return t.INSTANCE}}e.ContextKeyFalseExpr=g,g.INSTANCE=new g;class t{constructor(){this.type=1}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!0}serialize(){return"true"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyTrueExpr=t,t.INSTANCE=new t;class i{constructor(T,R){this.key=T,this.negated=R,this.type=2}static create(T,R=null){const O=I.get(T);return typeof O=="boolean"?O?t.INSTANCE:g.INSTANCE:new i(T,R)}cmp(T){return T.type!==this.type?this.type-T.type:M(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=I.get(this.key);return typeof T=="boolean"?T?t.INSTANCE:g.INSTANCE:this}evaluate(T){return!!T.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=s.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=i;class n{constructor(T,R,O){this.key=T,this.value=R,this.negated=O,this.type=4}static create(T,R,O=null){if(typeof R=="boolean")return R?i.create(T,O):s.create(T,O);const P=I.get(T);return typeof P=="boolean"?R===(P?"true":"false")?t.INSTANCE:g.INSTANCE:new n(T,R,O)}cmp(T){return T.type!==this.type?this.type-T.type:k(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){const T=I.get(this.key);if(typeof T=="boolean"){const R=T?"true":"false";return this.value===R?t.INSTANCE:g.INSTANCE}return this}evaluate(T){return T.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=n;class o{constructor(T,R){this.key=T,this.valueKey=R,this.type=10,this.negated=null}static create(T,R){return new o(T,R)}cmp(T){return T.type!==this.type?this.type-T.type:k(this.key,this.valueKey,T.key,T.valueKey)}equals(T){return T.type===this.type?this.key===T.key&&this.valueKey===T.valueKey:!1}substituteConstants(){return this}evaluate(T){const R=T.getValue(this.valueKey),O=T.getValue(this.key);return Array.isArray(R)?R.indexOf(O)>=0:typeof O=="string"&&typeof R=="object"&&R!==null?S.call(R,O):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=d.create(this)),this.negated}}e.ContextKeyInExpr=o;class d{constructor(T){this._actual=T,this.type=11}static create(T){return new d(T)}cmp(T){return T.type!==this.type?this.type-T.type:this._actual.cmp(T._actual)}equals(T){return T.type===this.type?this._actual.equals(T._actual):!1}substituteConstants(){return this}evaluate(T){return!this._actual.evaluate(T)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class c{constructor(T,R,O){this.key=T,this.value=R,this.negated=O,this.type=5}static create(T,R,O=null){if(typeof R=="boolean")return R?s.create(T,O):i.create(T,O);const P=I.get(T);return typeof P=="boolean"?R===(P?"true":"false")?g.INSTANCE:t.INSTANCE:new c(T,R,O)}cmp(T){return T.type!==this.type?this.type-T.type:k(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){const T=I.get(this.key);if(typeof T=="boolean"){const R=T?"true":"false";return this.value===R?g.INSTANCE:t.INSTANCE}return this}evaluate(T){return T.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=c;class s{constructor(T,R){this.key=T,this.negated=R,this.type=3}static create(T,R=null){const O=I.get(T);return typeof O=="boolean"?O?g.INSTANCE:t.INSTANCE:new s(T,R)}cmp(T){return T.type!==this.type?this.type-T.type:M(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=I.get(this.key);return typeof T=="boolean"?T?g.INSTANCE:t.INSTANCE:this}evaluate(T){return!T.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=i.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=s;function a(B,T){if(typeof B=="string"){const R=parseFloat(B);isNaN(R)||(B=R)}return typeof B=="string"||typeof B=="number"?T(B):g.INSTANCE}class r{constructor(T,R,O){this.key=T,this.value=R,this.negated=O,this.type=12}static create(T,R,O=null){return a(R,P=>new r(T,P,O))}cmp(T){return T.type!==this.type?this.type-T.type:k(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=r;class l{constructor(T,R,O){this.key=T,this.value=R,this.negated=O,this.type=13}static create(T,R,O=null){return a(R,P=>new l(T,P,O))}cmp(T){return T.type!==this.type?this.type-T.type:k(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=l;class u{constructor(T,R,O){this.key=T,this.value=R,this.negated=O,this.type=14}static create(T,R,O=null){return a(R,P=>new u(T,P,O))}cmp(T){return T.type!==this.type?this.type-T.type:k(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=u;class f{constructor(T,R,O){this.key=T,this.value=R,this.negated=O,this.type=15}static create(T,R,O=null){return a(R,P=>new f(T,P,O))}cmp(T){return T.type!==this.type?this.type-T.type:k(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=f;class w{constructor(T,R){this.key=T,this.regexp=R,this.type=7,this.negated=null}static create(T,R){return new w(T,R)}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.key<T.key)return-1;if(this.key>T.key)return 1;const R=this.regexp?this.regexp.source:"",O=T.regexp?T.regexp.source:"";return R<O?-1:R>O?1:0}equals(T){if(T.type===this.type){const R=this.regexp?this.regexp.source:"",O=T.regexp?T.regexp.source:"";return this.key===T.key&&R===O}return!1}substituteConstants(){return this}evaluate(T){let R=T.getValue(this.key);return this.regexp?this.regexp.test(R):!1}serialize(){const T=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${T}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this)),this.negated}}e.ContextKeyRegexExpr=w;class v{constructor(T){this._actual=T,this.type=8}static create(T){return new v(T)}cmp(T){return T.type!==this.type?this.type-T.type:this._actual.cmp(T._actual)}equals(T){return T.type===this.type?this._actual.equals(T._actual):!1}substituteConstants(){return this}evaluate(T){return!this._actual.evaluate(T)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=v;function p(B){let T=null;for(let R=0,O=B.length;R<O;R++){const P=B[R].substituteConstants();if(B[R]!==P&&T===null){T=[];for(let D=0;D<R;D++)T[D]=B[D]}T!==null&&(T[R]=P)}return T===null?B:T}class _{constructor(T,R){this.expr=T,this.negated=R,this.type=6}static create(T,R){return _._normalizeArr(T,R)}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let R=0,O=this.expr.length;R<O;R++){const P=h(this.expr[R],T.expr[R]);if(P!==0)return P}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let R=0,O=this.expr.length;R<O;R++)if(!this.expr[R].equals(T.expr[R]))return!1;return!0}return!1}substituteConstants(){const T=p(this.expr);return T===this.expr?this:_.create(T,this.negated)}evaluate(T){for(let R=0,O=this.expr.length;R<O;R++)if(!this.expr[R].evaluate(T))return!1;return!0}static _normalizeArr(T,R){const O=[];let P=!1;for(const D of T)if(!!D){if(D.type===1){P=!0;continue}if(D.type===0)return g.INSTANCE;if(D.type===6){O.push(...D.expr);continue}O.push(D)}if(O.length===0&&P)return t.INSTANCE;if(O.length!==0){if(O.length===1)return O[0];O.sort(h);for(let D=1;D<O.length;D++)O[D-1].equals(O[D])&&(O.splice(D,1),D--);if(O.length===1)return O[0];for(;O.length>1;){const D=O[O.length-1];if(D.type!==9)break;O.pop();const x=O.pop(),H=O.length===0,j=L.create(D.expr.map(Q=>_.create([Q,x],null)),null,H);j&&(O.push(j),O.sort(h))}return O.length===1?O[0]:new _(O,R)}}serialize(){return this.expr.map(T=>T.serialize()).join(" && ")}keys(){const T=[];for(let R of this.expr)T.push(...R.keys());return T}negate(){if(!this.negated){const T=[];for(let R of this.expr)T.push(R.negate());this.negated=L.create(T,this,!0)}return this.negated}}class L{constructor(T,R){this.expr=T,this.negated=R,this.type=9}static create(T,R,O){return L._normalizeArr(T,R,O)}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let R=0,O=this.expr.length;R<O;R++){const P=h(this.expr[R],T.expr[R]);if(P!==0)return P}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let R=0,O=this.expr.length;R<O;R++)if(!this.expr[R].equals(T.expr[R]))return!1;return!0}return!1}substituteConstants(){const T=p(this.expr);return T===this.expr?this:L.create(T,this.negated,!1)}evaluate(T){for(let R=0,O=this.expr.length;R<O;R++)if(this.expr[R].evaluate(T))return!0;return!1}static _normalizeArr(T,R,O){let P=[],D=!1;if(T){for(let x=0,H=T.length;x<H;x++){const j=T[x];if(!!j){if(j.type===0){D=!0;continue}if(j.type===1)return t.INSTANCE;if(j.type===9){P=P.concat(j.expr);continue}P.push(j)}}if(P.length===0&&D)return g.INSTANCE;P.sort(h)}if(P.length!==0){if(P.length===1)return P[0];for(let x=1;x<P.length;x++)P[x-1].equals(P[x])&&(P.splice(x,1),x--);if(P.length===1)return P[0];if(O){for(let x=0;x<P.length;x++)for(let H=x+1;H<P.length;H++)A(P[x],P[H])&&(P.splice(H,1),H--);if(P.length===1)return P[0]}return new L(P,R)}}serialize(){return this.expr.map(T=>T.serialize()).join(" || ")}keys(){const T=[];for(let R of this.expr)T.push(...R.keys());return T}negate(){if(!this.negated){let T=[];for(let R of this.expr)T.push(R.negate());for(;T.length>1;){const R=T.shift(),O=T.shift(),P=[];for(const x of F(R))for(const H of F(O))P.push(_.create([x,H],null));const D=T.length===0;T.unshift(L.create(P,null,D))}this.negated=T[0]}return this.negated}}class E extends i{constructor(T,R,O){super(T,null);this._defaultValue=R,typeof O=="object"?E._info.push(Object.assign(Object.assign({},O),{key:T})):O!==!0&&E._info.push({key:T,description:O,type:R!=null?typeof R:void 0})}static all(){return E._info.values()}bindTo(T){return T.createKey(this.key,this._defaultValue)}getValue(T){return T.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(T){return n.create(this.key,T)}}e.RawContextKey=E,E._info=[],e.IContextKeyService=(0,N.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function M(B,T){return B<T?-1:B>T?1:0}function k(B,T,R,O){return B<R?-1:B>R?1:T<O?-1:T>O?1:0}function A(B,T){if(T.type===6&&B.type!==9&&B.type!==6){for(const P of T.expr)if(B.equals(P))return!0}const R=B.negate(),O=F(R).concat(F(T));O.sort(h);for(let P=0;P<O.length;P++){const x=O[P].negate();for(let H=P+1;H<O.length;H++){const j=O[H];if(x.equals(j))return!0}}return!1}e.implies=A;function F(B){return B.type===9?B.expr:[B]}}),define(ee[24],te([0,1,498,16]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var N;(function(I){I.editorSimpleInput=new m.RawContextKey("editorSimpleInput",!1,!0),I.editorTextFocus=new m.RawContextKey("editorTextFocus",!1,y.localize(0,null)),I.focus=new m.RawContextKey("editorFocus",!1,y.localize(1,null)),I.textInputFocus=new m.RawContextKey("textInputFocus",!1,y.localize(2,null)),I.readOnly=new m.RawContextKey("editorReadonly",!1,y.localize(3,null)),I.inDiffEditor=new m.RawContextKey("inDiffEditor",!1,y.localize(4,null)),I.columnSelection=new m.RawContextKey("editorColumnSelection",!1,y.localize(5,null)),I.writable=I.readOnly.toNegated(),I.hasNonEmptySelection=new m.RawContextKey("editorHasSelection",!1,y.localize(6,null)),I.hasOnlyEmptySelection=I.hasNonEmptySelection.toNegated(),I.hasMultipleSelections=new m.RawContextKey("editorHasMultipleSelections",!1,y.localize(7,null)),I.hasSingleSelection=I.hasMultipleSelections.toNegated(),I.tabMovesFocus=new m.RawContextKey("editorTabMovesFocus",!1,y.localize(8,null)),I.tabDoesNotMoveFocus=I.tabMovesFocus.toNegated(),I.isInWalkThroughSnippet=new m.RawContextKey("isInEmbeddedEditor",!1,!0),I.canUndo=new m.RawContextKey("canUndo",!1,!0),I.canRedo=new m.RawContextKey("canRedo",!1,!0),I.hoverVisible=new m.RawContextKey("editorHoverVisible",!1,y.localize(9,null)),I.inCompositeEditor=new m.RawContextKey("inCompositeEditor",void 0,y.localize(10,null)),I.notInCompositeEditor=I.inCompositeEditor.toNegated(),I.languageId=new m.RawContextKey("editorLangId","",y.localize(11,null)),I.hasCompletionItemProvider=new m.RawContextKey("editorHasCompletionItemProvider",!1,y.localize(12,null)),I.hasCodeActionsProvider=new m.RawContextKey("editorHasCodeActionsProvider",!1,y.localize(13,null)),I.hasCodeLensProvider=new m.RawContextKey("editorHasCodeLensProvider",!1,y.localize(14,null)),I.hasDefinitionProvider=new m.RawContextKey("editorHasDefinitionProvider",!1,y.localize(15,null)),I.hasDeclarationProvider=new m.RawContextKey("editorHasDeclarationProvider",!1,y.localize(16,null)),I.hasImplementationProvider=new m.RawContextKey("editorHasImplementationProvider",!1,y.localize(17,null)),I.hasTypeDefinitionProvider=new m.RawContextKey("editorHasTypeDefinitionProvider",!1,y.localize(18,null)),I.hasHoverProvider=new m.RawContextKey("editorHasHoverProvider",!1,y.localize(19,null)),I.hasDocumentHighlightProvider=new m.RawContextKey("editorHasDocumentHighlightProvider",!1,y.localize(20,null)),I.hasDocumentSymbolProvider=new m.RawContextKey("editorHasDocumentSymbolProvider",!1,y.localize(21,null)),I.hasReferenceProvider=new m.RawContextKey("editorHasReferenceProvider",!1,y.localize(22,null)),I.hasRenameProvider=new m.RawContextKey("editorHasRenameProvider",!1,y.localize(23,null)),I.hasSignatureHelpProvider=new m.RawContextKey("editorHasSignatureHelpProvider",!1,y.localize(24,null)),I.hasInlayHintsProvider=new m.RawContextKey("editorHasInlayHintsProvider",!1,y.localize(25,null)),I.hasDocumentFormattingProvider=new m.RawContextKey("editorHasDocumentFormattingProvider",!1,y.localize(26,null)),I.hasDocumentSelectionFormattingProvider=new m.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,y.localize(27,null)),I.hasMultipleDocumentFormattingProvider=new m.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,y.localize(28,null)),I.hasMultipleDocumentSelectionFormattingProvider=new m.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,y.localize(29,null))})(N=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(ee[194],te([0,1,21,14,20,25,11,18,59,26,16]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new g.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new g.RawContextKey("parameterHintsMultipleSignatures",!1)};function t(i,n,o,d){return De(this,void 0,void 0,function*(){const c=b.SignatureHelpProviderRegistry.ordered(i);for(const s of c)try{const a=yield s.provideSignatureHelp(i,n,d,o);if(a)return a}catch(a){(0,m.onUnexpectedExternalError)(a)}})}e.provideSignatureHelp=t,h.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(i,...n)=>De(void 0,void 0,void 0,function*(){const[o,d,c]=n;(0,N.assertType)(I.URI.isUri(o)),(0,N.assertType)(S.Position.isIPosition(d)),(0,N.assertType)(typeof c=="string"||!c);const s=yield i.get(C.ITextModelService).createModelReference(o);try{const a=yield t(s.object.textEditorModel,S.Position.lift(d),{triggerKind:b.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:c},y.CancellationToken.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{s.dispose()}}))}),define(ee[597],te([0,1,10,14,4,2,96,18,194]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var h;(function(i){i.Default={type:0};class n{constructor(c,s){this.request=c,this.previouslyActiveHints=s,this.type=2}}i.Pending=n;class o{constructor(c){this.hints=c,this.type=1}}i.Active=o})(h||(h={}));class g extends I.Disposable{constructor(n,o=g.DEFAULT_DELAY){super();this._onChangedHints=this._register(new N.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=h.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new I.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=n,this.throttledDelayer=new y.Delayer(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(b.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(n){this._state.type===2&&this._state.request.cancel(),this._state=n}cancel(n=!1){this.state=h.Default,this.throttledDelayer.cancel(),n||this._onChangedHints.fire(void 0)}trigger(n,o){const d=this.editor.getModel();if(!d||!b.SignatureHelpProviderRegistry.has(d))return;const c=++this.triggerId;this._pendingTriggers.push(n),this.throttledDelayer.trigger(()=>this.doTrigger(c),o).catch(m.onUnexpectedError)}next(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,o=this.state.hints.activeSignature,d=o%n==n-1,c=this.editor.getOption(76).cycle;if((n<2||d)&&!c){this.cancel();return}this.updateActiveSignature(d&&c?0:o+1)}previous(){if(this.state.type!==1)return;const n=this.state.hints.signatures.length,o=this.state.hints.activeSignature,d=o===0,c=this.editor.getOption(76).cycle;if((n<2||d)&&!c){this.cancel();return}this.updateActiveSignature(d&&c?n-1:o-1)}updateActiveSignature(n){this.state.type===1&&(this.state=new h.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:n})),this._onChangedHints.fire(this.state.hints))}doTrigger(n){return De(this,void 0,void 0,function*(){const o=this.state.type===1||this.state.type===2,d=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const c=this._pendingTriggers.reduce(t);this._pendingTriggers=[];const s={triggerKind:c.triggerKind,triggerCharacter:c.triggerCharacter,isRetrigger:o,activeSignatureHelp:d};if(!this.editor.hasModel())return!1;const a=this.editor.getModel(),r=this.editor.getPosition();this.state=new h.Pending((0,y.createCancelablePromise)(l=>(0,C.provideSignatureHelp)(a,r,s,l)),d);try{const l=yield this.state.request;return n!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new h.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return n===this.triggerId&&(this.state=h.Default),(0,m.onUnexpectedError)(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const n=this.editor.getModel();if(!!n)for(const o of b.SignatureHelpProviderRegistry.ordered(n)){for(const d of o.signatureHelpTriggerCharacters||[])this.triggerChars.add(d.charCodeAt(0)),this.retriggerChars.add(d.charCodeAt(0));for(const d of o.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(d.charCodeAt(0))}}onDidType(n){if(!this.triggerOnType)return;const o=n.length-1,d=n.charCodeAt(o);(this.triggerChars.has(d)||this.isTriggered&&this.retriggerChars.has(d))&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:n.charAt(o)})}onCursorChange(n){n.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=g,g.DEFAULT_DELAY=120;function t(i,n){switch(n.triggerKind){case b.SignatureHelpTriggerKind.Invoke:return n;case b.SignatureHelpTriggerKind.ContentChange:return i;case b.SignatureHelpTriggerKind.TriggerCharacter:default:return n}}}),define(ee[598],te([0,1,16]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let m=class Pt{constructor(I,S){this._editor=I,this._index=0,this._ckOtherSuggestions=Pt.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var I;this._ckOtherSuggestions.reset(),(I=this._listener)===null||I===void 0||I.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:I,index:S},b){if(I.items.length===0){this.reset();return}if(Pt._moveIndex(!0,I,S)===S){this.reset();return}this._acceptNext=b,this._model=I,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(I,S,b){let C=b;for(;C=(C+S.items.length+(I?1:-1))%S.items.length,!(C===b||!S.items[C].completion.additionalTextEdits););return C}next(){this._move(!0)}prev(){this._move(!1)}_move(I){if(!!this._model)try{this._ignore=!0,this._index=Pt._moveIndex(I,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};m.OtherSuggestions=new y.RawContextKey("hasOtherSuggestions",!1),m=Be([me(1,y.IContextKeyService)],m),e.SuggestAlternatives=m}),define(ee[599],te([0,1,16]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let m=class bi{constructor(I,S){this._editor=I,this._enabled=!1,this._ckAtEnd=bi.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(b=>b.hasChanged(111)&&this._update()),this._update()}dispose(){var I;this._configListener.dispose(),(I=this._selectionListener)===null||I===void 0||I.dispose(),this._ckAtEnd.reset()}_update(){const I=this._editor.getOption(111)==="on";if(this._enabled!==I)if(this._enabled=I,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const b=this._editor.getModel(),C=this._editor.getSelection(),h=b.getWordAtPosition(C.getStartPosition());if(!h){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(h.endColumn===C.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};m.AtEnd=new y.RawContextKey("atEndOfWord",!1),m=Be([me(1,y.IContextKeyService)],m),e.WordContextKey=m}),define(ee[63],te([0,1,16,9]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,m.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new y.RawContextKey("accessibilityModeEnabled",!1)}),define(ee[600],te([0,1,33,19,4,2,38,17,228,258,393,229,30,142,172,63]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let c=class extends I.Disposable{constructor(v,p,_,L){super();this._accessibilityService=L,this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new N.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new i.ComputeOptionsMemory,this.isSimpleWidget=v,this._containerObserver=this._register(new C.ElementSizeObserver(_,p.dimension)),this._rawOptions=f(p),this._validatedOptions=u.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(n.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(t.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(h.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(y.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const v=this._computeOptions(),p=u.checkEquals(this.options,v);p!==null&&(this.options=v,this._onDidChangeFast.fire(p),this._onDidChange.fire(p))}_computeOptions(){const v=this._readEnvConfiguration(),p=o.BareFontInfo.createFromValidatedSettings(this._validatedOptions,v.pixelRatio,this.isSimpleWidget),_=this._readFontInfo(p),L={memory:this._computeOptionsMemory,outerWidth:v.outerWidth,outerHeight:v.outerHeight-this._reservedHeight,fontInfo:_,extraEditorClassName:v.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:v.emptySelectionClipboard,pixelRatio:v.pixelRatio,tabFocusMode:t.TabFocus.getTabFocusMode(),accessibilitySupport:v.accessibilitySupport};return u.computeOptions(this._validatedOptions,L)}_readEnvConfiguration(){return{extraEditorClassName:a(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:y.isWebKit||y.isFirefox,pixelRatio:y.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(v){return h.FontMeasurements.readFontInfo(v)}getRawOptions(){return this._rawOptions}updateOptions(v){const p=f(v);!u.applyUpdate(this._rawOptions,p)||(this._validatedOptions=u.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(v){this._containerObserver.observe(v)}setIsDominatedByLongLines(v){this._isDominatedByLongLines!==v&&(this._isDominatedByLongLines=v,this._recomputeOptions())}setModelLineCount(v){const p=s(v);this._lineNumbersDigitCount!==p&&(this._lineNumbersDigitCount=p,this._recomputeOptions())}setViewLineCount(v){this._viewLineCount!==v&&(this._viewLineCount=v,this._recomputeOptions())}setReservedHeight(v){this._reservedHeight!==v&&(this._reservedHeight=v,this._recomputeOptions())}};c=Be([me(3,d.IAccessibilityService)],c),e.EditorConfiguration=c;function s(w){let v=0;for(;w;)w=Math.floor(w/10),v++;return v||1}function a(){let w="";return!y.isSafari&&!y.isWebkitWebView&&(w+="no-user-select "),y.isSafari&&(w+="no-minimap-shadow "),b.isMacintosh&&(w+="mac "),w}class r{constructor(){this._values=[]}_read(v){return this._values[v]}get(v){return this._values[v]}_write(v,p){this._values[v]=p}}class l{constructor(){this._values=[]}_read(v){if(v>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[v]}get(v){return this._read(v)}_write(v,p){this._values[v]=p}}e.ComputedEditorOptions=l;class u{static validateOptions(v){const p=new r;for(const _ of i.editorOptionsRegistry){const L=_.name==="_never_"?void 0:v[_.name];p._write(_.id,_.validate(L))}return p}static computeOptions(v,p){const _=new l;for(const L of i.editorOptionsRegistry)_._write(L.id,L.compute(p,_,v._read(L.id)));return _}static _deepEquals(v,p){if(typeof v!="object"||typeof p!="object"||!v||!p)return v===p;if(Array.isArray(v)||Array.isArray(p))return Array.isArray(v)&&Array.isArray(p)?m.equals(v,p):!1;if(Object.keys(v).length!==Object.keys(p).length)return!1;for(const _ in v)if(!u._deepEquals(v[_],p[_]))return!1;return!0}static checkEquals(v,p){const _=[];let L=!1;for(const E of i.editorOptionsRegistry){const M=!u._deepEquals(v._read(E.id),p._read(E.id));_[E.id]=M,M&&(L=!0)}return L?new i.ConfigurationChangedEvent(_):null}static applyUpdate(v,p){let _=!1;for(const L of i.editorOptionsRegistry)if(p.hasOwnProperty(L.name)){const E=L.applyUpdate(v[L.name],p[L.name]);v[L.name]=E.newValue,_=_||E.didChange}return _}}function f(w){const v=S.deepClone(w);return(0,g.migrateOptions)(v),v}}),define(ee[601],te([0,1,4,2,63,39,16]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let b=class extends m.Disposable{constructor(h,g){super();this._contextKeyService=h,this._configurationService=g,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new y.Emitter,this._accessibilityModeEnabledContext=N.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const t=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration("editor.accessibilitySupport")&&(t(),this._onDidChangeScreenReaderOptimized.fire())})),t(),this.onDidChangeScreenReaderOptimized(()=>t())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const h=this._configurationService.getValue("editor.accessibilitySupport");return h==="on"||h==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};b=Be([me(0,S.IContextKeyService),me(1,I.IConfigurationService)],b),e.AccessibilityService=b}),define(ee[602],te([0,1,4,55,2,48,569,26,39,16]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const g="data-keybinding-context";class t{constructor(w,v){this._id=w,this._parent=v,this._value=Object.create(null),this._value._contextId=w}setValue(w,v){return this._value[w]!==v?(this._value[w]=v,!0):!1}removeValue(w){return w in this._value?(delete this._value[w],!0):!1}getValue(w){const v=this._value[w];return typeof v=="undefined"&&this._parent?this._parent.getValue(w):v}}e.Context=t;class i extends t{constructor(){super(-1,null)}setValue(w,v){return!1}removeValue(w){return!1}getValue(w){}}i.INSTANCE=new i;class n extends t{constructor(w,v,p){super(w,null);this._configurationService=v,this._values=I.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(_=>{if(_.source===6){const L=Array.from(m.Iterable.map(this._values,([E])=>E));this._values.clear(),p.fire(new c(L))}else{const L=[];for(const E of _.affectedKeys){const M=`config.${E}`,k=this._values.findSuperstr(M);k!==void 0&&(L.push(...m.Iterable.map(k,([A])=>A)),this._values.deleteSuperstr(M)),this._values.has(M)&&(L.push(M),this._values.delete(M))}p.fire(new c(L))}})}dispose(){this._listener.dispose()}getValue(w){if(w.indexOf(n._keyPrefix)!==0)return super.getValue(w);if(this._values.has(w))return this._values.get(w);const v=w.substr(n._keyPrefix.length),p=this._configurationService.getValue(v);let _;switch(typeof p){case"number":case"boolean":case"string":_=p;break;default:Array.isArray(p)?_=JSON.stringify(p):_=p}return this._values.set(w,_),_}setValue(w,v){return super.setValue(w,v)}removeValue(w){return super.removeValue(w)}}n._keyPrefix="config.";class o{constructor(w,v,p){this._service=w,this._key=v,this._defaultValue=p,this.reset()}set(w){this._service.setContext(this._key,w)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class d{constructor(w){this.key=w}affectsSome(w){return w.has(this.key)}}class c{constructor(w){this.keys=w}affectsSome(w){for(const v of this.keys)if(w.has(v))return!0;return!1}}class s{constructor(w){this.events=w}affectsSome(w){for(const v of this.events)if(v.affectsSome(w))return!0;return!1}}class a{constructor(w){this._onDidChangeContext=new y.PauseableEmitter({merge:v=>new s(v)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=w}createKey(w,v){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new o(this,w,v)}bufferChangeEvents(w){this._onDidChangeContext.pause();try{w()}finally{this._onDidChangeContext.resume()}}createScoped(w){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new l(this,w)}contextMatchesRules(w){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const v=this.getContextValuesContainer(this._myContextId);return w?w.evaluate(v):!0}getContextKeyValue(w){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(w)}setContext(w,v){if(this._isDisposed)return;const p=this.getContextValuesContainer(this._myContextId);!p||p.setValue(w,v)&&this._onDidChangeContext.fire(new d(w))}removeContext(w){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(w)&&this._onDidChangeContext.fire(new d(w))}getContext(w){return this._isDisposed?i.INSTANCE:this.getContextValuesContainer(u(w))}}e.AbstractContextKeyService=a;let r=class extends a{constructor(w){super(0);this._contexts=new Map,this._toDispose=new N.DisposableStore,this._lastContextId=0;const v=new n(this._myContextId,w,this._onDidChangeContext);this._contexts.set(this._myContextId,v),this._toDispose.add(v)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(w){return this._isDisposed?i.INSTANCE:this._contexts.get(w)||i.INSTANCE}createChildContext(w=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let v=++this._lastContextId;return this._contexts.set(v,new t(v,this.getContextValuesContainer(w))),v}disposeContext(w){this._isDisposed||this._contexts.delete(w)}};r=Be([me(0,C.IConfigurationService)],r),e.ContextKeyService=r;class l extends a{constructor(w,v){super(w.createChildContext());if(this._parentChangeListener=new N.MutableDisposable,this._parent=w,this._updateParentChangeListener(),this._domNode=v,this._domNode.hasAttribute(g)){let p="";this._domNode.classList&&(p=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${p?": "+p:""}`)}this._domNode.setAttribute(g,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(g),this._isDisposed=!0)}getContextValuesContainer(w){return this._isDisposed?i.INSTANCE:this._parent.getContextValuesContainer(w)}createChildContext(w=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(w)}disposeContext(w){this._isDisposed||this._parent.disposeContext(w)}}function u(f){for(;f;){if(f.hasAttribute(g)){const w=f.getAttribute(g);return w?parseInt(w,10):NaN}f=f.parentElement}return 0}b.CommandsRegistry.registerCommand(h.SET_CONTEXT_COMMAND_ID,function(f,w,v){f.get(h.IContextKeyService).createKey(String(w),v)}),b.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...h.RawContextKey.all()].sort((f,w)=>f.key.localeCompare(w.key))},description:{description:(0,S.localize)(0,null),args:[]}}),b.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const f=[],w=new Set;for(let v of h.RawContextKey.all())w.has(v.key)||(w.add(v.key),f.push(v));f.sort((v,p)=>v.key.localeCompare(p.key)),console.log(JSON.stringify(f,void 0,2))})}),define(ee[269],te([0,1,17,570,16]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.IsDevelopmentContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new N.RawContextKey("isMac",y.isMacintosh,(0,m.localize)(0,null)),e.IsLinuxContext=new N.RawContextKey("isLinux",y.isLinux,(0,m.localize)(1,null)),e.IsWindowsContext=new N.RawContextKey("isWindows",y.isWindows,(0,m.localize)(2,null)),e.IsWebContext=new N.RawContextKey("isWeb",y.isWeb,(0,m.localize)(3,null)),e.IsMacNativeContext=new N.RawContextKey("isMacNative",y.isMacintosh&&!y.isWeb,(0,m.localize)(4,null)),e.IsIOSContext=new N.RawContextKey("isIOS",y.isIOS,(0,m.localize)(5,null)),e.IsDevelopmentContext=new N.RawContextKey("isDevelopment",!1,!0),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new N.RawContextKey(e.InputFocusedContextKey,!1,(0,m.localize)(6,null))}),define(ee[75],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,y.createDecorator)("contextViewService"),e.IContextMenuService=(0,y.createDecorator)("contextMenuService")}),define(ee[126],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,y.createDecorator)("dialogService")}),define(ee[152],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class y{constructor(...N){this._entries=new Map;for(let[I,S]of N)this.set(I,S)}set(N,I){const S=this._entries.get(N);return this._entries.set(N,I),S}get(N){return this._entries.get(N)}}e.ServiceCollection=y}),define(ee[603],te([0,1,10,14,191,583,9,152]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const C=!1;class h extends Error{constructor(n){var o;super("cyclic dependency between services");this.message=(o=n.findCycleSlow())!==null&&o!==void 0?o:`UNABLE to detect cycle, dumping graph: 
${n.toString()}`}}class g{constructor(n=new b.ServiceCollection,o=!1,d){this._activeInstantiations=new Set,this._services=n,this._strict=o,this._parent=d,this._services.set(S.IInstantiationService,this)}createChild(n){return new g(n,this._strict,this)}invokeFunction(n,...o){let d=t.traceInvocation(n),c=!1;try{return n({get:a=>{if(c)throw(0,m.illegalState)("service accessor is only valid during the invocation of its target method");const r=this._getOrCreateServiceInstance(a,d);if(!r)throw new Error(`[invokeFunction] unknown service '${a}'`);return r}},...o)}finally{c=!0,d.stop()}}createInstance(n,...o){let d,c;return n instanceof N.SyncDescriptor?(d=t.traceCreation(n.ctor),c=this._createInstance(n.ctor,n.staticArguments.concat(o),d)):(d=t.traceCreation(n),c=this._createInstance(n,o,d)),d.stop(),c}_createInstance(n,o=[],d){let c=S._util.getServiceDependencies(n).sort((r,l)=>r.index-l.index),s=[];for(const r of c){let l=this._getOrCreateServiceInstance(r.id,d);if(!l&&this._strict&&!r.optional)throw new Error(`[createInstance] ${n.name} depends on UNKNOWN service ${r.id}.`);s.push(l)}let a=c.length>0?c[0].index:o.length;if(o.length!==a){console.warn(`[createInstance] First service dependency of ${n.name} at position ${a+1} conflicts with ${o.length} static arguments`);let r=a-o.length;r>0?o=o.concat(new Array(r)):o=o.slice(0,a)}return new n(...[...o,...s])}_setServiceInstance(n,o){if(this._services.get(n)instanceof N.SyncDescriptor)this._services.set(n,o);else if(this._parent)this._parent._setServiceInstance(n,o);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(n){let o=this._services.get(n);return!o&&this._parent?this._parent._getServiceInstanceOrDescriptor(n):o}_getOrCreateServiceInstance(n,o){let d=this._getServiceInstanceOrDescriptor(n);return d instanceof N.SyncDescriptor?this._safeCreateAndCacheServiceInstance(n,d,o.branch(n,!0)):(o.branch(n,!1),d)}_safeCreateAndCacheServiceInstance(n,o,d){if(this._activeInstantiations.has(n))throw new Error(`illegal state - RECURSIVELY instantiating service '${n}'`);this._activeInstantiations.add(n);try{return this._createAndCacheServiceInstance(n,o,d)}finally{this._activeInstantiations.delete(n)}}_createAndCacheServiceInstance(n,o,d){const c=new I.Graph(r=>r.id.toString());let s=0;const a=[{id:n,desc:o,_trace:d}];for(;a.length;){const r=a.pop();if(c.lookupOrInsertNode(r),s++>1e3)throw new h(c);for(let l of S._util.getServiceDependencies(r.desc.ctor)){let u=this._getServiceInstanceOrDescriptor(l.id);if(!u&&!l.optional&&console.warn(`[createInstance] ${n} depends on ${l.id} which is NOT registered.`),u instanceof N.SyncDescriptor){const f={id:l.id,desc:u,_trace:r._trace.branch(l.id,!0)};c.insertEdge(r,f),a.push(f)}}}for(;;){const r=c.roots();if(r.length===0){if(!c.isEmpty())throw new h(c);break}for(const{data:l}of r){if(this._getServiceInstanceOrDescriptor(l.id)instanceof N.SyncDescriptor){const f=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,f)}c.removeNode(l)}}return this._getServiceInstanceOrDescriptor(n)}_createServiceInstanceWithOwner(n,o,d=[],c,s){if(this._services.get(n)instanceof N.SyncDescriptor)return this._createServiceInstance(o,d,c,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(n,o,d,c,s);throw new Error(`illegalState - creating UNKNOWN service instance ${o.name}`)}_createServiceInstance(n,o=[],d,c){if(d){const s=new y.IdleValue(()=>this._createInstance(n,o,c));return new Proxy(Object.create(null),{get(a,r){if(r in a)return a[r];let l=s.value,u=l[r];return typeof u!="function"||(u=u.bind(l),a[r]=u),u},set(a,r,l){return s.value[r]=l,!0}})}else return this._createInstance(n,o,c)}}e.InstantiationService=g;class t{constructor(n,o){this.type=n,this.name=o,this._start=Date.now(),this._dep=[]}static traceInvocation(n){return C?new t(1,n.name||n.toString().substring(0,42).replace(/\n/g,"")):t._None}static traceCreation(n){return C?new t(0,n.name):t._None}branch(n,o){let d=new t(2,n.toString());return this._dep.push([n,o,d]),d}stop(){let n=Date.now()-this._start;t._totals+=n;let o=!1;function d(s,a){let r=[],l=new Array(s+1).join("	");for(const[u,f,w]of a._dep)if(f&&w){o=!0,r.push(`${l}CREATES -> ${u}`);let v=d(s+1,w);v&&r.push(v)}else r.push(`${l}uses -> ${u}`);return r.join(`
`)}let c=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${n.toFixed(2)}ms (grand total ${t._totals.toFixed(2)}ms)`];(n>2||o)&&console.log(c.join(`
`))}}e.Trace=t,t._None=new class extends t{constructor(){super(-1,null)}stop(){}branch(){return this}},t._totals=0}),define(ee[604],te([0,1,10,4,2,571]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const S=/^(cursor|delete)/;class b extends N.Disposable{constructor(g,t,i,n,o){super();this._contextKeyService=g,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new m.Emitter),this._currentChord=null,this._currentChordChecker=new y.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new y.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:m.Event.None}dispose(){super.dispose()}_log(g){this._logging&&this._logService.info(`[KeybindingService]: ${g}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(g,t){const i=this._getResolver().lookupPrimaryKeybinding(g,t||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(g,t){return this._dispatch(g,t)}softDispatch(g,t){const i=this.resolveKeyboardEvent(g);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(n===null)return null;const o=this._contextKeyService.getContext(t),d=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,d,n)}_enterChordMode(g,t){this._currentChord={keypress:g,label:t},this._currentChordStatusMessage=this._notificationService.status(I.localize(0,null,t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(g,t){return this._doDispatch(this.resolveKeyboardEvent(g),t,!1)}_singleModifierDispatch(g,t){const i=this.resolveKeyboardEvent(g),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=C.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getParts();return this._ignoreSingleModifiers=new C(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(g,t,i=!1){let n=!1;if(g.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,d=null;if(i){const[r]=g.getSingleModifierDispatchParts();o=r,d=r}else[o]=g.getDispatchParts(),d=this._currentChord?this._currentChord.keypress:null;if(o===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const c=this._contextKeyService.getContext(t),s=g.getLabel(),a=this._getResolver().resolve(c,d,o);return this._logService.trace("KeybindingService#dispatch",s,a==null?void 0:a.commandId),a&&a.enterChord?(n=!0,this._enterChordMode(o,s),n):(this._currentChord&&(!a||!a.commandId)&&(this._notificationService.status(I.localize(1,null,this._currentChord.label,s),{hideAfter:10*1e3}),n=!0),this._leaveChordMode(),a&&a.commandId&&(a.bubble||(n=!0),typeof a.commandArgs=="undefined"?this._commandService.executeCommand(a.commandId).then(void 0,r=>this._notificationService.warn(r)):this._commandService.executeCommand(a.commandId,a.commandArgs).then(void 0,r=>this._notificationService.warn(r)),S.test(a.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:a.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(g){return g.ctrlKey||g.metaKey?!1:g.keyCode>=31&&g.keyCode<=56||g.keyCode>=21&&g.keyCode<=30}}e.AbstractKeybindingService=b;class C{constructor(g){this._ctrlKey=g?g.ctrlKey:!1,this._shiftKey=g?g.shiftKey:!1,this._altKey=g?g.altKey:!1,this._metaKey=g?g.metaKey:!1}has(g){switch(g){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}C.EMPTY=new C(null)}),define(ee[605],te([0,1,14,190,93]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class I extends N.ResolvedKeybinding{constructor(b,C){super();if(C.length===0)throw(0,y.illegalArgument)("parts");this._os=b,this._parts=C}getLabel(){return m.UILabelProvider.toLabel(this._os,this._parts,b=>this._getLabel(b))}getAriaLabel(){return m.AriaLabelProvider.toLabel(this._os,this._parts,b=>this._getAriaLabel(b))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:m.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,b=>this._getElectronAccelerator(b))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(b=>this._getPart(b))}_getPart(b){return new N.ResolvedKeybindingPart(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,this._getLabel(b),this._getAriaLabel(b))}getDispatchParts(){return this._parts.map(b=>this._getDispatchPart(b))}getSingleModifierDispatchParts(){return this._parts.map(b=>this._getSingleModifierDispatchPart(b))}}e.BaseResolvedKeybinding=I}),define(ee[42],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,y.createDecorator)("keybindingService")}),define(ee[606],te([0,1,16]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class m{constructor(b,C,h){this._log=h,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(const g of b){const t=g.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=m.handleRemovals([].concat(b).concat(C));for(let g=0,t=this._keybindings.length;g<t;g++){let i=this._keybindings[g];i.keypressParts.length!==0&&(i.when&&i.when.type===0||this._addKeyPress(i.keypressParts[0],i))}}static _isTargetedForRemoval(b,C,h,g){return!(C&&b.keypressParts[0]!==C||h&&b.keypressParts[1]!==h||g&&(!b.when||!(0,y.expressionsAreEqualWithConstantSubstitution)(g,b.when)))}static handleRemovals(b){const C=new Map;for(const g of b)if(g.command&&g.command.charAt(0)==="-"){const t=g.command.substring(1);C.has(t)?C.get(t).push(g):C.set(t,[g])}if(C.size===0)return b;const h=[];for(const g of b){if(!g.command||g.command.length===0){h.push(g);continue}if(g.command.charAt(0)==="-")continue;const t=C.get(g.command);if(!t){h.push(g);continue}let i=!1;for(const n of t){const o=n.keypressParts[0],d=n.keypressParts[1],c=n.when;if(this._isTargetedForRemoval(g,o,d,c)){i=!0;break}}if(!i){h.push(g);continue}}return h}_addKeyPress(b,C){const h=this._map.get(b);if(typeof h=="undefined"){this._map.set(b,[C]),this._addToLookupMap(C);return}for(let g=h.length-1;g>=0;g--){let t=h[g];if(t.command===C.command)continue;const i=t.keypressParts.length>1,n=C.keypressParts.length>1;i&&n&&t.keypressParts[1]!==C.keypressParts[1]||m.whenIsEntirelyIncluded(t.when,C.when)&&this._removeFromLookupMap(t)}h.push(C),this._addToLookupMap(C)}_addToLookupMap(b){if(!b.command)return;let C=this._lookupMap.get(b.command);typeof C=="undefined"?(C=[b],this._lookupMap.set(b.command,C)):C.push(b)}_removeFromLookupMap(b){if(!b.command)return;let C=this._lookupMap.get(b.command);if(typeof C!="undefined"){for(let h=0,g=C.length;h<g;h++)if(C[h]===b){C.splice(h,1);return}}}static whenIsEntirelyIncluded(b,C){return!C||C.type===1?!0:!b||b.type===1?!1:(0,y.implies)(b,C)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,C){const h=this._lookupMap.get(b);if(typeof h=="undefined"||h.length===0)return null;if(h.length===1)return h[0];for(let g=h.length-1;g>=0;g--){const t=h[g];if(C.contextMatchesRules(t.when))return t}return h[h.length-1]}resolve(b,C,h){this._log(`| Resolving ${h}${C?` chorded from ${C}`:""}`);let g=null;if(C!==null){const i=this._map.get(C);if(typeof i=="undefined")return this._log("\\ No keybinding entries."),null;g=[];for(let n=0,o=i.length;n<o;n++){let d=i[n];d.keypressParts[1]===h&&g.push(d)}}else{const i=this._map.get(h);if(typeof i=="undefined")return this._log("\\ No keybinding entries."),null;g=i}let t=this._findCommand(b,g);return t?C===null&&t.keypressParts.length>1&&t.keypressParts[1]!==null?(this._log(`\\ From ${g.length} keybinding entries, matched chord, when: ${N(t.when)}, source: ${I(t)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${g.length} keybinding entries, matched ${t.command}, when: ${N(t.when)}, source: ${I(t)}.`),{enterChord:!1,leaveChord:t.keypressParts.length>1,commandId:t.command,commandArgs:t.commandArgs,bubble:t.bubble}):(this._log(`\\ From ${g.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(b,C){for(let h=C.length-1;h>=0;h--){let g=C[h];if(!!m._contextMatchesRules(b,g.when))return g}return null}static _contextMatchesRules(b,C){return C?C.evaluate(b):!0}}e.KeybindingResolver=m;function N(S){return S?`${S.serialize()}`:"no when condition"}function I(S){return S.extensionId?S.isBuiltinExtension?`built-in extension ${S.extensionId}`:`user extension ${S.extensionId}`:S.isDefault?"built-in":"user"}}),define(ee[270],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class y{constructor(I,S,b,C,h,g,t){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=I,this.keypressParts=I?m(I.getDispatchParts()):[],I&&this.keypressParts.length===0&&(this.keypressParts=m(I.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=b,this.when=C,this.isDefault=h,this.extensionId=g,this.isBuiltinExtension=t}}e.ResolvedKeybindingItem=y;function m(N){let I=[];for(let S=0,b=N.length;S<b;S++){const C=N[S];if(!C)return I;I.push(C)}return I}e.removeElementsAfterNulls=m}),define(ee[607],te([0,1,56,93,605,270]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class S extends N.BaseResolvedKeybinding{constructor(C,h){super(h,C.parts)}_keyCodeToUILabel(C){if(this._os===2)switch(C){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return y.KeyCodeUtils.toString(C)}_getLabel(C){return C.isDuplicateModifierCase()?"":this._keyCodeToUILabel(C.keyCode)}_getAriaLabel(C){return C.isDuplicateModifierCase()?"":y.KeyCodeUtils.toString(C.keyCode)}_getElectronAccelerator(C){return y.KeyCodeUtils.toElectronAccelerator(C.keyCode)}_getDispatchPart(C){return S.getDispatchStr(C)}static getDispatchStr(C){if(C.isModifierKey())return null;let h="";return C.ctrlKey&&(h+="ctrl+"),C.shiftKey&&(h+="shift+"),C.altKey&&(h+="alt+"),C.metaKey&&(h+="meta+"),h+=y.KeyCodeUtils.toString(C.keyCode),h}_getSingleModifierDispatchPart(C){return C.keyCode===5&&!C.shiftKey&&!C.altKey&&!C.metaKey?"ctrl":C.keyCode===4&&!C.ctrlKey&&!C.altKey&&!C.metaKey?"shift":C.keyCode===6&&!C.ctrlKey&&!C.shiftKey&&!C.metaKey?"alt":C.keyCode===57&&!C.ctrlKey&&!C.shiftKey&&!C.altKey?"meta":null}static _scanCodeToKeyCode(C){const h=y.IMMUTABLE_CODE_TO_KEY_CODE[C];if(h!==-1)return h;switch(C){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(C){if(!C)return null;if(C instanceof m.SimpleKeybinding)return C;const h=this._scanCodeToKeyCode(C.scanCode);return h===0?null:new m.SimpleKeybinding(C.ctrlKey,C.shiftKey,C.altKey,C.metaKey,h)}static resolveUserBinding(C,h){const g=(0,I.removeElementsAfterNulls)(C.map(t=>this._resolveSimpleUserBinding(t)));return g.length>0?[new S(new m.ChordKeybinding(g),h)]:[]}}e.USLayoutResolvedKeybinding=S}),define(ee[127],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,y.createDecorator)("labelService")}),define(ee[128],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,y.createDecorator)("layoutService")}),define(ee[271],te([0,1,7,4,128,28,54]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{constructor(g){this._codeEditorService=g,this.onDidLayout=m.Event.None}get dimension(){return this._dimension||(this._dimension=y.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var g;(g=this._codeEditorService.getFocusedCodeEditor())===null||g===void 0||g.focus()}};b=Be([me(0,I.ICodeEditorService)],b);let C=class extends b{constructor(g,t){super(t);this._container=g}get hasContainer(){return!1}get container(){return this._container}};C=Be([me(1,I.ICodeEditorService)],C),e.EditorScopedLayoutService=C,(0,S.registerSingleton)(N.ILayoutService,b)}),define(ee[608],te([0,1,220,2,128]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let I=class extends m.Disposable{constructor(b){super();this.layoutService=b,this.currentViewDisposable=m.Disposable.None,this.container=b.hasContainer?b.container:null,this.contextView=this._register(new y.ContextView(this.container,1)),this.layout(),this._register(b.onDidLayout(()=>this.layout()))}setContainer(b,C){this.contextView.setContainer(b,C||1)}showContextView(b,C,h){C?C!==this.container&&(this.container=C,this.setContainer(C,h?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(b);const g=(0,m.toDisposable)(()=>{this.currentViewDisposable===g&&this.hideContextView()});return this.currentViewDisposable=g,g}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b)}};I=Be([me(0,N.ILayoutService)],I),e.ContextViewService=I}),define(ee[64],te([0,1,4,2,9]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,N.createDecorator)("logService");var I;(function(h){h[h.Trace=0]="Trace",h[h.Debug=1]="Debug",h[h.Info=2]="Info",h[h.Warning=3]="Warning",h[h.Error=4]="Error",h[h.Critical=5]="Critical",h[h.Off=6]="Off"})(I=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=I.Info;class S extends m.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new y.Emitter)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=S;class b extends S{constructor(g=e.DEFAULT_LOG_LEVEL){super();this.setLevel(g)}trace(g,...t){this.getLevel()<=I.Trace&&console.log("%cTRACE","color: #888",g,...t)}debug(g,...t){this.getLevel()<=I.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...t)}info(g,...t){this.getLevel()<=I.Info&&console.log("%c INFO","color: #33f",g,...t)}error(g,...t){this.getLevel()<=I.Error&&console.log("%c  ERR","color: #f33",g,...t)}dispose(){}}e.ConsoleLogger=b;class C extends m.Disposable{constructor(g){super();this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...t){this.logger.trace(g,...t)}debug(g,...t){this.logger.debug(g,...t)}info(g,...t){this.logger.info(g,...t)}error(g,...t){this.logger.error(g,...t)}}e.LogService=C}),define(ee[272],te([0,1,10,2,217,322,3,18,35,428,45,151,8,19,64,87,14]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const s=60*1e3,a=5*60*1e3;function r(L,E){const M=L.getModel(E);return!(!M||M.isTooLargeForSyncing())}let l=class extends m.Disposable{constructor(E,M,k,A){super();this._modelService=E,this._workerManager=this._register(new f(this._modelService,A)),this._logService=k,this._register(b.LinkProviderRegistry.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(F,B)=>r(this._modelService,F.uri)?this._workerManager.withWorker().then(T=>T.computeLinks(F.uri)).then(T=>T&&{links:T}):Promise.resolve({links:[]})})),this._register(b.CompletionProviderRegistry.register("*",new u(this._workerManager,M,this._modelService,A)))}dispose(){super.dispose()}canComputeUnicodeHighlights(E){return r(this._modelService,E)}computedUnicodeHighlights(E,M,k){return this._workerManager.withWorker().then(A=>A.computedUnicodeHighlights(E,M,k))}computeDiff(E,M,k,A){return this._workerManager.withWorker().then(F=>F.computeDiff(E,M,k,A))}computeMoreMinimalEdits(E,M){if((0,n.isNonEmptyArray)(M)){if(!r(this._modelService,E))return Promise.resolve(M);const k=d.StopWatch.create(!0),A=this._workerManager.withWorker().then(F=>F.computeMoreMinimalEdits(E,M));return A.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),k.elapsed())),Promise.race([A,(0,y.timeout)(1e3).then(()=>M)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return r(this._modelService,E)}navigateValueSet(E,M,k){return this._workerManager.withWorker().then(A=>A.navigateValueSet(E,M,k))}canComputeWordRanges(E){return r(this._modelService,E)}computeWordRanges(E,M){return this._workerManager.withWorker().then(k=>k.computeWordRanges(E,M))}};l=Be([me(0,g.IModelService),me(1,t.ITextResourceConfigurationService),me(2,o.ILogService),me(3,C.ILanguageConfigurationService)],l),e.EditorWorkerService=l;class u{constructor(E,M,k,A){this.languageConfigurationService=A,this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=M,this._modelService=k}provideCompletionItems(E,M){return De(this,void 0,void 0,function*(){const k=this._configurationService.getValue(E.uri,M,"editor");if(!k.wordBasedSuggestions)return;const A=[];if(k.wordBasedSuggestionsMode==="currentDocument")r(this._modelService,E.uri)&&A.push(E.uri);else for(const D of this._modelService.getModels())!r(this._modelService,D.uri)||(D===E?A.unshift(D.uri):(k.wordBasedSuggestionsMode==="allDocuments"||D.getLanguageId()===E.getLanguageId())&&A.push(D.uri));if(A.length===0)return;const F=this.languageConfigurationService.getLanguageConfiguration(E.getLanguageId()).getWordDefinition(),B=E.getWordAtPosition(M),T=B?new S.Range(M.lineNumber,B.startColumn,M.lineNumber,B.endColumn):S.Range.fromPositions(M),R=T.setEndPosition(M.lineNumber,M.column),P=yield(yield this._workerManager.withWorker()).textualSuggest(A,B==null?void 0:B.word,F);if(!!P)return{duration:P.duration,suggestions:P.words.map(D=>({kind:18,label:D,insertText:D,range:{insert:R,replace:T}}))}})}}class f extends m.Disposable{constructor(E,M){super();this.languageConfigurationService=M,this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new y.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(a/2)),this._register(this._modelService.onModelRemoved(A=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>a&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class w extends m.Disposable{constructor(E,M,k){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=M,!k){const A=new y.IntervalTimer;A.cancelAndSet(()=>this._checkStopModelSync(),Math.round(s/2)),this._register(A)}}dispose(){for(let E in this._syncedModels)(0,m.dispose)(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E,M){for(const k of E){const A=k.toString();this._syncedModels[A]||this._beginModelSync(k,M),this._syncedModels[A]&&(this._syncedModelsLastUsedTime[A]=new Date().getTime())}}_checkStopModelSync(){const E=new Date().getTime(),M=[];for(let k in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[k]>s&&M.push(k);for(const k of M)this._stopModelSync(k)}_beginModelSync(E,M){const k=this._modelService.getModel(E);if(!k||!M&&k.isTooLargeForSyncing())return;const A=E.toString();this._proxy.acceptNewModel({url:k.uri.toString(),lines:k.getLinesContent(),EOL:k.getEOL(),versionId:k.getVersionId()});const F=new m.DisposableStore;F.add(k.onDidChangeContent(B=>{this._proxy.acceptModelChanged(A.toString(),B)})),F.add(k.onWillDispose(()=>{this._stopModelSync(A)})),F.add((0,m.toDisposable)(()=>{this._proxy.acceptRemovedModel(A)})),this._syncedModels[A]=F}_stopModelSync(E){const M=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],(0,m.dispose)(M)}}class v{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class p{constructor(E){this._workerClient=E}fhr(E,M){return this._workerClient.fhr(E,M)}}e.EditorWorkerHost=p;class _ extends m.Disposable{constructor(E,M,k,A){super();this.languageConfigurationService=A,this._disposed=!1,this._modelService=E,this._keepIdleModels=M,this._workerFactory=new I.DefaultWorkerFactory(k),this._worker=null,this._modelManager=null}fhr(E,M){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new N.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new p(this)))}catch(E){(0,N.logOnceWebWorkerWarning)(E),this._worker=new v(new h.EditorSimpleWorker(new p(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>((0,N.logOnceWebWorkerWarning)(E),this._worker=new v(new h.EditorSimpleWorker(new p(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new w(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E,M=!1){return De(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,c.canceled)()):this._getProxy().then(k=>(this._getOrCreateModelManager(k).ensureSyncedResources(E,M),k))})}computedUnicodeHighlights(E,M,k){return this._withSyncedResources([E]).then(A=>A.computeUnicodeHighlights(E.toString(),M,k))}computeDiff(E,M,k,A){return this._withSyncedResources([E,M],!0).then(F=>F.computeDiff(E.toString(),M.toString(),k,A))}computeMoreMinimalEdits(E,M){return this._withSyncedResources([E]).then(k=>k.computeMoreMinimalEdits(E.toString(),M))}computeLinks(E){return this._withSyncedResources([E]).then(M=>M.computeLinks(E.toString()))}textualSuggest(E,M,k){return De(this,void 0,void 0,function*(){const A=yield this._withSyncedResources(E),F=k.source,B=(0,i.regExpFlags)(k);return A.textualSuggest(E.map(T=>T.toString()),M,F,B)})}computeWordRanges(E,M){return this._withSyncedResources([E]).then(k=>{const A=this._modelService.getModel(E);if(!A)return Promise.resolve(null);const F=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition(),B=F.source,T=(0,i.regExpFlags)(F);return k.computeWordRanges(E.toString(),M,B,T)})}navigateValueSet(E,M,k){return this._withSyncedResources([E]).then(A=>{const F=this._modelService.getModel(E);if(!F)return null;const B=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition(),T=B.source,R=(0,i.regExpFlags)(B);return A.navigateValueSet(E.toString(),M,k,T,R)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=_}),define(ee[609],te([0,1,272,20]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function N(S,b,C){return new I(S,b,C)}e.createWebWorker=N;class I extends y.EditorWorkerClient{constructor(b,C,h){super(b,h.keepIdleModels||!1,h.label,C);this._foreignModuleId=h.moduleId,this._foreignModuleCreateData=h.createData||null,this._foreignModuleHost=h.host||null,this._foreignProxy=null}fhr(b,C){if(!this._foreignModuleHost||typeof this._foreignModuleHost[b]!="function")return Promise.reject(new Error("Missing method "+b+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[b].apply(this._foreignModuleHost,C))}catch(h){return Promise.reject(h)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(b=>{const C=this._foreignModuleHost?m.getAllMethodNames(this._foreignModuleHost):[];return b.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,C).then(h=>{this._foreignModuleCreateData=null;const g=(n,o)=>b.fmr(n,o),t=(n,o)=>function(){const d=Array.prototype.slice.call(arguments,0);return o(n,d)},i={};for(const n of h)i[n]=t(n,g);return i})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(b){return this._withSyncedResources(b).then(C=>this.getProxy())}}}),define(ee[195],te([0,1,109,48,108,54,9,64]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,S.createDecorator)("ILanguageFeatureDebounceService");var C;(function(t){const i=new WeakMap;let n=0;function o(d){let c=i.get(d);return c===void 0&&(c=++n,i.set(d,c)),c}t.of=o})(C||(C={}));class h{constructor(i,n,o,d,c,s=Number.MAX_SAFE_INTEGER){this._logService=i,this._name=n,this._registry=o,this._default=d,this._min=c,this._max=s,this._cache=new m.LRUCache(50,.7)}_key(i){return i.id+this._registry.all(i).reduce((n,o)=>(0,y.doHash)(C.of(o),n),0)}get(i){const n=this._key(i),o=this._cache.get(n);return o?(0,N.clamp)(o.value,this._min,this._max):this.default()}update(i,n){const o=this._key(i);let d=this._cache.get(o);d||(d=new N.SlidingWindowAverage(6),this._cache.set(o,d));const c=(0,N.clamp)(d.update(n),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${i.uri.toString()} is ${c}ms`),c}_overall(){const i=new N.MovingAverage;for(const[,n]of this._cache)i.update(n.value);return i.value}default(){const i=this._overall()|0||this._default;return(0,N.clamp)(i,this._min,this._max)}}let g=class{constructor(i){this._logService=i,this._data=new Map}for(i,n,o){var d,c;const s=(d=o==null?void 0:o.min)!==null&&d!==void 0?d:50,a=(c=o==null?void 0:o.key)!==null&&c!==void 0?c:void 0,r=`${C.of(i)},${s}${a?","+a:""}`;let l=this._data.get(r);return l||(l=new h(this._logService,n,i,this._overallAverage()|0||s*1.5,s),this._data.set(r,l)),l}_overallAverage(){let i=new N.MovingAverage;for(let n of this._data.values())i.update(n.default());return i.value}};g=Be([me(0,b.ILogService)],g),e.LanguageFeatureDebounceService=g,(0,I.registerSingleton)(e.ILanguageFeatureDebounceService,g,!0)}),define(ee[196],te([0,1,19,21,14,55,48,11,3,18,195,9,54,45,2]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class d{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(u,f){let w;typeof u=="string"?w=`${f.id}/${u}`:(w=`${f.id}/${u.name}`,f.children.get(w)!==void 0&&(w=`${f.id}/${u.name}_${u.range.startLineNumber}_${u.range.startColumn}`));let v=w;for(let p=0;f.children.get(v)!==void 0;p++)v=`${w}_${p}`;return v}static empty(u){return u.children.size===0}}e.TreeElement=d;class c extends d{constructor(u,f,w){super();this.id=u,this.parent=f,this.symbol=w,this.children=new Map}}e.OutlineElement=c;class s extends d{constructor(u,f,w,v){super();this.id=u,this.parent=f,this.label=w,this.order=v,this.children=new Map}}e.OutlineGroup=s;class a extends d{constructor(u){super();this.uri=u,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(u,f){const w=new m.CancellationTokenSource(f),v=new a(u.uri),p=h.DocumentSymbolProviderRegistry.ordered(u),_=p.map((E,M)=>{var k;let A=d.findId(`provider_${M}`,v),F=new s(A,v,(k=E.displayName)!==null&&k!==void 0?k:"Unknown Outline Provider",M);return Promise.resolve(E.provideDocumentSymbols(u,w.token)).then(B=>{for(const T of B||[])a._makeOutlineElement(T,F);return F},B=>((0,N.onUnexpectedExternalError)(B),F)).then(B=>{d.empty(B)?B.remove():v._groups.set(A,B)})}),L=h.DocumentSymbolProviderRegistry.onDidChange(()=>{const E=h.DocumentSymbolProviderRegistry.ordered(u);(0,y.equals)(E,p)||w.cancel()});return Promise.all(_).then(()=>w.token.isCancellationRequested&&!f.isCancellationRequested?a.create(u,f):v._compact()).finally(()=>{L.dispose()})}static _makeOutlineElement(u,f){let w=d.findId(u,f),v=new c(w,f,u);if(u.children)for(const p of u.children)a._makeOutlineElement(p,v);f.children.set(v.id,v)}_compact(){let u=0;for(const[f,w]of this._groups)w.children.size===0?this._groups.delete(f):u+=1;if(u!==1)this.children=this._groups;else{let f=I.Iterable.first(this._groups.values());for(let[,w]of f.children)w.parent=this,this.children.set(w.id,w)}return this}getTopLevelSymbols(){const u=[];for(const f of this.children.values())f instanceof c?u.push(f.symbol):u.push(...I.Iterable.map(f.children.values(),w=>w.symbol));return u.sort((f,w)=>C.Range.compareRangesUsingStarts(f.range,w.range))}asListOfDocumentSymbols(){const u=this.getTopLevelSymbols(),f=[];return a._flattenDocumentSymbols(f,u,""),f.sort((w,v)=>b.Position.compare(C.Range.getStartPosition(w.range),C.Range.getStartPosition(v.range))||b.Position.compare(C.Range.getEndPosition(v.range),C.Range.getEndPosition(w.range)))}static _flattenDocumentSymbols(u,f,w){for(const v of f)u.push({kind:v.kind,tags:v.tags,name:v.name,detail:v.detail,containerName:v.containerName||w,range:v.range,selectionRange:v.selectionRange,children:void 0}),v.children&&a._flattenDocumentSymbols(u,v.children,v.name)}}e.OutlineModel=a,e.IOutlineModelService=(0,t.createDecorator)("IOutlineModelService");let r=class{constructor(u,f){this._disposables=new o.DisposableStore,this._cache=new S.LRUCache(10,.7),this._debounceInformation=u.for(h.DocumentSymbolProviderRegistry,"DocumentSymbols",{min:350}),this._disposables.add(f.onModelRemoved(w=>{this._cache.delete(w.id)}))}dispose(){this._disposables.dispose()}getOrCreate(u,f){return De(this,void 0,void 0,function*(){const w=h.DocumentSymbolProviderRegistry.ordered(u);let v=this._cache.get(u.id);if(!v||v.versionId!==u.getVersionId()||!(0,y.equals)(v.provider,w)){let _=new m.CancellationTokenSource;v={versionId:u.getVersionId(),provider:w,promiseCnt:0,source:_,promise:a.create(u,_.token),model:void 0},this._cache.set(u.id,v);const L=Date.now();v.promise.then(E=>{v.model=E,this._debounceInformation.update(u,Date.now()-L)}).catch(E=>{this._cache.delete(u.id)})}if(v.model)return v.model;v.promiseCnt+=1;const p=f.onCancellationRequested(()=>{--v.promiseCnt==0&&(v.source.cancel(),this._cache.delete(u.id))});try{return yield v.promise}finally{p.dispose()}})}};r=Be([me(0,g.ILanguageFeatureDebounceService),me(1,n.IModelService)],r),e.OutlineModelService=r,(0,i.registerSingleton)(e.IOutlineModelService,r,!0)}),define(ee[610],te([0,1,21,20,25,59,196,26]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),b.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(C,...h){return De(this,void 0,void 0,function*(){const[g]=h;(0,m.assertType)(N.URI.isUri(g));const t=C.get(S.IOutlineModelService),n=yield C.get(I.ITextModelService).createModelReference(g);try{return(yield t.getOrCreate(n.object.textEditorModel,y.CancellationToken.None)).getTopLevelSymbols()}finally{n.dispose()}})})}),define(ee[611],te([0,1,33,7,10,2,128,64]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let C=class extends I.Disposable{constructor(g,t){super();this.layoutService=g,this.logService=t,this.mapTextToType=new Map,this.findText="",(y.isSafari||y.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const g=()=>{const t=new N.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>De(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,m.addDisposableListener)(this.layoutService.container,"click",g)),this._register((0,m.addDisposableListener)(this.layoutService.container,"keydown",g)))}writeText(g,t){return De(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,g);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(g);try{return yield navigator.clipboard.writeText(g)}catch(o){console.error(o)}const i=document.activeElement,n=document.body.appendChild((0,m.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=g,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(g){return De(this,void 0,void 0,function*(){if(g)return this.mapTextToType.get(g)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return De(this,void 0,void 0,function*(){return this.findText})}writeFindText(g){return De(this,void 0,void 0,function*(){this.findText=g})}};C=Be([me(0,S.ILayoutService),me(1,b.ILogService)],C),e.BrowserClipboardService=C}),define(ee[76],te([0,1,73,573,9]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var I;(function(b){b[b.Hint=1]="Hint",b[b.Info=2]="Info",b[b.Warning=4]="Warning",b[b.Error=8]="Error"})(I=e.MarkerSeverity||(e.MarkerSeverity={})),function(b){function C(n,o){return o-n}b.compare=C;const h=Object.create(null);h[b.Error]=(0,m.localize)(0,null),h[b.Warning]=(0,m.localize)(1,null),h[b.Info]=(0,m.localize)(2,null);function g(n){return h[n]||""}b.toString=g;function t(n){switch(n){case y.default.Error:return b.Error;case y.default.Warning:return b.Warning;case y.default.Info:return b.Info;case y.default.Ignore:return b.Hint}}b.fromSeverity=t;function i(n){switch(n){case b.Error:return y.default.Error;case b.Warning:return y.default.Warning;case b.Info:return y.default.Info;case b.Hint:return y.default.Ignore}}b.toSeverity=i}(I=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(b){const C="";function h(t){return g(t,!0)}b.makeKey=h;function g(t,i){let n=[C];return t.source?n.push(t.source.replace("\xA6","\\\xA6")):n.push(C),t.code?typeof t.code=="string"?n.push(t.code.replace("\xA6","\\\xA6")):n.push(t.code.value.replace("\xA6","\\\xA6")):n.push(C),t.severity!==void 0&&t.severity!==null?n.push(I.toString(t.severity)):n.push(C),t.message&&i?n.push(t.message.replace("\xA6","\\\xA6")):n.push(C),t.startLineNumber!==void 0&&t.startLineNumber!==null?n.push(t.startLineNumber.toString()):n.push(C),t.startColumn!==void 0&&t.startColumn!==null?n.push(t.startColumn.toString()):n.push(C),t.endLineNumber!==void 0&&t.endLineNumber!==null?n.push(t.endLineNumber.toString()):n.push(C),t.endColumn!==void 0&&t.endColumn!==null?n.push(t.endColumn.toString()):n.push(C),n.push(C),n.join("\xA6")}b.makeKeyOptionalMessage=g})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,N.createDecorator)("markerService")}),define(ee[612],te([0,1,19,4,2,80,8,25,3,54,9,76,39]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class n{constructor(s,a,r){this.marker=s,this.index=a,this.total=r}}e.MarkerCoordinate=n;let o=class{constructor(s,a,r){this._markerService=a,this._configService=r,this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new N.DisposableStore,this._markers=[],this._nextIdx=-1,b.URI.isUri(s)?this._resourceFilter=w=>w.toString()===s.toString():s&&(this._resourceFilter=s);const l=this._configService.getValue("problems.sortOrder"),u=(w,v)=>{let p=(0,S.compare)(w.resource.toString(),v.resource.toString());return l==="position"?p=C.Range.compareRangesUsingStarts(w,v)||t.MarkerSeverity.compare(w.severity,v.severity):p=t.MarkerSeverity.compare(w.severity,v.severity)||C.Range.compareRangesUsingStarts(w,v),p},f=()=>{this._markers=this._markerService.read({resource:b.URI.isUri(s)?s:void 0,severities:t.MarkerSeverity.Error|t.MarkerSeverity.Warning|t.MarkerSeverity.Info}),typeof s=="function"&&(this._markers=this._markers.filter(w=>this._resourceFilter(w.resource))),this._markers.sort(u)};f(),this._dispoables.add(a.onMarkerChanged(w=>{(!this._resourceFilter||w.some(v=>this._resourceFilter(v)))&&(f(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(s){return!this._resourceFilter&&!s?!0:!this._resourceFilter||!s?!1:this._resourceFilter(s)}get selected(){const s=this._markers[this._nextIdx];return s&&new n(s,this._nextIdx+1,this._markers.length)}_initIdx(s,a,r){let l=!1,u=this._markers.findIndex(f=>f.resource.toString()===s.uri.toString());u<0&&(u=(0,y.binarySearch)(this._markers,{resource:s.uri},(f,w)=>(0,S.compare)(f.resource.toString(),w.resource.toString())),u<0&&(u=~u));for(let f=u;f<this._markers.length;f++){let w=C.Range.lift(this._markers[f]);if(w.isEmpty()){const v=s.getWordAtPosition(w.getStartPosition());v&&(w=new C.Range(w.startLineNumber,v.startColumn,w.startLineNumber,v.endColumn))}if(a&&(w.containsPosition(a)||a.isBeforeOrEqual(w.getStartPosition()))){this._nextIdx=f,l=!0;break}if(this._markers[f].resource.toString()!==s.uri.toString())break}l||(this._nextIdx=r?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(s,a,r){if(this._markers.length===0)return!1;let l=this._nextIdx;return this._nextIdx===-1?this._initIdx(a,r,s):s?this._nextIdx=(this._nextIdx+1)%this._markers.length:s||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),l!==this._nextIdx}find(s,a){let r=this._markers.findIndex(l=>l.resource.toString()===s.toString());if(!(r<0)){for(;r<this._markers.length;r++)if(C.Range.containsPosition(this._markers[r],a))return new n(this._markers[r],r+1,this._markers.length)}}};o=Be([me(1,t.IMarkerService),me(2,i.IConfigurationService)],o),e.MarkerList=o,e.IMarkerNavigationService=(0,g.createDecorator)("IMarkerNavigationService");let d=class{constructor(s,a){this._markerService=s,this._configService=a,this._provider=new I.LinkedList}getMarkerList(s){for(let a of this._provider){const r=a.getMarkerList(s);if(r)return r}return new o(s,this._markerService,this._configService)}};d=Be([me(0,t.IMarkerService),me(1,i.IConfigurationService)],d),(0,h.registerSingleton)(e.IMarkerNavigationService,d,!0)}),define(ee[613],te([0,1,19,4,55,48,49,25,76]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class h{constructor(){this._byResource=new I.ResourceMap,this._byOwner=new Map}set(n,o,d){let c=this._byResource.get(n);c||(c=new Map,this._byResource.set(n,c)),c.set(o,d);let s=this._byOwner.get(o);s||(s=new I.ResourceMap,this._byOwner.set(o,s)),s.set(n,d)}get(n,o){let d=this._byResource.get(n);return d==null?void 0:d.get(o)}delete(n,o){let d=!1,c=!1,s=this._byResource.get(n);s&&(d=s.delete(o));let a=this._byOwner.get(o);if(a&&(c=a.delete(n)),d!==c)throw new Error("illegal state");return d&&c}values(n){var o,d,c,s;return typeof n=="string"?(d=(o=this._byOwner.get(n))===null||o===void 0?void 0:o.values())!==null&&d!==void 0?d:N.Iterable.empty():b.URI.isUri(n)?(s=(c=this._byResource.get(n))===null||c===void 0?void 0:c.values())!==null&&s!==void 0?s:N.Iterable.empty():N.Iterable.map(N.Iterable.concat(...this._byOwner.values()),a=>a[1])}}class g{constructor(n){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new I.ResourceMap,this._service=n,this._subscription=n.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(n){for(const o of n){const d=this._data.get(o);d&&this._substract(d);const c=this._resourceStats(o);this._add(c),this._data.set(o,c)}}_resourceStats(n){const o={errors:0,warnings:0,infos:0,unknowns:0};if(n.scheme===S.Schemas.inMemory||n.scheme===S.Schemas.walkThrough||n.scheme===S.Schemas.walkThroughSnippet)return o;for(const{severity:d}of this._service.read({resource:n}))d===C.MarkerSeverity.Error?o.errors+=1:d===C.MarkerSeverity.Warning?o.warnings+=1:d===C.MarkerSeverity.Info?o.infos+=1:o.unknowns+=1;return o}_substract(n){this.errors-=n.errors,this.warnings-=n.warnings,this.infos-=n.infos,this.unknowns-=n.unknowns}_add(n){this.errors+=n.errors,this.warnings+=n.warnings,this.infos+=n.infos,this.unknowns+=n.unknowns}}class t{constructor(){this._onMarkerChanged=new m.DebounceEmitter({delay:0,merge:t._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new h,this._stats=new g(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(n,o){for(const d of o||[])this.changeOne(n,d,[])}changeOne(n,o,d){if((0,y.isFalsyOrEmpty)(d))this._data.delete(o,n)&&this._onMarkerChanged.fire([o]);else{const c=[];for(const s of d){const a=t._toMarker(n,o,s);a&&c.push(a)}this._data.set(o,n,c),this._onMarkerChanged.fire([o])}}static _toMarker(n,o,d){let{code:c,severity:s,message:a,source:r,startLineNumber:l,startColumn:u,endLineNumber:f,endColumn:w,relatedInformation:v,tags:p}=d;if(!!a)return l=l>0?l:1,u=u>0?u:1,f=f>=l?f:l,w=w>0?w:u,{resource:o,owner:n,code:c,severity:s,message:a,source:r,startLineNumber:l,startColumn:u,endLineNumber:f,endColumn:w,relatedInformation:v,tags:p}}read(n=Object.create(null)){let{owner:o,resource:d,severities:c,take:s}=n;if((!s||s<0)&&(s=-1),o&&d){const a=this._data.get(d,o);if(a){const r=[];for(const l of a)if(t._accept(l,c)){const u=r.push(l);if(s>0&&u===s)break}return r}else return[]}else if(!o&&!d){const a=[];for(let r of this._data.values())for(let l of r)if(t._accept(l,c)){const u=a.push(l);if(s>0&&u===s)return a}return a}else{const a=this._data.values(d??o),r=[];for(const l of a)for(const u of l)if(t._accept(u,c)){const f=r.push(u);if(s>0&&f===s)return r}return r}}static _accept(n,o){return o===void 0||(o&n.severity)===n.severity}static _merge(n){const o=new I.ResourceMap;for(let d of n)for(let c of d)o.set(c,!0);return Array.from(o.keys())}}e.MarkerService=t}),define(ee[40],te([0,1,73,9]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=y.default,e.INotificationService=(0,m.createDecorator)("notificationService");class N{}e.NoOpNotification=N}),define(ee[52],te([0,1,2,8,25,9]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,I.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return y.Disposable.None},registerValidator(){return y.Disposable.None},registerExternalUriResolver(){return y.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return y.Disposable.None},open(){return De(this,void 0,void 0,function*(){return!1})},resolveExternalUri(C){return De(this,void 0,void 0,function*(){return{resolved:C,dispose(){}}})}});function S(C,h){return N.URI.isUri(C)?(0,m.equalsIgnoreCase)(C.scheme,h):(0,m.startsWithIgnoreCase)(C,h+":")}e.matchesScheme=S;function b(C,...h){return h.some(g=>S(C,g))}e.matchesSomeScheme=b}),define(ee[614],te([0,1,7,21,80,48,214,49,41,25,28,26,580,52]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let o=class{constructor(a){this._commandService=a}open(a,r){return De(this,void 0,void 0,function*(){if(!(0,n.matchesScheme)(a,b.Schemas.command))return!1;if(!(r==null?void 0:r.allowCommands))return!0;typeof a=="string"&&(a=h.URI.parse(a));let l=[];try{l=(0,S.parse)(decodeURIComponent(a.query))}catch{try{l=(0,S.parse)(a.query)}catch{}}return Array.isArray(l)||(l=[l]),yield this._commandService.executeCommand(a.path,...l),!0})}};o=Be([me(0,t.ICommandService)],o);let d=class{constructor(a){this._editorService=a}open(a,r){return De(this,void 0,void 0,function*(){typeof a=="string"&&(a=h.URI.parse(a));let l;const u=/^L?(\d+)(?:,(\d+))?/.exec(a.fragment);return u&&(l={startLineNumber:parseInt(u[1]),startColumn:u[2]?parseInt(u[2]):1},a=a.with({fragment:""})),a.scheme===b.Schemas.file&&(a=(0,C.normalizePath)(a)),yield this._editorService.openCodeEditor({resource:a,options:Object.assign({selection:l,context:(r==null?void 0:r.fromUserGesture)?i.EditorOpenContext.USER:i.EditorOpenContext.API},r==null?void 0:r.editorOptions)},this._editorService.getFocusedCodeEditor(),r==null?void 0:r.openToSide),!0})}};d=Be([me(0,g.ICodeEditorService)],d);let c=class{constructor(a,r){this._openers=new N.LinkedList,this._validators=new N.LinkedList,this._resolvers=new N.LinkedList,this._resolvedUriTargets=new I.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new N.LinkedList,this._defaultExternalOpener={openExternal:l=>De(this,void 0,void 0,function*(){return(0,n.matchesSomeScheme)(l,b.Schemas.http,b.Schemas.https)?y.windowOpenNoOpener(l):window.location.href=l,!0})},this._openers.push({open:(l,u)=>De(this,void 0,void 0,function*(){return(u==null?void 0:u.openExternal)||(0,n.matchesSomeScheme)(l,b.Schemas.mailto,b.Schemas.http,b.Schemas.https,b.Schemas.vsls)?(yield this._doOpenExternal(l,u),!0):!1})}),this._openers.push(new o(r)),this._openers.push(new d(a))}registerOpener(a){return{dispose:this._openers.unshift(a)}}registerValidator(a){return{dispose:this._validators.push(a)}}registerExternalUriResolver(a){return{dispose:this._resolvers.push(a)}}setDefaultExternalOpener(a){this._defaultExternalOpener=a}registerExternalOpener(a){return{dispose:this._externalOpeners.push(a)}}open(a,r){var l;return De(this,void 0,void 0,function*(){const u=typeof a=="string"?h.URI.parse(a):a,f=(l=this._resolvedUriTargets.get(u))!==null&&l!==void 0?l:a;for(const w of this._validators)if(!(yield w.shouldOpen(f)))return!1;for(const w of this._openers)if(yield w.open(a,r))return!0;return!1})}resolveExternalUri(a,r){return De(this,void 0,void 0,function*(){for(const l of this._resolvers)try{const u=yield l.resolveExternalUri(a,r);if(u)return this._resolvedUriTargets.has(u.resolved)||this._resolvedUriTargets.set(u.resolved,a),u}catch{}throw new Error("Could not resolve external URI: "+a.toString())})}_doOpenExternal(a,r){return De(this,void 0,void 0,function*(){const l=typeof a=="string"?h.URI.parse(a):a;let u;try{u=(yield this.resolveExternalUri(l,r)).resolved}catch{u=l}let f;if(typeof a=="string"&&l.toString()===u.toString()?f=a:f=encodeURI(u.toString(!0)),r==null?void 0:r.allowContributedOpeners){const w=typeof(r==null?void 0:r.allowContributedOpeners)=="string"?r==null?void 0:r.allowContributedOpeners:void 0;for(const v of this._externalOpeners)if(yield v.openExternal(f,{sourceUri:l,preferredOpenerId:w},m.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(f,{sourceUri:l},m.CancellationToken.None)})}dispose(){this._validators.clear()}};c=Be([me(0,g.ICodeEditorService),me(1,t.ICommandService)],c),e.OpenerService=c}),define(ee[69],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=void 0,e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class m{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}e.Progress=m,m.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,y.createDecorator)("editorProgressService")}),define(ee[615],te([0,1,10,21,2]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var I;(function(h){h[h.NO_ACTION=0]="NO_ACTION",h[h.CLOSE_PICKER=1]="CLOSE_PICKER",h[h.REFRESH_PICKER=2]="REFRESH_PICKER",h[h.REMOVE_ITEM=3]="REMOVE_ITEM"})(I=e.TriggerAction||(e.TriggerAction={}));function S(h){const g=h;return Array.isArray(g.items)}function b(h){const g=h;return!!g.picks&&g.additionalPicks instanceof Promise}class C extends N.Disposable{constructor(g,t){super();this.prefix=g,this.options=t}provide(g,t){var i;const n=new N.DisposableStore;g.canAcceptInBackground=!!((i=this.options)===null||i===void 0?void 0:i.canAcceptInBackground),g.matchOnLabel=g.matchOnDescription=g.matchOnDetail=g.sortByLabel=!1;let o;const d=n.add(new N.MutableDisposable),c=()=>De(this,void 0,void 0,function*(){const s=d.value=new N.DisposableStore;o==null||o.dispose(!0),g.busy=!1,o=new m.CancellationTokenSource(t);const a=o.token,r=g.value.substr(this.prefix.length).trim(),l=this._getPicks(r,s,a),u=(f,w)=>{var v;let p,_;if(S(f)?(p=f.items,_=f.active):p=f,p.length===0){if(w)return!1;r.length>0&&((v=this.options)===null||v===void 0?void 0:v.noResultsPick)&&(p=[this.options.noResultsPick])}return g.items=p,_&&(g.activeItems=[_]),!0};if(l!==null)if(b(l)){let f=!1,w=!1;yield Promise.all([(()=>De(this,void 0,void 0,function*(){yield(0,y.timeout)(C.FAST_PICKS_RACE_DELAY),!a.isCancellationRequested&&(w||(f=u(l.picks,!0)))}))(),(()=>De(this,void 0,void 0,function*(){g.busy=!0;try{const v=yield l.additionalPicks;if(a.isCancellationRequested)return;let p,_;S(l.picks)?(p=l.picks.items,_=l.picks.active):p=l.picks;let L,E;if(S(v)?(L=v.items,E=v.active):L=v,L.length>0||!f){let M;if(!_&&!E){const k=g.activeItems[0];k&&p.indexOf(k)!==-1&&(M=k)}u({items:[...p,...L],active:_||E||M})}}finally{a.isCancellationRequested||(g.busy=!1),w=!0}}))()])}else if(!(l instanceof Promise))u(l);else{g.busy=!0;try{const f=yield l;if(a.isCancellationRequested)return;u(f)}finally{a.isCancellationRequested||(g.busy=!1)}}});return n.add(g.onDidChangeValue(()=>c())),c(),n.add(g.onDidAccept(s=>{const[a]=g.selectedItems;typeof(a==null?void 0:a.accept)=="function"&&(s.inBackground||g.hide(),a.accept(g.keyMods,s))})),n.add(g.onDidTriggerItemButton(({button:s,item:a})=>De(this,void 0,void 0,function*(){var r,l;if(typeof a.trigger=="function"){const u=(l=(r=a.buttons)===null||r===void 0?void 0:r.indexOf(s))!==null&&l!==void 0?l:-1;if(u>=0){const f=a.trigger(u,g.keyMods),w=typeof f=="number"?f:yield f;if(t.isCancellationRequested)return;switch(w){case I.NO_ACTION:break;case I.CLOSE_PICKER:g.hide();break;case I.REFRESH_PICKER:c();break;case I.REMOVE_ITEM:{const v=g.items.indexOf(a);if(v!==-1){const p=g.items.slice(),_=p.splice(v,1),L=g.activeItems.filter(M=>M!==_[0]),E=g.keepScrollPosition;g.keepScrollPosition=!0,g.items=p,L&&(g.activeItems=L),g.keepScrollPosition=E}break}}}}}))),n}}e.PickerQuickAccessProvider=C,C.FAST_PICKS_RACE_DELAY=200});var $t=this&&this.__createBinding||(Object.create?function(K,e,y,m){m===void 0&&(m=y),Object.defineProperty(K,m,{enumerable:!0,get:function(){return e[y]}})}:function(K,e,y,m){m===void 0&&(m=y),K[m]=e[y]}),Gt=this&&this.__exportStar||function(K,e){for(var y in K)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&$t(e,K,y)};define(ee[77],te([0,1,9,218]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,Gt(m,e),e.IQuickInputService=(0,y.createDecorator)("quickInputService")}),define(ee[36],te([0,1,211,20]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class N{constructor(){this.data=new Map}add(S,b){y.ok(m.isString(S)),y.ok(m.isObject(b)),y.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,b)}as(S){return this.data.get(S)||null}}e.Registry=new N}),define(ee[197],te([0,1,4,36]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function N(b){return b.length>0&&b.charAt(b.length-1)==="#"?b.substring(0,b.length-1):b}class I{constructor(){this._onDidChangeSchema=new y.Emitter,this.schemasById={}}registerSchema(C,h){this.schemasById[N(C)]=h,this._onDidChangeSchema.fire(C)}notifySchemaChanged(C){this._onDidChangeSchema.fire(C)}}const S=new I;m.Registry.add(e.Extensions.JSONContribution,S)}),define(ee[101],te([0,1,19,4,20,568,197,36]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const C=b.Registry.as(S.Extensions.JSONContribution);class h{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new m.Emitter,this._onDidUpdateConfiguration=new m.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:I.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},C.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,a=!0){this.registerConfigurations([s],a)}registerConfigurations(s,a=!0){const r=this.doRegisterConfigurations(s,a);C.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}registerDefaultConfigurations(s){var a;const r=[],l=[];for(const{overrides:u,source:f}of s)for(const w in u)if(r.push(w),e.OVERRIDE_PROPERTY_REGEX.test(w)){const v=Object.assign(Object.assign({},((a=this.configurationDefaultsOverrides.get(w))===null||a===void 0?void 0:a.value)||{}),u[w]);this.configurationDefaultsOverrides.set(w,{source:f,value:v});const p={type:"object",default:v,description:I.localize(1,null,w),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:v,source:N.isString(f)?void 0:f};l.push(...i(w)),this.configurationProperties[w]=p,this.defaultLanguageConfigurationOverridesNode.properties[w]=p}else{this.configurationDefaultsOverrides.set(w,{value:u[w],source:f});const v=this.configurationProperties[w];v&&(this.updatePropertyDefaultValue(w,v),this.updateSchema(w,v))}this.registerOverrideIdentifiers(l),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r,defaultsOverrides:!0})}registerOverrideIdentifiers(s){for(const a of s)this.overrideIdentifiers.add(a);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,a){const r=[];return s.forEach(l=>{r.push(...this.validateAndRegisterProperties(l,a,l.extensionInfo,l.restrictedProperties)),this.configurationContributors.push(l),this.registerJSONConfiguration(l)}),r}validateAndRegisterProperties(s,a=!0,r,l,u=3){u=N.isUndefinedOrNull(s.scope)?u:s.scope;let f=[],w=s.properties;if(w)for(let p in w){if(a&&d(p)){delete w[p];continue}const _=w[p];if(_.source=r,_.defaultDefaultValue=w[p].default,this.updatePropertyDefaultValue(p,_),e.OVERRIDE_PROPERTY_REGEX.test(p)?_.scope=void 0:(_.scope=N.isUndefinedOrNull(_.scope)?u:_.scope,_.restricted=N.isUndefinedOrNull(_.restricted)?!!(l==null?void 0:l.includes(p)):_.restricted),w[p].hasOwnProperty("included")&&!w[p].included){this.excludedConfigurationProperties[p]=w[p],delete w[p];continue}else this.configurationProperties[p]=w[p];!w[p].deprecationMessage&&w[p].markdownDeprecationMessage&&(w[p].deprecationMessage=w[p].markdownDeprecationMessage),f.push(p)}let v=s.allOf;if(v)for(let p of v)f.push(...this.validateAndRegisterProperties(p,a,r,l,u));return f}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(s){const a=r=>{let l=r.properties;if(l)for(const f in l)this.updateSchema(f,l[f]);let u=r.allOf;u&&u.forEach(a)};a(s)}updateSchema(s,a){switch(e.allSettings.properties[s]=a,a.scope){case 1:e.applicationSettings.properties[s]=a;break;case 2:e.machineSettings.properties[s]=a;break;case 6:e.machineOverridableSettings.properties[s]=a;break;case 3:e.windowSettings.properties[s]=a;break;case 4:e.resourceSettings.properties[s]=a;break;case 5:e.resourceSettings.properties[s]=a,this.resourceLanguageSettingsSchema.properties[s]=a;break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const a=`[${s}]`,r={type:"object",description:I.localize(2,null),errorMessage:I.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(a,r),e.allSettings.properties[a]=r,e.applicationSettings.properties[a]=r,e.machineSettings.properties[a]=r,e.machineOverridableSettings.properties[a]=r,e.windowSettings.properties[a]=r,e.resourceSettings.properties[a]=r}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const s={type:"object",description:I.localize(4,null),errorMessage:I.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,a){const r=this.configurationDefaultsOverrides.get(s);let l=r==null?void 0:r.value,u=r==null?void 0:r.source;N.isUndefined(l)&&(l=a.defaultDefaultValue,u=void 0),N.isUndefined(l)&&(l=n(a.type)),a.default=l,a.defaultValueSource=u}}const g="\\[([^\\]]+)\\]",t=new RegExp(g,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${g})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(c){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(c)){let a=t.exec(c);for(;a==null?void 0:a.length;){const r=a[1].trim();r&&s.push(r),a=t.exec(c)}}return(0,y.distinct)(s)}e.overrideIdentifiersFromKey=i;function n(c){switch(Array.isArray(c)?c[0]:c){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=n;const o=new h;b.Registry.add(e.Extensions.Configuration,o);function d(c){return c.trim()?e.OVERRIDE_PROPERTY_REGEX.test(c)?I.localize(7,null,c):o.getConfigurationProperties()[c]!==void 0?I.localize(8,null,c):null:I.localize(6,null)}e.validateProperty=d}),define(ee[616],te([0,1,30,492,101,36]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:m.localize(0,null),scope:5});const S=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:y.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:m.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:m.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:m.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:m.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:m.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:m.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[m.localize(7,null),m.localize(8,null),m.localize(9,null)],description:m.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[m.localize(11,null),m.localize(12,null),m.localize(13,null)],default:"configuredByTheme",description:m.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:m.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:m.localize(16,null)},"editor.language.brackets":{type:"array",default:!1,description:m.localize(17,null),items:{type:"array",items:[{type:"string",description:m.localize(18,null)},{type:"string",description:m.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:m.localize(20,null),items:{type:"array",items:[{type:"string",description:m.localize(21,null)},{type:"string",description:m.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:m.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:m.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:m.localize(25,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:m.localize(26,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:m.localize(27,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:m.localize(28,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[m.localize(29,null),m.localize(30,null),m.localize(31,null)]}}});function b(n){return typeof n.type!="undefined"||typeof n.anyOf!="undefined"}for(const n of y.editorOptionsRegistry){const o=n.schema;if(typeof o!="undefined")if(b(o))S.properties[`editor.${n.name}`]=o;else for(const d in o)Object.hasOwnProperty.call(o,d)&&(S.properties[d]=o[d])}let C=null;function h(){return C===null&&(C=Object.create(null),Object.keys(S.properties).forEach(n=>{C[n]=!0})),C}function g(n){return h()[`editor.${n}`]||!1}e.isEditorConfigurationKey=g;function t(n){return h()[`diffEditor.${n}`]||!1}e.isDiffEditorConfigurationKey=t,I.Registry.as(N.Extensions.Configuration).registerConfiguration(S)}),define(ee[78],te([0,1,499,4,35,36,134,101]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class C{constructor(){this._onDidChangeLanguages=new m.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(g){return this._languages.push(g),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===g){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=C,e.ModesRegistry=new C,I.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[y.localize(0,null),"text"],mimetypes:[S.Mimes.text]}),N.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),I.Registry.as(b.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ee[102],te([0,1,320,52,34,14,263,4,2,62,78]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let i=class _i{constructor(o,d,c){this._options=o,this._languageService=d,this._openerService=c,this._onDidRenderAsync=new b.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(o,d,c){if(!o)return{element:document.createElement("span"),dispose:()=>{}};const s=new C.DisposableStore;return{element:s.add((0,y.renderMarkdown)(o,Object.assign(Object.assign({},this._getRenderOptions(o,s)),d),c)).element,dispose:()=>s.dispose()}}_getRenderOptions(o,d){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(c,s)=>De(this,void 0,void 0,function*(){var a,r,l;let u;c?u=this._languageService.getLanguageIdByLanguageName(c):this._options.editor&&(u=(a=this._options.editor.getModel())===null||a===void 0?void 0:a.getLanguageId()),u||(u=g.PLAINTEXT_LANGUAGE_ID);const f=yield(0,S.tokenizeToString)(this._languageService,s,u),w=document.createElement("span");if(w.innerHTML=(l=(r=_i._ttpTokenizer)===null||r===void 0?void 0:r.createHTML(f))!==null&&l!==void 0?l:f,this._options.editor){const v=this._options.editor.getOption(44);(0,h.applyFontInfo)(w,v)}else this._options.codeBlockFontFamily&&(w.style.fontFamily=this._options.codeBlockFontFamily);return w}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:c=>this._openerService.open(c,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:o.isTrusted}).catch(I.onUnexpectedError),disposables:d}}}};i._ttpTokenizer=(t=window.trustedTypes)===null||t===void 0?void 0:t.createPolicy("tokenizeToString",{createHTML(n){return n}}),i=Be([me(1,N.ILanguageService),me(2,m.IOpenerService)],i),e.MarkdownRenderer=i}),define(ee[617],te([0,1,49,41,78,261]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;function S(h,g,t,i){const n=i===I.FileKind.ROOT_FOLDER?["rootfolder-icon"]:i===I.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(t){let o;if(t.scheme===y.Schemas.data?o=m.DataUri.parseMetaData(t).get(m.DataUri.META_DATA_LABEL):o=C((0,m.basenameOrAuthority)(t).toLowerCase()),i===I.FileKind.FOLDER)n.push(`${o}-name-folder-icon`);else{if(o){if(n.push(`${o}-name-file-icon`),o.length<=255){const c=o.split(".");for(let s=1;s<c.length;s++)n.push(`${c.slice(s).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}const d=b(h,g,t);d&&n.push(`${C(d)}-lang-file-icon`)}}return n}e.getIconClasses=S;function b(h,g,t){if(!t)return null;let i=null;if(t.scheme===y.Schemas.data){const o=m.DataUri.parseMetaData(t).get(m.DataUri.META_DATA_MIME);o&&(i=g.getLanguageIdByMimeType(o))}else{const n=h.getModel(t);n&&(i=n.getLanguageId())}return i&&i!==N.PLAINTEXT_LANGUAGE_ID?i:g.guessLanguageIdByFilepathOrFirstLine(t)}function C(h){return h.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=C}),define(ee[618],te([0,1,19,14,4,2,8,420,78,101,36]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const t=Object.prototype.hasOwnProperty,i="vs.editor.nullLanguage";class n{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(i,0),this._register(C.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(c,s){this._languageIdToLanguage[s]=c,this._languageToLanguageId.set(c,s)}register(c){if(this._languageToLanguageId.has(c))return;const s=this._nextLanguageId++;this._register(c,s)}encodeLanguageId(c){return this._languageToLanguageId.get(c)||0}decodeLanguageId(c){return this._languageIdToLanguage[c]||i}}e.LanguageIdCodec=n;class o extends I.Disposable{constructor(c=!0,s=!1){super();this._onDidChange=this._register(new N.Emitter),this.onDidChange=this._onDidChange.event,o.instanceCount++,this._warnOnOverwrite=s,this.languageIdCodec=new n,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},c&&(this._initializeFromRegistry(),this._register(C.ModesRegistry.onDidChangeLanguages(a=>{this._initializeFromRegistry()})))}dispose(){o.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,b.clearLanguageAssociations)();const c=[].concat(C.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(c)}_registerLanguages(c){for(const s of c)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{const a=this._languages[s];a.name&&(this._nameMap[a.name]=a.identifier),a.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=a.identifier}),a.mimetypes.forEach(r=>{this._mimeTypesMap[r]=a.identifier})}),g.Registry.as(h.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(c){const s=c.id;let a;t.call(this._languages,s)?a=this._languages[s]:(this.languageIdCodec.register(s),a={identifier:s,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[s]=a),this._mergeLanguage(a,c)}_mergeLanguage(c,s){const a=s.id;let r=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(c.mimetypes.push(...s.mimetypes),r=s.mimetypes[0]),r||(r=`text/x-${a}`,c.mimetypes.push(r)),Array.isArray(s.extensions)){s.configuration?c.extensions=s.extensions.concat(c.extensions):c.extensions=c.extensions.concat(s.extensions);for(let f of s.extensions)(0,b.registerLanguageAssociation)({id:a,mime:r,extension:f},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(let f of s.filenames)(0,b.registerLanguageAssociation)({id:a,mime:r,filename:f},this._warnOnOverwrite),c.filenames.push(f);if(Array.isArray(s.filenamePatterns))for(let f of s.filenamePatterns)(0,b.registerLanguageAssociation)({id:a,mime:r,filepattern:f},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let f=s.firstLine;f.charAt(0)!=="^"&&(f="^"+f);try{const w=new RegExp(f);(0,S.regExpLeadsToEndlessLoop)(w)||(0,b.registerLanguageAssociation)({id:a,mime:r,firstline:w},this._warnOnOverwrite)}catch(w){(0,m.onUnexpectedError)(w)}}c.aliases.push(a);let l=null;if(typeof s.aliases!="undefined"&&Array.isArray(s.aliases)&&(s.aliases.length===0?l=[null]:l=s.aliases),l!==null)for(const f of l)!f||f.length===0||c.aliases.push(f);const u=l!==null&&l.length>0;if(!(u&&l[0]===null)){const f=(u?l[0]:null)||a;(u||!c.name)&&(c.name=f)}s.configuration&&c.configurationFiles.push(s.configuration),s.icon&&c.icons.push(s.icon)}isRegisteredLanguageId(c){return c?t.call(this._languages,c):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(c){const s=c.toLowerCase();return t.call(this._lowercaseNameMap,s)?this._lowercaseNameMap[s]:null}getLanguageIdByMimeType(c){return c&&t.call(this._mimeTypesMap,c)?this._mimeTypesMap[c]:null}guessLanguageIdByFilepathOrFirstLine(c,s){if(!c&&!s)return[];const a=(0,b.getMimeTypes)(c,s);return(0,y.coalesce)(a.map(r=>this.getLanguageIdByMimeType(r)))}}e.LanguagesRegistry=o,o.instanceCount=0}),define(ee[619],te([0,1,4,2,618,19,18,78]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class C extends m.Disposable{constructor(t=!1){super();this._onDidEncounterLanguage=this._register(new y.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new y.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,C.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new N.LanguagesRegistry(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){C.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,i){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(t,i);return(0,I.firstOrDefault)(n,null)}createById(t){return new h(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,i){return new h(this.onDidChange,()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(t,i);return this._createAndGetLanguageIdentifier(n)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=b.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(t)||(this._encounteredLanguages.add(t),S.TokenizationRegistry.getOrCreate(t),this._onDidEncounterLanguage.fire(t)),t}}e.LanguageService=C,C.instanceCount=0;class h{constructor(t,i){this._onDidChangeLanguages=t,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new y.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const t=this._selector();t!==this.languageId&&(this.languageId=t,this._emitter&&this._emitter.fire(this.languageId))}}}),define(ee[620],te([0,1,7,19,65,2,102,250,52,225]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const g=y.$;class t extends I.Disposable{constructor(o,d,c=C.NullOpenerService){super();this._renderDisposeables=this._register(new I.DisposableStore),this._editor=o,this._isVisible=!1,this._messages=[],this._hover=this._register(new h.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new S.MarkdownRenderer({editor:this._editor},d,c)),this._computer=new i(this._editor),this._hoverOperation=this._register(new b.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return t.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(d=>this._editor.applyFontInfo(d))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(o){this._computer.lineNumber!==o&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=o,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(o){this._messages=o,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(o,d){this._renderDisposeables.clear();const c=document.createDocumentFragment();for(const s of d){const a=g("div.hover-row.markdown-hover"),r=y.append(a,g("div.hover-contents")),l=this._renderDisposeables.add(this._markdownRenderer.render(s.value));r.appendChild(l.element),c.appendChild(a)}this._updateContents(c),this._showAt(o)}_updateContents(o){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(o),this._updateFont()}_showAt(o){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const d=this._editor.getLayoutInfo(),c=this._editor.getTopForLineNumber(o),s=this._editor.getScrollTop(),a=this._editor.getOption(59),r=this._hover.containerDomNode.clientHeight,l=c-s-(r-a)/2;this._hover.containerDomNode.style.left=`${d.glyphMarginLeft+d.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(l),0)}px`}}e.MarginHoverWidget=t,t.ID="editor.contrib.modesGlyphHoverWidget";class i{constructor(o){this._editor=o,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(o){this._lineNumber=o}computeSync(){const o=s=>({value:s}),d=this._editor.getLineDecorations(this._lineNumber),c=[];if(!d)return c;for(const s of d){if(!s.options.glyphMarginClassName)continue;const a=s.options.glyphMarginHoverMessage;!a||(0,N.isEmptyMarkdownString)(a)||c.push(...(0,m.asArray)(a).map(o))}return c}}}),define(ee[273],te([0,1,33,7,66,27,4,65,2,102,30,254,557,9]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function o(s){return!!s&&Boolean(s.completion.documentation||s.completion.detail&&s.completion.detail!==s.completion.label)}e.canExpandCompletionItem=o;let d=class{constructor(a,r){this._editor=a,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new C.DisposableStore,this._renderDisposeable=new C.DisposableStore,this._borderWidth=1,this._size=new m.Dimension(330,0),this.domNode=m.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=r.createInstance(h.MarkdownRenderer,{editor:a}),this._body=m.$(".body"),this._scrollbar=new N.DomScrollableElement(this._body,{}),m.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=m.append(this._body,m.$(".header")),this._close=m.append(this._header,m.$("span"+I.Codicon.close.cssSelector)),this._close.title=i.localize(0,null),this._type=m.append(this._header,m.$("p.type")),this._docs=m.append(this._body,m.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const a=this._editor.getOptions(),r=a.get(44),l=r.getMassagedFontFamily(y.isSafari?g.EDITOR_FONT_DEFAULTS.fontFamily:null),u=a.get(107)||r.fontSize,f=a.get(108)||r.lineHeight,w=r.fontWeight,v=`${u}px`,p=`${f}px`;this.domNode.style.fontSize=v,this.domNode.style.lineHeight=`${f/u}`,this.domNode.style.fontWeight=w,this.domNode.style.fontFeatureSettings=r.fontFeatureSettings,this._type.style.fontFamily=l,this._close.style.height=p,this._close.style.width=p}getLayoutInfo(){const a=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,r=this._borderWidth,l=r*2;return{lineHeight:a,borderWidth:r,borderHeight:l,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=i.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(a,r){var l,u;this._renderDisposeable.clear();let{detail:f,documentation:w}=a.completion;if(r){let v="";v+=`score: ${a.score[0]}
`,v+=`prefix: ${(l=a.word)!==null&&l!==void 0?l:"(no prefix)"}
`,v+=`word: ${a.completion.filterText?a.completion.filterText+" (filterText)":a.textLabel}
`,v+=`distance: ${a.distance} (localityBonus-setting)
`,v+=`index: ${a.idx}, based on ${a.completion.sortText&&`sortText: "${a.completion.sortText}"`||"label"}
`,v+=`commit_chars: ${(u=a.completion.commitCharacters)===null||u===void 0?void 0:u.join("")}
`,w=new b.MarkdownString().appendCodeblock("empty",v),f=`Provider: ${a.provider._debugDisplayName}`}if(!r&&!o(a)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),f){const v=f.length>1e5?`${f.substr(0,1e5)}\u2026`:f;this._type.textContent=v,this._type.title=v,m.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(v))}else m.clearNode(this._type),this._type.title="",m.hide(this._type),this.domNode.classList.add("no-type");if(m.clearNode(this._docs),typeof w=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=w;else if(w){this._docs.classList.add("markdown-docs"),m.clearNode(this._docs);const v=this._markdownRenderer.render(w);this._docs.appendChild(v.element),this._renderDisposeable.add(v),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=v=>{v.preventDefault(),v.stopPropagation()},this._close.onclick=v=>{v.preventDefault(),v.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(a,r){const l=new m.Dimension(a,r);m.Dimension.equals(l,this._size)||(this._size=l,m.size(this.domNode,a,r)),this._scrollbar.scanDomNode()}scrollDown(a=8){this._body.scrollTop+=a}scrollUp(a=8){this._body.scrollTop-=a}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(a){this._borderWidth=a}get borderWidth(){return this._borderWidth}};d=Be([me(1,n.IInstantiationService)],d),e.SuggestDetailsWidget=d;class c{constructor(a,r){this.widget=a,this._editor=r,this._disposables=new C.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new t.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(a.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let l,u,f=0,w=0;this._disposables.add(this._resizable.onDidWillResize(()=>{l=this._topLeft,u=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(v=>{if(l&&u){this.widget.layout(v.dimension.width,v.dimension.height);let p=!1;v.west&&(w=u.width-v.dimension.width,p=!0),v.north&&(f=u.height-v.dimension.height,p=!0),p&&this._applyTopLeft({top:l.top+f,left:l.left+w})}v.done&&(l=void 0,u=void 0,f=0,w=0,this._userSize=v.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var v;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(v=this._userSize)!==null&&v!==void 0?v:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(a=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),a&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(a,r){var l;const u=a.getBoundingClientRect();this._anchorBox=u,this._preferAlignAtTop=r,this._placeAtAnchor(this._anchorBox,(l=this._userSize)!==null&&l!==void 0?l:this.widget.size,r)}_placeAtAnchor(a,r,l){var u;const f=m.getClientArea(document.body),w=this.widget.getLayoutInfo(),v=new m.Dimension(220,2*w.lineHeight),p=a.top,_=function(){const O=f.width-(a.left+a.width+w.borderWidth+w.horizontalPadding),P=-w.borderWidth+a.left+a.width,D=new m.Dimension(O,f.height-a.top-w.borderHeight-w.verticalPadding),x=D.with(void 0,a.top+a.height-w.borderHeight-w.verticalPadding);return{top:p,left:P,fit:O-r.width,maxSizeTop:D,maxSizeBottom:x,minSize:v.with(Math.min(O,v.width))}}(),L=function(){const O=a.left-w.borderWidth-w.horizontalPadding,P=Math.max(w.horizontalPadding,a.left-r.width-w.borderWidth),D=new m.Dimension(O,f.height-a.top-w.borderHeight-w.verticalPadding),x=D.with(void 0,a.top+a.height-w.borderHeight-w.verticalPadding);return{top:p,left:P,fit:O-r.width,maxSizeTop:D,maxSizeBottom:x,minSize:v.with(Math.min(O,v.width))}}(),E=function(){const O=a.left,P=-w.borderWidth+a.top+a.height,D=new m.Dimension(a.width-w.borderHeight,f.height-a.top-a.height-w.verticalPadding);return{top:P,left:O,fit:D.height-r.height,maxSizeBottom:D,maxSizeTop:D,minSize:v.with(D.width)}}(),M=[_,L,E],k=(u=M.find(O=>O.fit>=0))!==null&&u!==void 0?u:M.sort((O,P)=>P.fit-O.fit)[0],A=a.top+a.height-w.borderHeight;let F,B=r.height;const T=Math.max(k.maxSizeTop.height,k.maxSizeBottom.height);B>T&&(B=T);let R;l?B<=k.maxSizeTop.height?(F=!0,R=k.maxSizeTop):(F=!1,R=k.maxSizeBottom):B<=k.maxSizeBottom.height?(F=!1,R=k.maxSizeBottom):(F=!0,R=k.maxSizeTop),this._applyTopLeft({left:k.left,top:F?k.top:A-B}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!F,k===_,F,k!==_),this._resizable.minSize=k.minSize,this._resizable.maxSize=R,this._resizable.layout(B,Math.min(R.width,r.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(a){this._topLeft=a,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=c}),define(ee[621],te([0,1,19,48,38,20,25,39,101,36]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class g{constructor(d={},c=[],s=[]){this._contents=d,this._keys=c,this._overrides=s,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(d){return d?(0,b.getConfigurationValue)(this.contents,d):this.contents}getOverrideValue(d,c){const s=this.getContentsForOverrideIdentifer(c);return s?d?(0,b.getConfigurationValue)(s,d):s:void 0}override(d){let c=this.overrideConfigurations.get(d);return c||(c=this.createOverrideConfigurationModel(d),this.overrideConfigurations.set(d,c)),c}merge(...d){const c=N.deepClone(this.contents),s=N.deepClone(this.overrides),a=[...this.keys];for(const r of d){this.mergeContents(c,r.contents);for(const l of r.overrides){const[u]=s.filter(f=>y.equals(f.identifiers,l.identifiers));u?(this.mergeContents(u.contents,l.contents),u.keys.push(...l.keys),u.keys=y.distinct(u.keys)):s.push(N.deepClone(l))}for(const l of r.keys)a.indexOf(l)===-1&&a.push(l)}return new g(c,a,s)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(d){const c=this.getContentsForOverrideIdentifer(d);if(!c||typeof c!="object"||!Object.keys(c).length)return this;let s={};for(const a of y.distinct([...Object.keys(this.contents),...Object.keys(c)])){let r=this.contents[a],l=c[a];l&&(typeof r=="object"&&typeof l=="object"?(r=N.deepClone(r),this.mergeContents(r,l)):r=l),s[a]=r}return new g(s,this.keys,this.overrides)}mergeContents(d,c){for(const s of Object.keys(c)){if(s in d&&I.isObject(d[s])&&I.isObject(c[s])){this.mergeContents(d[s],c[s]);continue}d[s]=N.deepClone(c[s])}}checkAndFreeze(d){return this.isFrozen&&!Object.isFrozen(d)?N.deepFreeze(d):d}getContentsForOverrideIdentifer(d){let c=null,s=null;const a=r=>{r&&(s?this.mergeContents(s,r):s=N.deepClone(r))};for(const r of this.overrides)y.equals(r.identifiers,[d])?c=r.contents:r.identifiers.includes(d)&&a(r.contents);return a(c),s}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(d,c){this.addKey(d),(0,b.addToValueTree)(this.contents,d,c,s=>{throw new Error(s)})}removeValue(d){this.removeKey(d)&&(0,b.removeFromValueTree)(this.contents,d)}addKey(d){let c=this.keys.length;for(let s=0;s<c;s++)d.indexOf(this.keys[s])===0&&(c=s);this.keys.splice(c,1,d)}removeKey(d){let c=this.keys.indexOf(d);return c!==-1?(this.keys.splice(c,1),!0):!1}}e.ConfigurationModel=g;class t extends g{constructor(d={}){const c=h.Registry.as(C.Extensions.Configuration).getConfigurationProperties(),s=Object.keys(c),a=Object.create(null),r=[];for(const l in c){const u=d[l],f=u!==void 0?u:c[l].default;(0,b.addToValueTree)(a,l,f,w=>console.error(`Conflict in default settings: ${w}`))}for(const l of Object.keys(a))C.OVERRIDE_PROPERTY_REGEX.test(l)&&r.push({identifiers:(0,C.overrideIdentifiersFromKey)(l),keys:Object.keys(a[l]),contents:(0,b.toValuesTree)(a[l],u=>console.error(`Conflict in default settings file: ${u}`))});super(a,s,r)}}e.DefaultConfigurationModel=t;class i{constructor(d,c,s=new g,a=new g,r=new m.ResourceMap,l=new g,u=new m.ResourceMap,f=!0){this._defaultConfiguration=d,this._localUserConfiguration=c,this._remoteUserConfiguration=s,this._workspaceConfiguration=a,this._folderConfigurations=r,this._memoryConfiguration=l,this._memoryConfigurationByResource=u,this._freeze=f,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new m.ResourceMap,this._userConfiguration=null}getValue(d,c,s){return this.getConsolidateConfigurationModel(c,s).getValue(d)}updateValue(d,c,s={}){let a;s.resource?(a=this._memoryConfigurationByResource.get(s.resource),a||(a=new g,this._memoryConfigurationByResource.set(s.resource,a))):a=this._memoryConfiguration,c===void 0?a.removeValue(d):a.setValue(d,c),s.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(d,c,s){const a=this.getConsolidateConfigurationModel(c,s),r=this.getFolderConfigurationModelForResource(c.resource,s),l=c.resource?this._memoryConfigurationByResource.get(c.resource)||this._memoryConfiguration:this._memoryConfiguration,u=c.overrideIdentifier?this._defaultConfiguration.freeze().override(c.overrideIdentifier).getValue(d):this._defaultConfiguration.freeze().getValue(d),f=c.overrideIdentifier?this.userConfiguration.freeze().override(c.overrideIdentifier).getValue(d):this.userConfiguration.freeze().getValue(d),w=c.overrideIdentifier?this.localUserConfiguration.freeze().override(c.overrideIdentifier).getValue(d):this.localUserConfiguration.freeze().getValue(d),v=c.overrideIdentifier?this.remoteUserConfiguration.freeze().override(c.overrideIdentifier).getValue(d):this.remoteUserConfiguration.freeze().getValue(d),p=s?c.overrideIdentifier?this._workspaceConfiguration.freeze().override(c.overrideIdentifier).getValue(d):this._workspaceConfiguration.freeze().getValue(d):void 0,_=r?c.overrideIdentifier?r.freeze().override(c.overrideIdentifier).getValue(d):r.freeze().getValue(d):void 0,L=c.overrideIdentifier?l.override(c.overrideIdentifier).getValue(d):l.getValue(d),E=a.getValue(d),M=y.distinct(y.flatten(a.overrides.map(k=>k.identifiers))).filter(k=>a.getOverrideValue(d,k)!==void 0);return{defaultValue:u,userValue:f,userLocalValue:w,userRemoteValue:v,workspaceValue:p,workspaceFolderValue:_,memoryValue:L,value:E,default:u!==void 0?{value:this._defaultConfiguration.freeze().getValue(d),override:c.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(d,c.overrideIdentifier):void 0}:void 0,user:f!==void 0?{value:this.userConfiguration.freeze().getValue(d),override:c.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(d,c.overrideIdentifier):void 0}:void 0,userLocal:w!==void 0?{value:this.localUserConfiguration.freeze().getValue(d),override:c.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(d,c.overrideIdentifier):void 0}:void 0,userRemote:v!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(d),override:c.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(d,c.overrideIdentifier):void 0}:void 0,workspace:p!==void 0?{value:this._workspaceConfiguration.freeze().getValue(d),override:c.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(d,c.overrideIdentifier):void 0}:void 0,workspaceFolder:_!==void 0?{value:r==null?void 0:r.freeze().getValue(d),override:c.overrideIdentifier?r==null?void 0:r.freeze().getOverrideValue(d,c.overrideIdentifier):void 0}:void 0,memory:L!==void 0?{value:l.getValue(d),override:c.overrideIdentifier?l.getOverrideValue(d,c.overrideIdentifier):void 0}:void 0,overrideIdentifiers:M.length?M:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(d,c){let s=this.getConsolidatedConfigurationModelForResource(d,c);return d.overrideIdentifier?s.override(d.overrideIdentifier):s}getConsolidatedConfigurationModelForResource({resource:d},c){let s=this.getWorkspaceConsolidatedConfiguration();if(c&&d){const a=c.getFolder(d);a&&(s=this.getFolderConsolidatedConfiguration(a.uri)||s);const r=this._memoryConfigurationByResource.get(d);r&&(s=s.merge(r))}return s}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(d){let c=this._foldersConsolidatedConfigurations.get(d);if(!c){const s=this.getWorkspaceConsolidatedConfiguration(),a=this._folderConfigurations.get(d);a?(c=s.merge(a),this._freeze&&(c=c.freeze()),this._foldersConsolidatedConfigurations.set(d,c)):c=s}return c}getFolderConfigurationModelForResource(d,c){if(c&&d){const s=c.getFolder(d);if(s)return this._folderConfigurations.get(s.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((d,c)=>{const{contents:s,overrides:a,keys:r}=this._folderConfigurations.get(c);return d.push([c,{contents:s,overrides:a,keys:r}]),d},[])}}static parse(d){const c=this.parseConfigurationModel(d.defaults),s=this.parseConfigurationModel(d.user),a=this.parseConfigurationModel(d.workspace),r=d.folders.reduce((l,u)=>(l.set(S.URI.revive(u[0]),this.parseConfigurationModel(u[1])),l),new m.ResourceMap);return new i(c,s,new g,a,r,new g,new m.ResourceMap,!1)}static parseConfigurationModel(d){return new g(d.contents,d.keys,d.overrides).freeze()}}e.Configuration=i;class n{constructor(d,c,s,a){this.change=d,this.previous=c,this.currentConfiguraiton=s,this.currentWorkspace=a,this._previousConfiguration=void 0;const r=new Set;d.keys.forEach(u=>r.add(u)),d.overrides.forEach(([,u])=>u.forEach(f=>r.add(f))),this.affectedKeys=[...r.values()];const l=new g;this.affectedKeys.forEach(u=>l.setValue(u,{})),this.affectedKeysTree=l.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=i.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(d,c){var s;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,d)){if(c){const a=this.previousConfiguration?this.previousConfiguration.getValue(d,c,(s=this.previous)===null||s===void 0?void 0:s.workspace):void 0,r=this.currentConfiguraiton.getValue(d,c,this.currentWorkspace);return!N.equals(a,r)}return!0}return!1}doesAffectedKeysTreeContains(d,c){let s=(0,b.toValuesTree)({[c]:!0},()=>{}),a;for(;typeof s=="object"&&(a=Object.keys(s)[0]);){if(d=d[a],!d)return!1;s=s[a]}return!0}}e.ConfigurationChangeEvent=n}),define(ee[84],te([0,1,93,17,26,36]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(h){if(m.OS===1){if(h&&h.win)return h.win}else if(m.OS===2){if(h&&h.mac)return h.mac}else if(h&&h.linux)return h.linux;return h}registerKeybindingRule(h){const g=S.bindToCurrentPlatform(h);if(g&&g.primary){const t=(0,y.createKeybinding)(g.primary,m.OS);t&&this._registerDefaultKeybinding(t,h.id,h.args,h.weight,0,h.when)}if(g&&Array.isArray(g.secondary))for(let t=0,i=g.secondary.length;t<i;t++){const n=g.secondary[t],o=(0,y.createKeybinding)(n,m.OS);o&&this._registerDefaultKeybinding(o,h.id,h.args,h.weight,-t-1,h.when)}}registerCommandAndKeybindingRule(h){this.registerKeybindingRule(h),N.CommandsRegistry.registerCommand(h)}static _mightProduceChar(h){return h>=21&&h<=30||h>=31&&h<=56?!0:h===80||h===81||h===82||h===83||h===84||h===85||h===86||h===110||h===111||h===87||h===88||h===89||h===90||h===91||h===92}_assertNoCtrlAlt(h,g){h.ctrlKey&&h.altKey&&!h.metaKey&&S._mightProduceChar(h.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",h," for ",g)}_registerDefaultKeybinding(h,g,t,i,n,o){m.OS===1&&this._assertNoCtrlAlt(h.parts[0],g),this._coreKeybindings.push({keybinding:h.parts,command:g,commandArgs:t,when:o,weight1:i,weight2:n,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},I.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function b(C,h){return C.weight1!==h.weight1?C.weight1-h.weight1:C.command<h.command?-1:C.command>h.command?1:C.weight2-h.weight2}}),define(ee[622],te([0,1,471,472,16,84]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationWidgetContext=void 0;const S="suggestWidgetVisible";e.HistoryNavigationWidgetContext="historyNavigationWidget";const b="historyNavigationForwardsEnabled",C="historyNavigationBackwardsEnabled";function h(d,c,s){new N.RawContextKey(s,c).bindTo(d)}function g(d,c){return d.createScoped(c.target)}function t(d,c){return d.getContext(document.activeElement).getValue(c)}function i(d,c){const s=g(d,c);h(s,c,e.HistoryNavigationWidgetContext);const a=new N.RawContextKey(b,!0).bindTo(s),r=new N.RawContextKey(C,!0).bindTo(s);return{scopedContextKeyService:s,historyNavigationForwardsEnablement:a,historyNavigationBackwardsEnablement:r}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=i;let n=class extends y.FindInput{constructor(c,s,a,r,l=!1){super(c,s,l,a);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};n=Be([me(3,N.IContextKeyService)],n),e.ContextScopedFindInput=n;let o=class extends m.ReplaceInput{constructor(c,s,a,r,l=!1){super(c,s,l,a);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};o=Be([me(3,N.IContextKeyService)],o),e.ContextScopedReplaceInput=o,I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:N.ContextKeyExpr.and(N.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),N.ContextKeyExpr.equals(C,!0),N.ContextKeyExpr.equals(S,!1)),primary:16,secondary:[512|16],handler:d=>{const c=t(d.get(N.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showPreviousValue()}}),I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:N.ContextKeyExpr.and(N.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),N.ContextKeyExpr.equals(b,!0),N.ContextKeyExpr.equals(S,!1)),primary:18,secondary:[512|18],handler:d=>{const c=t(d.get(N.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showNextValue()}})}),define(ee[103],te([0,1,19,2,36]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var I;(function(b){b[b.PRESERVE=0]="PRESERVE",b[b.LAST=1]="LAST"})(I=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(C){return C.prefix.length===0?this.defaultProvider=C:this.providers.push(C),this.providers.sort((h,g)=>g.prefix.length-h.prefix.length),(0,m.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(C),1),this.defaultProvider===C&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,y.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(C){return C&&this.providers.find(g=>C.startsWith(g.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,N.Registry.add(e.Extensions.Quickaccess,new S)}),define(ee[623],te([0,1,2,575,103,77,36]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let b=class Ot{constructor(h){this.quickInputService=h,this.registry=S.Registry.as(N.Extensions.Quickaccess)}provide(h){const g=new y.DisposableStore;g.add(h.onDidAccept(()=>{const[n]=h.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),g.add(h.onDidChangeValue(n=>{const o=this.registry.getQuickAccessProvider(n.substr(Ot.PREFIX.length));o&&o.prefix&&o.prefix!==Ot.PREFIX&&this.quickInputService.quickAccess.show(o.prefix,{preserveValue:!0})}));const{editorProviders:t,globalProviders:i}=this.getQuickAccessProviders();return h.items=t.length===0||i.length===0?[...t.length===0?i:t]:[{label:(0,m.localize)(0,null),type:"separator"},...i,{label:(0,m.localize)(1,null),type:"separator"},...t],g}getQuickAccessProviders(){const h=[],g=[];for(const t of this.registry.getQuickAccessProviders().sort((i,n)=>i.prefix.localeCompare(n.prefix)))if(t.prefix!==Ot.PREFIX)for(const i of t.helpEntries){const n=i.prefix||t.prefix,o=n||"\u2026";(i.needsEditor?g:h).push({prefix:n,label:o,ariaLabel:(0,m.localize)(2,null,o,i.description),description:i.description})}return{editorProviders:g,globalProviders:h}}};b.PREFIX="?",b=Be([me(0,I.IQuickInputService)],b),e.HelpQuickAccessProvider=b}),define(ee[624],te([0,1,36,103,68,623]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),y.Registry.as(m.Extensions.Quickaccess).registerQuickAccessProvider({ctor:I.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:N.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(ee[625],te([0,1,10,21,86,2,9,103,77,36]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let g=class extends I.Disposable{constructor(i,n){super();this.quickInputService=i,this.instantiationService=n,this.registry=h.Registry.as(b.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",n){this.doShowOrPick(i,!1,n)}doShowOrPick(i,n,o){var d;const[c,s]=this.getOrInstantiateProvider(i),a=this.visibleQuickAccess,r=a==null?void 0:a.descriptor;if(a&&s&&r===s){i!==s.prefix&&!(o==null?void 0:o.preserveValue)&&(a.picker.value=i),this.adjustValueSelection(a.picker,s,o);return}if(s&&!(o==null?void 0:o.preserveValue)){let v;if(a&&r&&r!==s){const p=a.value.substr(r.prefix.length);p&&(v=`${s.prefix}${p}`)}if(!v){const p=c==null?void 0:c.defaultFilterValue;p===b.DefaultQuickAccessFilterValue.LAST?v=this.lastAcceptedPickerValues.get(s):typeof p=="string"&&(v=`${s.prefix}${p}`)}typeof v=="string"&&(i=v)}const l=new I.DisposableStore,u=l.add(this.quickInputService.createQuickPick());u.value=i,this.adjustValueSelection(u,s,o),u.placeholder=s==null?void 0:s.placeholder,u.quickNavigate=o==null?void 0:o.quickNavigateConfiguration,u.hideInput=!!u.quickNavigate&&!a,(typeof(o==null?void 0:o.itemActivation)=="number"||(o==null?void 0:o.quickNavigateConfiguration))&&(u.itemActivation=(d=o==null?void 0:o.itemActivation)!==null&&d!==void 0?d:C.ItemActivation.SECOND),u.contextKey=s==null?void 0:s.contextKey,u.filterValue=v=>v.substring(s?s.prefix.length:0),(s==null?void 0:s.placeholder)&&(u.ariaLabel=s==null?void 0:s.placeholder);let f;n&&(f=new y.DeferredPromise,l.add((0,N.once)(u.onWillAccept)(v=>{v.veto(),u.hide()}))),l.add(this.registerPickerListeners(u,c,s,i));const w=l.add(new m.CancellationTokenSource);if(c&&l.add(c.provide(u,w.token)),(0,N.once)(u.onDidHide)(()=>{u.selectedItems.length===0&&w.cancel(),l.dispose(),f==null||f.complete(u.selectedItems.slice(0))}),u.show(),n)return f==null?void 0:f.p}adjustValueSelection(i,n,o){var d;let c;(o==null?void 0:o.preserveValue)?c=[i.value.length,i.value.length]:c=[(d=n==null?void 0:n.prefix.length)!==null&&d!==void 0?d:0,i.value.length],i.valueSelection=c}registerPickerListeners(i,n,o,d){const c=new I.DisposableStore,s=this.visibleQuickAccess={picker:i,descriptor:o,value:d};return c.add((0,I.toDisposable)(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),c.add(i.onDidChangeValue(a=>{const[r]=this.getOrInstantiateProvider(a);r!==n?this.show(a,{preserveValue:!0}):s.value=a})),o&&c.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,i.value)})),c}getOrInstantiateProvider(i){const n=this.registry.getQuickAccessProvider(i);if(!n)return[void 0,void 0];let o=this.mapProviderToDescriptor.get(n);return o||(o=this.instantiationService.createInstance(n.ctor),this.mapProviderToDescriptor.set(n,o)),[o,n]}};g=Be([me(0,C.IQuickInputService),me(1,S.IInstantiationService)],g),e.QuickAccessController=g}),define(ee[79],te([0,1,4,2,20,323,9]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const b="__$__targetStorageMarker";e.IStorageService=(0,S.createDecorator)("storageService");var C;(function(t){t[t.NONE=0]="NONE",t[t.SHUTDOWN=1]="SHUTDOWN"})(C=e.WillSaveStateReason||(e.WillSaveStateReason={}));class h extends m.Disposable{constructor(i={flushInterval:h.DEFAULT_FLUSH_INTERVAL}){super();this.options=i,this._onDidChangeValue=this._register(new y.PauseableEmitter),this._onDidChangeTarget=this._register(new y.PauseableEmitter),this._onWillSaveState=this._register(new y.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(i,n){n===b?(i===0?this._globalKeyTargets=void 0:i===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:i})):this._onDidChangeValue.fire({scope:i,key:n,target:this.getKeyTargets(i)[n]})}get(i,n,o){var d;return(d=this.getStorage(n))===null||d===void 0?void 0:d.get(i,o)}getBoolean(i,n,o){var d;return(d=this.getStorage(n))===null||d===void 0?void 0:d.getBoolean(i,o)}getNumber(i,n,o){var d;return(d=this.getStorage(n))===null||d===void 0?void 0:d.getNumber(i,o)}store(i,n,o,d){if((0,N.isUndefinedOrNull)(n)){this.remove(i,o);return}this.withPausedEmitters(()=>{var c;this.updateKeyTarget(i,o,d),(c=this.getStorage(o))===null||c===void 0||c.set(i,n)})}remove(i,n){this.withPausedEmitters(()=>{var o;this.updateKeyTarget(i,n,void 0),(o=this.getStorage(n))===null||o===void 0||o.delete(i)})}withPausedEmitters(i){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{i()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(i,n,o){var d,c;const s=this.getKeyTargets(n);typeof o=="number"?s[i]!==o&&(s[i]=o,(d=this.getStorage(n))===null||d===void 0||d.set(b,JSON.stringify(s))):typeof s[i]=="number"&&(delete s[i],(c=this.getStorage(n))===null||c===void 0||c.set(b,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(i){return i===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(i){const n=this.get(b,i);if(n)try{return JSON.parse(n)}catch{}return Object.create(null)}}e.AbstractStorageService=h,h.DEFAULT_FLUSH_INTERVAL=60*1e3;class g extends h{constructor(){super();this.globalStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(1,i))),this._register(this.globalStorage.onDidChangeStorage(i=>this.emitDidChangeValue(0,i)))}getStorage(i){return i===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=g}),define(ee[626],te([0,1,10,86,48,3,267,54,9,79]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,C.createDecorator)("ICodeLensCache");class g{constructor(n,o){this.lineCount=n,this.data=o}}let t=class{constructor(n){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new N.LRUCache(20,.75);const o="codelens/cache";(0,y.runWhenIdle)(()=>n.remove(o,1));const d="codelens/cache2",c=n.get(d,1,"{}");this._deserialize(c),(0,m.once)(n.onWillSaveState)(s=>{s.reason===h.WillSaveStateReason.SHUTDOWN&&n.store(d,this._serialize(),1,1)})}put(n,o){const d=o.lenses.map(a=>{var r;return{range:a.symbol.range,command:a.symbol.command&&{id:"",title:(r=a.symbol.command)===null||r===void 0?void 0:r.title}}}),c=new S.CodeLensModel;c.add({lenses:d,dispose:()=>{}},this._fakeProvider);const s=new g(n.getLineCount(),c);this._cache.set(n.uri.toString(),s)}get(n){const o=this._cache.get(n.uri.toString());return o&&o.lineCount===n.getLineCount()?o.data:void 0}delete(n){this._cache.delete(n.uri.toString())}_serialize(){const n=Object.create(null);for(const[o,d]of this._cache){const c=new Set;for(const s of d.data.lenses)c.add(s.symbol.range.startLineNumber);n[o]={lineCount:d.lineCount,lines:[...c.values()]}}return JSON.stringify(n)}_deserialize(n){try{const o=JSON.parse(n);for(const d in o){const c=o[d],s=[];for(const r of c.lines)s.push({range:new I.Range(r,1,r,11)});const a=new S.CodeLensModel;a.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(d,new g(c.lineCount,a))}}catch{}}};t=Be([me(0,h.IStorageService)],t),e.CodeLensCache=t,(0,b.registerSingleton)(e.ICodeLensCache,t)}),define(ee[627],te([0,1,10,2,48,18,39,54,9,79]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class g{constructor(c){this.name=c}select(c,s,a){if(a.length===0)return 0;let r=a[0].score[0];for(let l=0;l<a.length;l++){const{score:u,completion:f}=a[l];if(u[0]!==r)break;if(f.preselect)return l}return 0}}e.Memory=g;class t extends g{constructor(){super("first")}memorize(c,s,a){}toJSON(){}fromJSON(){}}e.NoMemory=t;class i extends g{constructor(){super("recentlyUsed");this._cache=new N.LRUCache(300,.66),this._seq=0}memorize(c,s,a){const r=`${c.getLanguageId()}/${a.textLabel}`;this._cache.set(r,{touch:this._seq++,type:a.completion.kind,insertText:a.completion.insertText})}select(c,s,a){if(a.length===0)return 0;const r=c.getLineContent(s.lineNumber).substr(s.column-10,s.column-1);if(/\s$/.test(r))return super.select(c,s,a);let l=a[0].score[0],u=-1,f=-1,w=-1;for(let v=0;v<a.length&&a[v].score[0]===l;v++){const p=`${c.getLanguageId()}/${a[v].textLabel}`,_=this._cache.peek(p);if(_&&_.touch>w&&_.type===a[v].completion.kind&&_.insertText===a[v].completion.insertText&&(w=_.touch,f=v),a[v].completion.preselect&&u===-1)return u=v}return f!==-1?f:u!==-1?u:0}toJSON(){return this._cache.toJSON()}fromJSON(c){this._cache.clear();let s=0;for(const[a,r]of c)r.touch=s,r.type=typeof r.type=="number"?r.type:I.CompletionItemKinds.fromString(r.type),this._cache.set(a,r);this._seq=this._cache.size}}e.LRUMemory=i;class n extends g{constructor(){super("recentlyUsedByPrefix");this._trie=N.TernarySearchTree.forStrings(),this._seq=0}memorize(c,s,a){const{word:r}=c.getWordUntilPosition(s),l=`${c.getLanguageId()}/${r}`;this._trie.set(l,{type:a.completion.kind,insertText:a.completion.insertText,touch:this._seq++})}select(c,s,a){let{word:r}=c.getWordUntilPosition(s);if(!r)return super.select(c,s,a);let l=`${c.getLanguageId()}/${r}`,u=this._trie.get(l);if(u||(u=this._trie.findSubstr(l)),u)for(let f=0;f<a.length;f++){let{kind:w,insertText:v}=a[f].completion;if(w===u.type&&v===u.insertText)return f}return super.select(c,s,a)}toJSON(){let c=[];return this._trie.forEach((s,a)=>c.push([a,s])),c.sort((s,a)=>-(s[1].touch-a[1].touch)).forEach((s,a)=>s[1].touch=a),c.slice(0,200)}fromJSON(c){if(this._trie.clear(),c.length>0){this._seq=c[0][1].touch+1;for(const[s,a]of c)a.type=typeof a.type=="number"?a.type:I.CompletionItemKinds.fromString(a.type),this._trie.set(s,a)}}}e.PrefixMemory=n;let o=class Ft{constructor(c,s){this._storageService=c,this._configService=s,this._disposables=new m.DisposableStore,this._persistSoon=new y.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(c.onWillSaveState(a=>{a.reason===h.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(c,s,a){this._withStrategy(c,s).memorize(c,s,a),this._persistSoon.schedule()}select(c,s,a){return this._withStrategy(c,s).select(c,s,a)}_withStrategy(c,s){var a;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:c.getLanguageIdAtPosition(s.lineNumber,s.column),resource:c.uri});if(((a=this._strategy)===null||a===void 0?void 0:a.name)!==r){this._saveState();const l=Ft._strategyCtors.get(r)||t;this._strategy=new l;try{const f=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,w=this._storageService.get(`${Ft._storagePrefix}/${r}`,f);w&&this._strategy.fromJSON(JSON.parse(w))}catch{}}return this._strategy}_saveState(){if(this._strategy){const s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,a=JSON.stringify(this._strategy);this._storageService.store(`${Ft._storagePrefix}/${this._strategy.name}`,a,s,1)}}};o._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",i],["first",t]]),o._storagePrefix="suggest/memories",o=Be([me(0,h.IStorageService),me(1,S.IConfigurationService)],o),e.SuggestMemoryService=o,e.ISuggestMemoryService=(0,C.createDecorator)("ISuggestMemories"),(0,b.registerSingleton)(e.ISuggestMemoryService,o,!0)}),define(ee[85],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,y.createDecorator)("telemetryService")}),define(ee[628],te([0,1,476,14,72,2,48,73,20,574,26,39,126,9,42,615,79,85]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let a=class Bt extends d.PickerQuickAccessProvider{constructor(u,f,w,v,p,_){super(Bt.PREFIX,u);this.instantiationService=f,this.keybindingService=w,this.commandService=v,this.telemetryService=p,this.dialogService=_,this.commandsHistory=this._register(this.instantiationService.createInstance(r)),this.options=u}_getPicks(u,f,w){return De(this,void 0,void 0,function*(){const v=yield this.getCommandPicks(f,w);if(w.isCancellationRequested)return[];const p=[];for(const M of v){const k=(0,C.withNullAsUndefined)(Bt.WORD_FILTER(u,M.label)),A=M.commandAlias?(0,C.withNullAsUndefined)(Bt.WORD_FILTER(u,M.commandAlias)):void 0;k||A?(M.highlights={label:k,detail:this.options.showAlias?A:void 0},p.push(M)):u===M.commandId&&p.push(M)}const _=new Map;for(const M of p){const k=_.get(M.label);k?(M.description=M.commandId,k.description=k.commandId):_.set(M.label,M)}p.sort((M,k)=>{const A=this.commandsHistory.peek(M.commandId),F=this.commandsHistory.peek(k.commandId);return A&&F?A>F?-1:1:A?-1:F?1:M.label.localeCompare(k.label)});const L=[];let E=!1;for(let M=0;M<p.length;M++){const k=p[M],A=this.keybindingService.lookupKeybinding(k.commandId),F=A?(0,h.localize)(0,null,k.label,A.getAriaLabel()):k.label;M===0&&this.commandsHistory.peek(k.commandId)&&(L.push({type:"separator",label:(0,h.localize)(1,null)}),E=!0),M!==0&&E&&!this.commandsHistory.peek(k.commandId)&&(L.push({type:"separator",label:(0,h.localize)(2,null)}),E=!1),L.push(Object.assign(Object.assign({},k),{ariaLabel:F,detail:this.options.showAlias&&k.commandAlias!==k.label?k.commandAlias:void 0,keybinding:A,accept:()=>De(this,void 0,void 0,function*(){this.commandsHistory.push(k.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:k.commandId,from:"quick open"});try{yield this.commandService.executeCommand(k.commandId)}catch(B){(0,m.isCancellationError)(B)||this.dialogService.show(b.default.Error,(0,h.localize)(3,null,k.label,(0,y.toErrorMessage)(B)))}})}))}return L})}};a.PREFIX=">",a.WORD_FILTER=(0,N.or)(N.matchesPrefix,N.matchesWords,N.matchesContiguousSubString),a=Be([me(1,n.IInstantiationService),me(2,o.IKeybindingService),me(3,g.ICommandService),me(4,s.ITelemetryService),me(5,i.IDialogService)],a),e.AbstractCommandsQuickAccessProvider=a;let r=class nt extends I.Disposable{constructor(u,f){super();this.storageService=u,this.configurationService=f,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=nt.getConfiguredCommandHistoryLength(this.configurationService),nt.cache&&nt.cache.limit!==this.configuredCommandsHistoryLength&&(nt.cache.limit=this.configuredCommandsHistoryLength,nt.saveState(this.storageService))}load(){const u=this.storageService.get(nt.PREF_KEY_CACHE,0);let f;if(u)try{f=JSON.parse(u)}catch{}const w=nt.cache=new S.LRUCache(this.configuredCommandsHistoryLength,1);if(f){let v;f.usesLRU?v=f.entries:v=f.entries.sort((p,_)=>p.value-_.value),v.forEach(p=>w.set(p.key,p.value))}nt.counter=this.storageService.getNumber(nt.PREF_KEY_COUNTER,0,nt.counter)}push(u){!nt.cache||(nt.cache.set(u,nt.counter++),nt.saveState(this.storageService))}peek(u){var f;return(f=nt.cache)===null||f===void 0?void 0:f.peek(u)}static saveState(u){if(!nt.cache)return;const f={usesLRU:!0,entries:[]};nt.cache.forEach((w,v)=>f.entries.push({key:v,value:w})),u.store(nt.PREF_KEY_CACHE,JSON.stringify(f),0,0),u.store(nt.PREF_KEY_COUNTER,nt.counter,0,0)}static getConfiguredCommandHistoryLength(u){var f,w;const p=(w=(f=u.getValue().workbench)===null||f===void 0?void 0:f.commandPalette)===null||w===void 0?void 0:w.history;return typeof p=="number"?p:nt.DEFAULT_COMMANDS_HISTORY_LENGTH}};r.DEFAULT_COMMANDS_HISTORY_LENGTH=50,r.PREF_KEY_CACHE="commandPalette.mru.cache",r.PREF_KEY_COUNTER="commandPalette.mru.counter",r.counter=1,r=Be([me(0,c.IStorageService),me(1,t.IConfigurationService)],r),e.CommandsHistory=r}),define(ee[629],te([0,1,94,628]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class N extends m.AbstractCommandsQuickAccessProvider{constructor(S,b,C,h,g,t){super(S,b,C,h,g,t)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const b=[];for(const C of S.getSupportedActions())b.push({commandId:C.id,commandAlias:C.alias,label:(0,y.stripIcons)(C.label)||C.id});return b}}e.AbstractEditorCommandsQuickAccessProvider=N}),define(ee[23],te([0,1,10,29,4,20,576,197,36]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapUnicodeHighlight=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerUnicodeHighlightForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.simpleCheckboxBorder=e.simpleCheckboxForeground=e.simpleCheckboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function h(M){return`--vscode-${M.replace(".","-")}`}e.asCssVariableName=h,e.Extensions={ColorContribution:"base.contributions.colors"};class g{constructor(){this._onDidChangeSchema=new N.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(k,A,F,B=!1,T){let R={id:k,description:F,defaults:A,needsTransparency:B,deprecationMessage:T};this.colorsById[k]=R;let O={type:"string",description:F,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return T&&(O.deprecationMessage=T),this.colorSchema.properties[k]=O,this.colorReferenceSchema.enum.push(k),this.colorReferenceSchema.enumDescriptions.push(F),this._onDidChangeSchema.fire(),k}getColors(){return Object.keys(this.colorsById).map(k=>this.colorsById[k])}resolveDefaultColor(k,A){const F=this.colorsById[k];if(F&&F.defaults){const B=F.defaults[A.type];return _(B,A)}}getColorSchema(){return this.colorSchema}toString(){let k=(A,F)=>{let B=A.indexOf(".")===-1?0:1,T=F.indexOf(".")===-1?0:1;return B!==T?B-T:A.localeCompare(F)};return Object.keys(this.colorsById).sort(k).map(A=>`- \`${A}\`: ${this.colorsById[A].description}`).join(`
`)}}const t=new g;C.Registry.add(e.Extensions.ColorContribution,t);function i(M,k,A,F,B){return t.registerColor(M,k,A,F,B)}e.registerColor=i,e.foreground=i("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},S.localize(0,null)),e.errorForeground=i("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},S.localize(1,null)),e.descriptionForeground=i("descriptionForeground",{light:"#717171",dark:f(e.foreground,.7),hc:f(e.foreground,.7)},S.localize(2,null)),e.iconForeground=i("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},S.localize(3,null)),e.focusBorder=i("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},S.localize(4,null)),e.contrastBorder=i("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},S.localize(5,null)),e.activeContrastBorder=i("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},S.localize(6,null)),e.selectionBackground=i("selection.background",{light:null,dark:null,hc:null},S.localize(7,null)),e.textSeparatorForeground=i("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:m.Color.black},S.localize(8,null)),e.textLinkForeground=i("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},S.localize(9,null)),e.textLinkActiveForeground=i("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},S.localize(10,null)),e.textPreformatForeground=i("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},S.localize(11,null)),e.textBlockQuoteBackground=i("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},S.localize(12,null)),e.textBlockQuoteBorder=i("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:m.Color.white},S.localize(13,null)),e.textCodeBlockBackground=i("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:m.Color.black},S.localize(14,null)),e.widgetShadow=i("widget.shadow",{dark:f(m.Color.black,.36),light:f(m.Color.black,.16),hc:null},S.localize(15,null)),e.inputBackground=i("input.background",{dark:"#3C3C3C",light:m.Color.white,hc:m.Color.black},S.localize(16,null)),e.inputForeground=i("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(17,null)),e.inputBorder=i("input.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(18,null)),e.inputActiveOptionBorder=i("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},S.localize(19,null)),e.inputActiveOptionHoverBackground=i("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},S.localize(20,null)),e.inputActiveOptionBackground=i("inputOption.activeBackground",{dark:f(e.focusBorder,.4),light:f(e.focusBorder,.2),hc:m.Color.transparent},S.localize(21,null)),e.inputActiveOptionForeground=i("inputOption.activeForeground",{dark:m.Color.white,light:m.Color.black,hc:null},S.localize(22,null)),e.inputPlaceholderForeground=i("input.placeholderForeground",{light:f(e.foreground,.5),dark:f(e.foreground,.5),hc:f(e.foreground,.7)},S.localize(23,null)),e.inputValidationInfoBackground=i("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:m.Color.black},S.localize(24,null)),e.inputValidationInfoForeground=i("inputValidation.infoForeground",{dark:null,light:null,hc:null},S.localize(25,null)),e.inputValidationInfoBorder=i("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},S.localize(26,null)),e.inputValidationWarningBackground=i("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:m.Color.black},S.localize(27,null)),e.inputValidationWarningForeground=i("inputValidation.warningForeground",{dark:null,light:null,hc:null},S.localize(28,null)),e.inputValidationWarningBorder=i("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},S.localize(29,null)),e.inputValidationErrorBackground=i("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:m.Color.black},S.localize(30,null)),e.inputValidationErrorForeground=i("inputValidation.errorForeground",{dark:null,light:null,hc:null},S.localize(31,null)),e.inputValidationErrorBorder=i("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},S.localize(32,null)),e.selectBackground=i("dropdown.background",{dark:"#3C3C3C",light:m.Color.white,hc:m.Color.black},S.localize(33,null)),e.selectListBackground=i("dropdown.listBackground",{dark:null,light:null,hc:m.Color.black},S.localize(34,null)),e.selectForeground=i("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:m.Color.white},S.localize(35,null)),e.selectBorder=i("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hc:e.contrastBorder},S.localize(36,null)),e.simpleCheckboxBackground=i("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},S.localize(37,null)),e.simpleCheckboxForeground=i("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hc:e.selectForeground},S.localize(38,null)),e.simpleCheckboxBorder=i("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hc:e.selectBorder},S.localize(39,null)),e.buttonForeground=i("button.foreground",{dark:m.Color.white,light:m.Color.white,hc:m.Color.white},S.localize(40,null)),e.buttonBackground=i("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},S.localize(41,null)),e.buttonHoverBackground=i("button.hoverBackground",{dark:u(e.buttonBackground,.2),light:l(e.buttonBackground,.2),hc:null},S.localize(42,null)),e.buttonBorder=i("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hc:e.contrastBorder},S.localize(43,null)),e.buttonSecondaryForeground=i("button.secondaryForeground",{dark:m.Color.white,light:m.Color.white,hc:m.Color.white},S.localize(44,null)),e.buttonSecondaryBackground=i("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},S.localize(45,null)),e.buttonSecondaryHoverBackground=i("button.secondaryHoverBackground",{dark:u(e.buttonSecondaryBackground,.2),light:l(e.buttonSecondaryBackground,.2),hc:null},S.localize(46,null)),e.badgeBackground=i("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:m.Color.black},S.localize(47,null)),e.badgeForeground=i("badge.foreground",{dark:m.Color.white,light:"#333",hc:m.Color.white},S.localize(48,null)),e.scrollbarShadow=i("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},S.localize(49,null)),e.scrollbarSliderBackground=i("scrollbarSlider.background",{dark:m.Color.fromHex("#797979").transparent(.4),light:m.Color.fromHex("#646464").transparent(.4),hc:f(e.contrastBorder,.6)},S.localize(50,null)),e.scrollbarSliderHoverBackground=i("scrollbarSlider.hoverBackground",{dark:m.Color.fromHex("#646464").transparent(.7),light:m.Color.fromHex("#646464").transparent(.7),hc:f(e.contrastBorder,.8)},S.localize(51,null)),e.scrollbarSliderActiveBackground=i("scrollbarSlider.activeBackground",{dark:m.Color.fromHex("#BFBFBF").transparent(.4),light:m.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},S.localize(52,null)),e.progressBarBackground=i("progressBar.background",{dark:m.Color.fromHex("#0E70C0"),light:m.Color.fromHex("#0E70C0"),hc:e.contrastBorder},S.localize(53,null)),e.editorErrorBackground=i("editorError.background",{dark:null,light:null,hc:null},S.localize(54,null),!0),e.editorErrorForeground=i("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},S.localize(55,null)),e.editorErrorBorder=i("editorError.border",{dark:null,light:null,hc:m.Color.fromHex("#E47777").transparent(.8)},S.localize(56,null)),e.editorWarningBackground=i("editorWarning.background",{dark:null,light:null,hc:null},S.localize(57,null),!0),e.editorWarningForeground=i("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},S.localize(58,null)),e.editorWarningBorder=i("editorWarning.border",{dark:null,light:null,hc:m.Color.fromHex("#FFCC00").transparent(.8)},S.localize(59,null)),e.editorInfoBackground=i("editorInfo.background",{dark:null,light:null,hc:null},S.localize(60,null),!0),e.editorInfoForeground=i("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},S.localize(61,null)),e.editorInfoBorder=i("editorInfo.border",{dark:null,light:null,hc:m.Color.fromHex("#3794FF").transparent(.8)},S.localize(62,null)),e.editorHintForeground=i("editorHint.foreground",{dark:m.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},S.localize(63,null)),e.editorHintBorder=i("editorHint.border",{dark:null,light:null,hc:m.Color.fromHex("#eeeeee").transparent(.8)},S.localize(64,null)),e.sashHoverBorder=i("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hc:e.focusBorder},S.localize(65,null)),e.editorBackground=i("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:m.Color.black},S.localize(66,null)),e.editorForeground=i("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:m.Color.white},S.localize(67,null)),e.editorWidgetBackground=i("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},S.localize(68,null)),e.editorWidgetForeground=i("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(69,null)),e.editorWidgetBorder=i("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},S.localize(70,null)),e.editorWidgetResizeBorder=i("editorWidget.resizeBorder",{light:null,dark:null,hc:null},S.localize(71,null)),e.quickInputBackground=i("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(72,null)),e.quickInputForeground=i("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},S.localize(73,null)),e.quickInputTitleBackground=i("quickInputTitle.background",{dark:new m.Color(new m.RGBA(255,255,255,.105)),light:new m.Color(new m.RGBA(0,0,0,.06)),hc:"#000000"},S.localize(74,null)),e.pickerGroupForeground=i("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:m.Color.white},S.localize(75,null)),e.pickerGroupBorder=i("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:m.Color.white},S.localize(76,null)),e.keybindingLabelBackground=i("keybindingLabel.background",{dark:new m.Color(new m.RGBA(128,128,128,.17)),light:new m.Color(new m.RGBA(221,221,221,.4)),hc:m.Color.transparent},S.localize(77,null)),e.keybindingLabelForeground=i("keybindingLabel.foreground",{dark:m.Color.fromHex("#CCCCCC"),light:m.Color.fromHex("#555555"),hc:m.Color.white},S.localize(78,null)),e.keybindingLabelBorder=i("keybindingLabel.border",{dark:new m.Color(new m.RGBA(51,51,51,.6)),light:new m.Color(new m.RGBA(204,204,204,.4)),hc:new m.Color(new m.RGBA(111,195,223))},S.localize(79,null)),e.keybindingLabelBottomBorder=i("keybindingLabel.bottomBorder",{dark:new m.Color(new m.RGBA(68,68,68,.6)),light:new m.Color(new m.RGBA(187,187,187,.4)),hc:new m.Color(new m.RGBA(111,195,223))},S.localize(80,null)),e.editorSelectionBackground=i("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},S.localize(81,null)),e.editorSelectionForeground=i("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},S.localize(82,null)),e.editorInactiveSelection=i("editor.inactiveSelectionBackground",{light:f(e.editorSelectionBackground,.5),dark:f(e.editorSelectionBackground,.5),hc:f(e.editorSelectionBackground,.5)},S.localize(83,null),!0),e.editorSelectionHighlight=i("editor.selectionHighlightBackground",{light:p(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:p(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},S.localize(84,null),!0),e.editorSelectionHighlightBorder=i("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(85,null)),e.editorFindMatch=i("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},S.localize(86,null)),e.editorFindMatchHighlight=i("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},S.localize(87,null),!0),e.editorFindRangeHighlight=i("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},S.localize(88,null),!0),e.editorFindMatchBorder=i("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(89,null)),e.editorFindMatchHighlightBorder=i("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},S.localize(90,null)),e.editorFindRangeHighlightBorder=i("editor.findRangeHighlightBorder",{dark:null,light:null,hc:f(e.activeContrastBorder,.4)},S.localize(91,null),!0),e.searchEditorFindMatch=i("searchEditor.findMatchBackground",{light:f(e.editorFindMatchHighlight,.66),dark:f(e.editorFindMatchHighlight,.66),hc:e.editorFindMatchHighlight},S.localize(92,null)),e.searchEditorFindMatchBorder=i("searchEditor.findMatchBorder",{light:f(e.editorFindMatchHighlightBorder,.66),dark:f(e.editorFindMatchHighlightBorder,.66),hc:e.editorFindMatchHighlightBorder},S.localize(93,null)),e.editorHoverHighlight=i("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},S.localize(94,null),!0),e.editorHoverBackground=i("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(95,null)),e.editorHoverForeground=i("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},S.localize(96,null)),e.editorHoverBorder=i("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},S.localize(97,null)),e.editorHoverStatusBarBackground=i("editorHoverWidget.statusBarBackground",{dark:u(e.editorHoverBackground,.2),light:l(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},S.localize(98,null)),e.editorActiveLinkForeground=i("editorLink.activeForeground",{dark:"#4E94CE",light:m.Color.blue,hc:m.Color.cyan},S.localize(99,null)),e.editorInlayHintForeground=i("editorInlayHint.foreground",{dark:f(e.badgeForeground,.8),light:f(e.badgeForeground,.8),hc:e.badgeForeground},S.localize(100,null)),e.editorInlayHintBackground=i("editorInlayHint.background",{dark:f(e.badgeBackground,.6),light:f(e.badgeBackground,.3),hc:e.badgeBackground},S.localize(101,null)),e.editorInlayHintTypeForeground=i("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},S.localize(102,null)),e.editorInlayHintTypeBackground=i("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},S.localize(103,null)),e.editorInlayHintParameterForeground=i("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hc:e.editorInlayHintForeground},S.localize(104,null)),e.editorInlayHintParameterBackground=i("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hc:e.editorInlayHintBackground},S.localize(105,null)),e.editorLightBulbForeground=i("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},S.localize(106,null)),e.editorLightBulbAutoFixForeground=i("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},S.localize(107,null)),e.defaultInsertColor=new m.Color(new m.RGBA(155,185,85,.2)),e.defaultRemoveColor=new m.Color(new m.RGBA(255,0,0,.2)),e.diffInserted=i("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},S.localize(108,null),!0),e.diffRemoved=i("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},S.localize(109,null),!0),e.diffInsertedOutline=i("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},S.localize(110,null)),e.diffRemovedOutline=i("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},S.localize(111,null)),e.diffBorder=i("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(112,null)),e.diffDiagonalFill=i("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},S.localize(113,null)),e.listFocusBackground=i("list.focusBackground",{dark:null,light:null,hc:null},S.localize(114,null)),e.listFocusForeground=i("list.focusForeground",{dark:null,light:null,hc:null},S.localize(115,null)),e.listFocusOutline=i("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},S.localize(116,null)),e.listActiveSelectionBackground=i("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},S.localize(117,null)),e.listActiveSelectionForeground=i("list.activeSelectionForeground",{dark:m.Color.white,light:m.Color.white,hc:null},S.localize(118,null)),e.listActiveSelectionIconForeground=i("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},S.localize(119,null)),e.listInactiveSelectionBackground=i("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},S.localize(120,null)),e.listInactiveSelectionForeground=i("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},S.localize(121,null)),e.listInactiveSelectionIconForeground=i("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},S.localize(122,null)),e.listInactiveFocusBackground=i("list.inactiveFocusBackground",{dark:null,light:null,hc:null},S.localize(123,null)),e.listInactiveFocusOutline=i("list.inactiveFocusOutline",{dark:null,light:null,hc:null},S.localize(124,null)),e.listHoverBackground=i("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},S.localize(125,null)),e.listHoverForeground=i("list.hoverForeground",{dark:null,light:null,hc:null},S.localize(126,null)),e.listDropBackground=i("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},S.localize(127,null)),e.listHighlightForeground=i("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},S.localize(128,null)),e.listFocusHighlightForeground=i("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:v(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hc:e.listHighlightForeground},S.localize(129,null)),e.listInvalidItemForeground=i("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},S.localize(130,null)),e.listErrorForeground=i("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},S.localize(131,null)),e.listWarningForeground=i("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},S.localize(132,null)),e.listFilterWidgetBackground=i("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:m.Color.black},S.localize(133,null)),e.listFilterWidgetOutline=i("listFilterWidget.outline",{dark:m.Color.transparent,light:m.Color.transparent,hc:"#f38518"},S.localize(134,null)),e.listFilterWidgetNoMatchesOutline=i("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},S.localize(135,null)),e.listFilterMatchHighlight=i("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hc:null},S.localize(136,null)),e.listFilterMatchHighlightBorder=i("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hc:e.contrastBorder},S.localize(137,null)),e.treeIndentGuidesStroke=i("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},S.localize(138,null)),e.tableColumnsBorder=i("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},S.localize(139,null)),e.tableOddRowsBackgroundColor=i("tree.tableOddRowsBackground",{dark:f(e.foreground,.04),light:f(e.foreground,.04),hc:null},S.localize(140,null)),e.listDeemphasizedForeground=i("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},S.localize(141,null)),e._deprecatedQuickInputListFocusBackground=i("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,S.localize(142,null)),e.quickInputListFocusForeground=i("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},S.localize(143,null)),e.quickInputListFocusIconForeground=i("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hc:e.listActiveSelectionIconForeground},S.localize(144,null)),e.quickInputListFocusBackground=i("quickInputList.focusBackground",{dark:w(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:w(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hc:null},S.localize(145,null)),e.menuBorder=i("menu.border",{dark:null,light:null,hc:e.contrastBorder},S.localize(146,null)),e.menuForeground=i("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},S.localize(147,null)),e.menuBackground=i("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},S.localize(148,null)),e.menuSelectionForeground=i("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},S.localize(149,null)),e.menuSelectionBackground=i("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},S.localize(150,null)),e.menuSelectionBorder=i("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},S.localize(151,null)),e.menuSeparatorBackground=i("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},S.localize(152,null)),e.toolbarHoverBackground=i("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},S.localize(153,null)),e.toolbarHoverOutline=i("toolbar.hoverOutline",{dark:null,light:null,hc:e.activeContrastBorder},S.localize(154,null)),e.toolbarActiveBackground=i("toolbar.activeBackground",{dark:u(e.toolbarHoverBackground,.1),light:l(e.toolbarHoverBackground,.1),hc:null},S.localize(155,null)),e.snippetTabstopHighlightBackground=i("editor.snippetTabstopHighlightBackground",{dark:new m.Color(new m.RGBA(124,124,124,.3)),light:new m.Color(new m.RGBA(10,50,100,.2)),hc:new m.Color(new m.RGBA(124,124,124,.3))},S.localize(156,null)),e.snippetTabstopHighlightBorder=i("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},S.localize(157,null)),e.snippetFinalTabstopHighlightBackground=i("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},S.localize(158,null)),e.snippetFinalTabstopHighlightBorder=i("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new m.Color(new m.RGBA(10,50,100,.5)),hc:"#525252"},S.localize(159,null)),e.breadcrumbsForeground=i("breadcrumb.foreground",{light:f(e.foreground,.8),dark:f(e.foreground,.8),hc:f(e.foreground,.8)},S.localize(160,null)),e.breadcrumbsBackground=i("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hc:e.editorBackground},S.localize(161,null)),e.breadcrumbsFocusForeground=i("breadcrumb.focusForeground",{light:l(e.foreground,.2),dark:u(e.foreground,.1),hc:u(e.foreground,.1)},S.localize(162,null)),e.breadcrumbsActiveSelectionForeground=i("breadcrumb.activeSelectionForeground",{light:l(e.foreground,.2),dark:u(e.foreground,.1),hc:u(e.foreground,.1)},S.localize(163,null)),e.breadcrumbsPickerBackground=i("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},S.localize(164,null));const n=.5,o=m.Color.fromHex("#40C8AE").transparent(n),d=m.Color.fromHex("#40A6FF").transparent(n),c=m.Color.fromHex("#606060").transparent(.4),s=.4,a=1;e.mergeCurrentHeaderBackground=i("merge.currentHeaderBackground",{dark:o,light:o,hc:null},S.localize(165,null),!0),e.mergeCurrentContentBackground=i("merge.currentContentBackground",{dark:f(e.mergeCurrentHeaderBackground,s),light:f(e.mergeCurrentHeaderBackground,s),hc:f(e.mergeCurrentHeaderBackground,s)},S.localize(166,null),!0),e.mergeIncomingHeaderBackground=i("merge.incomingHeaderBackground",{dark:d,light:d,hc:null},S.localize(167,null),!0),e.mergeIncomingContentBackground=i("merge.incomingContentBackground",{dark:f(e.mergeIncomingHeaderBackground,s),light:f(e.mergeIncomingHeaderBackground,s),hc:f(e.mergeIncomingHeaderBackground,s)},S.localize(168,null),!0),e.mergeCommonHeaderBackground=i("merge.commonHeaderBackground",{dark:c,light:c,hc:null},S.localize(169,null),!0),e.mergeCommonContentBackground=i("merge.commonContentBackground",{dark:f(e.mergeCommonHeaderBackground,s),light:f(e.mergeCommonHeaderBackground,s),hc:f(e.mergeCommonHeaderBackground,s)},S.localize(170,null),!0),e.mergeBorder=i("merge.border",{dark:null,light:null,hc:"#C3DF6F"},S.localize(171,null)),e.overviewRulerCurrentContentForeground=i("editorOverviewRuler.currentContentForeground",{dark:f(e.mergeCurrentHeaderBackground,a),light:f(e.mergeCurrentHeaderBackground,a),hc:e.mergeBorder},S.localize(172,null)),e.overviewRulerIncomingContentForeground=i("editorOverviewRuler.incomingContentForeground",{dark:f(e.mergeIncomingHeaderBackground,a),light:f(e.mergeIncomingHeaderBackground,a),hc:e.mergeBorder},S.localize(173,null)),e.overviewRulerCommonContentForeground=i("editorOverviewRuler.commonContentForeground",{dark:f(e.mergeCommonHeaderBackground,a),light:f(e.mergeCommonHeaderBackground,a),hc:e.mergeBorder},S.localize(174,null)),e.overviewRulerFindMatchForeground=i("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},S.localize(175,null),!0),e.overviewRulerSelectionHighlightForeground=i("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},S.localize(176,null),!0),e.overviewRulerUnicodeHighlightForeground=i("editorOverviewRuler.unicodeForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},S.localize(177,null),!0),e.minimapFindMatch=i("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},S.localize(178,null),!0),e.minimapSelectionOccurrenceHighlight=i("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},S.localize(179,null),!0),e.minimapSelection=i("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},S.localize(180,null),!0),e.minimapError=i("minimap.errorHighlight",{dark:new m.Color(new m.RGBA(255,18,18,.7)),light:new m.Color(new m.RGBA(255,18,18,.7)),hc:new m.Color(new m.RGBA(255,50,50,1))},S.localize(181,null)),e.minimapWarning=i("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},S.localize(182,null)),e.minimapBackground=i("minimap.background",{dark:null,light:null,hc:null},S.localize(183,null)),e.minimapForegroundOpacity=i("minimap.foregroundOpacity",{dark:m.Color.fromHex("#000f"),light:m.Color.fromHex("#000f"),hc:m.Color.fromHex("#000f")},S.localize(184,null)),e.minimapUnicodeHighlight=i("minimap.unicodeHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},S.localize(185,null)),e.minimapSliderBackground=i("minimapSlider.background",{light:f(e.scrollbarSliderBackground,.5),dark:f(e.scrollbarSliderBackground,.5),hc:f(e.scrollbarSliderBackground,.5)},S.localize(186,null)),e.minimapSliderHoverBackground=i("minimapSlider.hoverBackground",{light:f(e.scrollbarSliderHoverBackground,.5),dark:f(e.scrollbarSliderHoverBackground,.5),hc:f(e.scrollbarSliderHoverBackground,.5)},S.localize(187,null)),e.minimapSliderActiveBackground=i("minimapSlider.activeBackground",{light:f(e.scrollbarSliderActiveBackground,.5),dark:f(e.scrollbarSliderActiveBackground,.5),hc:f(e.scrollbarSliderActiveBackground,.5)},S.localize(188,null)),e.problemsErrorIconForeground=i("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},S.localize(189,null)),e.problemsWarningIconForeground=i("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},S.localize(190,null)),e.problemsInfoIconForeground=i("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},S.localize(191,null)),e.chartsForeground=i("charts.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},S.localize(192,null)),e.chartsLines=i("charts.lines",{dark:f(e.foreground,.5),light:f(e.foreground,.5),hc:f(e.foreground,.5)},S.localize(193,null)),e.chartsRed=i("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},S.localize(194,null)),e.chartsBlue=i("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},S.localize(195,null)),e.chartsYellow=i("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},S.localize(196,null)),e.chartsOrange=i("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hc:e.minimapFindMatch},S.localize(197,null)),e.chartsGreen=i("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},S.localize(198,null)),e.chartsPurple=i("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},S.localize(199,null));function r(M,k){var A,F,B;switch(M.op){case 0:return(A=_(M.value,k))===null||A===void 0?void 0:A.darken(M.factor);case 1:return(F=_(M.value,k))===null||F===void 0?void 0:F.lighten(M.factor);case 2:return(B=_(M.value,k))===null||B===void 0?void 0:B.transparent(M.factor);case 3:for(const T of M.values){const R=_(T,k);if(R)return R}return;case 5:return _(k.defines(M.if)?M.then:M.else,k);case 4:{const T=_(M.value,k);if(!T)return;const R=_(M.background,k);return R?T.isDarkerThan(R)?m.Color.getLighterColor(T,R,M.factor).transparent(M.transparency):m.Color.getDarkerColor(T,R,M.factor).transparent(M.transparency):T.transparent(M.factor*M.transparency)}default:throw(0,I.assertNever)(M)}}e.executeTransform=r;function l(M,k){return{op:0,value:M,factor:k}}e.darken=l;function u(M,k){return{op:1,value:M,factor:k}}e.lighten=u;function f(M,k){return{op:2,value:M,factor:k}}e.transparent=f;function w(...M){return{op:3,values:M}}e.oneOf=w;function v(M,k,A){return{op:5,if:M,then:k,else:A}}e.ifDefinedThenElse=v;function p(M,k,A,F){return{op:4,value:M,background:k,factor:A,transparency:F}}function _(M,k){if(M!==null){if(typeof M=="string")return M[0]==="#"?m.Color.fromHex(M):k.getColor(M);if(M instanceof m.Color)return M;if(typeof M=="object")return r(M,k)}}e.resolveColorValue=_,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let L=C.Registry.as(b.Extensions.JSONContribution);L.registerSchema(e.workbenchColorsSchemaId,t.getColorSchema());const E=new y.RunOnceScheduler(()=>L.notifySchemaChanged(e.workbenchColorsSchemaId),200);t.onDidChangeSchema(()=>{E.isScheduled()||E.schedule()})}),define(ee[129],te([0,1,7,95,57,10,2,23]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class C{constructor(f,w){this.x=f,this.y=w,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new h(this.x-y.StandardWindow.scrollX,this.y-y.StandardWindow.scrollY)}}e.PageCoordinates=C;class h{constructor(f,w){this.clientX=f,this.clientY=w,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new C(this.clientX+y.StandardWindow.scrollX,this.clientY+y.StandardWindow.scrollY)}}e.ClientCoordinates=h;class g{constructor(f,w,v,p){this.x=f,this.y=w,this.width=v,this.height=p,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=g;class t{constructor(f,w){this.x=f,this.y=w,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=t;function i(u){const f=y.getDomNodePagePosition(u);return new g(f.left,f.top,f.width,f.height)}e.createEditorPagePosition=i;function n(u,f,w){const v=f.width/u.offsetWidth,p=f.height/u.offsetHeight,_=(w.x-f.x)/v,L=(w.y-f.y)/p;return new t(_,L)}e.createCoordinatesRelativeToEditor=n;class o extends N.StandardMouseEvent{constructor(f,w){super(f);this._editorMouseEventBrand=void 0,this.pos=new C(this.posx,this.posy),this.editorPos=i(w),this.relativePos=n(w,this.editorPos,this.pos)}}e.EditorMouseEvent=o;class d{constructor(f){this._editorViewDomNode=f}_create(f){return new o(f,this._editorViewDomNode)}onContextMenu(f,w){return y.addDisposableListener(f,"contextmenu",v=>{w(this._create(v))})}onMouseUp(f,w){return y.addDisposableListener(f,"mouseup",v=>{w(this._create(v))})}onMouseDown(f,w){return y.addDisposableListener(f,"mousedown",v=>{w(this._create(v))})}onMouseLeave(f,w){return y.addDisposableNonBubblingMouseOutListener(f,v=>{w(this._create(v))})}onMouseMoveThrottled(f,w,v,p){const _=(L,E)=>v(L,this._create(E));return y.addDisposableThrottledListener(f,"mousemove",w,_,p)}}e.EditorMouseEventFactory=d;class c{constructor(f){this._editorViewDomNode=f}_create(f){return new o(f,this._editorViewDomNode)}onPointerUp(f,w){return y.addDisposableListener(f,"pointerup",v=>{w(this._create(v))})}onPointerDown(f,w){return y.addDisposableListener(f,"pointerdown",v=>{w(this._create(v))})}onPointerLeave(f,w){return y.addDisposableNonBubblingPointerOutListener(f,v=>{w(this._create(v))})}onPointerMoveThrottled(f,w,v,p){const _=(L,E)=>v(L,this._create(E));return y.addDisposableThrottledListener(f,"pointermove",w,_,p)}}e.EditorPointerEventFactory=c;class s extends S.Disposable{constructor(f){super();this._editorViewDomNode=f,this._globalMouseMoveMonitor=this._register(new m.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(f,w,v,p,_){this._keydownListener=y.addStandardDisposableListener(document,"keydown",E=>{E.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,E.browserEvent)},!0);const L=(E,M)=>v(E,new o(M,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(f,w,L,p,E=>{this._keydownListener.dispose(),_(E)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=s;class a{constructor(f){this._editor=f,this._instanceId=++a._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new I.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(f){const w=this.getOrCreateRule(f);return w.increaseRefCount(),{className:w.className,dispose:()=>{w.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(f){const w=this.computeUniqueKey(f);let v=this._rules.get(w);if(!v){const p=this._counter++;v=new r(w,`dyn-rule-${this._instanceId}-${p}`,y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,f),this._rules.set(w,v)}return v}computeUniqueKey(f){return JSON.stringify(f)}garbageCollect(){for(const f of this._rules.values())f.hasReferences()||(this._rules.delete(f.key),f.dispose())}}e.DynamicCssRules=a,a._idPool=0;class r{constructor(f,w,v,p){this.key=f,this.className=w,this.properties=p,this._referenceCount=0,this._styleElement=y.createStyleSheet(v),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(f,w){let v=`.${f} {`;for(const p in w){const _=w[p];let L;typeof _=="object"?L=`var(${(0,b.asCssVariableName)(_.id)})`:L=_,v+=`
	${l(p)}: ${L};`}return v+=`
}`,v}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function l(u){return u.replace(/(^[A-Z])/,([f])=>f.toLowerCase()).replace(/([A-Z])/g,([f])=>`-${f.toLowerCase()}`)}}),define(ee[130],te([0,1,23]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function m(C,h){const g=Object.create(null);for(let t in h){const i=h[t];i&&(g[t]=(0,y.resolveColorValue)(i,C))}return g}e.computeStyles=m;function N(C,h,g){function t(){const i=m(C.getColorTheme(),h);typeof g=="function"?g(i):g.style(i)}return t(),C.onDidColorThemeChange(t)}e.attachStyler=N;function I(C,h,g){return N(h,{badgeBackground:(g==null?void 0:g.badgeBackground)||y.badgeBackground,badgeForeground:(g==null?void 0:g.badgeForeground)||y.badgeForeground,badgeBorder:y.contrastBorder},C)}e.attachBadgeStyler=I;function S(C,h,g){return N(h,Object.assign(Object.assign({},e.defaultListStyles),g||{}),C)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:y.listFocusBackground,listFocusForeground:y.listFocusForeground,listFocusOutline:y.listFocusOutline,listActiveSelectionBackground:y.listActiveSelectionBackground,listActiveSelectionForeground:y.listActiveSelectionForeground,listActiveSelectionIconForeground:y.listActiveSelectionIconForeground,listFocusAndSelectionBackground:y.listActiveSelectionBackground,listFocusAndSelectionForeground:y.listActiveSelectionForeground,listInactiveSelectionBackground:y.listInactiveSelectionBackground,listInactiveSelectionIconForeground:y.listInactiveSelectionIconForeground,listInactiveSelectionForeground:y.listInactiveSelectionForeground,listInactiveFocusBackground:y.listInactiveFocusBackground,listInactiveFocusOutline:y.listInactiveFocusOutline,listHoverBackground:y.listHoverBackground,listHoverForeground:y.listHoverForeground,listDropBackground:y.listDropBackground,listSelectionOutline:y.activeContrastBorder,listHoverOutline:y.activeContrastBorder,listFilterWidgetBackground:y.listFilterWidgetBackground,listFilterWidgetOutline:y.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:y.listFilterWidgetNoMatchesOutline,listMatchesShadow:y.widgetShadow,treeIndentGuidesStroke:y.treeIndentGuidesStroke,tableColumnsBorder:y.tableColumnsBorder,tableOddRowsBackgroundColor:y.tableOddRowsBackgroundColor},e.defaultMenuStyles={shadowColor:y.widgetShadow,borderColor:y.menuBorder,foregroundColor:y.menuForeground,backgroundColor:y.menuBackground,selectionForegroundColor:y.menuSelectionForeground,selectionBackgroundColor:y.menuSelectionBackground,selectionBorderColor:y.menuSelectionBorder,separatorColor:y.menuSeparatorBackground,scrollbarShadow:y.scrollbarShadow,scrollbarSliderBackground:y.scrollbarSliderBackground,scrollbarSliderHoverBackground:y.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:y.scrollbarSliderActiveBackground};function b(C,h,g){return N(h,Object.assign(Object.assign({},e.defaultMenuStyles),g),C)}e.attachMenuStyler=b}),define(ee[630],te([0,1,7,57,473,44,14,2,130,392]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class h{constructor(t,i,n,o,d){this.contextViewService=t,this.telemetryService=i,this.notificationService=n,this.keybindingService=o,this.themeService=d,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const i=t.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let n,o=(0,y.isHTMLElement)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:d=>{let c=t.getMenuClassName?t.getMenuClassName():"";c&&(d.className+=" "+c),this.options.blockMouse&&(this.block=d.appendChild((0,y.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,y.addDisposableListener)(this.block,y.EventType.MOUSE_DOWN,r=>r.stopPropagation()));const s=new b.DisposableStore,a=t.actionRunner||new I.ActionRunner;return a.onBeforeRun(this.onActionRun,this,s),a.onDidRun(this.onDidActionRun,this,s),n=new N.Menu(d,i,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:a,getKeyBinding:t.getKeyBinding?t.getKeyBinding:r=>this.keybindingService.lookupKeybinding(r.id)}),s.add((0,C.attachMenuStyler)(n,this.themeService)),n.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,s),n.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,s),s.add((0,y.addDisposableListener)(window,y.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),s.add((0,y.addDisposableListener)(window,y.EventType.MOUSE_DOWN,r=>{if(r.defaultPrevented)return;let l=new m.StandardMouseEvent(r),u=l.target;if(!l.rightButton){for(;u;){if(u===d)return;u=u.parentElement}this.contextViewService.hideContextView(!0)}})),(0,b.combinedDisposable)(s,n)},focus:()=>{n&&n.focus(!!t.autoSelectFirstItem)},onHide:d=>{t.onHide&&t.onHide(!!d),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},o,!!o)}onActionRun(t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(t){t.error&&!(0,S.isCancellationError)(t.error)&&this.notificationService.error(t.error)}}e.ContextMenuHandler=h}),define(ee[131],te([0,1]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var y;(function(m){m.DARK="dark",m.LIGHT="light",m.HIGH_CONTRAST="hc"})(y=e.ColorScheme||(e.ColorScheme={}))}),define(ee[274],te([0,1,33,31,17,422,120,149,121,131,30]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const t=function(){return N.isNative?!0:!(N.isLinux||y.isFirefox||y.isSafari)}();let i=!0;class n{constructor(w,v){this._domNode=w,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=v}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const w=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=w.left,this._clientRectScale=w.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}e.DomReadingContext=n;class o{constructor(w,v){this.themeType=v;const p=w.options,_=p.get(44);this.renderWhitespace=p.get(88),this.renderControlCharacters=p.get(83),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!p.get(29),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=p.get(59),this.stopRenderingLineAfter=p.get(105),this.fontLigatures=p.get(45)}equals(w){return this.themeType===w.themeType&&this.renderWhitespace===w.renderWhitespace&&this.renderControlCharacters===w.renderControlCharacters&&this.spaceWidth===w.spaceWidth&&this.middotWidth===w.middotWidth&&this.wsmiddotWidth===w.wsmiddotWidth&&this.useMonospaceOptimizations===w.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===w.canUseHalfwidthRightwardsArrow&&this.lineHeight===w.lineHeight&&this.stopRenderingLineAfter===w.stopRenderingLineAfter&&this.fontLigatures===w.fontLigatures}}e.ViewLineOptions=o;class d{constructor(w){this._options=w,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(w){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,m.createFastDomNode)(w);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(w){this._isMaybeInvalid=!0,this._options=w}onSelectionChanged(){return this._options.themeType===h.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(w,v,p,_){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const L=p.getViewLineRenderingData(w),E=this._options,M=b.LineDecoration.filter(L.inlineDecorations,w,L.minColumn,L.maxColumn);let k=null;if(E.themeType===h.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const T=p.selections;for(const R of T){if(R.endLineNumber<w||R.startLineNumber>w)continue;const O=R.startLineNumber===w?R.startColumn:L.minColumn,P=R.endLineNumber===w?R.endColumn:L.maxColumn;O<P&&(E.themeType===h.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?M.push(new b.LineDecoration(O,P,"inline-selected-text",0)):(k||(k=[]),k.push(new C.LineRange(O-1,P-1))))}}const A=new C.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,M,L.tabSize,L.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==g.EditorFontLigatures.OFF,k);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;_.appendASCIIString('<div style="top:'),_.appendASCIIString(String(v)),_.appendASCIIString("px;height:"),_.appendASCIIString(String(this._options.lineHeight)),_.appendASCIIString('px;" class="'),_.appendASCIIString(d.CLASS_NAME),_.appendASCIIString('">');const F=(0,C.renderViewLine)(A,_);_.appendASCIIString("</div>");let B=null;return i&&t&&L.isBasicASCII&&E.useMonospaceOptimizations&&F.containsForeignElements===0&&L.content.length<300&&A.lineTokens.getCount()<100&&(B=new c(this._renderedViewLine?this._renderedViewLine.domNode:null,A,F.characterMapping)),B||(B=r(this._renderedViewLine?this._renderedViewLine.domNode:null,A,F.characterMapping,F.containsRTL,F.containsForeignElements)),this._renderedViewLine=B,!0}layoutLine(w,v){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(v),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof c:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof c?this._renderedViewLine.monospaceAssumptionsAreValid():i}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof c&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(w,v,p,_){if(!this._renderedViewLine)return null;v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v)),p=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,p));const L=this._renderedViewLine.input.stopRenderingLineAfter;let E=!1;L!==-1&&v>L+1&&p>L+1&&(E=!0),L!==-1&&v>L+1&&(v=L+1),L!==-1&&p>L+1&&(p=L+1);const M=this._renderedViewLine.getVisibleRangesForRange(w,v,p,_);return M&&M.length>0?new S.VisibleRanges(E,M):null}getColumnOfNodeOffset(w,v,p){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(w,v,p):1}}e.ViewLine=d,d.CLASS_NAME="view-line";class c{constructor(w,v,p){this.domNode=w,this.input=v,this._characterMapping=p,this._charWidth=v.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return i;const w=this.getWidth(),v=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(w-v)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),i=!1),i}toSlowRenderedLine(){return r(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(w,v,p,_){const L=this._getCharPosition(v),E=this._getCharPosition(p);return[new S.FloatHorizontalRange(L,E-L)]}_getCharPosition(w){const v=this._characterMapping.getAbsoluteOffset(w);return this._charWidth*v}getColumnOfNodeOffset(w,v,p){const _=v.textContent.length;let L=-1;for(;v;)v=v.previousSibling,L++;return this._characterMapping.getColumn(new C.DomPosition(L,p),_)}}class s{constructor(w,v,p,_,L){if(this.domNode=w,this.input=v,this._characterMapping=p,this._isWhitespaceOnly=/^\s*$/.test(v.lineContent),this._containsForeignElements=L,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,M=this._characterMapping.length;E<=M;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(w){return w.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(w,v,p,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const L=this._readPixelOffset(this.domNode,w,v,_);if(L===-1)return null;const E=this._readPixelOffset(this.domNode,w,p,_);return E===-1?null:[new S.FloatHorizontalRange(L,E-L)]}return this._readVisibleRangesForRange(this.domNode,w,v,p,_)}_readVisibleRangesForRange(w,v,p,_,L){if(p===_){const E=this._readPixelOffset(w,v,p,L);return E===-1?null:[new S.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(w,p,_,L)}_readPixelOffset(w,v,p,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const L=this._getReadingTarget(w);return L.firstChild?L.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const L=this._pixelOffsetCache[p];if(L!==-1)return L;const E=this._actualReadPixelOffset(w,v,p,_);return this._pixelOffsetCache[p]=E,E}return this._actualReadPixelOffset(w,v,p,_)}_actualReadPixelOffset(w,v,p,_){if(this._characterMapping.length===0){const k=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),0,0,0,0,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);return!k||k.length===0?-1:k[0].left}if(p===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const L=this._characterMapping.getDomPosition(p),E=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),L.partIndex,L.charIndex,L.partIndex,L.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode);if(!E||E.length===0)return-1;const M=E[0].left;if(this.input.isBasicASCII){const k=this._characterMapping.getAbsoluteOffset(p),A=Math.round(this.input.spaceWidth*k);if(Math.abs(A-M)<=1)return A}return M}_readRawVisibleRangesForRange(w,v,p,_){if(v===1&&p===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth())];const L=this._characterMapping.getDomPosition(v),E=this._characterMapping.getDomPosition(p);return I.RangeUtil.readHorizontalRanges(this._getReadingTarget(w),L.partIndex,L.charIndex,E.partIndex,E.charIndex,_.clientRectDeltaLeft,_.clientRectScale,_.endNode)}getColumnOfNodeOffset(w,v,p){const _=v.textContent.length;let L=-1;for(;v;)v=v.previousSibling,L++;return this._characterMapping.getColumn(new C.DomPosition(L,p),_)}}class a extends s{_readVisibleRangesForRange(w,v,p,_,L){const E=super._readVisibleRangesForRange(w,v,p,_,L);if(!E||E.length===0||p===_||p===1&&_===this._characterMapping.length)return E;if(!this.input.containsRTL){const M=this._readPixelOffset(w,v,_,L);if(M!==-1){const k=E[E.length-1];k.left<M&&(k.width=M-k.left)}}return E}}const r=function(){return y.isWebKit?l:u}();function l(f,w,v,p,_){return new a(f,w,v,p,_)}function u(f,w,v,p,_){return new s(f,w,v,p,_)}}),define(ee[631],te([0,1,17,10,62,174,51,274,11,3,120,140,352]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new h.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(s){this._currentVisibleRange=s}}class n{constructor(s,a,r,l,u,f,w){this.minimalReveal=s,this.lineNumber=a,this.startColumn=r,this.endColumn=l,this.startScrollTop=u,this.stopScrollTop=f,this.scrollType=w,this.type="range",this.minLineNumber=a,this.maxLineNumber=a}}class o{constructor(s,a,r,l,u){this.minimalReveal=s,this.selections=a,this.startScrollTop=r,this.stopScrollTop=l,this.scrollType=u,this.type="selections";let f=a[0].startLineNumber,w=a[0].endLineNumber;for(let v=1,p=a.length;v<p;v++){const _=a[v];f=Math.min(f,_.startLineNumber),w=Math.max(w,_.endLineNumber)}this.minLineNumber=f,this.maxLineNumber=w}}class d extends S.ViewPart{constructor(s,a){super(s);this._linesContent=a,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new I.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const r=this._context.configuration,l=this._context.configuration.options,u=l.get(44),f=l.get(132),w=l.get(131);this._lineHeight=l.get(59),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._isViewportWrapping=f.isViewportWrapping,this._revealHorizontalRightPadding=l.get(89),this._horizontalScrollbarHeight=w.horizontalScrollbarHeight,this._cursorSurroundingLines=l.get(25),this._cursorSurroundingLinesStyle=l.get(26),this._canUseLayerHinting=!l.get(28),this._viewLineOptions=new b.ViewLineOptions(r,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${t.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,N.applyFontInfo)(this.domNode,u),this._maxLineWidth=0,this._asyncUpdateLineWidths=new m.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new m.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new b.ViewLine(this._viewLineOptions)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s),s.hasChanged(132)&&(this._maxLineWidth=0);const a=this._context.configuration.options,r=a.get(44),l=a.get(132),u=a.get(131);return this._lineHeight=a.get(59),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=a.get(89),this._horizontalScrollbarHeight=u.horizontalScrollbarHeight,this._cursorSurroundingLines=a.get(25),this._cursorSurroundingLinesStyle=a.get(26),this._canUseLayerHinting=!a.get(28),(0,N.applyFontInfo)(this.domNode,r),this._onOptionsMaybeChanged(),s.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const s=this._context.configuration,a=new b.ViewLineOptions(s,this._context.theme.type);if(!this._viewLineOptions.equals(a)){this._viewLineOptions=a;const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=r;u<=l;u++)this._visibleLines.getVisibleLine(u).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(s){const a=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let l=!1;for(let u=a;u<=r;u++)l=this._visibleLines.getVisibleLine(u).onSelectionChanged()||l;return l}onDecorationsChanged(s){{const a=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let l=a;l<=r;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(s){const a=this._visibleLines.onFlushed(s);return this._maxLineWidth=0,a}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onRevealRangeRequest(s){const a=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),s.source,s.minimalReveal,s.range,s.selections,s.verticalType);if(a===-1)return!1;let r=this._context.viewLayout.validateScrollPosition({scrollTop:a});s.revealHorizontal?s.range&&s.range.startLineNumber!==s.range.endLineNumber?r={scrollTop:r.scrollTop,scrollLeft:0}:s.range?this._horizontalRevealRequest=new n(s.minimalReveal,s.range.startLineNumber,s.range.startColumn,s.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,s.scrollType):s.selections&&s.selections.length>0&&(this._horizontalRevealRequest=new o(s.minimalReveal,s.selections,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,s.scrollType)):this._horizontalRevealRequest=null;const u=Math.abs(this._context.viewLayout.getCurrentScrollTop()-r.scrollTop)<=this._lineHeight?1:s.scrollType;return this._context.model.setScrollPosition(r,u),!0}onScrollChanged(s){if(this._horizontalRevealRequest&&s.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&s.scrollTopChanged){const a=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),r=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(s.scrollTop<a||s.scrollTop>r)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(s.scrollWidth),this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(s)}onThemeChanged(s){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(s,a){const r=this._getViewLineDomNode(s);if(r===null)return null;const l=this._getLineNumberFor(r);if(l===-1||l<1||l>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(l)===1)return new C.Position(l,1);const u=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();if(l<u||l>f)return null;let w=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(l,s,a);const v=this._context.model.getLineMinColumn(l);return w<v&&(w=v),new C.Position(l,w)}_getViewLineDomNode(s){for(;s&&s.nodeType===1;){if(s.className===b.ViewLine.CLASS_NAME)return s;s=s.parentElement}return null}_getLineNumberFor(s){const a=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let l=a;l<=r;l++){const u=this._visibleLines.getVisibleLine(l);if(s===u.getDomNode())return l}return-1}getLineWidth(s){const a=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();return s<a||s>r?-1:this._visibleLines.getVisibleLine(s).getWidth()}linesVisibleRangesForRange(s,a){if(this.shouldRender())return null;const r=s.endLineNumber,l=h.Range.intersectRanges(s,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;let u=[],f=0;const w=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let v=0;a&&(v=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(l.startLineNumber,1)).lineNumber);const p=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let L=l.startLineNumber;L<=l.endLineNumber;L++){if(L<p||L>_)continue;const E=L===l.startLineNumber?l.startColumn:1,M=L===l.endLineNumber?l.endColumn:this._context.model.getLineMaxColumn(L),k=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(L,E,M,w);if(!!k){if(a&&L<r){const A=v;v=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(L+1,1)).lineNumber,A!==v&&(k.ranges[k.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}u[f++]=new g.LineVisibleRanges(k.outsideRenderedLine,L,g.HorizontalRange.from(k.ranges))}}return f===0?null:u}_visibleRangesForLineRange(s,a,r){return this.shouldRender()||s<this._visibleLines.getStartLineNumber()||s>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(s).getVisibleRangesForRange(s,a,r,new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(s){const a=this._visibleRangesForLineRange(s.lineNumber,s.column,s.column);return a?new g.HorizontalPosition(a.outsideRenderedLine,a.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(s){const a=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let l=1,u=!0;for(let f=a;f<=r;f++){const w=this._visibleLines.getVisibleLine(f);if(s&&!w.getWidthIsFast()){u=!1;continue}l=Math.max(l,w.getWidth())}return u&&a===1&&r===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),u}_checkMonospaceFontAssumptions(){let s=-1,a=-1;const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=r;u<=l;u++){const f=this._visibleLines.getVisibleLine(u);if(f.needsMonospaceFontCheck()){const w=f.getWidth();w>a&&(a=w,s=u)}}if(s!==-1&&!this._visibleLines.getVisibleLine(s).monospaceAssumptionsAreValid())for(let u=r;u<=l;u++)this._visibleLines.getVisibleLine(u).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(s){if(this._visibleLines.renderLines(s),this._lastRenderedData.setCurrentVisibleRange(s.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const r=this._horizontalRevealRequest;if(s.startLineNumber<=r.minLineNumber&&r.maxLineNumber<=s.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(r);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:l.scrollLeft},r.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let u=r;u<=l;u++)if(this._visibleLines.getVisibleLine(u).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const a=this._context.viewLayout.getCurrentScrollTop()-s.bigNumbersDelta;this._linesContent.setTop(-a),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(s){const a=Math.ceil(s);this._maxLineWidth<a&&(this._maxLineWidth=a,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(s,a,r,l,u,f){const w=s.top,v=s.height,p=w+v;let _,L,E;if(u&&u.length>0){let A=u[0].startLineNumber,F=u[0].endLineNumber;for(let B=1,T=u.length;B<T;B++){const R=u[B];A=Math.min(A,R.startLineNumber),F=Math.max(F,R.endLineNumber)}_=!1,L=this._context.viewLayout.getVerticalOffsetForLineNumber(A),E=this._context.viewLayout.getVerticalOffsetForLineNumber(F)+this._lineHeight}else if(l)_=!0,L=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),E=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;if((a==="mouse"||r)&&this._cursorSurroundingLinesStyle==="default")r||(L-=this._lineHeight);else{const A=Math.min(v/this._lineHeight/2,this._cursorSurroundingLines);L-=A*this._lineHeight,E+=Math.max(0,A-1)*this._lineHeight}(f===0||f===4)&&(E+=r?this._horizontalScrollbarHeight:this._lineHeight);let k;if(E-L>v){if(!_)return-1;k=L}else if(f===5||f===6)if(f===6&&w<=L&&E<=p)k=w;else{const A=Math.max(5*this._lineHeight,v*.2),F=L-A,B=E-v;k=Math.max(B,F)}else if(f===1||f===2)if(f===2&&w<=L&&E<=p)k=w;else{const A=(L+E)/2;k=Math.max(0,A-v/2)}else k=this._computeMinimumScrolling(w,p,L,E,f===3,f===4);return k}_computeScrollLeftToReveal(s){const a=this._context.viewLayout.getCurrentViewport(),r=a.left,l=r+a.width;let u=1073741824,f=0;if(s.type==="range"){const v=this._visibleRangesForLineRange(s.lineNumber,s.startColumn,s.endColumn);if(!v)return null;for(const p of v.ranges)u=Math.min(u,Math.round(p.left)),f=Math.max(f,Math.round(p.left+p.width))}else for(const v of s.selections){if(v.startLineNumber!==v.endLineNumber)return null;const p=this._visibleRangesForLineRange(v.startLineNumber,v.startColumn,v.endColumn);if(!p)return null;for(const _ of p.ranges)u=Math.min(u,Math.round(_.left)),f=Math.max(f,Math.round(_.left+_.width))}return s.minimalReveal||(u=Math.max(0,u-d.HORIZONTAL_EXTRA_PX),f+=this._revealHorizontalRightPadding),s.type==="selections"&&f-u>a.width?null:{scrollLeft:this._computeMinimumScrolling(r,l,u,f),maxHorizontalOffset:f}}_computeMinimumScrolling(s,a,r,l,u,f){s=s|0,a=a|0,r=r|0,l=l|0,u=!!u,f=!!f;const w=a-s;if(l-r<w){if(u)return r;if(f)return Math.max(0,l-w);if(r<s)return r;if(l>a)return Math.max(0,l-w)}else return r;return s}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(ee[13],te([0,1,27,4,2,9,36,131]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,I.createDecorator)("themeService");var C;(function(c){function s(a){return a&&typeof a=="object"&&typeof a.id=="string"}c.isThemeColor=s})(C=e.ThemeColor||(e.ThemeColor={}));function h(c){return{id:c}}e.themeColorFromId=h;var g;(function(c){function s(p){return p&&typeof p=="object"&&typeof p.id=="string"&&(typeof p.color=="undefined"||C.isThemeColor(p.color))}c.isThemeIcon=s;const a=new RegExp(`^\\$\\((${y.CSSIcon.iconNameExpression}(?:${y.CSSIcon.iconModifierExpression})?)\\)$`);function r(p){const _=a.exec(p);if(!_)return;let[,L]=_;return{id:L}}c.fromString=r;function l(p){return{id:p}}c.fromId=l;function u(p,_){let L=p.id;const E=L.lastIndexOf("~");return E!==-1&&(L=L.substring(0,E)),_&&(L=`${L}~${_}`),{id:L}}c.modify=u;function f(p){const _=p.id.lastIndexOf("~");if(_!==-1)return p.id.substring(_+1)}c.getModifier=f;function w(p,_){var L,E;return p.id===_.id&&((L=p.color)===null||L===void 0?void 0:L.id)===((E=_.color)===null||E===void 0?void 0:E.id)}c.isEqual=w;function v(p,_){return{id:p.id,color:_?h(_):void 0}}c.asThemeIcon=v,c.asClassNameArray=y.CSSIcon.asClassNameArray,c.asClassName=y.CSSIcon.asClassName,c.asCSSSelector=y.CSSIcon.asCSSSelector})(g=e.ThemeIcon||(e.ThemeIcon={}));function t(c){switch(c){case b.ColorScheme.DARK:return"vs-dark";case b.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=t,e.Extensions={ThemingContribution:"base.contributions.theming"};class i{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new m.Emitter}onColorThemeChange(s){return this.themingParticipants.push(s),this.onThemingParticipantAddedEmitter.fire(s),(0,N.toDisposable)(()=>{const a=this.themingParticipants.indexOf(s);this.themingParticipants.splice(a,1)})}getThemingParticipants(){return this.themingParticipants}}let n=new i;S.Registry.add(e.Extensions.ThemingContribution,n);function o(c){return n.onColorThemeChange(c)}e.registerThemingParticipant=o;class d extends N.Disposable{constructor(s){super();this.themeService=s,this.theme=s.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(a=>this.onThemeChange(a)))}onThemeChange(s){this.theme=s,this.updateStyles()}updateStyles(){}}e.Themable=d}),define(ee[632],te([0,1,4,2,13]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let I=class extends m.Disposable{constructor(C){super();this._themeService=C,this._onCodeEditorAdd=this._register(new y.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new y.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new y.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new y.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(C){this._codeEditors[C.getId()]=C,this._onCodeEditorAdd.fire(C)}removeCodeEditor(C){delete this._codeEditors[C.getId()]&&this._onCodeEditorRemove.fire(C)}listCodeEditors(){return Object.keys(this._codeEditors).map(C=>this._codeEditors[C])}addDiffEditor(C){this._diffEditors[C.getId()]=C,this._onDiffEditorAdd.fire(C)}removeDiffEditor(C){delete this._diffEditors[C.getId()]&&this._onDiffEditorRemove.fire(C)}listDiffEditors(){return Object.keys(this._diffEditors).map(C=>this._diffEditors[C])}getFocusedCodeEditor(){let C=null;const h=this.listCodeEditors();for(const g of h){if(g.hasTextFocus())return g;g.hasWidgetFocus()&&(C=g)}return C}removeDecorationType(C){const h=this._decorationOptionProviders.get(C);h&&(h.refCount--,h.refCount<=0&&(this._decorationOptionProviders.delete(C),h.dispose(),this.listCodeEditors().forEach(g=>g.removeDecorations(C))))}setModelProperty(C,h,g){const t=C.toString();let i;this._modelProperties.has(t)?i=this._modelProperties.get(t):(i=new Map,this._modelProperties.set(t,i)),i.set(h,g)}getModelProperty(C,h){const g=C.toString();if(this._modelProperties.has(g))return this._modelProperties.get(g).get(h)}};I=Be([me(0,N.IThemeService)],I),e.AbstractCodeEditorService=I;class S{constructor(C){this._styleSheet=C}}e.GlobalStyleSheet=S}),define(ee[633],te([0,1,7,31,66,51,13,23]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class C extends I.ViewPart{constructor(g,t,i,n){super(g);const o=this._context.configuration.options,d=o.get(92),c=o.get(67),s=o.get(34),a=o.get(95),r={listenOnDomNode:i.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(g.theme.type),useShadows:!1,lazyRender:!0,vertical:d.vertical,horizontal:d.horizontal,verticalHasArrows:d.verticalHasArrows,horizontalHasArrows:d.horizontalHasArrows,verticalScrollbarSize:d.verticalScrollbarSize,verticalSliderSize:d.verticalSliderSize,horizontalScrollbarSize:d.horizontalScrollbarSize,horizontalSliderSize:d.horizontalSliderSize,handleMouseWheel:d.handleMouseWheel,alwaysConsumeMouseWheel:d.alwaysConsumeMouseWheel,arrowSize:d.arrowSize,mouseWheelScrollSensitivity:c,fastScrollSensitivity:s,scrollPredominantAxis:a,scrollByPage:d.scrollByPage};this.scrollbar=this._register(new N.SmoothScrollableElement(t.domNode,r,this._context.viewLayout.getScrollable())),I.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,m.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const l=(u,f,w)=>{const v={};if(f){const p=u.scrollTop;p&&(v.scrollTop=this._context.viewLayout.getCurrentScrollTop()+p,u.scrollTop=0)}if(w){const p=u.scrollLeft;p&&(v.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+p,u.scrollLeft=0)}this._context.model.setScrollPosition(v,1)};this._register(y.addDisposableListener(i.domNode,"scroll",u=>l(i.domNode,!0,!0))),this._register(y.addDisposableListener(t.domNode,"scroll",u=>l(t.domNode,!0,!1))),this._register(y.addDisposableListener(n.domNode,"scroll",u=>l(n.domNode,!0,!1))),this._register(y.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",u=>l(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const g=this._context.configuration.options,t=g.get(131);this.scrollbarDomNode.setLeft(t.contentLeft),g.get(65).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(g){this.scrollbar.delegateVerticalScrollbarMouseDown(g)}onConfigurationChanged(g){if(g.hasChanged(92)||g.hasChanged(67)||g.hasChanged(34)){const t=this._context.configuration.options,i=t.get(92),n=t.get(67),o=t.get(34),d=t.get(95),c={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:o,scrollPredominantAxis:d};this.scrollbar.updateOptions(c)}return g.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(g){return!0}onThemeChanged(g){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(g){}render(g){this.scrollbar.renderNow()}}e.EditorScrollbar=C,(0,S.registerThemingParticipant)((h,g)=>{const t=h.getColor(b.scrollbarShadow);t&&g.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);const i=h.getColor(b.scrollbarSliderBackground);i&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);const n=h.getColor(b.scrollbarSliderHoverBackground);n&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${n};
			}
		`);const o=h.getColor(b.scrollbarSliderActiveBackground);o&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${o};
			}
		`)})}),define(ee[634],te([0,1,7,31,95,2,17,8,174,51,30,3,234,264,67,23,13,22,58,396,50,86,355]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const f=140,w=2;class v{constructor(T,R,O){const P=T.options,D=P.get(129),x=P.get(131),H=x.minimap,j=P.get(44),Q=P.get(65);this.renderMinimap=H.renderMinimap,this.size=Q.size,this.minimapHeightIsEditorHeight=H.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=P.get(94),this.showSlider=Q.showSlider,this.pixelRatio=D,this.typicalHalfwidthCharacterWidth=j.typicalHalfwidthCharacterWidth,this.lineHeight=P.get(59),this.minimapLeft=H.minimapLeft,this.minimapWidth=H.minimapWidth,this.minimapHeight=x.height,this.canvasInnerWidth=H.minimapCanvasInnerWidth,this.canvasInnerHeight=H.minimapCanvasInnerHeight,this.canvasOuterWidth=H.minimapCanvasOuterWidth,this.canvasOuterHeight=H.minimapCanvasOuterHeight,this.isSampling=H.minimapIsSampling,this.editorHeight=x.height,this.fontScale=H.minimapScale,this.minimapLineHeight=H.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,u.once)(()=>r.MinimapCharRendererFactory.create(this.fontScale,j.fontFamily)),this.defaultBackgroundColor=O.getColor(2),this.backgroundColor=v._getMinimapBackground(R,this.defaultBackgroundColor),this.foregroundAlpha=v._getMinimapForegroundOpacity(R)}static _getMinimapBackground(T,R){const O=T.getColor(d.minimapBackground);return O?new i.RGBA8(O.rgba.r,O.rgba.g,O.rgba.b,Math.round(255*O.rgba.a)):R}static _getMinimapForegroundOpacity(T){const R=T.getColor(d.minimapForegroundOpacity);return R?i.RGBA8._clamp(Math.round(255*R.rgba.a)):255}equals(T){return this.renderMinimap===T.renderMinimap&&this.size===T.size&&this.minimapHeightIsEditorHeight===T.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===T.scrollBeyondLastLine&&this.showSlider===T.showSlider&&this.pixelRatio===T.pixelRatio&&this.typicalHalfwidthCharacterWidth===T.typicalHalfwidthCharacterWidth&&this.lineHeight===T.lineHeight&&this.minimapLeft===T.minimapLeft&&this.minimapWidth===T.minimapWidth&&this.minimapHeight===T.minimapHeight&&this.canvasInnerWidth===T.canvasInnerWidth&&this.canvasInnerHeight===T.canvasInnerHeight&&this.canvasOuterWidth===T.canvasOuterWidth&&this.canvasOuterHeight===T.canvasOuterHeight&&this.isSampling===T.isSampling&&this.editorHeight===T.editorHeight&&this.fontScale===T.fontScale&&this.minimapLineHeight===T.minimapLineHeight&&this.minimapCharWidth===T.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(T.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(T.backgroundColor)&&this.foregroundAlpha===T.foregroundAlpha}}class p{constructor(T,R,O,P,D,x,H,j){this.scrollTop=T,this.scrollHeight=R,this.sliderNeeded=O,this._computedSliderRatio=P,this.sliderTop=D,this.sliderHeight=x,this.startLineNumber=H,this.endLineNumber=j}getDesiredScrollTopFromDelta(T){return Math.round(this.scrollTop+T/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(T){return Math.round((T-this.sliderHeight/2)/this._computedSliderRatio)}static create(T,R,O,P,D,x,H,j,Q,G,se){const ne=T.pixelRatio,Z=T.minimapLineHeight,U=Math.floor(T.canvasInnerHeight/Z),W=T.lineHeight;if(T.minimapHeightIsEditorHeight){const de=j*T.lineHeight+(T.scrollBeyondLastLine?D-T.lineHeight:0),q=Math.max(1,Math.floor(D*D/de)),z=Math.max(0,T.minimapHeight-q),$=z/(G-D),ie=Q*$,ce=z>0,oe=Math.floor(T.canvasInnerHeight/T.minimapLineHeight);return new p(Q,G,ce,$,ie,q,1,Math.min(H,oe))}let V;if(x&&O!==H){const de=O-R+1;V=Math.floor(de*Z/ne)}else{const de=D/W;V=Math.floor(de*Z/ne)}let Y;T.scrollBeyondLastLine?Y=(H-1)*Z/ne:Y=Math.max(0,H*Z/ne-V),Y=Math.min(T.minimapHeight-V,Y);const X=Y/(G-D),ae=Q*X;let J=0;if(T.scrollBeyondLastLine&&(J=D/W-1),U>=H+J){const de=1,q=H,z=Y>0;return new p(Q,G,z,X,ae,V,de,q)}else{let de=Math.max(1,Math.floor(R-ae*ne/Z));se&&se.scrollHeight===G&&(se.scrollTop>Q&&(de=Math.min(de,se.startLineNumber)),se.scrollTop<Q&&(de=Math.max(de,se.startLineNumber)));const q=Math.min(H,de+U-1),z=(Q-P)/W,$=(R-de+z)*Z/ne;return new p(Q,G,!0,X,$,V,de,q)}}}class _{constructor(T){this.dy=T}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class L{constructor(T,R,O){this.renderedLayout=T,this._imageData=R,this._renderedLines=new C.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(T.startLineNumber,O)}linesEquals(T){if(!this.scrollEquals(T))return!1;const O=this._renderedLines._get().lines;for(let P=0,D=O.length;P<D;P++)if(O[P].dy===-1)return!1;return!0}scrollEquals(T){return this.renderedLayout.startLineNumber===T.startLineNumber&&this.renderedLayout.endLineNumber===T.endLineNumber}_get(){const T=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:T.rendLineNumberStart,lines:T.lines}}onLinesChanged(T,R){return this._renderedLines.onLinesChanged(T,R)}onLinesDeleted(T,R){this._renderedLines.onLinesDeleted(T,R)}onLinesInserted(T,R){this._renderedLines.onLinesInserted(T,R)}onTokensChanged(T){return this._renderedLines.onTokensChanged(T)}}class E{constructor(T,R,O,P){this._backgroundFillData=E._createBackgroundFillData(R,O,P),this._buffers=[T.createImageData(R,O),T.createImageData(R,O)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const T=this._buffers[this._lastUsedBuffer];return T.data.set(this._backgroundFillData),T}static _createBackgroundFillData(T,R,O){const P=O.r,D=O.g,x=O.b,H=O.a,j=new Uint8ClampedArray(T*R*4);let Q=0;for(let G=0;G<R;G++)for(let se=0;se<T;se++)j[Q]=P,j[Q+1]=D,j[Q+2]=x,j[Q+3]=H,Q+=4;return j}}class M{constructor(T,R){this.samplingRatio=T,this.minimapLines=R}static compute(T,R,O){if(T.renderMinimap===0||!T.isSampling)return[null,[]];const P=T.pixelRatio,D=T.lineHeight,x=T.scrollBeyondLastLine,{minimapLineCount:H}=g.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:R,scrollBeyondLastLine:x,height:T.editorHeight,lineHeight:D,pixelRatio:P}),j=R/H,Q=j/2;if(!O||O.minimapLines.length===0){const ae=[];if(ae[0]=1,H>1){for(let J=0,de=H-1;J<de;J++)ae[J]=Math.round(J*j+Q);ae[H-1]=R}return[new M(j,ae),[]]}const G=O.minimapLines,se=G.length,ne=[];let Z=0,U=0,W=1;const V=10;let Y=[],X=null;for(let ae=0;ae<H;ae++){const J=Math.max(W,Math.round(ae*j)),de=Math.max(J,Math.round((ae+1)*j));for(;Z<se&&G[Z]<J;){if(Y.length<V){const z=Z+1+U;X&&X.type==="deleted"&&X._oldIndex===Z-1?X.deleteToLineNumber++:(X={type:"deleted",_oldIndex:Z,deleteFromLineNumber:z,deleteToLineNumber:z},Y.push(X)),U--}Z++}let q;if(Z<se&&G[Z]<=de)q=G[Z],Z++;else if(ae===0?q=1:ae+1===H?q=R:q=Math.round(ae*j+Q),Y.length<V){const z=Z+1+U;X&&X.type==="inserted"&&X._i===ae-1?X.insertToLineNumber++:(X={type:"inserted",_i:ae,insertFromLineNumber:z,insertToLineNumber:z},Y.push(X)),U++}ne[ae]=q,W=q}if(Y.length<V)for(;Z<se;){const ae=Z+1+U;X&&X.type==="deleted"&&X._oldIndex===Z-1?X.deleteToLineNumber++:(X={type:"deleted",_oldIndex:Z,deleteFromLineNumber:ae,deleteToLineNumber:ae},Y.push(X)),U--,Z++}else Y=[{type:"flush"}];return[new M(j,ne),Y]}modelLineToMinimapLine(T){return Math.min(this.minimapLines.length,Math.max(1,Math.round(T/this.samplingRatio)))}modelLineRangeToMinimapLineRange(T,R){let O=this.modelLineToMinimapLine(T)-1;for(;O>0&&this.minimapLines[O-1]>=T;)O--;let P=this.modelLineToMinimapLine(R)-1;for(;P+1<this.minimapLines.length&&this.minimapLines[P+1]<=R;)P++;if(O===P){const D=this.minimapLines[O];if(D<T||D>R)return null}return[O+1,P+1]}decorationLineRangeToMinimapLineRange(T,R){let O=this.modelLineToMinimapLine(T),P=this.modelLineToMinimapLine(R);return T!==R&&P===O&&(P===this.minimapLines.length?O>1&&O--:P++),[O,P]}onLinesDeleted(T){const R=T.toLineNumber-T.fromLineNumber+1;let O=this.minimapLines.length,P=0;for(let D=this.minimapLines.length-1;D>=0&&!(this.minimapLines[D]<T.fromLineNumber);D--)this.minimapLines[D]<=T.toLineNumber?(this.minimapLines[D]=Math.max(1,T.fromLineNumber-1),O=Math.min(O,D),P=Math.max(P,D)):this.minimapLines[D]-=R;return[O,P]}onLinesInserted(T){const R=T.toLineNumber-T.fromLineNumber+1;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<T.fromLineNumber);O--)this.minimapLines[O]+=R}}class k extends h.ViewPart{constructor(T){super(T);this.tokensColorTracker=n.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new v(this._context.configuration,this._context.theme,this.tokensColorTracker);const[R]=M.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=R,this._shouldCheckSampling=!1,this._actual=new A(T.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const T=new v(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(T)?!1:(this.options=T,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(T){return this._onOptionsMaybeChanged()}onCursorStateChanged(T){return this._selections=T.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(T){return T.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(T){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(T){if(this._samplingState){const R=this._samplingState.modelLineRangeToMinimapLineRange(T.fromLineNumber,T.toLineNumber);return R?this._actual.onLinesChanged(R[0],R[1]):!1}else return this._actual.onLinesChanged(T.fromLineNumber,T.toLineNumber)}onLinesDeleted(T){if(this._samplingState){const[R,O]=this._samplingState.onLinesDeleted(T);return R<=O&&this._actual.onLinesChanged(R+1,O+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(T.fromLineNumber,T.toLineNumber)}onLinesInserted(T){return this._samplingState?(this._samplingState.onLinesInserted(T),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(T.fromLineNumber,T.toLineNumber)}onScrollChanged(T){return this._actual.onScrollChanged()}onThemeChanged(T){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(T){if(this._samplingState){const R=[];for(const O of T.ranges){const P=this._samplingState.modelLineRangeToMinimapLineRange(O.fromLineNumber,O.toLineNumber);P&&R.push({fromLineNumber:P[0],toLineNumber:P[1]})}return R.length?this._actual.onTokensChanged(R):!1}else return this._actual.onTokensChanged(T.ranges)}onTokensColorsChanged(T){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(T){return this._actual.onZonesChanged()}prepareRender(T){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(T){let R=T.visibleRange.startLineNumber,O=T.visibleRange.endLineNumber;this._samplingState&&(R=this._samplingState.modelLineToMinimapLine(R),O=this._samplingState.modelLineToMinimapLine(O));const P={viewportContainsWhitespaceGaps:T.viewportData.whitespaceViewportData.length>0,scrollWidth:T.scrollWidth,scrollHeight:T.scrollHeight,viewportStartLineNumber:R,viewportEndLineNumber:O,viewportStartLineNumberVerticalOffset:T.getVerticalOffsetForLineNumber(R),scrollTop:T.scrollTop,scrollLeft:T.scrollLeft,viewportWidth:T.viewportWidth,viewportHeight:T.viewportHeight};this._actual.render(P)}_recreateLineSampling(){this._minimapSelections=null;const T=Boolean(this._samplingState),[R,O]=M.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=R,T&&this._samplingState)for(const P of O)switch(P.type){case"deleted":this._actual.onLinesDeleted(P.deleteFromLineNumber,P.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(P.insertFromLineNumber,P.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(T){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[T-1]):this._context.model.getLineContent(T)}getLineMaxColumn(T){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[T-1]):this._context.model.getLineMaxColumn(T)}getMinimapLinesRenderingData(T,R,O){if(this._samplingState){const P=[];for(let D=0,x=R-T+1;D<x;D++)O[D]?P[D]=this._context.model.getViewLineData(this._samplingState.minimapLines[T+D-1]):P[D]=null;return P}return this._context.model.getMinimapLinesRenderingData(T,R,O).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const T of this._selections){const[R,O]=this._samplingState.decorationLineRangeToMinimapLineRange(T.startLineNumber,T.endLineNumber);this._minimapSelections.push(new s.Selection(R,T.startColumn,O,T.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(T,R){let O;if(this._samplingState){const D=this._samplingState.minimapLines[T-1],x=this._samplingState.minimapLines[R-1];O=new t.Range(D,1,x,this._context.model.getLineMaxColumn(x))}else O=new t.Range(T,1,R,this._context.model.getLineMaxColumn(R));const P=this._context.model.getDecorationsInViewport(O);if(this._samplingState){const D=[];for(const x of P){if(!x.options.minimap)continue;const H=x.range,j=this._samplingState.modelLineToMinimapLine(H.startLineNumber),Q=this._samplingState.modelLineToMinimapLine(H.endLineNumber);D.push(new o.ViewModelDecoration(new t.Range(j,H.startColumn,Q,H.endColumn),x.options))}return D}return P}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(T){this._samplingState&&(T=this._samplingState.minimapLines[T-1]),this._context.model.revealRange("mouse",!1,new t.Range(T,1,T,1),1,0)}setScrollTop(T){this._context.model.setScrollPosition({scrollTop:T},1)}}e.Minimap=k;class A extends I.Disposable{constructor(T,R){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=T,this._model=R,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(d.minimapSelection),this._domNode=(0,m.createFastDomNode)(document.createElement("div")),h.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,m.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,m.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,m.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,m.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,m.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=y.addStandardDisposableListener(this._domNode.domNode,"mousedown",O=>{if(O.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(O.leftButton&&this._lastRenderData){const Q=y.getDomNodePagePosition(this._slider.domNode),G=Q.top+Q.height/2;this._startSliderDragging(O.buttons,O.posx,G,O.posy,this._lastRenderData.renderedLayout)}return}const D=this._model.options.minimapLineHeight,x=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*O.browserEvent.offsetY;let j=Math.floor(x/D)+this._lastRenderData.renderedLayout.startLineNumber;j=Math.min(j,this._model.getLineCount()),this._model.revealLineNumber(j)}),this._sliderMouseMoveMonitor=new N.GlobalMouseMoveMonitor,this._sliderMouseDownListener=y.addStandardDisposableListener(this._slider.domNode,"mousedown",O=>{O.preventDefault(),O.stopPropagation(),O.leftButton&&this._lastRenderData&&this._startSliderDragging(O.buttons,O.posx,O.posy,O.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=a.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=y.addDisposableListener(this._domNode.domNode,a.EventType.Start,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(O))},{passive:!1}),this._sliderTouchMoveListener=y.addDisposableListener(this._domNode.domNode,a.EventType.Change,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(O)},{passive:!1}),this._sliderTouchEndListener=y.addStandardDisposableListener(this._domNode.domNode,a.EventType.End,O=>{O.preventDefault(),O.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(T,R,O,P,D){this._slider.toggleClassName("active",!0);const x=(H,j)=>{const Q=Math.abs(j-R);if(S.isWindows&&Q>f){this._model.setScrollTop(D.scrollTop);return}const G=H-O;this._model.setScrollTop(D.getDesiredScrollTopFromDelta(G))};P!==O&&x(P,R),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,T,N.standardMouseMoveMerger,H=>x(H.posy,H.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(T){const R=this._domNode.domNode.getBoundingClientRect().top,O=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(T.pageY-R);this._model.setScrollTop(O)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(T,R){return this._lastRenderData?this._lastRenderData.onLinesChanged(T,R):!1}onLinesDeleted(T,R){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(T,R),!0}onLinesInserted(T,R){return this._lastRenderData&&this._lastRenderData.onLinesInserted(T,R),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(d.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(T){return this._lastRenderData?this._lastRenderData.onTokensChanged(T):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(T){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}T.scrollLeft+T.viewportWidth>=T.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const O=p.create(this._model.options,T.viewportStartLineNumber,T.viewportEndLineNumber,T.viewportStartLineNumberVerticalOffset,T.viewportHeight,T.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),T.scrollTop,T.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(O.sliderNeeded?"block":"none"),this._slider.setTop(O.sliderTop),this._slider.setHeight(O.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(O.sliderHeight),this.renderDecorations(O),this._lastRenderData=this.renderLines(O)}renderDecorations(T){if(this._renderDecorations){this._renderDecorations=!1;const R=this._model.getSelections();R.sort(t.Range.compareRangesUsingStarts);const O=this._model.getMinimapDecorationsInViewport(T.startLineNumber,T.endLineNumber);O.sort((ne,Z)=>(ne.options.zIndex||0)-(Z.options.zIndex||0));const{canvasInnerWidth:P,canvasInnerHeight:D}=this._model.options,x=this._model.options.minimapLineHeight,H=this._model.options.minimapCharWidth,j=this._model.getOptions().tabSize,Q=this._decorationsCanvas.domNode.getContext("2d");Q.clearRect(0,0,P,D);const G=new F(T.startLineNumber,T.endLineNumber,!1);this._renderSelectionLineHighlights(Q,R,G,T,x),this._renderDecorationsLineHighlights(Q,O,G,T,x);const se=new F(T.startLineNumber,T.endLineNumber,null);this._renderSelectionsHighlights(Q,R,se,T,x,j,H,P),this._renderDecorationsHighlights(Q,O,se,T,x,j,H,P)}}_renderSelectionLineHighlights(T,R,O,P,D){if(!this._selectionColor||this._selectionColor.isTransparent())return;T.fillStyle=this._selectionColor.transparent(.5).toString();let x=0,H=0;for(const j of R){const Q=Math.max(P.startLineNumber,j.startLineNumber),G=Math.min(P.endLineNumber,j.endLineNumber);if(Q>G)continue;for(let Z=Q;Z<=G;Z++)O.set(Z,!0);const se=(Q-P.startLineNumber)*D,ne=(G-P.startLineNumber)*D+D;H>=se||(H>x&&T.fillRect(g.MINIMAP_GUTTER_WIDTH,x,T.canvas.width,H-x),x=se),H=ne}H>x&&T.fillRect(g.MINIMAP_GUTTER_WIDTH,x,T.canvas.width,H-x)}_renderDecorationsLineHighlights(T,R,O,P,D){const x=new Map;for(let H=R.length-1;H>=0;H--){const j=R[H],Q=j.options.minimap;if(!Q||Q.position!==l.MinimapPosition.Inline)continue;const G=Math.max(P.startLineNumber,j.range.startLineNumber),se=Math.min(P.endLineNumber,j.range.endLineNumber);if(G>se)continue;const ne=Q.getColor(this._theme);if(!ne||ne.isTransparent())continue;let Z=x.get(ne.toString());Z||(Z=ne.transparent(.5).toString(),x.set(ne.toString(),Z)),T.fillStyle=Z;for(let U=G;U<=se;U++){if(O.has(U))continue;O.set(U,!0);const W=(G-P.startLineNumber)*D;T.fillRect(g.MINIMAP_GUTTER_WIDTH,W,T.canvas.width,D)}}}_renderSelectionsHighlights(T,R,O,P,D,x,H,j){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Q of R){const G=Math.max(P.startLineNumber,Q.startLineNumber),se=Math.min(P.endLineNumber,Q.endLineNumber);if(!(G>se))for(let ne=G;ne<=se;ne++)this.renderDecorationOnLine(T,O,Q,this._selectionColor,P,ne,D,D,x,H,j)}}_renderDecorationsHighlights(T,R,O,P,D,x,H,j){for(const Q of R){const G=Q.options.minimap;if(!G)continue;const se=Math.max(P.startLineNumber,Q.range.startLineNumber),ne=Math.min(P.endLineNumber,Q.range.endLineNumber);if(se>ne)continue;const Z=G.getColor(this._theme);if(!(!Z||Z.isTransparent()))for(let U=se;U<=ne;U++)switch(G.position){case l.MinimapPosition.Inline:this.renderDecorationOnLine(T,O,Q.range,Z,P,U,D,D,x,H,j);continue;case l.MinimapPosition.Gutter:{const W=(U-P.startLineNumber)*D,V=2;this.renderDecoration(T,Z,V,W,w,D);continue}}}}renderDecorationOnLine(T,R,O,P,D,x,H,j,Q,G,se){const ne=(x-D.startLineNumber)*j;if(ne+H<0||ne>this._model.options.canvasInnerHeight)return;const{startLineNumber:Z,endLineNumber:U}=O,W=Z===x?O.startColumn:1,V=U===x?O.endColumn:this._model.getLineMaxColumn(x),Y=this.getXOffsetForPosition(R,x,W,Q,G,se),X=this.getXOffsetForPosition(R,x,V,Q,G,se);this.renderDecoration(T,P,Y,ne,X-Y,H)}getXOffsetForPosition(T,R,O,P,D,x){if(O===1)return g.MINIMAP_GUTTER_WIDTH;if((O-1)*D>=x)return x;let j=T.get(R);if(!j){const Q=this._model.getLineContent(R);j=[g.MINIMAP_GUTTER_WIDTH];let G=g.MINIMAP_GUTTER_WIDTH;for(let se=1;se<Q.length+1;se++){const ne=Q.charCodeAt(se-1),Z=ne===9?P*D:b.isFullWidthCharacter(ne)?2*D:D,U=G+Z;if(U>=x){j[se]=x;break}j[se]=U,G=U}T.set(R,j)}return O-1<j.length?j[O-1]:x}renderDecoration(T,R,O,P,D,x){T.fillStyle=R&&R.toString()||"",T.fillRect(O,P,D,x)}renderLines(T){const R=T.startLineNumber,O=T.endLineNumber,P=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(T)){const le=this._lastRenderData._get();return new L(T,le.imageData,le.lines)}const D=this._getBuffer();if(!D)return null;const[x,H,j]=A._renderUntouchedLines(D,R,O,P,this._lastRenderData),Q=this._model.getMinimapLinesRenderingData(R,O,j),G=this._model.getOptions().tabSize,se=this._model.options.defaultBackgroundColor,ne=this._model.options.backgroundColor,Z=this._model.options.foregroundAlpha,U=this._model.tokensColorTracker,W=U.backgroundIsLight(),V=this._model.options.renderMinimap,Y=this._model.options.charRenderer(),X=this._model.options.fontScale,ae=this._model.options.minimapCharWidth,de=(V===1?2:2+1)*X,q=P>de?Math.floor((P-de)/2):0,z=ne.a/255,$=new i.RGBA8(Math.round((ne.r-se.r)*z+se.r),Math.round((ne.g-se.g)*z+se.g),Math.round((ne.b-se.b)*z+se.b),255);let ie=0;const ce=[];for(let le=0,ge=O-R+1;le<ge;le++)j[le]&&A._renderLine(D,$,ne.a,W,V,ae,U,Z,Y,ie,q,G,Q[le],X,P),ce[le]=new _(ie),ie+=P;const oe=x===-1?0:x,ve=(H===-1?D.height:H)-oe;return this._canvas.domNode.getContext("2d").putImageData(D,0,0,0,oe,D.width,ve),new L(T,D,ce)}static _renderUntouchedLines(T,R,O,P,D){const x=[];if(!D){for(let $=0,ie=O-R+1;$<ie;$++)x[$]=!0;return[-1,-1,x]}const H=D._get(),j=H.imageData.data,Q=H.rendLineNumberStart,G=H.lines,se=G.length,ne=T.width,Z=T.data,U=(O-R+1)*P*ne*4;let W=-1,V=-1,Y=-1,X=-1,ae=-1,J=-1,de=0;for(let $=R;$<=O;$++){const ie=$-R,ce=$-Q,oe=ce>=0&&ce<se?G[ce].dy:-1;if(oe===-1){x[ie]=!0,de+=P;continue}const he=oe*ne*4,ve=(oe+P)*ne*4,Se=de*ne*4,le=(de+P)*ne*4;X===he&&J===Se?(X=ve,J=le):(Y!==-1&&(Z.set(j.subarray(Y,X),ae),W===-1&&Y===0&&Y===ae&&(W=X),V===-1&&X===U&&Y===ae&&(V=Y)),Y=he,X=ve,ae=Se,J=le),x[ie]=!1,de+=P}Y!==-1&&(Z.set(j.subarray(Y,X),ae),W===-1&&Y===0&&Y===ae&&(W=X),V===-1&&X===U&&Y===ae&&(V=Y));const q=W===-1?-1:W/(ne*4),z=V===-1?-1:V/(ne*4);return[q,z,x]}static _renderLine(T,R,O,P,D,x,H,j,Q,G,se,ne,Z,U,W){const V=Z.content,Y=Z.tokens,X=T.width-x,ae=W===1;let J=g.MINIMAP_GUTTER_WIDTH,de=0,q=0;for(let z=0,$=Y.getCount();z<$;z++){const ie=Y.getEndOffset(z),ce=Y.getForeground(z),oe=H.getColor(ce);for(;de<ie;de++){if(J>X)return;const he=V.charCodeAt(de);if(he===9){const ve=ne-(de+q)%ne;q+=ve-1,J+=ve*x}else if(he===32)J+=x;else{const ve=b.isFullWidthCharacter(he)?2:1;for(let Se=0;Se<ve;Se++)if(D===2?Q.blockRenderChar(T,J,G+se,oe,j,R,O,ae):Q.renderChar(T,J,G+se,he,oe,j,R,O,U,P,ae),J+=x,J>X)return}}}}}class F{constructor(T,R,O){this._startLineNumber=T,this._endLineNumber=R,this._defaultValue=O,this._values=[];for(let P=0,D=this._endLineNumber-this._startLineNumber+1;P<D;P++)this._values[P]=O}has(T){return this.get(T)!==this._defaultValue}set(T,R){T<this._startLineNumber||T>this._endLineNumber||(this._values[T-this._startLineNumber]=R)}get(T){return T<this._startLineNumber||T>this._endLineNumber?this._defaultValue:this._values[T-this._startLineNumber]}}(0,c.registerThemingParticipant)((B,T)=>{const R=B.getColor(d.minimapSliderBackground);R&&T.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${R}; }`);const O=B.getColor(d.minimapSliderHoverBackground);O&&T.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${O}; }`);const P=B.getColor(d.minimapSliderActiveBackground);P&&T.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${P}; }`);const D=B.getColor(d.scrollbarShadow);D&&T.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${D} -6px 0 6px -6px inset; }`)})}),define(ee[635],te([0,1,31,51,23,13,358]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends m.ViewPart{constructor(C){super(C);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const g=this._context.configuration.options.get(92);this._useShadows=g.useShadows,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const C=this._useShadows&&this._scrollTop>0;return this._shouldShow!==C?(this._shouldShow=C,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const h=this._context.configuration.options.get(131);h.minimap.renderMinimap===0||h.minimap.minimapWidth>0&&h.minimap.minimapLeft===0?this._width=h.width:this._width=h.width-h.minimap.minimapWidth-h.verticalScrollbarWidth}onConfigurationChanged(C){const g=this._context.configuration.options.get(92);return this._useShadows=g.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(C){return this._scrollTop=C.scrollTop,this._updateShouldShow()}prepareRender(C){}render(C){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,(0,I.registerThemingParticipant)((b,C)=>{const h=b.getColor(N.scrollbarShadow);h&&C.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${h} 0 6px 6px -6px inset; }`)})}),define(ee[636],te([0,1,98,23,13,359]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class I{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class S{constructor(i,n){this.lineNumber=i,this.ranges=n}}function b(t){return new I(t)}function C(t){return new S(t.lineNumber,t.ranges.map(b))}class h extends y.DynamicViewOverlay{constructor(i){super();this._previousFrameVisibleRangesWithStyle=[],this._context=i;const n=this._context.configuration.options;this._lineHeight=n.get(59),this._roundedSelection=n.get(90),this._typicalHalfwidthCharacterWidth=n.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const n=this._context.configuration.options;return this._lineHeight=n.get(59),this._roundedSelection=n.get(90),this._typicalHalfwidthCharacterWidth=n.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let n=0,o=i.length;n<o;n++)if(i[n].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,n,o){const d=this._typicalHalfwidthCharacterWidth/4;let c=null,s=null;if(o&&o.length>0&&n.length>0){const a=n[0].lineNumber;if(a===i.startLineNumber)for(let l=0;!c&&l<o.length;l++)o[l].lineNumber===a&&(c=o[l].ranges[0]);const r=n[n.length-1].lineNumber;if(r===i.endLineNumber)for(let l=o.length-1;!s&&l>=0;l--)o[l].lineNumber===r&&(s=o[l].ranges[0]);c&&!c.startStyle&&(c=null),s&&!s.startStyle&&(s=null)}for(let a=0,r=n.length;a<r;a++){const l=n[a].ranges[0],u=l.left,f=l.left+l.width,w={top:0,bottom:0},v={top:0,bottom:0};if(a>0){const p=n[a-1].ranges[0].left,_=n[a-1].ranges[0].left+n[a-1].ranges[0].width;g(u-p)<d?w.top=2:u>p&&(w.top=1),g(f-_)<d?v.top=2:p<f&&f<_&&(v.top=1)}else c&&(w.top=c.startStyle.top,v.top=c.endStyle.top);if(a+1<r){const p=n[a+1].ranges[0].left,_=n[a+1].ranges[0].left+n[a+1].ranges[0].width;g(u-p)<d?w.bottom=2:p<u&&u<_&&(w.bottom=1),g(f-_)<d?v.bottom=2:f<_&&(v.bottom=1)}else s&&(w.bottom=s.startStyle.bottom,v.bottom=s.endStyle.bottom);l.startStyle=w,l.endStyle=v}}_getVisibleRangesWithStyle(i,n,o){const c=(n.linesVisibleRangesForRange(i,!0)||[]).map(C);return!this._visibleRangesHaveGaps(c)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(n.visibleRange,c,o),c}_createSelectionPiece(i,n,o,d,c){return'<div class="cslr '+o+'" style="top:'+i.toString()+"px;left:"+d.toString()+"px;width:"+c.toString()+"px;height:"+n+'px;"></div>'}_actualRenderOneSelection(i,n,o,d){if(d.length===0)return;const c=!!d[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),r=d[0].lineNumber,l=d[d.length-1].lineNumber;for(let u=0,f=d.length;u<f;u++){const w=d[u],v=w.lineNumber,p=v-n,_=o&&(v===l||v===r)?a:s,L=o&&v===r?1:0;let E="",M="";for(let k=0,A=w.ranges.length;k<A;k++){const F=w.ranges[k];if(c){const T=F.startStyle,R=F.endStyle;if(T.top===1||T.bottom===1){E+=this._createSelectionPiece(L,_,h.SELECTION_CLASS_NAME,F.left-h.ROUNDED_PIECE_WIDTH,h.ROUNDED_PIECE_WIDTH);let O=h.EDITOR_BACKGROUND_CLASS_NAME;T.top===1&&(O+=" "+h.SELECTION_TOP_RIGHT),T.bottom===1&&(O+=" "+h.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(L,_,O,F.left-h.ROUNDED_PIECE_WIDTH,h.ROUNDED_PIECE_WIDTH)}if(R.top===1||R.bottom===1){E+=this._createSelectionPiece(L,_,h.SELECTION_CLASS_NAME,F.left+F.width,h.ROUNDED_PIECE_WIDTH);let O=h.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(O+=" "+h.SELECTION_TOP_LEFT),R.bottom===1&&(O+=" "+h.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(L,_,O,F.left+F.width,h.ROUNDED_PIECE_WIDTH)}}let B=h.SELECTION_CLASS_NAME;if(c){const T=F.startStyle,R=F.endStyle;T.top===0&&(B+=" "+h.SELECTION_TOP_LEFT),T.bottom===0&&(B+=" "+h.SELECTION_BOTTOM_LEFT),R.top===0&&(B+=" "+h.SELECTION_TOP_RIGHT),R.bottom===0&&(B+=" "+h.SELECTION_BOTTOM_RIGHT)}M+=this._createSelectionPiece(L,_,B,F.left,F.width)}i[p][0]+=E,i[p][1]+=M}}prepareRender(i){const n=[],o=i.visibleRange.startLineNumber,d=i.visibleRange.endLineNumber;for(let s=o;s<=d;s++){const a=s-o;n[a]=["",""]}const c=[];for(let s=0,a=this._selections.length;s<a;s++){const r=this._selections[s];if(r.isEmpty()){c[s]=null;continue}const l=this._getVisibleRangesWithStyle(r,i,this._previousFrameVisibleRangesWithStyle[s]);c[s]=l,this._actualRenderOneSelection(n,o,this._selections.length>1,l)}this._previousFrameVisibleRangesWithStyle=c,this._renderResult=n.map(([s,a])=>s+a)}render(i,n){if(!this._renderResult)return"";const o=n-i;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.SelectionsOverlay=h,h.SELECTION_CLASS_NAME="selected-text",h.SELECTION_TOP_LEFT="top-left-radius",h.SELECTION_BOTTOM_LEFT="bottom-left-radius",h.SELECTION_TOP_RIGHT="top-right-radius",h.SELECTION_BOTTOM_RIGHT="bottom-right-radius",h.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",h.ROUNDED_PIECE_WIDTH=10,(0,N.registerThemingParticipant)((t,i)=>{const n=t.getColor(m.editorSelectionBackground);n&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${n}; }`);const o=t.getColor(m.editorInactiveSelection);o&&i.addRule(`.monaco-editor .selected-text { background-color: ${o}; }`);const d=t.getColor(m.editorSelectionForeground);d&&!d.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${d}; }`)});function g(t){return t<0?-t:t}}),define(ee[275],te([0,1,18,13,64,419,34]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let b=class{constructor(i,n,o,d){this._legend=i,this._themeService=n,this._languageService=o,this._logService=d,this._hashTable=new g,this._hasWarnedOverlappingTokens=!1}getMetadata(i,n,o){const d=this._languageService.languageIdCodec.encodeLanguageId(o),c=this._hashTable.get(i,n,d);let s;if(c)s=c.metadata,this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${i} / ${n}: foreground ${y.TokenMetadata.getForeground(s)}, fontStyle ${y.TokenMetadata.getFontStyle(s).toString(2)}`);else{let a=this._legend.tokenTypes[i];const r=[];if(a){let l=n;for(let f=0;l>0&&f<this._legend.tokenModifiers.length;f++)l&1&&r.push(this._legend.tokenModifiers[f]),l=l>>1;l>0&&this._logService.getLevel()===N.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${n.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const u=this._themeService.getColorTheme().getTokenStyleMetadata(a,r,o);typeof u=="undefined"?s=2147483647:(s=0,typeof u.italic!="undefined"&&(s|=(u.italic?1:0)<<10|1),typeof u.bold!="undefined"&&(s|=(u.bold?2:0)<<10|2),typeof u.underline!="undefined"&&(s|=(u.underline?4:0)<<10|4),typeof u.strikethrough!="undefined"&&(s|=(u.strikethrough?8:0)<<10|8),u.foreground&&(s|=u.foreground<<14|16),s===0&&(s=2147483647))}else this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${i} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,a="not-in-legend";this._hashTable.add(i,n,d,s),this._logService.getLevel()===N.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${i} (${a}) / ${n} (${r.join(" ")}): foreground ${y.TokenMetadata.getForeground(s)}, fontStyle ${y.TokenMetadata.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(i,n){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${i}, column ${n}`))}};b=Be([me(1,m.IThemeService),me(2,S.ILanguageService),me(3,N.ILogService)],b),e.SemanticTokensProviderStyling=b;function C(t,i,n){const o=t.data,d=t.data.length/5|0,c=Math.max(Math.ceil(d/1024),400),s=[];let a=0,r=1,l=0;for(;a<d;){const u=a;let f=Math.min(u+c,d);if(f<d){let k=f;for(;k-1>u&&o[5*k]===0;)k--;if(k-1===u){let A=f;for(;A+1<d&&o[5*A]===0;)A++;f=A}else f=k}let w=new Uint32Array((f-u)*4),v=0,p=0,_=0,L=0,E=0;for(;a<f;){const k=5*a,A=o[k],F=o[k+1],B=r+A|0,T=A===0?l+F|0:F,R=o[k+2],O=o[k+3],P=o[k+4],D=i.getMetadata(O,P,n);D!==2147483647&&(p===0&&(p=B),_===B&&E>T&&(i.warnOverlappingSemanticTokens(B,T+1),L<T?w[v-4+2]=T:v-=4),w[v]=B-p,w[v+1]=T,w[v+2]=T+R,w[v+3]=D,v+=4,_=B,L=T,E=T+R),r=B,l=T,a++}v!==w.length&&(w=w.subarray(0,v));const M=I.SparseMultilineTokens.create(p,w);s.push(M)}return s}e.toMultilineTokens2=C;class h{constructor(i,n,o,d){this.tokenTypeIndex=i,this.tokenModifierSet=n,this.languageId=o,this.metadata=d,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(i,n){for(let o=0;o<n;o++)i[o]=null}_hash2(i,n){return(i<<5)-i+n|0}_hashFunc(i,n,o){return this._hash2(this._hash2(i,n),o)%this._currentLength}get(i,n,o){const d=this._hashFunc(i,n,o);let c=this._elements[d];for(;c;){if(c.tokenTypeIndex===i&&c.tokenModifierSet===n&&c.languageId===o)return c;c=c.next}return null}add(i,n,o,d){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const s of c){let a=s;for(;a;){const r=a.next;a.next=null,this._add(a),a=r}}}this._add(new h(i,n,o,d))}_add(i){const n=this._hashFunc(i.tokenTypeIndex,i.tokenModifierSet,i.languageId);i.next=this._elements[n],this._elements[n]=i}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ee[53],te([0,1,502,29,23,13]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,N.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},y.localize(0,null)),e.editorLineHighlightBorder=(0,N.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},y.localize(1,null)),e.editorRangeHighlight=(0,N.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},y.localize(2,null),!0),e.editorRangeHighlightBorder=(0,N.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:N.activeContrastBorder},y.localize(3,null),!0),e.editorSymbolHighlight=(0,N.registerColor)("editor.symbolHighlightBackground",{dark:N.editorFindMatchHighlight,light:N.editorFindMatchHighlight,hc:null},y.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,N.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:N.activeContrastBorder},y.localize(5,null),!0),e.editorCursorForeground=(0,N.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:m.Color.black,hc:m.Color.white},y.localize(6,null)),e.editorCursorBackground=(0,N.registerColor)("editorCursor.background",null,y.localize(7,null)),e.editorWhitespaces=(0,N.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},y.localize(8,null)),e.editorIndentGuides=(0,N.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},y.localize(9,null)),e.editorActiveIndentGuides=(0,N.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},y.localize(10,null)),e.editorLineNumbers=(0,N.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:m.Color.white},y.localize(11,null));const S=(0,N.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:N.activeContrastBorder},y.localize(12,null),!1,y.localize(13,null));e.editorActiveLineNumber=(0,N.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},y.localize(14,null)),e.editorRuler=(0,N.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:m.Color.lightgrey,hc:m.Color.white},y.localize(15,null)),e.editorCodeLensForeground=(0,N.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},y.localize(16,null)),e.editorBracketMatchBackground=(0,N.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},y.localize(17,null)),e.editorBracketMatchBorder=(0,N.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:N.contrastBorder},y.localize(18,null)),e.editorOverviewRulerBorder=(0,N.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},y.localize(19,null)),e.editorOverviewRulerBackground=(0,N.registerColor)("editorOverviewRuler.background",null,y.localize(20,null)),e.editorGutter=(0,N.registerColor)("editorGutter.background",{dark:N.editorBackground,light:N.editorBackground,hc:N.editorBackground},y.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,N.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:m.Color.fromHex("#fff").transparent(.8)},y.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,N.registerColor)("editorUnnecessaryCode.opacity",{dark:m.Color.fromHex("#000a"),light:m.Color.fromHex("#0007"),hc:null},y.localize(23,null)),e.ghostTextBorder=(0,N.registerColor)("editorGhostText.border",{dark:null,light:null,hc:m.Color.fromHex("#fff").transparent(.8)},y.localize(24,null)),e.ghostTextForeground=(0,N.registerColor)("editorGhostText.foreground",{dark:m.Color.fromHex("#ffffff56"),light:m.Color.fromHex("#0007"),hc:null},y.localize(25,null)),e.ghostTextBackground=(0,N.registerColor)("editorGhostText.background",{dark:null,light:null,hc:null},y.localize(26,null));const b=new m.Color(new m.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,N.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:b,light:b,hc:b},y.localize(27,null),!0),e.overviewRulerError=(0,N.registerColor)("editorOverviewRuler.errorForeground",{dark:new m.Color(new m.RGBA(255,18,18,.7)),light:new m.Color(new m.RGBA(255,18,18,.7)),hc:new m.Color(new m.RGBA(255,50,50,1))},y.localize(28,null)),e.overviewRulerWarning=(0,N.registerColor)("editorOverviewRuler.warningForeground",{dark:N.editorWarningForeground,light:N.editorWarningForeground,hc:N.editorWarningBorder},y.localize(29,null)),e.overviewRulerInfo=(0,N.registerColor)("editorOverviewRuler.infoForeground",{dark:N.editorInfoForeground,light:N.editorInfoForeground,hc:N.editorInfoBorder},y.localize(30,null)),e.editorBracketHighlightingForeground1=(0,N.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},y.localize(31,null)),e.editorBracketHighlightingForeground2=(0,N.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},y.localize(32,null)),e.editorBracketHighlightingForeground3=(0,N.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},y.localize(33,null)),e.editorBracketHighlightingForeground4=(0,N.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(34,null)),e.editorBracketHighlightingForeground5=(0,N.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(35,null)),e.editorBracketHighlightingForeground6=(0,N.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,N.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new m.Color(new m.RGBA(255,18,18,.8)),light:new m.Color(new m.RGBA(255,18,18,.8)),hc:new m.Color(new m.RGBA(255,50,50,1))},y.localize(37,null)),e.editorBracketPairGuideBackground1=(0,N.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(38,null)),e.editorBracketPairGuideBackground2=(0,N.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(39,null)),e.editorBracketPairGuideBackground3=(0,N.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(40,null)),e.editorBracketPairGuideBackground4=(0,N.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(41,null)),e.editorBracketPairGuideBackground5=(0,N.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(42,null)),e.editorBracketPairGuideBackground6=(0,N.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,N.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,N.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,N.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,N.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,N.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,N.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},y.localize(49,null)),e.editorUnicodeHighlightBorder=(0,N.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},y.localize(50,null)),(0,I.registerThemingParticipant)((C,h)=>{const g=C.getColor(N.editorBackground);g&&h.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${g}; }`);const t=C.getColor(N.editorForeground);t&&h.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${t}; }`);const i=C.getColor(e.editorGutter);i&&h.addRule(`.monaco-editor .margin { background-color: ${i}; }`);const n=C.getColor(e.editorRangeHighlight);n&&h.addRule(`.monaco-editor .rangeHighlight { background-color: ${n}; }`);const o=C.getColor(e.editorRangeHighlightBorder);o&&h.addRule(`.monaco-editor .rangeHighlight { border: 1px ${C.type==="hc"?"dotted":"solid"} ${o}; }`);const d=C.getColor(e.editorSymbolHighlight);d&&h.addRule(`.monaco-editor .symbolHighlight { background-color: ${d}; }`);const c=C.getColor(e.editorSymbolHighlightBorder);c&&h.addRule(`.monaco-editor .symbolHighlight { border: 1px ${C.type==="hc"?"dotted":"solid"} ${c}; }`);const s=C.getColor(e.editorWhitespaces);s&&(h.addRule(`.monaco-editor .mtkw { color: ${s} !important; }`),h.addRule(`.monaco-editor .mtkz { color: ${s} !important; }`))})}),define(ee[637],te([0,1,98,53,19,13,22,347]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let b=!0;class C extends y.DynamicViewOverlay{constructor(i){super();this._context=i;const n=this._context.configuration.options,o=n.get(131);this._lineHeight=n.get(59),this._renderLineHighlight=n.get(85),this._renderLineHighlightOnlyWhenFocus=n.get(86),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const n=b?this._selections.slice(0,1):this._selections,o=n.map(c=>c.positionLineNumber);o.sort((c,s)=>c-s),N.equals(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,i=!0);const d=n.every(c=>c.isEmpty());return this._selectionIsEmpty!==d&&(this._selectionIsEmpty=d,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const n=this._context.configuration.options,o=n.get(131);return this._lineHeight=n.get(59),this._renderLineHighlight=n.get(85),this._renderLineHighlightOnlyWhenFocus=n.get(86),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const n=this._renderOne(i),o=i.visibleRange.startLineNumber,d=i.visibleRange.endLineNumber,c=this._cursorLineNumbers.length;let s=0;const a=[];for(let r=o;r<=d;r++){const l=r-o;for(;s<c&&this._cursorLineNumbers[s]<r;)s++;s<c&&this._cursorLineNumbers[s]===r?a[l]=n:a[l]=""}this._renderData=a}render(i,n){if(!this._renderData)return"";const o=n-i;return o>=this._renderData.length?"":this._renderData[o]}}e.AbstractLineHighlightOverlay=C;class h extends C{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=h;class g extends C{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=g,(0,I.registerThemingParticipant)((t,i)=>{b=!1;const n=t.getColor(m.editorLineHighlight);if(n&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||t.defines(m.editorLineHighlightBorder)){const o=t.getColor(m.editorLineHighlightBorder);o&&(b=!0,i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${o}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${o}; }`),t.type==="hc"&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ee[638],te([0,1,98,53,13,11,19,20,177,350]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class h extends y.DynamicViewOverlay{constructor(i){super();this._context=i,this._primaryPosition=null;const n=this._context.configuration.options,o=n.get(132),d=n.get(44);this._lineHeight=n.get(59),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=o.wrappingColumn===-1?-1:o.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const n=this._context.configuration.options,o=n.get(132),d=n.get(44);return this._lineHeight=n.get(59),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=o.wrappingColumn===-1?-1:o.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(13),!0}onCursorStateChanged(i){var n;const d=i.selections[0].getPosition();return((n=this._primaryPosition)===null||n===void 0?void 0:n.equals(d))?!1:(this._primaryPosition=d,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var n,o,d,c;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const s=i.visibleRange.startLineNumber,a=i.visibleRange.endLineNumber,r=i.scrollWidth,l=this._lineHeight,u=this._primaryPosition,f=this.getGuidesByLine(s,a,u),w=[];for(let v=s;v<=a;v++){const p=v-s,_=f[p];let L="";const E=(o=(n=i.visibleRangeForPosition(new I.Position(v,1)))===null||n===void 0?void 0:n.left)!==null&&o!==void 0?o:0;for(const M of _){const k=E+(M.visibleColumn-1)*this._spaceWidth;if(k>r||this._maxIndentLeft>0&&k>this._maxIndentLeft)break;const A=M.horizontalLine?M.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",F=M.horizontalLine?((c=(d=i.visibleRangeForPosition(new I.Position(v,M.horizontalLine.endColumn)))===null||d===void 0?void 0:d.left)!==null&&c!==void 0?c:k+this._spaceWidth)-k:this._spaceWidth;L+=`<div class="core-guide ${M.className} ${A}" style="left:${k}px;height:${l}px;width:${F}px"></div>`}w[p]=L}this._renderResult=w}getGuidesByLine(i,n,o){const d=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(i,n,o,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?C.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?C.HorizontalGuidesState.EnabledForActive:C.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,c=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(i,n):null;let s=0,a=0,r=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&o){const f=this._context.model.getActiveIndentGuide(o.lineNumber,i,n);s=f.startLineNumber,a=f.endLineNumber,r=f.indent}const{indentSize:l}=this._context.model.getTextModelOptions(),u=[];for(let f=i;f<=n;f++){const w=new Array;u.push(w);const v=d?d[f-i]:[],p=new S.ArrayQueue(v),_=c?c[f-i]:[];for(let L=1;L<=_;L++){const E=(L-1)*l+1,M=v.length===0&&s<=f&&f<=a&&L===r;w.push(...p.takeWhile(A=>A.visibleColumn<E)||[]);const k=p.peek();(!k||k.visibleColumn!==E||k.horizontalLine)&&w.push(new C.IndentGuide(E,M?"core-guide-indent-active":"core-guide-indent",null))}w.push(...p.takeWhile(L=>!0)||[])}return u}render(i,n){if(!this._renderResult)return"";const o=n-i;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.IndentGuidesOverlay=h;function g(t){if(!(t&&t.isTransparent()))return t}(0,N.registerThemingParticipant)((t,i)=>{const n=t.getColor(m.editorIndentGuides);n&&i.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${n} inset; }`);const o=t.getColor(m.editorActiveIndentGuides)||n;o&&i.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${o} inset; }`);const d=[{bracketColor:m.editorBracketHighlightingForeground1,guideColor:m.editorBracketPairGuideBackground1,guideColorActive:m.editorBracketPairGuideActiveBackground1},{bracketColor:m.editorBracketHighlightingForeground2,guideColor:m.editorBracketPairGuideBackground2,guideColorActive:m.editorBracketPairGuideActiveBackground2},{bracketColor:m.editorBracketHighlightingForeground3,guideColor:m.editorBracketPairGuideBackground3,guideColorActive:m.editorBracketPairGuideActiveBackground3},{bracketColor:m.editorBracketHighlightingForeground4,guideColor:m.editorBracketPairGuideBackground4,guideColorActive:m.editorBracketPairGuideActiveBackground4},{bracketColor:m.editorBracketHighlightingForeground5,guideColor:m.editorBracketPairGuideBackground5,guideColorActive:m.editorBracketPairGuideActiveBackground5},{bracketColor:m.editorBracketHighlightingForeground6,guideColor:m.editorBracketPairGuideBackground6,guideColorActive:m.editorBracketPairGuideActiveBackground6}],c=new C.BracketPairGuidesClassNames,s=d.map(a=>{var r,l;const u=t.getColor(a.bracketColor),f=t.getColor(a.guideColor),w=t.getColor(a.guideColorActive),v=g((r=g(f))!==null&&r!==void 0?r:u==null?void 0:u.transparent(.3)),p=g((l=g(w))!==null&&l!==void 0?l:u);if(!(!v||!p))return{guideColor:v,guideColorActive:p}}).filter(b.isDefined);if(s.length>0){for(let a=0;a<30;a++){const r=s[a%s.length];i.addRule(`.monaco-editor .${c.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${r.guideColor}; --guide-color-active: ${r.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${c.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${c.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${c.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(ee[276],te([0,1,17,98,11,53,13,351]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class b extends m.DynamicViewOverlay{constructor(h){super();this._context=h,this._readConfig(),this._lastCursorModelPosition=new N.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const h=this._context.configuration.options;this._lineHeight=h.get(59);const g=h.get(60);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=h.get(84);const t=h.get(131);this._lineNumbersLeft=t.lineNumbersLeft,this._lineNumbersWidth=t.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(h){return this._readConfig(),!0}onCursorStateChanged(h){const g=h.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(g);let t=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,t=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(t=!0),t}onFlushed(h){return!0}onLinesChanged(h){return!0}onLinesDeleted(h){return!0}onLinesInserted(h){return!0}onScrollChanged(h){return h.scrollTopChanged}onZonesChanged(h){return!0}_getLineRenderLineNumber(h){const g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new N.Position(h,1));if(g.column!==1)return"";const t=g.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(t);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-t);return i===0?'<span class="relative-current-line-number">'+t+"</span>":String(i)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===t||t%10==0?String(t):"":String(t)}prepareRender(h){if(this._renderLineNumbers===0){this._renderResult=null;return}const g=y.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",t=h.visibleRange.startLineNumber,i=h.visibleRange.endLineNumber,n='<div class="'+b.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',o=this._context.model.getLineCount(),d=[];for(let c=t;c<=i;c++){const s=c-t;if(!this._renderFinalNewline&&c===o&&this._context.model.getLineLength(c)===0){d[s]="";continue}const a=this._getLineRenderLineNumber(c);a?c===this._activeLineNumber?d[s]='<div class="active-line-number '+b.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+a+"</div>":d[s]=n+a+"</div>":d[s]=""}this._renderResult=d}render(h,g){if(!this._renderResult)return"";const t=g-h;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.LineNumbersOverlay=b,b.CLASS_NAME="line-numbers",(0,S.registerThemingParticipant)((C,h)=>{const g=C.getColor(I.editorLineNumbers);g&&h.addRule(`.monaco-editor .line-numbers { color: ${g}; }`);const t=C.getColor(I.editorActiveLineNumber);t&&h.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${t}; }`)})}),define(ee[639],te([0,1,484,33,31,17,8,62,173,232,51,276,246,30,114,11,3,22,140,18,29,346]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class u{constructor(_,L,E,M,k){this._context=_,this.modelLineNumber=L,this.distanceToModelLineStart=E,this.widthOfHiddenLineTextBefore=M,this.distanceToModelLineEnd=k,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null}prepareRender(_){const L=new d.Position(this.modelLineNumber,this.distanceToModelLineStart+1),E=new d.Position(this.modelLineNumber,this._context.model.getModelLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(L),this.endPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(E),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=_.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=_.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}}const f=m.isFirefox;class w extends g.ViewPart{constructor(_,L,E){super(_);this._primaryCursorPosition=new d.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=L,this._visibleRangeProvider=E,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,k=M.get(131);this._setAccessibilityOptions(M),this._contentLeft=k.contentLeft,this._contentWidth=k.contentWidth,this._contentHeight=k.height,this._fontInfo=M.get(44),this._lineHeight=M.get(59),this._emptySelectionClipboard=M.get(32),this._copyWithSyntaxHighlighting=M.get(21),this._visibleTextArea=null,this._selections=[new s.Selection(1,1,1,1)],this._modelSelections=[new s.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,N.createFastDomNode)(document.createElement("textarea")),g.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("tabindex",String(M.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",y.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),M.get(30)&&M.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,N.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const A={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:T=>this._context.model.getLineMaxColumn(T),getValueInRange:(T,R)=>this._context.model.getValueInRange(T,R)},F={getDataToCopy:()=>{const T=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,I.isWindows),R=this._context.model.getEOL(),O=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),P=Array.isArray(T)?T:null,D=Array.isArray(T)?T.join(R):T;let x,H=null;if(C.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&D.length<65536){const j=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);j&&(x=j.html,H=j.mode)}return{isFromEmptySelection:O,multicursorText:P,text:D,html:x,mode:H}},getScreenReaderContent:T=>{if(this._accessibilitySupport===1){if(I.isMacintosh){const R=this._selections[0];if(R.isEmpty()){const O=R.getStartPosition();let P=this._getWordBeforePosition(O);if(P.length===0&&(P=this._getCharacterBeforePosition(O)),P.length>0)return new h.TextAreaState(P,P.length,P.length,O,O)}}return h.TextAreaState.EMPTY}if(m.isAndroid){const R=this._selections[0];if(R.isEmpty()){const O=R.getStartPosition(),[P,D]=this._getAndroidWordAtPosition(O);if(P.length>0)return new h.TextAreaState(P,D,D,O,O)}return h.TextAreaState.EMPTY}return h.PagedScreenReaderStrategy.fromEditorSelection(T,A,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(T,R,O)=>this._context.model.deduceModelPositionRelativeToViewPosition(T,R,O)},B=this._register(new C.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new C.TextAreaInput(F,B,I.OS,m)),this._register(this._textAreaInput.onKeyDown(T=>{this._viewController.emitKeyDown(T)})),this._register(this._textAreaInput.onKeyUp(T=>{this._viewController.emitKeyUp(T)})),this._register(this._textAreaInput.onPaste(T=>{let R=!1,O=null,P=null;T.metadata&&(R=this._emptySelectionClipboard&&!!T.metadata.isFromEmptySelection,O=typeof T.metadata.multicursorText!="undefined"?T.metadata.multicursorText:null,P=T.metadata.mode),this._viewController.paste(T.text,R,O,P)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(T=>{T.replacePrevCharCnt||T.replaceNextCharCnt||T.positionDelta?(h._debugComposition&&console.log(` => compositionType: <<${T.text}>>, ${T.replacePrevCharCnt}, ${T.replaceNextCharCnt}, ${T.positionDelta}`),this._viewController.compositionType(T.text,T.replacePrevCharCnt,T.replaceNextCharCnt,T.positionDelta)):(h._debugComposition&&console.log(` => type: <<${T.text}>>`),this._viewController.type(T.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(T=>{this._viewController.setSelection(T)})),this._register(this._textAreaInput.onCompositionStart(T=>{const R=this.textArea.domNode,O=this._modelSelections[0],{distanceToModelLineStart:P,widthOfHiddenTextBefore:D}=(()=>{const H=R.value.substring(0,Math.min(R.selectionStart,R.selectionEnd)),j=H.lastIndexOf(`
`),Q=H.substring(j+1),G=Q.lastIndexOf("	"),se=Q.length-G-1,ne=O.getStartPosition(),Z=Math.min(ne.column-1,se),U=ne.column-1-Z,W=Q.substring(0,Q.length-Z),V=v(W,this._fontInfo);return{distanceToModelLineStart:U,widthOfHiddenTextBefore:V}})(),{distanceToModelLineEnd:x}=(()=>{const H=R.value.substring(Math.max(R.selectionStart,R.selectionEnd)),j=H.indexOf(`
`),Q=j===-1?H:H.substring(0,j),G=Q.indexOf("	"),se=G===-1?Q.length:Q.length-G-1,ne=O.getEndPosition(),Z=Math.min(this._context.model.getModelLineMaxColumn(ne.lineNumber)-ne.column,se);return{distanceToModelLineEnd:this._context.model.getModelLineMaxColumn(ne.lineNumber)-ne.column-Z}})();this._context.model.revealRange("keyboard",!0,c.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new u(this._context,O.startLineNumber,P,D,x),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(T=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${a.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(_){const L='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',E=this._context.model.getLineContent(_.lineNumber),M=(0,o.getMapForWordSeparators)(L);let k=!0,A=_.column,F=!0,B=_.column,T=0;for(;T<50&&(k||F);){if(k&&A<=1&&(k=!1),k){const R=E.charCodeAt(A-2);M.get(R)!==0?k=!1:A--}if(F&&B>E.length&&(F=!1),F){const R=E.charCodeAt(B-1);M.get(R)!==0?F=!1:B++}T++}return[E.substring(A-1,B-1),_.column-A]}_getWordBeforePosition(_){const L=this._context.model.getLineContent(_.lineNumber),E=(0,o.getMapForWordSeparators)(this._context.configuration.options.get(117));let M=_.column,k=0;for(;M>1;){const A=L.charCodeAt(M-2);if(E.get(A)!==0||k>50)return L.substring(M-1,_.column-1);k++,M--}return L.substring(0,_.column-1)}_getCharacterBeforePosition(_){if(_.column>1){const E=this._context.model.getLineContent(_.lineNumber).charAt(_.column-2);if(!S.isHighSurrogate(E.charCodeAt(0)))return E}return""}_getAriaLabel(_){return _.get(2)===1?y.localize(1,null,I.isLinux?"Shift+Alt+F1":"Alt+F1"):_.get(4)}_setAccessibilityOptions(_){this._accessibilitySupport=_.get(2);const L=_.get(3);this._accessibilitySupport===2&&L===n.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=L}onConfigurationChanged(_){const L=this._context.configuration.options,E=L.get(131);return this._setAccessibilityOptions(L),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=L.get(44),this._lineHeight=L.get(59),this._emptySelectionClipboard=L.get(32),this._copyWithSyntaxHighlighting=L.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(L)),this.textArea.setAttribute("tabindex",String(L.get(112))),(_.hasChanged(30)||_.hasChanged(81))&&(L.get(30)&&L.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),_.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(_){return this._selections=_.selections.slice(0),this._modelSelections=_.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return this._scrollLeft=_.scrollLeft,this._scrollTop=_.scrollTop,!0}onZonesChanged(_){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(_){_.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",_.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),_.role&&this.textArea.setAttribute("role",_.role)}prepareRender(_){this._primaryCursorPosition=new d.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=_.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(_)}render(_){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const E=this._visibleTextArea.visibleTextareaStart,M=this._visibleTextArea.visibleTextareaEnd,k=this._visibleTextArea.startPosition,A=this._visibleTextArea.endPosition;if(k&&A&&E&&M&&M.left>=this._scrollLeft&&E.left<=this._scrollLeft+this._contentWidth){const F=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,B=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=B*this._lineHeight;let T=this._visibleTextArea.widthOfHiddenLineTextBefore,R=this._contentLeft+E.left-this._scrollLeft,O=M.left-E.left;if(R<this._contentLeft){const Q=this._contentLeft-R;R+=Q,T+=Q,O-=Q}O>this._contentWidth&&(O=this._contentWidth),this.textArea.domNode.scrollLeft=T,this._renderInsideEditor(null,F,R,O,this._lineHeight);const P=this._context.model.getViewLineData(k.lineNumber),D=P.tokens.findTokenIndexAtOffset(k.column-1),x=P.tokens.findTokenIndexAtOffset(A.column-1);let H;D===x?H=P.tokens.getPresentation(D):H={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};const j=(r.TokenizationRegistry.getColorMap()||[])[H.foreground];this.textArea.domNode.style.color=j?l.Color.Format.CSS.formatHex(j):"inherit",this.textArea.domNode.style.fontStyle=H.italic?"italic":"inherit",H.bold&&(this.textArea.domNode.style.fontWeight="bold"),this.textArea.domNode.style.textDecoration=`${H.underline?" underline":""}${H.strikethrough?" line-through":""}`}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const _=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(_<this._contentLeft||_>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(I.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,L,_,f?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const E=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=E*this._lineHeight;return}this._renderInsideEditor(this._primaryCursorPosition,L,_,f?0:1,f?0:1)}_newlinecount(_){let L=0,E=-1;do{if(E=_.indexOf(`
`,E+1),E===-1)break;L++}while(!0);return L}_renderInsideEditor(_,L,E,M,k){this._lastRenderPosition=_;const A=this.textArea,F=this.textAreaCover;(0,b.applyFontInfo)(A,this._fontInfo),A.setTop(L),A.setLeft(E),A.setWidth(M),A.setHeight(k),F.setTop(0),F.setLeft(0),F.setWidth(0),F.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const _=this.textArea,L=this.textAreaCover;if((0,b.applyFontInfo)(_,this._fontInfo),_.setTop(0),_.setLeft(0),L.setTop(0),L.setLeft(0),f){_.setWidth(0),_.setHeight(0),L.setWidth(0),L.setHeight(0);return}_.setWidth(1),_.setHeight(1),L.setWidth(1),L.setHeight(1);const E=this._context.configuration.options;E.get(50)?L.setClassName("monaco-editor-background textAreaCover "+i.Margin.OUTER_CLASS_NAME):E.get(60).renderType!==0?L.setClassName("monaco-editor-background textAreaCover "+t.LineNumbersOverlay.CLASS_NAME):L.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=w;function v(p,_){if(p.length===0)return 0;const L=document.createElement("div");L.style.position="absolute",L.style.top="-50000px",L.style.width="50000px";const E=document.createElement("span");(0,b.applyFontInfo)(E,_),E.style.whiteSpace="pre",E.append(p),L.appendChild(E),document.body.appendChild(L);const M=E.offsetWidth;return document.body.removeChild(L),M}}),define(ee[640],te([0,1,31,29,51,11,18,53,67]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class h{constructor(i,n){const o=i.options;this.lineHeight=o.get(59),this.pixelRatio=o.get(129),this.overviewRulerLanes=o.get(74),this.renderBorder=o.get(73);const d=n.getColor(b.editorOverviewRulerBorder);this.borderColor=d?d.toString():null,this.hideCursor=o.get(52);const c=n.getColor(b.editorCursorForeground);this.cursorColor=c?c.transparent(.7).toString():null,this.themeType=n.type;const s=o.get(65),a=s.enabled,r=s.side,l=a?n.getColor(b.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;l===null||r==="left"?this.backgroundColor=null:this.backgroundColor=m.Color.Format.CSS.formatHex(l);const f=o.get(131).overviewRuler;this.top=f.top,this.right=f.right,this.domWidth=f.width,this.domHeight=f.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[w,v]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=w,this.w=v}_initLanes(i,n,o){const d=n-i;if(o>=3){const c=Math.floor(d/3),s=Math.floor(d/3),a=d-c-s,r=i,l=r+c,u=r+c+a;return[[0,r,l,r,u,r,l,r],[0,c,a,c+a,s,c+a+s,a+s,c+a+s]]}else if(o===2){const c=Math.floor(d/2),s=d-c,a=i,r=a+c;return[[0,a,a,a,r,a,a,a],[0,c,c,c,s,c+s,c+s,c+s]]}else{const c=i,s=d;return[[0,c,c,c,c,c,c,c],[0,s,s,s,s,s,s,s]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class g extends N.ViewPart{constructor(i){super(i);this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(n=>{n.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const n=new h(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(n)?!1:(this._settings=n,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let n=0,o=i.selections.length;n<o;n++)this._cursorPositions[n]=i.selections[n].getPosition();return this._cursorPositions.sort(I.Position.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const i=this._settings.canvasWidth,n=this._settings.canvasHeight,o=this._settings.lineHeight,d=this._context.viewLayout,c=this._context.viewLayout.getScrollHeight(),s=n/c,a=this._context.model.getAllOverviewRulerDecorations(this._context.theme),r=6*this._settings.pixelRatio|0,l=r/2|0,u=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?u.clearRect(0,0,i,n):(u.fillStyle=this._settings.backgroundColor,u.fillRect(0,0,i,n));const f=this._settings.x,w=this._settings.w;a.sort(C.OverviewRulerDecorationsGroup.cmp);for(const v of a){const p=v.color,_=v.data;u.fillStyle=p;let L=0,E=0,M=0;for(let k=0,A=_.length/3;k<A;k++){const F=_[3*k],B=_[3*k+1],T=_[3*k+2];let R=d.getVerticalOffsetForLineNumber(B)*s|0,O=(d.getVerticalOffsetForLineNumber(T)+o)*s|0;if(O-R<r){let D=(R+O)/2|0;D<l?D=l:D+l>n&&(D=n-l),R=D-l,O=D+l}R>M+1||F!==L?(k!==0&&u.fillRect(f[L],E,w[L],M-E),L=F,E=R,M=O):O>M&&(M=O)}u.fillRect(f[L],E,w[L],M-E)}if(!this._settings.hideCursor&&this._settings.cursorColor){const v=2*this._settings.pixelRatio|0,p=v/2|0,_=this._settings.x[7],L=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let E=-100,M=-100;for(let k=0,A=this._cursorPositions.length;k<A;k++){const F=this._cursorPositions[k];let B=d.getVerticalOffsetForLineNumber(F.lineNumber)*s|0;B<p?B=p:B+p>n&&(B=n-p);const T=B-p,R=T+v;T>M+1?(k!==0&&u.fillRect(_,E,L,M-E),E=T,M=R):R>M&&(M=R)}u.fillRect(_,E,L,M-E)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,n),u.stroke(),u.moveTo(0,0),u.lineTo(i,0),u.stroke())}}e.DecorationsOverviewRuler=g}),define(ee[641],te([0,1,31,51,53,13,357]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends m.ViewPart{constructor(C){super(C);this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const h=this._context.configuration.options;this._rulers=h.get(91),this._typicalHalfwidthCharacterWidth=h.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(C){const h=this._context.configuration.options;return this._rulers=h.get(91),this._typicalHalfwidthCharacterWidth=h.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(C){return C.scrollHeightChanged}prepareRender(C){}_ensureRulersCount(){const C=this._renderedRulers.length,h=this._rulers.length;if(C===h)return;if(C<h){const{tabSize:t}=this._context.model.getTextModelOptions(),i=t;let n=h-C;for(;n>0;){const o=(0,y.createFastDomNode)(document.createElement("div"));o.setClassName("view-ruler"),o.setWidth(i),this.domNode.appendChild(o),this._renderedRulers.push(o),n--}return}let g=C-h;for(;g>0;){const t=this._renderedRulers.pop();this.domNode.removeChild(t),g--}}render(C){this._ensureRulersCount();for(let h=0,g=this._rulers.length;h<g;h++){const t=this._renderedRulers[h],i=this._rulers[h];t.setBoxShadow(i.color?`1px 0 0 0 ${i.color} inset`:""),t.setHeight(Math.min(C.scrollHeight,1e6)),t.setLeft(i.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,(0,I.registerThemingParticipant)((b,C)=>{const h=b.getColor(N.editorRuler);h&&C.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${h} inset; }`)})}),define(ee[642],te([0,1,31,10,51,497,30,53,13,360]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class h extends N.ViewPart{constructor(t){super(t);const i=this._context.configuration.options;this._readOnly=i.get(81),this._cursorBlinking=i.get(22),this._cursorStyle=i.get(24),this._cursorSmoothCaretAnimation=i.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new I.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new m.TimeoutTimer,this._cursorFlatBlinkInterval=new m.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const i=this._context.configuration.options;this._readOnly=i.get(81),this._cursorBlinking=i.get(22),this._cursorStyle=i.get(24),this._cursorSmoothCaretAnimation=i.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let n=0,o=this._secondaryCursors.length;n<o;n++)this._secondaryCursors[n].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,i){if(this._primaryCursor.onCursorPositionChanged(t),this._updateBlinking(),this._secondaryCursors.length<i.length){const n=i.length-this._secondaryCursors.length;for(let o=0;o<n;o++){const d=new I.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>i.length){const n=this._secondaryCursors.length-i.length;for(let o=0;o<n;o++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let n=0;n<i.length;n++)this._secondaryCursors[n].onCursorPositionChanged(i[n])}onCursorStateChanged(t){const i=[];for(let o=0,d=t.selections.length;o<d;o++)i[o]=t.selections[o].getPosition();this._onCursorPositionChanged(i[0],i.slice(1));const n=t.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const i=n=>{for(let o=0,d=t.ranges.length;o<d;o++)if(t.ranges[o].fromLineNumber<=n.lineNumber&&n.lineNumber<=t.ranges[o].toLineNumber)return!0;return!1};if(i(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(i(n.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),i=t===0,n=t===5;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!i&&!n&&(t===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},h.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},h.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:t+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:t+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:t+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:t+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:t+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].prepareRender(t)}render(t){const i=[];let n=0;const o=this._primaryCursor.render(t);o&&(i[n++]=o);for(let d=0,c=this._secondaryCursors.length;d<c;d++){const s=this._secondaryCursors[d].render(t);s&&(i[n++]=s)}this._renderData=i}getLastRenderData(){return this._renderData}}e.ViewCursors=h,h.BLINK_INTERVAL=500,(0,C.registerThemingParticipant)((g,t)=>{const i=g.getColor(b.editorCursorForeground);if(i){let n=g.getColor(b.editorCursorBackground);n||(n=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),g.type==="hc"&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}})}),define(ee[643],te([0,1,4,2,3,53,13]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class b extends m.Disposable{constructor(g){super();this.textModel=g,this.colorProvider=new C,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=g.getOptions().bracketPairColorizationOptions,this._register(g.onDidChangeOptions(t=>{this.colorizationOptions=g.getOptions().bracketPairColorizationOptions})),this._register(g.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(g,t,i){if(t===void 0)return[];if(!this.colorizationOptions.enabled)return[];const n=new Array,o=this.textModel.bracketPairs.getBracketsInRange(g);for(const d of o)n.push({id:`bracket${d.range.toString()}-${d.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(d)},ownerId:0,range:d.range});return n}getAllDecorations(g,t){return g===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new N.Range(1,1,this.textModel.getLineCount(),1),g,t):[]}}e.ColorizedBracketPairsDecorationProvider=b;class C{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(g){return g.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(g.nestingLevel)}getInlineClassNameOfLevel(g){return`bracket-highlighting-${g%30}`}}(0,S.registerThemingParticipant)((h,g)=>{const t=[I.editorBracketHighlightingForeground1,I.editorBracketHighlightingForeground2,I.editorBracketHighlightingForeground3,I.editorBracketHighlightingForeground4,I.editorBracketHighlightingForeground5,I.editorBracketHighlightingForeground6],i=new C;g.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${h.getColor(I.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const n=t.map(o=>h.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const d=n[o%n.length];g.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${d}; }`)}})}),define(ee[644],te([0,1,76,2,50,13,53,45,3,49,4,23,48]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class n extends m.Disposable{constructor(c){super();this.model=c,this._markersData=new Map,this._register((0,m.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(c,s){const a=[...this._markersData.keys()];this._markersData.clear();const r=this.model.deltaDecorations(a,s);for(let l=0;l<r.length;l++)this._markersData.set(r[l],c[l]);return a.length!==0||r.length!==0}getMarker(c){return this._markersData.get(c.id)}}let o=class extends m.Disposable{constructor(c,s){super();this._markerService=s,this._onDidChangeMarker=this._register(new g.Emitter),this._markerDecorations=new i.ResourceMap,c.getModels().forEach(a=>this._onModelAdded(a)),this._register(c.onModelAdded(this._onModelAdded,this)),this._register(c.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(c=>c.dispose()),this._markerDecorations.clear()}getMarker(c,s){const a=this._markerDecorations.get(c);return a&&a.getMarker(s)||null}_handleMarkerChange(c){c.forEach(s=>{const a=this._markerDecorations.get(s);a&&this._updateDecorations(a)})}_onModelAdded(c){const s=new n(c);this._markerDecorations.set(c.uri,s),this._updateDecorations(s)}_onModelRemoved(c){const s=this._markerDecorations.get(c.uri);s&&(s.dispose(),this._markerDecorations.delete(c.uri)),(c.uri.scheme===h.Schemas.inMemory||c.uri.scheme===h.Schemas.internal||c.uri.scheme===h.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:c.uri}).map(a=>a.owner).forEach(a=>this._markerService.remove(a,[c.uri]))}_updateDecorations(c){const s=this._markerService.read({resource:c.model.uri,take:500}),a=s.map(r=>({range:this._createDecorationRange(c.model,r),options:this._createDecorationOption(r)}));c.update(s,a)&&this._onDidChangeMarker.fire(c.model)}_createDecorationRange(c,s){let a=C.Range.lift(s);return s.severity===y.MarkerSeverity.Hint&&!this._hasMarkerTag(s,1)&&!this._hasMarkerTag(s,2)&&(a=a.setEndPosition(a.startLineNumber,a.startColumn+2)),c.validateRange(a)}_createDecorationOption(c){let s,a,r,l,u;switch(c.severity){case y.MarkerSeverity.Hint:this._hasMarkerTag(c,2)?s=void 0:this._hasMarkerTag(c,1)?s="squiggly-unnecessary":s="squiggly-hint",r=0;break;case y.MarkerSeverity.Warning:s="squiggly-warning",a=(0,I.themeColorFromId)(S.overviewRulerWarning),r=20,u={color:(0,I.themeColorFromId)(t.minimapWarning),position:N.MinimapPosition.Inline};break;case y.MarkerSeverity.Info:s="squiggly-info",a=(0,I.themeColorFromId)(S.overviewRulerInfo),r=10;break;case y.MarkerSeverity.Error:default:s="squiggly-error",a=(0,I.themeColorFromId)(S.overviewRulerError),r=30,u={color:(0,I.themeColorFromId)(t.minimapError),position:N.MinimapPosition.Inline};break}return c.tags&&(c.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),c.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:s,showIfCollapsed:!0,overviewRuler:{color:a,position:N.OverviewRulerLane.Right},minimap:u,zIndex:r,inlineClassName:l}}_hasMarkerTag(c,s){return c.tags?c.tags.indexOf(s)>=0:!1}};o=Be([me(0,b.IModelService),me(1,y.IMarkerService)],o),e.MarkerDecorationsService=o}),define(ee[645],te([0,1,7,95,58,27,4,2,176,509,42,23,13,366]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var n;(function(d){d.Hidden={type:0};class c{constructor(a,r,l,u){this.actions=a,this.trigger=r,this.editorPosition=l,this.widgetPosition=u,this.type=1}}d.Showing=c})(n||(n={}));let o=class Si extends b.Disposable{constructor(c,s,a,r){super();this._editor=c,this._quickFixActionId=s,this._preferredFixActionId=a,this._keybindingService=r,this._onClick=this._register(new S.Emitter),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=document.createElement("div"),this._domNode.className=I.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(l=>{const u=this._editor.getModel();(this.state.type!==1||!u||this.state.editorPosition.lineNumber>=u.getLineCount())&&this.hide()})),N.Gesture.ignoreTarget(this._domNode),this._register(y.addStandardDisposableGenericMouseDownListner(this._domNode,l=>{if(this.state.type!==1)return;this._editor.focus(),l.preventDefault();const{top:u,height:f}=y.getDomNodePagePosition(this._domNode),w=this._editor.getOption(59);let v=Math.floor(w/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(v+=w),this._onClick.fire({x:l.posx,y:u+f+v,actions:this.state.actions,trigger:this.state.trigger})})),this._register(y.addDisposableListener(this._domNode,"mouseenter",l=>{if((l.buttons&1)!=1)return;this.hide();const u=new m.GlobalMouseMoveMonitor;u.startMonitoring(l.target,l.buttons,m.standardMouseMoveMerger,()=>{},()=>{u.dispose()})})),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(c,s,a){if(c.validActions.length<=0)return this.hide();const r=this._editor.getOptions();if(!r.get(57).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:u,column:f}=l.validatePosition(a),w=l.getOptions().tabSize,v=r.get(44),p=l.getLineContent(u),_=(0,C.computeIndentLevel)(p,w),L=v.spaceWidth*_>22,E=k=>k>2&&this._editor.getTopForLineNumber(k)===this._editor.getTopForLineNumber(k-1);let M=u;if(!L){if(u>1&&!E(u-1))M-=1;else if(!E(u+1))M+=1;else if(f*v.spaceWidth<22)return this.hide()}this.state=new n.Showing(c,s,a,{position:{lineNumber:M,column:1},preference:Si._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=n.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(c){this._state=c,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...I.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...I.Codicon.lightbulbAutofix.classNamesArray);const s=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(s){this.title=h.localize(0,null,s.getLabel());return}}this._domNode.classList.remove(...I.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...I.Codicon.lightBulb.classNamesArray);const c=this._keybindingService.lookupKeybinding(this._quickFixActionId);c?this.title=h.localize(1,null,c.getLabel()):this.title=h.localize(2,null)}set title(c){this._domNode.title=c}};o._posPref=[0],o=Be([me(3,g.IKeybindingService)],o),e.LightBulbWidget=o,(0,i.registerThemingParticipant)((d,c)=>{var s;const a=(s=d.getColor(t.editorBackground))===null||s===void 0?void 0:s.transparent(.7),r=d.getColor(t.editorLightBulbForeground);r&&c.addRule(`
		.monaco-editor .contentWidgets ${I.Codicon.lightBulb.cssSelector} {
			color: ${r};
			background-color: ${a};
		}`);const l=d.getColor(t.editorLightBulbAutoFixForeground);l&&c.addRule(`
		.monaco-editor .contentWidgets ${I.Codicon.lightbulbAutofix.cssSelector} {
			color: ${l};
			background-color: ${a};
		}`)})}),define(ee[646],te([0,1,33,7,95,60,29,4,2,511,23,13,368]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const i=m.$;class n extends C.Disposable{constructor(u,f,w){super();this.model=f,this.domNode=i(".colorpicker-header"),m.append(u,this.domNode),this.pickedColorNode=m.append(this.domNode,i(".picked-color"));const v=(0,h.localize)(0,null);this.pickedColorNode.setAttribute("title",v);const p=m.append(this.domNode,i(".original-color"));p.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=w.getColorTheme().getColor(g.editorHoverBackground)||S.Color.white,this._register((0,t.registerThemingParticipant)((_,L)=>{this.backgroundColor=_.getColor(g.editorHoverBackground)||S.Color.white})),this._register(m.addDisposableListener(this.pickedColorNode,m.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(m.addDisposableListener(p,m.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(f.onDidChangeColor(this.onDidChangeColor,this)),this._register(f.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(f.color)||"",this.pickedColorNode.classList.toggle("light",f.color.rgba.a<.5?this.backgroundColor.isLighter():f.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(u){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(u)||"",this.pickedColorNode.classList.toggle("light",u.rgba.a<.5?this.backgroundColor.isLighter():u.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(i(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=n;class o extends C.Disposable{constructor(u,f,w){super();this.model=f,this.pixelRatio=w,this.domNode=i(".colorpicker-body"),m.append(u,this.domNode),this.saturationBox=new d(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new s(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new a(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:u,v:f}){const w=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(w.h,u,f,w.a))}onDidOpacityChange(u){const f=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(f.h,f.s,f.v,u))}onDidHueChange(u){const f=this.model.color.hsva,w=(1-u)*360;this.model.color=new S.Color(new S.HSVA(w===360?0:w,f.s,f.v,f.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=o;class d extends C.Disposable{constructor(u,f,w){super();this.model=f,this.pixelRatio=w,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=i(".saturation-wrap"),m.append(u,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",m.append(this.domNode,this.canvas),this.selection=i(".saturation-selection"),m.append(this.domNode,this.selection),this.layout(),this._register(m.addDisposableGenericMouseDownListner(this.domNode,v=>this.onMouseDown(v))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(u){this.monitor=this._register(new N.GlobalMouseMoveMonitor);const f=m.getDomNodePagePosition(this.domNode);u.target!==this.selection&&this.onDidChangePosition(u.offsetX,u.offsetY),this.monitor.startMonitoring(u.target,u.buttons,N.standardMouseMoveMerger,v=>this.onDidChangePosition(v.posx-f.left,v.posy-f.top),()=>null);const w=m.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),w.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(u,f){const w=Math.max(0,Math.min(1,u/this.width)),v=Math.max(0,Math.min(1,1-f/this.height));this.paintSelection(w,v),this._onDidChange.fire({s:w,v})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const u=this.model.color.hsva;this.paintSelection(u.s,u.v)}paint(){const u=this.model.color.hsva,f=new S.Color(new S.HSVA(u.h,1,1,1)),w=this.canvas.getContext("2d"),v=w.createLinearGradient(0,0,this.canvas.width,0);v.addColorStop(0,"rgba(255, 255, 255, 1)"),v.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),v.addColorStop(1,"rgba(255, 255, 255, 0)");const p=w.createLinearGradient(0,0,0,this.canvas.height);p.addColorStop(0,"rgba(0, 0, 0, 0)"),p.addColorStop(1,"rgba(0, 0, 0, 1)"),w.rect(0,0,this.canvas.width,this.canvas.height),w.fillStyle=S.Color.Format.CSS.format(f),w.fill(),w.fillStyle=v,w.fill(),w.fillStyle=p,w.fill()}paintSelection(u,f){this.selection.style.left=`${u*this.width}px`,this.selection.style.top=`${this.height-f*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class c extends C.Disposable{constructor(u,f){super();this.model=f,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=m.append(u,i(".strip")),this.overlay=m.append(this.domNode,i(".overlay")),this.slider=m.append(this.domNode,i(".slider")),this.slider.style.top="0px",this._register(m.addDisposableGenericMouseDownListner(this.domNode,w=>this.onMouseDown(w))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const u=this.getValue(this.model.color);this.updateSliderPosition(u)}onMouseDown(u){const f=this._register(new N.GlobalMouseMoveMonitor),w=m.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),u.target!==this.slider&&this.onDidChangeTop(u.offsetY),f.startMonitoring(u.target,u.buttons,N.standardMouseMoveMerger,p=>this.onDidChangeTop(p.posy-w.top),()=>null);const v=m.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),v.dispose(),f.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(u){const f=Math.max(0,Math.min(1,1-u/this.height));this.updateSliderPosition(f),this._onDidChange.fire(f)}updateSliderPosition(u){this.slider.style.top=`${(1-u)*this.height}px`}}class s extends c{constructor(u,f){super(u,f);this.domNode.classList.add("opacity-strip"),this._register(f.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(u){const{r:f,g:w,b:v}=u.rgba,p=new S.Color(new S.RGBA(f,w,v,1)),_=new S.Color(new S.RGBA(f,w,v,0));this.overlay.style.background=`linear-gradient(to bottom, ${p} 0%, ${_} 100%)`}getValue(u){return u.hsva.a}}class a extends c{constructor(u,f){super(u,f);this.domNode.classList.add("hue-strip")}getValue(u){return 1-u.hsva.h/360}}class r extends I.Widget{constructor(u,f,w,v){super();this.model=f,this.pixelRatio=w,this._register(y.PixelRatio.onDidChange(()=>this.layout()));const p=i(".colorpicker-widget");u.appendChild(p);const _=new n(p,this.model,v);this.body=new o(p,this.model,this.pixelRatio),this._register(_),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=r}),define(ee[647],te([0,1,7,221,215,187,72,169,2,41,59,527,9,42,127,130,13,125]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let a=class{constructor(E){this._resolverService=E}hasChildren(E){return E instanceof s.ReferencesModel||E instanceof s.FileReferences}getChildren(E){if(E instanceof s.ReferencesModel)return E.groups;if(E instanceof s.FileReferences)return E.resolve(this._resolverService).then(M=>M.children);throw new Error("bad tree")}};a=Be([me(0,g.ITextModelService)],a),e.DataSource=a;class r{getHeight(){return 23}getTemplateId(E){return E instanceof s.FileReferences?w.id:p.id}}e.Delegate=r;let l=class{constructor(E){this._keybindingService=E}getKeyboardNavigationLabel(E){var M;if(E instanceof s.OneReference){const k=(M=E.parent.getPreview(E))===null||M===void 0?void 0:M.preview(E.range);if(k)return k.value}return(0,h.basename)(E.uri)}};l=Be([me(0,n.IKeybindingService)],l),e.StringRepresentationProvider=l;class u{getId(E){return E instanceof s.OneReference?E.id:E.uri}}e.IdentityProvider=u;let f=class extends C.Disposable{constructor(E,M,k){super();this._uriLabel=M;const A=document.createElement("div");A.classList.add("reference-file"),this.file=this._register(new I.IconLabel(A,{supportHighlights:!0})),this.badge=new m.CountBadge(y.append(A,y.$(".count"))),this._register((0,d.attachBadgeStyler)(this.badge,k)),E.appendChild(A)}set(E,M){let k=(0,h.dirname)(E.uri);this.file.setLabel((0,b.getBaseLabel)(E.uri),this._uriLabel.getUriLabel(k,{relative:!0}),{title:this._uriLabel.getUriLabel(E.uri),matches:M});const A=E.children.length;this.badge.setCount(A),A>1?this.badge.setTitleFormat((0,t.localize)(0,null,A)):this.badge.setTitleFormat((0,t.localize)(1,null,A))}};f=Be([me(1,o.ILabelService),me(2,c.IThemeService)],f);let w=class wi{constructor(E){this._instantiationService=E,this.templateId=wi.id}renderTemplate(E){return this._instantiationService.createInstance(f,E)}renderElement(E,M,k){k.set(E.element,(0,S.createMatches)(E.filterData))}disposeTemplate(E){E.dispose()}};w.id="FileReferencesRenderer",w=Be([me(0,i.IInstantiationService)],w),e.FileReferencesRenderer=w;class v{constructor(E){this.label=new N.HighlightedLabel(E)}set(E,M){var k;const A=(k=E.parent.getPreview(E))===null||k===void 0?void 0:k.preview(E.range);if(!A||!A.value)this.label.set(`${(0,h.basename)(E.uri)}:${E.range.startLineNumber+1}:${E.range.startColumn+1}`);else{const{value:F,highlight:B}=A;M&&!S.FuzzyScore.isDefault(M)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(F,(0,S.createMatches)(M))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(F,[B]))}}}class p{constructor(){this.templateId=p.id}renderTemplate(E){return new v(E)}renderElement(E,M,k){k.set(E.element,E.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=p,p.id="OneReferenceRenderer";class _{getWidgetAriaLabel(){return(0,t.localize)(2,null)}getAriaLabel(E){return E.ariaMessage}}e.AccessibilityProvider=_}),define(ee[648],te([0,1,7,2,8,62,30,74,11,3,89,34,53,149,121,9,13,375]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const a=(s=window.trustedTypes)===null||s===void 0?void 0:s.createPolicy("editorGhostText",{createHTML:v=>v});let r=class extends m.Disposable{constructor(p,_,L,E){super();this.editor=p,this.model=_,this.instantiationService=L,this.languageService=E,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(l,this.editor)),this.additionalLinesWidget=this._register(new u(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(M=>{(M.hasChanged(29)||M.hasChanged(105)||M.hasChanged(88)||M.hasChanged(83)||M.hasChanged(45)||M.hasChanged(44)||M.hasChanged(59))&&this.update()})),this._register((0,m.toDisposable)(()=>{var M;this.disposed=!0,this.update(),(M=this.viewMoreContentWidget)===null||M===void 0||M.dispose(),this.viewMoreContentWidget=void 0})),this._register(_.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(p){return this.additionalLinesWidget.viewZoneId===p}update(){var p;const _=this.model.ghostText;if(!this.editor.hasModel()||!_||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const L=new Array,E=new Array;function M(B,T){if(E.length>0){const R=E[E.length-1];T&&R.decorations.push(new n.LineDecoration(R.content.length+1,R.content.length+1+B[0].length,T,0)),R.content+=B[0],B=B.slice(1)}for(const R of B)E.push({content:R,decorations:T?[new n.LineDecoration(1,R.length+1,T,0)]:[]})}const k=this.editor.getModel().getLineContent(_.lineNumber);this.editor.getModel().getLineTokens(_.lineNumber);let A,F=0;for(const B of _.parts){let T=B.lines;A===void 0?(L.push({column:B.column,text:T[0],preview:B.preview}),T=T.slice(1)):M([k.substring(F,B.column-1)],void 0),T.length>0&&(M(T,"ghost-text"),A===void 0&&B.column<=k.length&&(A=B.column)),F=B.column-1}A!==void 0&&M([k.substring(F)],void 0),this.partsWidget.setParts(_.lineNumber,L,A!==void 0?{column:A,length:k.length+1-A}:void 0),this.additionalLinesWidget.updateLines(_.lineNumber,E,_.additionalReservedLineCount),_.parts.some(B=>B.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new C.Position(_.lineNumber,this.editor.getModel().getLineMaxColumn(_.lineNumber)),"",0):((p=this.viewMoreContentWidget)===null||p===void 0||p.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(p,_,L){const E=this.editor.getOption(44),M=document.createElement("div");M.className="suggest-preview-additional-widget",(0,I.applyFontInfo)(M,E);const k=document.createElement("span");k.className="content-spacer",k.append(_),M.append(k);const A=document.createElement("span");A.className="content-newline suggest-preview-text",A.append("\u23CE  "),M.append(A);const F=new m.DisposableStore,B=document.createElement("div");return B.className="button suggest-preview-text",B.append(`+${L} lines\u2026`),F.add(y.addStandardDisposableListener(B,"mousedown",T=>{var R;(R=this.model)===null||R===void 0||R.setExpanded(!0),T.preventDefault(),this.editor.focus()})),M.append(B),new w(this.editor,p,M,F)}};r=Be([me(2,d.IInstantiationService),me(3,t.ILanguageService)],r),e.GhostTextWidget=r;class l{constructor(p){this.editor=p,this.decorationIds=[],this.disposableStore=new m.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(p,_,L){if(this.disposableStore.clear(),!this.editor.getModel())return;const M=new Array;L&&M.push({range:h.Range.fromPositions(new C.Position(p,L.column),new C.Position(p,L.column+L.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,_.map(k=>({range:h.Range.fromPositions(new C.Position(p,k.column)),options:{description:"ghost-text",after:{content:k.text,inlineClassName:k.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(M))}}class u{constructor(p,_){this.editor=p,this.languageIdCodec=_,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(p=>{this._viewZoneId&&(p.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(p,_,L){const E=this.editor.getModel();if(!E)return;const{tabSize:M}=E.getOptions();this.editor.changeViewZones(k=>{this._viewZoneId&&(k.removeZone(this._viewZoneId),this._viewZoneId=void 0);const A=Math.max(_.length,L);if(A>0){const F=document.createElement("div");f(F,M,_,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=k.addZone({afterLineNumber:p,heightInLines:A,domNode:F})}})}}function f(v,p,_,L,E){const M=L.get(29),k=L.get(105),A="none",F=L.get(83),B=L.get(45),T=L.get(44),R=L.get(59),O=(0,g.createStringBuilder)(1e4);O.appendASCIIString('<div class="suggest-preview-text">');for(let x=0,H=_.length;x<H;x++){const j=_[x],Q=j.content;O.appendASCIIString('<div class="view-line'),O.appendASCIIString('" style="top:'),O.appendASCIIString(String(x*R)),O.appendASCIIString('px;width:1000000px;">');const G=N.isBasicASCII(Q),se=N.containsRTL(Q),ne=b.LineTokens.createEmpty(Q,E);(0,o.renderViewLine)(new o.RenderLineInput(T.isMonospace&&!M,T.canUseHalfwidthRightwardsArrow,Q,!1,G,se,0,ne,j.decorations,p,0,T.spaceWidth,T.middotWidth,T.wsmiddotWidth,k,A,F,B!==S.EditorFontLigatures.OFF,null),O),O.appendASCIIString("</div>")}O.appendASCIIString("</div>"),(0,I.applyFontInfo)(v,T);const P=O.build(),D=a?a.createHTML(P):P;v.innerHTML=D}class w extends m.Disposable{constructor(p,_,L,E){super();this.editor=p,this.position=_,this.domNode=L,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(E),this._register((0,m.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,c.registerThemingParticipant)((v,p)=>{const _=v.getColor(i.ghostTextForeground);_&&(p.addRule(`.monaco-editor .ghost-text-decoration { color: ${_.toString()} !important; }`),p.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${_.toString()} !important; }`),p.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${_.toString()} !important; }`));const L=v.getColor(i.ghostTextBackground);L&&(p.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${L.toString()}; }`),p.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${L.toString()}; }`),p.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${L.toString()}; }`));const E=v.getColor(i.ghostTextBorder);E&&(p.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${E}; }`),p.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${E}; }`),p.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${E}; }`))})}),define(ee[277],te([0,1,86,2,20,145,50,53,13]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class h{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,i){var n;const o=new m.DisposableStore;t.canAcceptInBackground=!!((n=this.options)===null||n===void 0?void 0:n.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const d=o.add(new m.MutableDisposable);return d.value=this.doProvide(t,i),o.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(t,i)})),o}doProvide(t,i){const n=new m.DisposableStore,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const d={editor:o},c=(0,I.getCodeEditor)(o);if(c){let s=(0,N.withNullAsUndefined)(o.saveViewState());n.add(c.onDidChangeCursorPosition(()=>{s=(0,N.withNullAsUndefined)(o.saveViewState())})),d.restoreViewState=()=>{s&&o===this.activeTextEditorControl&&o.restoreViewState(s)},n.add((0,y.once)(i.onCancellationRequested)(()=>{var a;return(a=d.restoreViewState)===null||a===void 0?void 0:a.call(d)}))}n.add((0,m.toDisposable)(()=>this.clearDecorations(o))),n.add(this.provideWithTextEditor(d,t,i))}else n.add(this.provideWithoutTextEditor(t,i));return n}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},i){t.setSelection(i.range),t.revealRangeInCenter(i.range,0),i.preserveFocus||t.focus()}getModel(t){var i;return(0,I.isDiffEditor)(t)?(i=t.getModel())===null||i===void 0?void 0:i.modified:t.getModel()}addDecorations(t,i){t.changeDecorations(n=>{const o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,C.themeColorFromId)(b.overviewRulerRangeHighlight),position:S.OverviewRulerLane.Full}}}],[c,s]=n.deltaDecorations(o,d);this.rangeHighlightDecorationId={rangeHighlightId:c,overviewRulerDecorationId:s}})}clearDecorations(t){const i=this.rangeHighlightDecorationId;i&&(t.changeDecorations(n=>{n.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=h}),define(ee[649],te([0,1,2,145,277,547]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends N.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(C){const h=(0,I.localize)(0,null);return C.items=[{label:h}],C.ariaLabel=h,y.Disposable.None}provideWithTextEditor(C,h,g){const t=C.editor,i=new y.DisposableStore;i.add(h.onDidAccept(d=>{const[c]=h.selectedItems;if(c){if(!this.isValidLineNumber(t,c.lineNumber))return;this.gotoLocation(C,{range:this.toRange(c.lineNumber,c.column),keyMods:h.keyMods,preserveFocus:d.inBackground}),d.inBackground||h.hide()}}));const n=()=>{const d=this.parsePosition(t,h.value.trim().substr(S.PREFIX.length)),c=this.getPickLabel(t,d.lineNumber,d.column);if(h.items=[{lineNumber:d.lineNumber,column:d.column,label:c}],h.ariaLabel=c,!this.isValidLineNumber(t,d.lineNumber)){this.clearDecorations(t);return}const s=this.toRange(d.lineNumber,d.column);t.revealRangeInCenter(s,0),this.addDecorations(t,s)};n(),i.add(h.onDidChangeValue(()=>n()));const o=(0,m.getCodeEditor)(t);return o&&o.getOptions().get(60).renderType===2&&(o.updateOptions({lineNumbers:"on"}),i.add((0,y.toDisposable)(()=>o.updateOptions({lineNumbers:"relative"})))),i}toRange(C=1,h=1){return{startLineNumber:C,startColumn:h,endLineNumber:C,endColumn:h}}parsePosition(C,h){const g=h.split(/,|:|#/).map(i=>parseInt(i,10)).filter(i=>!isNaN(i)),t=this.lineCount(C)+1;return{lineNumber:g[0]>0?g[0]:t+g[0],column:g[1]}}getPickLabel(C,h,g){if(this.isValidLineNumber(C,h))return this.isValidColumn(C,h,g)?(0,I.localize)(1,null,h,g):(0,I.localize)(2,null,h);const t=C.getPosition()||{lineNumber:1,column:1},i=this.lineCount(C);return i>1?(0,I.localize)(3,null,t.lineNumber,t.column,i):(0,I.localize)(4,null,t.lineNumber,t.column)}isValidLineNumber(C,h){return!h||typeof h!="number"?!1:h>0&&h<=this.lineCount(C)}isValidColumn(C,h,g){if(!g||typeof g!="number")return!1;const t=this.getModel(C);if(!t)return!1;const i={lineNumber:h,column:g};return t.validatePosition(i).equals(i)}lineCount(C){var h,g;return(g=(h=this.getModel(C))===null||h===void 0?void 0:h.getLineCount())!==null&&g!==void 0?g:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(ee[650],te([0,1,10,21,27,315,2,8,3,18,196,277,548]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let n=class Yt extends t.AbstractEditorNavigationQuickAccessProvider{constructor(s,a=Object.create(null)){super(a);this._outlineModelService=s,this.options=a,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,i.localize)(0,null)),S.Disposable.None}provideWithTextEditor(s,a,r){const l=s.editor,u=this.getModel(l);return u?h.DocumentSymbolProviderRegistry.has(u)?this.doProvideWithEditorSymbols(s,u,a,r):this.doProvideWithoutEditorSymbols(s,u,a,r):S.Disposable.None}doProvideWithoutEditorSymbols(s,a,r,l){const u=new S.DisposableStore;return this.provideLabelPick(r,(0,i.localize)(1,null)),(()=>De(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(a,u))||l.isCancellationRequested||u.add(this.doProvideWithEditorSymbols(s,a,r,l))}))(),u}provideLabelPick(s,a){s.items=[{label:a,index:0,kind:14}],s.ariaLabel=a}waitForLanguageSymbolRegistry(s,a){return De(this,void 0,void 0,function*(){if(h.DocumentSymbolProviderRegistry.has(s))return!0;const r=new y.DeferredPromise,l=a.add(h.DocumentSymbolProviderRegistry.onDidChange(()=>{h.DocumentSymbolProviderRegistry.has(s)&&(l.dispose(),r.complete(!0))}));return a.add((0,S.toDisposable)(()=>r.complete(!1))),r.p})}doProvideWithEditorSymbols(s,a,r,l){const u=s.editor,f=new S.DisposableStore;f.add(r.onDidAccept(L=>{const[E]=r.selectedItems;E&&E.range&&(this.gotoLocation(s,{range:E.range.selection,keyMods:r.keyMods,preserveFocus:L.inBackground}),L.inBackground||r.hide())})),f.add(r.onDidTriggerItemButton(({item:L})=>{L&&L.range&&(this.gotoLocation(s,{range:L.range.selection,keyMods:r.keyMods,forceSideBySide:!0}),r.hide())}));const w=this.getDocumentSymbols(a,l);let v;const p=()=>De(this,void 0,void 0,function*(){v==null||v.dispose(!0),r.busy=!1,v=new m.CancellationTokenSource(l),r.busy=!0;try{const L=(0,I.prepareQuery)(r.value.substr(Yt.PREFIX.length).trim()),E=yield this.doGetSymbolPicks(w,L,void 0,v.token);if(l.isCancellationRequested)return;E.length>0?r.items=E:L.original.length>0?this.provideLabelPick(r,(0,i.localize)(2,null)):this.provideLabelPick(r,(0,i.localize)(3,null))}finally{l.isCancellationRequested||(r.busy=!1)}});f.add(r.onDidChangeValue(()=>p())),p();let _=!0;return f.add(r.onDidChangeActive(()=>{const[L]=r.activeItems;if(L&&L.range){if(_){_=!1;return}u.revealRangeInCenter(L.range.selection,0),this.addDecorations(u,L.range.decoration)}})),f}doGetSymbolPicks(s,a,r,l){return De(this,void 0,void 0,function*(){const u=yield s;if(l.isCancellationRequested)return[];const f=a.original.indexOf(Yt.SCOPE_PREFIX)===0,w=f?1:0;let v,p;a.values&&a.values.length>1?(v=(0,I.pieceToQuery)(a.values[0]),p=(0,I.pieceToQuery)(a.values.slice(1))):v=a;const _=[];for(let M=0;M<u.length;M++){const k=u[M],A=(0,b.trim)(k.name),F=`$(${h.SymbolKinds.toIcon(k.kind).id}) ${A}`,B=F.length-A.length;let T=k.containerName;(r==null?void 0:r.extraContainerLabel)&&(T?T=`${r.extraContainerLabel} \u2022 ${T}`:T=r.extraContainerLabel);let R,O,P,D;if(a.original.length>w){let H=!1;if(v!==a&&([R,O]=(0,I.scoreFuzzy2)(F,Object.assign(Object.assign({},a),{values:void 0}),w,B),typeof R=="number"&&(H=!0)),typeof R!="number"&&([R,O]=(0,I.scoreFuzzy2)(F,v,w,B),typeof R!="number"))continue;if(!H&&p){if(T&&p.original.length>0&&([P,D]=(0,I.scoreFuzzy2)(T,p)),typeof P!="number")continue;typeof R=="number"&&(R+=P)}}const x=k.tags&&k.tags.indexOf(1)>=0;_.push({index:M,kind:k.kind,score:R,label:F,ariaLabel:A,description:T,highlights:x?void 0:{label:O,description:D},range:{selection:C.Range.collapseToStart(k.selectionRange),decoration:k.range},strikethrough:x,buttons:(()=>{var H,j;const Q=((H=this.options)===null||H===void 0?void 0:H.openSideBySideDirection)?(j=this.options)===null||j===void 0?void 0:j.openSideBySideDirection():void 0;if(!!Q)return[{iconClass:Q==="right"?N.Codicon.splitHorizontal.classNames:N.Codicon.splitVertical.classNames,tooltip:Q==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]})()})}const L=_.sort((M,k)=>f?this.compareByKindAndScore(M,k):this.compareByScore(M,k));let E=[];if(f){let F=function(){k&&typeof M=="number"&&A>0&&(k.label=(0,b.format)(d[M]||o,A))},M,k,A=0;for(const B of L)M!==B.kind?(F(),M=B.kind,A=1,k={type:"separator"},E.push(k)):A++,E.push(B);F()}else L.length>0&&(E=[{label:(0,i.localize)(6,null,_.length),type:"separator"},...L]);return E})}compareByScore(s,a){if(typeof s.score!="number"&&typeof a.score=="number")return 1;if(typeof s.score=="number"&&typeof a.score!="number")return-1;if(typeof s.score=="number"&&typeof a.score=="number"){if(s.score>a.score)return-1;if(s.score<a.score)return 1}return s.index<a.index?-1:s.index>a.index?1:0}compareByKindAndScore(s,a){const r=d[s.kind]||o,l=d[a.kind]||o,u=r.localeCompare(l);return u===0?this.compareByScore(s,a):u}getDocumentSymbols(s,a){return De(this,void 0,void 0,function*(){const r=yield this._outlineModelService.getOrCreate(s,a);return a.isCancellationRequested?[]:r.asListOfDocumentSymbols()})}};n.PREFIX="@",n.SCOPE_PREFIX=":",n.PREFIX_BY_CATEGORY=`${n.PREFIX}${n.SCOPE_PREFIX}`,n=Be([me(0,g.IOutlineModelService)],n),e.AbstractGotoSymbolQuickAccessProvider=n;const o=(0,i.localize)(7,null),d={[5]:(0,i.localize)(8,null),[11]:(0,i.localize)(9,null),[8]:(0,i.localize)(10,null),[12]:(0,i.localize)(11,null),[4]:(0,i.localize)(12,null),[22]:(0,i.localize)(13,null),[23]:(0,i.localize)(14,null),[24]:(0,i.localize)(15,null),[10]:(0,i.localize)(16,null),[2]:(0,i.localize)(17,null),[3]:(0,i.localize)(18,null),[25]:(0,i.localize)(19,null),[1]:(0,i.localize)(20,null),[6]:(0,i.localize)(21,null),[9]:(0,i.localize)(22,null),[21]:(0,i.localize)(23,null),[14]:(0,i.localize)(24,null),[0]:(0,i.localize)(25,null),[17]:(0,i.localize)(26,null),[15]:(0,i.localize)(27,null),[16]:(0,i.localize)(28,null),[18]:(0,i.localize)(29,null),[19]:(0,i.localize)(30,null),[7]:(0,i.localize)(31,null),[13]:(0,i.localize)(32,null)}}),define(ee[651],te([0,1,2,11,550,16,42,23,13,380]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new I.RawContextKey("renameInputVisible",!1,(0,N.localize)(0,null));let h=class{constructor(t,i,n,o,d){this._editor=t,this._acceptKeybindings=i,this._themeService=n,this._keybindingService=o,this._disposables=new y.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(d),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(44)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,N.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const t=()=>{var i,n;const[o,d]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(o),this._label.innerText=(0,N.localize)(2,null,(i=this._keybindingService.lookupKeybinding(o))===null||i===void 0?void 0:i.getLabel(),(n=this._keybindingService.lookupKeybinding(d))===null||n===void 0?void 0:n.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(t){var i,n,o,d;if(!this._input||!this._domNode)return;const c=t.getColor(b.widgetShadow);this._domNode.style.backgroundColor=String((i=t.getColor(b.editorWidgetBackground))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=c?` 0 0 8px 2px ${c}`:"",this._domNode.style.color=String((n=t.getColor(b.inputForeground))!==null&&n!==void 0?n:""),this._input.style.backgroundColor=String((o=t.getColor(b.inputBackground))!==null&&o!==void 0?o:"");const s=t.getColor(b.inputBorder);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=(d=s==null?void 0:s.toString())!==null&&d!==void 0?d:"none"}_updateFont(){if(!this._input||!this._label)return;const t=this._editor.getOption(44);this._input.style.fontFamily=t.fontFamily,this._input.style.fontWeight=t.fontWeight,this._input.style.fontSize=`${t.fontSize}px`,this._label.style.fontSize=`${t.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(t){t||this.cancelInput(!0)}acceptInput(t){this._currentAcceptInput&&this._currentAcceptInput(t)}cancelInput(t){this._currentCancelInput&&this._currentCancelInput(t)}getInput(t,i,n,o,d,c){this._domNode.classList.toggle("preview",d),this._position=new m.Position(t.startLineNumber,t.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max((t.endColumn-t.startColumn)*1.1,20);const s=new y.DisposableStore;return new Promise(a=>{this._currentCancelInput=r=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,a(r),!0),this._currentAcceptInput=r=>{if(this._input.value.trim().length===0||this._input.value===i){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,a({newName:this._input.value,wantsPreview:d&&r})},c.onCancellationRequested(()=>this.cancelInput(!0)),s.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{s.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};h=Be([me(2,C.IThemeService),me(3,S.IKeybindingService),me(4,I.IContextKeyService)],h),e.RenameInputField=h}),define(ee[278],te([0,1,27,560,23,13]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,N.registerColor)("symbolIcon.arrayForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,N.registerColor)("symbolIcon.booleanForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,N.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,m.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,N.registerColor)("symbolIcon.colorForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,N.registerColor)("symbolIcon.constantForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,N.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,m.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,m.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,m.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,N.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,m.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,N.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,m.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,N.registerColor)("symbolIcon.fileForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,N.registerColor)("symbolIcon.folderForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,N.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,m.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,N.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,m.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,N.registerColor)("symbolIcon.keyForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,N.registerColor)("symbolIcon.keywordForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,N.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,m.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,N.registerColor)("symbolIcon.moduleForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,N.registerColor)("symbolIcon.namespaceForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,N.registerColor)("symbolIcon.nullForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,N.registerColor)("symbolIcon.numberForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,N.registerColor)("symbolIcon.objectForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,N.registerColor)("symbolIcon.operatorForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,N.registerColor)("symbolIcon.packageForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,N.registerColor)("symbolIcon.propertyForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,N.registerColor)("symbolIcon.referenceForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,N.registerColor)("symbolIcon.snippetForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,N.registerColor)("symbolIcon.stringForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,N.registerColor)("symbolIcon.structForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,N.registerColor)("symbolIcon.textForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,N.registerColor)("symbolIcon.typeParameterForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,N.registerColor)("symbolIcon.unitForeground",{dark:N.foreground,light:N.foreground,hc:N.foreground},(0,m.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,N.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,m.localize)(32,null)),(0,I.registerThemingParticipant)((S,b)=>{const C=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);C&&b.addRule(`${y.Codicon.symbolArray.cssSelector} { color: ${C}; }`);const h=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);h&&b.addRule(`${y.Codicon.symbolBoolean.cssSelector} { color: ${h}; }`);const g=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);g&&b.addRule(`${y.Codicon.symbolClass.cssSelector} { color: ${g}; }`);const t=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);t&&b.addRule(`${y.Codicon.symbolMethod.cssSelector} { color: ${t}; }`);const i=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);i&&b.addRule(`${y.Codicon.symbolColor.cssSelector} { color: ${i}; }`);const n=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);n&&b.addRule(`${y.Codicon.symbolConstant.cssSelector} { color: ${n}; }`);const o=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);o&&b.addRule(`${y.Codicon.symbolConstructor.cssSelector} { color: ${o}; }`);const d=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);d&&b.addRule(`
			${y.Codicon.symbolValue.cssSelector},${y.Codicon.symbolEnum.cssSelector} { color: ${d}; }`);const c=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);c&&b.addRule(`${y.Codicon.symbolEnumMember.cssSelector} { color: ${c}; }`);const s=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);s&&b.addRule(`${y.Codicon.symbolEvent.cssSelector} { color: ${s}; }`);const a=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);a&&b.addRule(`${y.Codicon.symbolField.cssSelector} { color: ${a}; }`);const r=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);r&&b.addRule(`${y.Codicon.symbolFile.cssSelector} { color: ${r}; }`);const l=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);l&&b.addRule(`${y.Codicon.symbolFolder.cssSelector} { color: ${l}; }`);const u=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);u&&b.addRule(`${y.Codicon.symbolFunction.cssSelector} { color: ${u}; }`);const f=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);f&&b.addRule(`${y.Codicon.symbolInterface.cssSelector} { color: ${f}; }`);const w=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);w&&b.addRule(`${y.Codicon.symbolKey.cssSelector} { color: ${w}; }`);const v=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);v&&b.addRule(`${y.Codicon.symbolKeyword.cssSelector} { color: ${v}; }`);const p=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);p&&b.addRule(`${y.Codicon.symbolModule.cssSelector} { color: ${p}; }`);const _=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);_&&b.addRule(`${y.Codicon.symbolNamespace.cssSelector} { color: ${_}; }`);const L=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);L&&b.addRule(`${y.Codicon.symbolNull.cssSelector} { color: ${L}; }`);const E=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);E&&b.addRule(`${y.Codicon.symbolNumber.cssSelector} { color: ${E}; }`);const M=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);M&&b.addRule(`${y.Codicon.symbolObject.cssSelector} { color: ${M}; }`);const k=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);k&&b.addRule(`${y.Codicon.symbolOperator.cssSelector} { color: ${k}; }`);const A=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);A&&b.addRule(`${y.Codicon.symbolPackage.cssSelector} { color: ${A}; }`);const F=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);F&&b.addRule(`${y.Codicon.symbolProperty.cssSelector} { color: ${F}; }`);const B=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);B&&b.addRule(`${y.Codicon.symbolReference.cssSelector} { color: ${B}; }`);const T=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);T&&b.addRule(`${y.Codicon.symbolSnippet.cssSelector} { color: ${T}; }`);const R=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);R&&b.addRule(`${y.Codicon.symbolString.cssSelector} { color: ${R}; }`);const O=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);O&&b.addRule(`${y.Codicon.symbolStruct.cssSelector} { color: ${O}; }`);const P=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);P&&b.addRule(`${y.Codicon.symbolText.cssSelector} { color: ${P}; }`);const D=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);D&&b.addRule(`${y.Codicon.symbolTypeParameter.cssSelector} { color: ${D}; }`);const x=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);x&&b.addRule(`${y.Codicon.symbolUnit.cssSelector} { color: ${x}; }`);const H=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);H&&b.addRule(`${y.Codicon.symbolVariable.cssSelector} { color: ${H}; }`)})}),define(ee[279],te([0,1,7,49,632,28,16,54,13]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let h=class extends N.AbstractCodeEditorService{constructor(t,i){super(i);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let t=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(t,i,n){return i?Promise.resolve(this.doOpenEditor(i,t)):Promise.resolve(null)}doOpenEditor(t,i){if(!this.findModel(t,i.resource)){if(i.resource){const d=i.resource.scheme;if(d===m.Schemas.http||d===m.Schemas.https)return(0,y.windowOpenNoOpener)(i.resource.toString()),t}return null}const o=i.options?i.options.selection:null;if(o)if(typeof o.endLineNumber=="number"&&typeof o.endColumn=="number")t.setSelection(o),t.revealRangeInCenter(o,1);else{const d={lineNumber:o.startLineNumber,column:o.startColumn};t.setPosition(d),t.revealPositionInCenter(d,1)}return t}findModel(t,i){const n=t.getModel();return n&&n.uri.toString()!==i.toString()?null:n}};h=Be([me(0,S.IContextKeyService),me(1,C.IThemeService)],h),e.StandaloneCodeEditorService=h,(0,b.registerSingleton)(I.ICodeEditorService,h)}),define(ee[652],te([0,1,53,23]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[m.editorBackground]:"#FFFFFE",[m.editorForeground]:"#000000",[m.editorInactiveSelection]:"#E5EBF1",[y.editorIndentGuides]:"#D3D3D3",[y.editorActiveIndentGuides]:"#939393",[m.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[m.editorBackground]:"#1E1E1E",[m.editorForeground]:"#D4D4D4",[m.editorInactiveSelection]:"#3A3D41",[y.editorIndentGuides]:"#404040",[y.editorActiveIndentGuides]:"#707070",[m.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[m.editorBackground]:"#000000",[m.editorForeground]:"#FFFFFF",[y.editorIndentGuides]:"#FFFFFF",[y.editorActiveIndentGuides]:"#FFFFFF"}}}),define(ee[37],te([0,1,44,27,4,55,2,80,26,16,9,13]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function i(c){return c.command!==void 0}e.isIMenuItem=i;class n{constructor(s){this.id=n._idPool++,this._debugName=s}}e.MenuId=n,n._idPool=0,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.ExplorerContext=new n("ExplorerContext"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.MenubarPanelAlignmentMenu=new n("MenubarPanelAlignmentMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.AccountsContext=new n("AccountsContext"),n.PanelTitle=new n("PanelTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalInlineTabContext=new n("TerminalInlineTabContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),e.IMenuService=(0,g.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new N.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:c=>c===n.CommandPalette}}addCommand(c){return this.addCommands(I.Iterable.single(c))}addCommands(c){for(const s of c)this._commands.set(s.id,s);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,S.toDisposable)(()=>{let s=!1;for(const a of c)s=this._commands.delete(a.id)||s;s&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(c){return this._commands.get(c)}getCommands(){const c=new Map;return this._commands.forEach((s,a)=>c.set(a,s)),c}appendMenuItem(c,s){return this.appendMenuItems(I.Iterable.single({id:c,item:s}))}appendMenuItems(c){const s=new Set,a=new b.LinkedList;for(const{id:r,item:l}of c){let u=this._menuItems.get(r);u||(u=new b.LinkedList,this._menuItems.set(r,u)),a.push(u.push(l)),s.add(r)}return this._onDidChangeMenu.fire(s),(0,S.toDisposable)(()=>{if(a.size>0){for(let r of a)r();this._onDidChangeMenu.fire(s),a.clear()}})}getMenuItems(c){let s;return this._menuItems.has(c)?s=[...this._menuItems.get(c)]:s=[],c===n.CommandPalette&&this._appendImplicitItems(s),s}_appendImplicitItems(c){const s=new Set;for(const a of c)i(a)&&(s.add(a.command.id),a.alt&&s.add(a.alt.id));this._commands.forEach((a,r)=>{s.has(r)||c.push({command:a})})}};class o extends y.SubmenuAction{constructor(s,a,r,l){super(`submenuitem.${s.submenu.id}`,typeof s.title=="string"?s.title:s.title.value,[],"submenu");this.item=s,this._menuService=a,this._contextKeyService=r,this._options=l}get actions(){const s=[],a=this._menuService.createMenu(this.item.submenu,this._contextKeyService),r=a.getActions(this._options);a.dispose();for(const[,l]of r)l.length>0&&(s.push(...l),s.push(new y.Separator));return s.length&&s.pop(),s}}e.SubmenuItemAction=o;let d=class yi{constructor(s,a,r,l,u){var f,w;if(this._commandService=u,this.id=s.id,this.label=(r==null?void 0:r.renderShortTitle)&&s.shortTitle?typeof s.shortTitle=="string"?s.shortTitle:s.shortTitle.value:typeof s.title=="string"?s.title:s.title.value,this.tooltip=(w=typeof s.tooltip=="string"?s.tooltip:(f=s.tooltip)===null||f===void 0?void 0:f.value)!==null&&w!==void 0?w:"",this.enabled=!s.precondition||l.contextMatchesRules(s.precondition),this.checked=void 0,s.toggled){const v=s.toggled.condition?s.toggled:{condition:s.toggled};this.checked=l.contextMatchesRules(v.condition),this.checked&&v.tooltip&&(this.tooltip=typeof v.tooltip=="string"?v.tooltip:v.tooltip.value),v.title&&(this.label=typeof v.title=="string"?v.title:v.title.value)}this.item=s,this.alt=a?new yi(a,void 0,r,l,u):void 0,this._options=r,t.ThemeIcon.isThemeIcon(s.icon)&&(this.class=m.CSSIcon.asClassName(s.icon))}dispose(){}run(...s){var a,r;let l=[];return((a=this._options)===null||a===void 0?void 0:a.arg)&&(l=[...l,this._options.arg]),((r=this._options)===null||r===void 0?void 0:r.shouldForwardArgs)&&(l=[...l,...s]),this._commandService.executeCommand(this.id,...l)}};d=Be([me(3,h.IContextKeyService),me(4,C.ICommandService)],d),e.MenuItemAction=d}),define(ee[15],te([0,1,486,25,28,11,45,59,37,26,16,84,36,85,20,64]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class c{constructor(T){this.id=T.id,this.precondition=T.precondition,this._kbOpts=T.kbOpts,this._menuOpts=T.menuOpts,this._description=T.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const T=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const R of T){let O=R.kbExpr;this.precondition&&(O?O=g.ContextKeyExpr.and(O,this.precondition):O=this.precondition);const P={id:this.id,weight:R.weight,args:R.args,when:O,primary:R.primary,secondary:R.secondary,win:R.win,linux:R.linux,mac:R.mac};t.KeybindingsRegistry.registerKeybindingRule(P)}}h.CommandsRegistry.registerCommand({id:this.id,handler:(T,R)=>this.runCommand(T,R),description:this._description})}_registerMenuItem(T){C.MenuRegistry.appendMenuItem(T.menuId,{group:T.group,command:{id:this.id,title:T.title,icon:T.icon,precondition:this.precondition},when:T.when,order:T.order})}}e.Command=c;class s extends c{constructor(){super(...arguments);this._implementations=[]}addImplementation(T,R,O){return this._implementations.push({priority:T,name:R,implementation:O}),this._implementations.sort((P,D)=>D.priority-P.priority),{dispose:()=>{for(let P=0;P<this._implementations.length;P++)if(this._implementations[P].implementation===O){this._implementations.splice(P,1);return}}}}runCommand(T,R){const O=T.get(d.ILogService);O.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const P of this._implementations){const D=P.implementation(T,R);if(D)return O.trace(`Command '${this.id}' was handled by '${P.name}'.`),typeof D=="boolean"?void 0:D}O.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=s;class a extends c{constructor(T,R){super(R);this.command=T}runCommand(T,R){return this.command.runCommand(T,R)}}e.ProxyCommand=a;class r extends c{static bindToContribution(T){return class extends r{constructor(O){super(O);this._callback=O.handler}runEditorCommand(O,P,D){const x=T(P);x&&this._callback(x,D)}}}runCommand(T,R){const O=T.get(N.ICodeEditorService),P=O.getFocusedCodeEditor()||O.getActiveCodeEditor();if(!!P)return P.invokeWithinContext(D=>{if(!!D.get(g.IContextKeyService).contextMatchesRules((0,o.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(D,P,R)})}}e.EditorCommand=r;class l extends r{constructor(T){super(l.convertOptions(T));this.label=T.label,this.alias=T.alias}static convertOptions(T){let R;Array.isArray(T.menuOpts)?R=T.menuOpts:T.menuOpts?R=[T.menuOpts]:R=[];function O(P){return P.menuId||(P.menuId=C.MenuId.EditorContext),P.title||(P.title=T.label),P.when=g.ContextKeyExpr.and(T.precondition,P.when),P}return Array.isArray(T.contextMenuOpts)?R.push(...T.contextMenuOpts.map(O)):T.contextMenuOpts&&R.push(O(T.contextMenuOpts)),T.menuOpts=R,T}runEditorCommand(T,R,O){return this.reportTelemetry(T,R),this.run(T,R,O||{})}reportTelemetry(T,R){T.get(n.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=l;class u extends l{constructor(){super(...arguments);this._implementations=[]}addImplementation(T,R){return this._implementations.push([T,R]),this._implementations.sort((O,P)=>P[0]-O[0]),{dispose:()=>{for(let O=0;O<this._implementations.length;O++)if(this._implementations[O][1]===R){this._implementations.splice(O,1);return}}}}run(T,R,O){for(const P of this._implementations){const D=P[1](T,R,O);if(D)return typeof D=="boolean"?void 0:D}}}e.MultiEditorAction=u;function f(B,T){h.CommandsRegistry.registerCommand(B,function(R,...O){const[P,D]=O;(0,o.assertType)(m.URI.isUri(P)),(0,o.assertType)(I.Position.isIPosition(D));const x=R.get(S.IModelService).getModel(P);if(x){const H=I.Position.lift(D);return T(x,H,...O.slice(2))}return R.get(b.ITextModelService).createModelReference(P).then(H=>new Promise((j,Q)=>{try{const G=T(H.object.textEditorModel,I.Position.lift(D),O.slice(2));j(G)}catch(G){Q(G)}}).finally(()=>{H.dispose()}))})}e.registerModelAndPositionCommand=f;function w(B,T){h.CommandsRegistry.registerCommand(B,function(R,...O){const[P]=O;(0,o.assertType)(m.URI.isUri(P));const D=R.get(S.IModelService).getModel(P);return D?T(D,...O.slice(1)):R.get(b.ITextModelService).createModelReference(P).then(x=>new Promise((H,j)=>{try{const Q=T(x.object.textEditorModel,O.slice(1));H(Q)}catch(Q){j(Q)}}).finally(()=>{x.dispose()}))})}e.registerModelCommand=w;function v(B){return A.INSTANCE.registerEditorCommand(B),B}e.registerEditorCommand=v;function p(B){const T=new B;return A.INSTANCE.registerEditorAction(T),T}e.registerEditorAction=p;function _(B){return A.INSTANCE.registerEditorAction(B),B}e.registerMultiEditorAction=_;function L(B){A.INSTANCE.registerEditorAction(B)}e.registerInstantiatedEditorAction=L;function E(B,T){A.INSTANCE.registerEditorContribution(B,T)}e.registerEditorContribution=E;var M;(function(B){function T(x){return A.INSTANCE.getEditorCommand(x)}B.getEditorCommand=T;function R(){return A.INSTANCE.getEditorActions()}B.getEditorActions=R;function O(){return A.INSTANCE.getEditorContributions()}B.getEditorContributions=O;function P(x){return A.INSTANCE.getEditorContributions().filter(H=>x.indexOf(H.id)>=0)}B.getSomeEditorContributions=P;function D(){return A.INSTANCE.getDiffEditorContributions()}B.getDiffEditorContributions=D})(M=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const k={EditorCommonContributions:"editor.contributions"};class A{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(T,R){this.editorContributions.push({id:T,ctor:R})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(T){T.register(),this.editorActions.push(T)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(T){T.register(),this.editorCommands[T.id]=T}getEditorCommand(T){return this.editorCommands[T]||null}}A.INSTANCE=new A,i.Registry.add(k.EditorCommonContributions,A.INSTANCE);function F(B){return B.register(),B}e.UndoCommand=F(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(0,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:y.localize(1,null),order:1}]})),F(new a(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=F(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(2,null),order:2},{menuId:C.MenuId.CommandPalette,group:"",title:y.localize(3,null),order:1}]})),F(new a(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=F(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:C.MenuId.MenubarSelectionMenu,group:"1_basic",title:y.localize(4,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:y.localize(5,null),order:1}]}))}),define(ee[653],te([0,1,15,16,21,80,9,54,485]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const h=(0,S.createDecorator)("IEditorCancelService"),g=new m.RawContextKey("cancellableOperation",!1,(0,C.localize)(0,null));(0,b.registerSingleton)(h,class{constructor(){this._tokens=new WeakMap}add(i,n){let o=this._tokens.get(i);o||(o=i.invokeWithinContext(c=>{const s=g.bindTo(c.get(m.IContextKeyService)),a=new I.LinkedList;return{key:s,tokens:a}}),this._tokens.set(i,o));let d;return o.key.set(!0),d=o.tokens.push(n),()=>{d&&(d(),o.key.set(!o.tokens.isEmpty()),d=void 0)}}cancel(i){const n=this._tokens.get(i);if(!n)return;const o=n.tokens.pop();o&&(o.cancel(),n.key.set(!n.tokens.isEmpty()))}},!0);class t extends N.CancellationTokenSource{constructor(n,o){super(o);this.editor=n,this._unregister=n.invokeWithinContext(d=>d.get(h).add(n,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=t,(0,y.registerEditorCommand)(new class extends y.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:g})}runEditorCommand(i,n){i.get(h).cancel(n)}})}),define(ee[70],te([0,1,8,3,21,2,653]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class b{constructor(i,n){if(this.flags=n,(this.flags&1)!=0){const o=i.getModel();this.modelVersionId=o?y.format("{0}#{1}",o.uri.toString(),o.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=i.getPosition():this.position=null,(this.flags&2)!=0?this.selection=i.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=i.getScrollLeft(),this.scrollTop=i.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(i){if(!(i instanceof b))return!1;const n=i;return!(this.modelVersionId!==n.modelVersionId||this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop||!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)||!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))}validate(i){return this._equals(new b(i,this.flags))}}e.EditorState=b;class C extends S.EditorKeybindingCancellationTokenSource{constructor(i,n,o,d){super(i,d);this._listener=new I.DisposableStore,n&4&&this._listener.add(i.onDidChangeCursorPosition(c=>{(!o||!m.Range.containsPosition(o,c.position))&&this.cancel()})),n&2&&this._listener.add(i.onDidChangeCursorSelection(c=>{(!o||!m.Range.containsRange(o,c.selection))&&this.cancel()})),n&8&&this._listener.add(i.onDidScrollChange(c=>this.cancel())),n&1&&(this._listener.add(i.onDidChangeModel(c=>this.cancel())),this._listener.add(i.onDidChangeModelContent(c=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=C;class h extends N.CancellationTokenSource{constructor(i,n){super(n);this._listener=i.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=h;class g{constructor(i,n,o){this._visiblePosition=i,this._visiblePositionScrollDelta=n,this._cursorPosition=o}static capture(i){let n=null,o=0;if(i.getScrollTop()!==0){const d=i.getVisibleRanges();if(d.length>0){n=d[0].getStartPosition();const c=i.getTopForPosition(n.lineNumber,n.column);o=i.getScrollTop()-c}}return new g(n,o,i.getPosition())}restore(i){if(this._visiblePosition){const n=i.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);i.setScrollTop(n+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(i){const n=i.getPosition();if(!this._cursorPosition||!n)return;const o=i.getTopForLineNumber(n.lineNumber)-i.getTopForLineNumber(this._cursorPosition.lineNumber);i.setScrollTop(i.getScrollTop()+o)}}e.StableEditorScrollState=g}),define(ee[654],te([0,1,193,15]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let N=class{constructor(S,b){}dispose(){}};N.ID="editor.contrib.markerDecorations",N=Be([me(1,y.IMarkerDecorationsService)],N),e.MarkerDecorationsContribution=N,(0,m.registerEditorContribution)(N.ID,N)}),define(ee[655],te([0,1,43,65,56,15,22,24,503,16,364]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new h.RawContextKey("selectionAnchorSet",!1);let g=class Li{constructor(c,s){this.editor=c,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(s),this.modelChangeListener=c.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(c){return c.getContribution(Li.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const c=this.editor.getPosition(),s=this.decorationId?[this.decorationId]:[],a=this.editor.deltaDecorations(s,[{range:S.Selection.fromPositions(c,c),options:{description:"selection-anchor",stickiness:1,hoverMessage:new m.MarkdownString().appendText((0,C.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=a[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,y.alert)((0,C.localize)(1,null,c.lineNumber,c.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const c=this.editor.getModel().getDecorationRange(this.decorationId);c&&this.editor.setPosition(c.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const c=this.editor.getModel().getDecorationRange(this.decorationId);if(c){const s=this.editor.getPosition();this.editor.setSelection(S.Selection.fromPositions(c.getStartPosition(),s)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};g.ID="editor.contrib.selectionAnchorController",g=Be([me(1,h.IContextKeyService)],g);class t extends I.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,C.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|32),weight:100}})}run(c,s){var a;return De(this,void 0,void 0,function*(){(a=g.get(s))===null||a===void 0||a.setSelectionAnchor()})}}class i extends I.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,C.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(c,s){var a;return De(this,void 0,void 0,function*(){(a=g.get(s))===null||a===void 0||a.goToSelectionAnchor()})}}class n extends I.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,C.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|41),weight:100}})}run(c,s){var a;return De(this,void 0,void 0,function*(){(a=g.get(s))===null||a===void 0||a.selectFromAnchorToCursor()})}}class o extends I.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,C.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(c,s){var a;return De(this,void 0,void 0,function*(){(a=g.get(s))===null||a===void 0||a.cancelSelectionAnchor()})}}(0,I.registerEditorContribution)(g.ID,g),(0,I.registerEditorAction)(t),(0,I.registerEditorAction)(i),(0,I.registerEditorAction)(n),(0,I.registerEditorAction)(o)}),define(ee[656],te([0,1,15,24,437,505]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends y.EditorAction{constructor(g,t){super(t);this.left=g}run(g,t){if(!t.hasModel())return;const i=[],n=t.getSelections();for(const o of n)i.push(new N.MoveCaretCommand(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class b extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:I.localize(0,null),alias:"Move Selected Text Left",precondition:m.EditorContextKeys.writable})}}class C extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:I.localize(1,null),alias:"Move Selected Text Right",precondition:m.EditorContextKeys.writable})}}(0,y.registerEditorAction)(b),(0,y.registerEditorAction)(C)}),define(ee[657],te([0,1,33,17,173,15,28,24,507,37,100]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",i=m.isNative||document.queryCommandSupported("cut"),n=m.isNative||document.queryCommandSupported("copy"),o=typeof navigator.clipboard=="undefined"||y.isFirefox?document.queryCommandSupported("paste"):!0;function d(a){return a.register(),a}e.CutAction=i?d(new I.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:m.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(0,null),order:1},{menuId:h.MenuId.EditorContext,group:t,title:C.localize(1,null),when:b.EditorContextKeys.writable,order:1},{menuId:h.MenuId.CommandPalette,group:"",title:C.localize(2,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:t,title:C.localize(3,null),when:b.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=n?d(new I.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:m.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(4,null),order:2},{menuId:h.MenuId.EditorContext,group:t,title:C.localize(5,null),order:2},{menuId:h.MenuId.CommandPalette,group:"",title:C.localize(6,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:t,title:C.localize(7,null),order:2}]})):void 0,h.MenuRegistry.appendMenuItem(h.MenuId.MenubarEditMenu,{submenu:h.MenuId.MenubarCopy,title:{value:C.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),h.MenuRegistry.appendMenuItem(h.MenuId.EditorContext,{submenu:h.MenuId.EditorContextCopy,title:{value:C.localize(9,null),original:"Copy As"},group:t,order:3}),e.PasteAction=o?d(new I.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:m.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:h.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(10,null),order:4},{menuId:h.MenuId.EditorContext,group:t,title:C.localize(11,null),when:b.EditorContextKeys.writable,order:4},{menuId:h.MenuId.CommandPalette,group:"",title:C.localize(12,null),order:1},{menuId:h.MenuId.SimpleEditorContext,group:t,title:C.localize(13,null),when:b.EditorContextKeys.writable,order:4}]})):void 0;class c extends I.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(r,l){!l.hasModel()||!l.getOption(32)&&l.getSelection().isEmpty()||(N.CopyOptions.forceCopyWithSyntaxHighlighting=!0,l.focus(),document.execCommand("copy"),N.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function s(a,r){!a||(a.addImplementation(1e4,"code-editor",(l,u)=>{const f=l.get(S.ICodeEditorService).getFocusedCodeEditor();if(f&&f.hasTextFocus()){const w=f.getOption(32),v=f.getSelection();return v&&v.isEmpty()&&!w||document.execCommand(r),!0}return!1}),a.addImplementation(0,"generic-dom",(l,u)=>(document.execCommand(r),!0)))}s(e.CutAction,"cut"),s(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(a,r)=>{const l=a.get(S.ICodeEditorService),u=a.get(g.IClipboardService),f=l.getFocusedCodeEditor();return f&&f.hasTextFocus()?!document.execCommand("paste")&&m.isWeb?(()=>De(void 0,void 0,void 0,function*(){const v=yield u.readText();if(v!==""){const p=N.InMemoryClipboardMetadataManager.INSTANCE.get(v);let _=!1,L=null,E=null;p&&(_=f.getOption(32)&&!!p.isFromEmptySelection,L=typeof p.multicursorText!="undefined"?p.multicursorText:null,E=p.mode),f.trigger("keyboard","paste",{text:v,pasteOnNewLine:_,multicursorText:L,mode:E})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(a,r)=>(document.execCommand("paste"),!0))),n&&(0,I.registerEditorAction)(c)}),define(ee[153],te([0,1,19,21,14,2,25,70,3,22,18,45,26,69,150]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d{constructor(f,w){this.action=f,this.provider=w}resolve(f){var w;return De(this,void 0,void 0,function*(){if(((w=this.provider)===null||w===void 0?void 0:w.resolveCodeAction)&&!this.action.edit){let v;try{v=yield this.provider.resolveCodeAction(this.action,f)}catch(p){(0,N.onUnexpectedExternalError)(p)}v&&(this.action.edit=v.edit)}return this})}}e.CodeActionItem=d;class c extends I.Disposable{constructor(f,w,v){super();this.documentation=w,this._register(v),this.allActions=[...f].sort(c.codeActionsComparator),this.validActions=this.allActions.filter(({action:p})=>!p.disabled)}static codeActionsComparator({action:f},{action:w}){return f.isPreferred&&!w.isPreferred?-1:!f.isPreferred&&w.isPreferred?1:(0,y.isNonEmptyArray)(f.diagnostics)?(0,y.isNonEmptyArray)(w.diagnostics)?f.diagnostics[0].message.localeCompare(w.diagnostics[0].message):-1:(0,y.isNonEmptyArray)(w.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:f})=>!!f.kind&&o.CodeActionKind.QuickFix.contains(new o.CodeActionKind(f.kind))&&!!f.isPreferred)}}const s={actions:[],documentation:void 0};function a(u,f,w,v,p){var _;const L=w.filter||{},E={only:(_=L.include)===null||_===void 0?void 0:_.value,trigger:w.type},M=new b.TextModelCancellationTokenSource(u,p),k=r(u,L),A=new I.DisposableStore,F=k.map(T=>De(this,void 0,void 0,function*(){try{v.report(T);const R=yield T.provideCodeActions(u,f,E,M.token);if(R&&A.add(R),M.token.isCancellationRequested)return s;const O=((R==null?void 0:R.actions)||[]).filter(D=>D&&(0,o.filtersAction)(L,D)),P=l(T,O,L.include);return{actions:O.map(D=>new d(D,T)),documentation:P}}catch(R){if((0,N.isCancellationError)(R))throw R;return(0,N.onUnexpectedExternalError)(R),s}})),B=g.CodeActionProviderRegistry.onDidChange(()=>{const T=g.CodeActionProviderRegistry.all(u);(0,y.equals)(T,k)||M.cancel()});return Promise.all(F).then(T=>{const R=(0,y.flatten)(T.map(P=>P.actions)),O=(0,y.coalesce)(T.map(P=>P.documentation));return new c(R,O,A)}).finally(()=>{B.dispose(),M.dispose()})}e.getCodeActions=a;function r(u,f){return g.CodeActionProviderRegistry.all(u).filter(w=>w.providedCodeActionKinds?w.providedCodeActionKinds.some(v=>(0,o.mayIncludeActionsOfKind)(f,new o.CodeActionKind(v))):!0)}function l(u,f,w){if(!u.documentation)return;const v=u.documentation.map(p=>({kind:new o.CodeActionKind(p.kind),command:p.command}));if(w){let p;for(const _ of v)_.kind.contains(w)&&(p?p.kind.contains(_.kind)&&(p=_):p=_);if(p)return p==null?void 0:p.command}for(const p of f)if(!!p.kind){for(const _ of v)if(_.kind.contains(new o.CodeActionKind(p.kind)))return _.command}}i.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(u,f,w,v,p){return De(this,void 0,void 0,function*(){if(!(f instanceof S.URI))throw(0,N.illegalArgument)();const _=u.get(t.IModelService).getModel(f);if(!_)throw(0,N.illegalArgument)();const L=h.Selection.isISelection(w)?h.Selection.liftSelection(w):C.Range.isIRange(w)?_.validateRange(w):void 0;if(!L)throw(0,N.illegalArgument)();const E=typeof v=="string"?new o.CodeActionKind(v):void 0,M=yield a(_,L,{type:1,filter:{includeSourceActions:!0,include:E}},n.Progress.None,m.CancellationToken.None),k=[],A=Math.min(M.validActions.length,typeof p=="number"?p:0);for(let F=0;F<A;F++)k.push(M.validActions[F].resolve(m.CancellationToken.None));try{return yield Promise.all(k),M.validActions.map(F=>F.action)}finally{setTimeout(()=>M.dispose(),100)}})})}),define(ee[658],te([0,1,7,44,14,133,2,11,18,153,150,75,42]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class n extends m.Action{constructor(a,r){super(a.command?a.command.id:a.title,o(a.title),void 0,!a.disabled,r);this.action=a}}function o(s){return s.replace(/\r\n|\r|\n/g," ")}let d=class extends S.Disposable{constructor(a,r,l,u){super();this._editor=a,this._delegate=r,this._contextMenuService=l,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new c({getKeybindings:()=>u.getKeybindings()})}get isVisible(){return this._visible}show(a,r,l,u){return De(this,void 0,void 0,function*(){const f=u.includeDisabledActions?r.allActions:r.validActions;if(!f.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,N.canceled)();this._visible=!0,this._showingActions.value=r;const w=this.getMenuActions(a,f,r.documentation),v=b.Position.isIPosition(l)?this._toCoords(l):l||{x:0,y:0},p=this._keybindingResolver.getResolver(),_=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:_?this._editor.getDomNode():void 0,getAnchor:()=>v,getActions:()=>w,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:L=>L instanceof n?p(L.action):void 0})})}getMenuActions(a,r,l){var u,f;const w=L=>new n(L.action,()=>this._delegate.onSelectCodeAction(L)),v=r.map(w),p=[...l],_=this._editor.getModel();if(_&&v.length)for(const L of C.CodeActionProviderRegistry.all(_))L._getAdditionalMenuItems&&p.push(...L._getAdditionalMenuItems({trigger:a.type,only:(f=(u=a.filter)===null||u===void 0?void 0:u.include)===null||f===void 0?void 0:f.value},r.map(E=>E.action)));return p.length&&v.push(new m.Separator,...p.map(L=>w(new h.CodeActionItem({title:L.title,command:L},void 0)))),v}_toCoords(a){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(a,1),this._editor.render();const r=this._editor.getScrolledVisiblePosition(a),l=(0,y.getDomNodePagePosition)(this._editor.getDomNode()),u=l.left+r.left,f=l.top+r.top+r.height;return{x:u,y:f}}};d=Be([me(2,t.IContextMenuService),me(3,i.IKeybindingService)],d),e.CodeActionMenu=d;class c{constructor(a){this._keybindingProvider=a}getResolver(){const a=new I.Lazy(()=>this._keybindingProvider.getKeybindings().filter(r=>c.codeActionCommands.indexOf(r.command)>=0).filter(r=>r.resolvedKeybinding).map(r=>{let l=r.commandArgs;return r.command===h.organizeImportsCommandId?l={kind:g.CodeActionKind.SourceOrganizeImports.value}:r.command===h.fixAllCommandId&&(l={kind:g.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:r.resolvedKeybinding},g.CodeActionCommandArgs.fromUser(l,{kind:g.CodeActionKind.None,apply:"never"}))}));return r=>{if(r.kind){const l=this.bestKeybindingForCodeAction(r,a.getValue());return l==null?void 0:l.resolvedKeybinding}}}bestKeybindingForCodeAction(a,r){if(!a.kind)return;const l=new g.CodeActionKind(a.kind);return r.filter(u=>u.kind.contains(l)).filter(u=>u.preferred?a.isPreferred:!0).reduceRight((u,f)=>u?u.kind.contains(f.kind)?f:u:f,void 0)}}e.CodeActionKeybindingResolver=c,c.codeActionCommands=[h.refactorCommandId,h.codeActionCommandId,h.sourceActionCommandId,h.organizeImportsCommandId,h.fixAllCommandId]});var Dt=this&&this.__classPrivateFieldGet||function(K,e,y,m){if(y==="a"&&!m)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?K!==e||!m:!e.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?m:y==="a"?m.call(K):m?m.value:e.get(K)},Zt=this&&this.__classPrivateFieldSet||function(K,e,y,m,N){if(m==="m")throw new TypeError("Private method is not writable");if(m==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?K!==e||!N:!e.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m==="a"?N.call(K,y):N?N.value=y:e.set(K,y),y};define(ee[659],te([0,1,10,14,4,2,41,3,18,16,69,153]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new h.RawContextKey("supportedCodeAction","");class n extends I.Disposable{constructor(a,r,l,u=250){super();this._editor=a,this._markerService=r,this._signalChange=l,this._delay=u,this._autoTriggerTimer=this._register(new y.TimeoutTimer),this._register(this._markerService.onMarkerChanged(f=>this._onMarkerChanges(f))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(a){const r=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);return this._createEventAndSignalChange(a,r)}_onMarkerChanges(a){const r=this._editor.getModel();!r||a.some(l=>(0,S.isEqual)(l,r.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(a){const r=this._editor.getModel();if(!!r)for(const l of this._markerService.read({resource:r.uri})){const u=r.validateRange(l);if(b.Range.intersectRanges(u,a))return b.Range.lift(u)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const r=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&a.type===2){const{lineNumber:u,column:f}=l.getPosition(),w=r.getLineContent(u);if(w.length===0)return;if(f===1){if(/\s/.test(w[0]))return}else if(f===r.getLineMaxColumn(u)){if(/\s/.test(w[w.length-1]))return}else if(/\s/.test(w[f-2])&&/\s/.test(w[f-1]))return}return l}_createEventAndSignalChange(a,r){const l=this._editor.getModel();if(!r||!l){this._signalChange(void 0);return}const u=this._getRangeOfMarker(r),f=u?u.getStartPosition():r.getStartPosition(),w={trigger:a,selection:r,position:f};return this._signalChange(w),w}}var o;(function(s){s.Empty={type:0};class a{constructor(l,u,f,w){this.trigger=l,this.rangeOrSelection=u,this.position=f,this._cancellablePromise=w,this.type=1,this.actions=w.catch(v=>{if((0,m.isCancellationError)(v))return d;throw v})}cancel(){this._cancellablePromise.cancel()}}s.Triggered=a})(o=e.CodeActionsState||(e.CodeActionsState={}));const d={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class c extends I.Disposable{constructor(a,r,l,u){super();this._editor=a,this._markerService=r,this._progressService=u,this._codeActionOracle=this._register(new I.MutableDisposable),this._state=o.Empty,this._onDidChangeState=this._register(new N.Emitter),this.onDidChangeState=this._onDidChangeState.event,i.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(l),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(C.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){Dt(this,i,"f")||(Zt(this,i,!0,"f"),super.dispose(),this.setState(o.Empty,!0))}_update(){if(Dt(this,i,"f"))return;this._codeActionOracle.value=void 0,this.setState(o.Empty);const a=this._editor.getModel();if(a&&C.CodeActionProviderRegistry.has(a)&&!this._editor.getOption(81)){const r=[];for(const l of C.CodeActionProviderRegistry.all(a))Array.isArray(l.providedCodeActionKinds)&&r.push(...l.providedCodeActionKinds);this._supportedCodeActions.set(r.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,l=>{var u;if(!l){this.setState(o.Empty);return}const f=(0,y.createCancelablePromise)(w=>(0,t.getCodeActions)(a,l.selection,l.trigger,g.Progress.None,w));l.trigger.type===1&&((u=this._progressService)===null||u===void 0||u.showWhile(f,250)),this.setState(new o.Triggered(l.trigger,l.selection,l.position,f))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(a){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(a)}setState(a,r){a!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=a,!r&&!Dt(this,i,"f")&&this._onDidChangeState.fire(a))}}e.CodeActionModel=c,i=new WeakMap}),define(ee[660],te([0,1,56,15,3,24,35,247,596,512,37]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class t extends m.EditorAction{constructor(s,a){super(a);this._type=s}run(s,a){const r=s.get(S.ILanguageConfigurationService);if(!a.hasModel())return;const l=a.getModel(),u=[],f=l.getOptions(),w=a.getOption(19),v=a.getSelections().map((_,L)=>({selection:_,index:L,ignoreFirstLine:!1}));v.sort((_,L)=>N.Range.compareRangesUsingStarts(_.selection,L.selection));let p=v[0];for(let _=1;_<v.length;_++){const L=v[_];p.selection.endLineNumber===L.selection.startLineNumber&&(p.index<L.index?L.ignoreFirstLine=!0:(p.ignoreFirstLine=!0,p=L))}for(const _ of v)u.push(new C.LineCommentCommand(r,_.selection,f.tabSize,this._type,w.insertSpace,w.ignoreEmptyLines,_.ignoreFirstLine));a.pushUndoStop(),a.executeCommands(this.id,u),a.pushUndoStop()}}class i extends t{constructor(){super(0,{id:"editor.action.commentLine",label:h.localize(0,null),alias:"Toggle Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:h.localize(1,null),order:1}})}}class n extends t{constructor(){super(1,{id:"editor.action.addCommentLine",label:h.localize(2,null),alias:"Add Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|33),weight:100}})}}class o extends t{constructor(){super(2,{id:"editor.action.removeCommentLine",label:h.localize(3,null),alias:"Remove Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|51),weight:100}})}}class d extends m.EditorAction{constructor(){super({id:"editor.action.blockComment",label:h.localize(4,null),alias:"Toggle Block Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:h.localize(5,null),order:2}})}run(s,a){const r=s.get(S.ILanguageConfigurationService);if(!a.hasModel())return;const l=a.getOption(19),u=[],f=a.getSelections();for(const w of f)u.push(new b.BlockCommentCommand(w,l.insertSpace,r));a.pushUndoStop(),a.executeCommands(this.id,u),a.pushUndoStop()}}(0,m.registerEditorAction)(i),(0,m.registerEditorAction)(n),(0,m.registerEditorAction)(o),(0,m.registerEditorAction)(d)}),define(ee[661],te([0,1,7,124,44,2,17,15,24,513,37,16,75,42]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let o=class Ei{constructor(s,a,r,l,u,f){this._contextMenuService=a,this._contextViewService=r,this._contextKeyService=l,this._keybindingService=u,this._menuService=f,this._toDispose=new I.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=s,this._toDispose.add(this._editor.onContextMenu(w=>this._onContextMenu(w))),this._toDispose.add(this._editor.onMouseWheel(w=>{if(this._contextMenuIsBeingShownCount>0){const v=this._contextViewService.getContextViewElement(),p=w.srcElement;p.shadowRoot&&y.getShadowRoot(v)===p.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(w=>{w.keyCode===58&&(w.preventDefault(),w.stopPropagation(),this.showContextMenu())}))}static get(s){return s.getContribution(Ei.ID)}_onContextMenu(s){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),s.target.position&&!this._editor.getSelection().containsPosition(s.target.position)&&this._editor.setPosition(s.target.position);return}if(s.target.type===12||s.target.type===6&&s.target.detail.injectedText||(s.event.preventDefault(),s.event.stopPropagation(),s.target.type!==6&&s.target.type!==7&&s.target.type!==1))return;if(this._editor.focus(),s.target.position){let r=!1;for(const l of this._editor.getSelections())if(l.containsPosition(s.target.position)){r=!0;break}r||this._editor.setPosition(s.target.position)}let a=null;s.target.type!==1&&(a={x:s.event.posx-1,width:2,y:s.event.posy-1,height:2}),this.showContextMenu(a)}showContextMenu(s){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const a=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?g.MenuId.SimpleEditorContext:g.MenuId.EditorContext);a.length>0&&this._doShowContextMenu(a,s)}_getMenuActions(s,a){const r=[],l=this._menuService.createMenu(a,this._contextKeyService),u=l.getActions({arg:s.uri});l.dispose();for(let f of u){const[,w]=f;let v=0;for(const p of w)if(p instanceof g.SubmenuItemAction){const _=this._getMenuActions(s,p.item.submenu);_.length>0&&(r.push(new N.SubmenuAction(p.id,p.label,_)),v++)}else r.push(p),v++;v&&r.push(new N.Separator)}return r.length&&r.pop(),r}_doShowContextMenu(s,a=null){if(!this._editor.hasModel())return;const r=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!a){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const u=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),f=y.getDomNodePagePosition(this._editor.getDomNode()),w=f.left+u.left,v=f.top+u.top+u.height;a={x:w,y:v}}const l=this._editor.getOption(115)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>s,getActionViewItem:u=>{const f=this._keybindingFor(u);if(f)return new m.ActionViewItem(u,u,{label:!0,keybinding:f.getLabel(),isMenu:!0});const w=u;return typeof w.getActionViewItem=="function"?w.getActionViewItem():new m.ActionViewItem(u,u,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:u=>this._keybindingFor(u),onHide:u=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:r})}})}_keybindingFor(s){return this._keybindingService.lookupKeybinding(s.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};o.ID="editor.contrib.contextmenu",o=Be([me(1,i.IContextMenuService),me(2,i.IContextViewService),me(3,t.IContextKeyService),me(4,n.IKeybindingService),me(5,g.IMenuService)],o),e.ContextMenuController=o;class d extends b.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:h.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(s,a){var r;(r=o.get(a))===null||r===void 0||r.showContextMenu()}}(0,b.registerEditorContribution)(o.ID,o),(0,b.registerEditorAction)(d)}),define(ee[662],te([0,1,2,15,24,514]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(i){this.selections=i}equals(i){const n=this.selections.length,o=i.selections.length;if(n!==o)return!1;for(let d=0;d<n;d++)if(!this.selections[d].equalsSelection(i.selections[d]))return!1;return!0}}class b{constructor(i,n,o){this.cursorState=i,this.scrollTop=n,this.scrollLeft=o}}class C extends y.Disposable{constructor(i){super();this._editor=i,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(i.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const o=new S(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new b(o,i.getScrollTop(),i.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(i){return i.getContribution(C.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new b(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new b(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(i){this._isCursorUndoRedo=!0,this._editor.setSelections(i.cursorState.selections),this._editor.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=C,C.ID="editor.contrib.cursorUndoRedoController";class h extends m.EditorAction{constructor(){super({id:"cursorUndo",label:I.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:N.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(i,n,o){var d;(d=C.get(n))===null||d===void 0||d.cursorUndo()}}e.CursorUndo=h;class g extends m.EditorAction{constructor(){super({id:"cursorRedo",label:I.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(i,n,o){var d;(d=C.get(n))===null||d===void 0||d.cursorRedo()}}e.CursorRedo=g,(0,m.registerEditorContribution)(C.ID,C),(0,m.registerEditorAction)(h),(0,m.registerEditorAction)(g)}),define(ee[663],te([0,1,15,142,519]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:N.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(h,g){m.EditorZoom.setZoomLevel(m.EditorZoom.getZoomLevel()+1)}}class S extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:N.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(h,g){m.EditorZoom.setZoomLevel(m.EditorZoom.getZoomLevel()-1)}}class b extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:N.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(h,g){m.EditorZoom.setZoomLevel(0)}}(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(S),(0,y.registerEditorAction)(b)}),define(ee[280],te([0,1,43,19,21,14,55,80,20,25,70,145,11,3,22,18,83,59,249,520,26,581,9]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function w(B){if(B=B.filter(P=>P.range),!B.length)return;let{range:T}=B[0];for(let P=1;P<B.length;P++)T=n.Range.plusRange(T,B[P].range);const{startLineNumber:R,endLineNumber:O}=T;R===O?B.length===1?(0,y.alert)(r.localize(0,null,R)):(0,y.alert)(r.localize(1,null,B.length,R)):B.length===1?(0,y.alert)(r.localize(2,null,R,O)):(0,y.alert)(r.localize(3,null,B.length,R,O))}e.alertFormattingEdits=w;function v(B){const T=[],R=new Set,O=d.DocumentFormattingEditProviderRegistry.ordered(B);for(const D of O)T.push(D),D.extensionId&&R.add(u.ExtensionIdentifier.toKey(D.extensionId));const P=d.DocumentRangeFormattingEditProviderRegistry.ordered(B);for(const D of P){if(D.extensionId){if(R.has(u.ExtensionIdentifier.toKey(D.extensionId)))continue;R.add(u.ExtensionIdentifier.toKey(D.extensionId))}T.push({displayName:D.displayName,extensionId:D.extensionId,provideDocumentFormattingEdits(x,H,j){return D.provideDocumentRangeFormattingEdits(x,x.getFullModelRange(),H,j)}})}return T}e.getRealAndSyntheticDocumentFormattersOrdered=v;class p{static setFormatterSelector(T){return{dispose:p._selectors.unshift(T)}}static select(T,R,O){return De(this,void 0,void 0,function*(){if(T.length===0)return;const P=S.Iterable.first(p._selectors);if(P)return yield P(T,R,O)})}}e.FormattingConflicts=p,p._selectors=new b.LinkedList;function _(B,T,R,O,P,D){return De(this,void 0,void 0,function*(){const x=B.get(f.IInstantiationService),H=(0,t.isCodeEditor)(T)?T.getModel():T,j=d.DocumentRangeFormattingEditProviderRegistry.ordered(H),Q=yield p.select(j,H,O);Q&&(P.report(Q),yield x.invokeFunction(L,Q,T,R,D))})}e.formatDocumentRangesWithSelectedProvider=_;function L(B,T,R,O,P){return De(this,void 0,void 0,function*(){const D=B.get(c.IEditorWorkerService);let x,H;(0,t.isCodeEditor)(R)?(x=R.getModel(),H=new g.EditorStateCancellationTokenSource(R,1|4,void 0,P)):(x=R,H=new g.TextModelCancellationTokenSource(R,P));let j=[],Q=0;for(let U of(0,m.asArray)(O).sort(n.Range.compareRangesUsingStarts))Q>0&&n.Range.areIntersectingOrTouching(j[Q-1],U)?j[Q-1]=n.Range.fromPositions(j[Q-1].getStartPosition(),U.getEndPosition()):Q=j.push(U);const G=U=>De(this,void 0,void 0,function*(){return(yield T.provideDocumentRangeFormattingEdits(x,U,x.getFormattingOptions(),H.token))||[]}),se=(U,W)=>{if(!U.length||!W.length)return!1;const V=U.reduce((Y,X)=>n.Range.plusRange(Y,X.range),U[0].range);if(!W.some(Y=>n.Range.intersectRanges(V,Y.range)))return!1;for(let Y of U)for(let X of W)if(n.Range.intersectRanges(Y.range,X.range))return!0;return!1},ne=[],Z=[];try{for(let U of j){if(H.token.isCancellationRequested)return!0;Z.push(yield G(U))}for(let U=0;U<j.length;++U)for(let W=U+1;W<j.length;++W){if(H.token.isCancellationRequested)return!0;if(se(Z[U],Z[W])){const V=n.Range.plusRange(j[U],j[W]),Y=yield G(V);j.splice(W,1),j.splice(U,1),j.push(V),Z.splice(W,1),Z.splice(U,1),Z.push(Y),U=0,W=0}}for(let U of Z){if(H.token.isCancellationRequested)return!0;const W=yield D.computeMoreMinimalEdits(x.uri,U);W&&ne.push(...W)}}finally{H.dispose()}if(ne.length===0)return!1;if((0,t.isCodeEditor)(R))a.FormattingEdit.execute(R,ne,!0),w(ne),R.revealPositionInCenterIfOutsideViewport(R.getPosition(),1);else{const[{range:U}]=ne,W=new o.Selection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn);x.pushEditOperations([W],ne.map(V=>({text:V.text,range:n.Range.lift(V.range),forceMoveMarkers:!0})),V=>{for(const{range:Y}of V)if(n.Range.areIntersectingOrTouching(Y,W))return[new o.Selection(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=L;function E(B,T,R,O,P){return De(this,void 0,void 0,function*(){const D=B.get(f.IInstantiationService),x=(0,t.isCodeEditor)(T)?T.getModel():T,H=v(x),j=yield p.select(H,x,R);j&&(O.report(j),yield D.invokeFunction(M,j,T,R,P))})}e.formatDocumentWithSelectedProvider=E;function M(B,T,R,O,P){return De(this,void 0,void 0,function*(){const D=B.get(c.IEditorWorkerService);let x,H;(0,t.isCodeEditor)(R)?(x=R.getModel(),H=new g.EditorStateCancellationTokenSource(R,1|4,void 0,P)):(x=R,H=new g.TextModelCancellationTokenSource(R,P));let j;try{const Q=yield T.provideDocumentFormattingEdits(x,x.getFormattingOptions(),H.token);if(j=yield D.computeMoreMinimalEdits(x.uri,Q),H.token.isCancellationRequested)return!0}finally{H.dispose()}if(!j||j.length===0)return!1;if((0,t.isCodeEditor)(R))a.FormattingEdit.execute(R,j,O!==2),O!==2&&(w(j),R.revealPositionInCenterIfOutsideViewport(R.getPosition(),1));else{const[{range:Q}]=j,G=new o.Selection(Q.startLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn);x.pushEditOperations([G],j.map(se=>({text:se.text,range:n.Range.lift(se.range),forceMoveMarkers:!0})),se=>{for(const{range:ne}of se)if(n.Range.areIntersectingOrTouching(ne,G))return[new o.Selection(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=M;function k(B,T,R,O,P){return De(this,void 0,void 0,function*(){const D=d.DocumentRangeFormattingEditProviderRegistry.ordered(T);for(const x of D){let H=yield Promise.resolve(x.provideDocumentRangeFormattingEdits(T,R,O,P)).catch(I.onUnexpectedExternalError);if((0,m.isNonEmptyArray)(H))return yield B.computeMoreMinimalEdits(T.uri,H)}})}e.getDocumentRangeFormattingEditsUntilResult=k;function A(B,T,R,O){return De(this,void 0,void 0,function*(){const P=v(T);for(const D of P){let x=yield Promise.resolve(D.provideDocumentFormattingEdits(T,R,O)).catch(I.onUnexpectedExternalError);if((0,m.isNonEmptyArray)(x))return yield B.computeMoreMinimalEdits(T.uri,x)}})}e.getDocumentFormattingEditsUntilResult=A;function F(B,T,R,O,P,D){const x=d.OnTypeFormattingEditProviderRegistry.ordered(T);return x.length===0||x[0].autoFormatTriggerCharacters.indexOf(O)<0?Promise.resolve(void 0):Promise.resolve(x[0].provideOnTypeFormattingEdits(T,R,O,P,D)).catch(I.onUnexpectedExternalError).then(H=>B.computeMoreMinimalEdits(T.uri,H))}e.getOnTypeFormattingEdits=F,l.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(B,...T){return De(this,void 0,void 0,function*(){const[R,O,P]=T;(0,C.assertType)(h.URI.isUri(R)),(0,C.assertType)(n.Range.isIRange(O));const D=B.get(s.ITextModelService),x=B.get(c.IEditorWorkerService),H=yield D.createModelReference(R);try{return k(x,H.object.textEditorModel,n.Range.lift(O),P,N.CancellationToken.None)}finally{H.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(B,...T){return De(this,void 0,void 0,function*(){const[R,O]=T;(0,C.assertType)(h.URI.isUri(R));const P=B.get(s.ITextModelService),D=B.get(c.IEditorWorkerService),x=yield P.createModelReference(R);try{return A(D,x.object.textEditorModel,O,N.CancellationToken.None)}finally{x.dispose()}})}),l.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(B,...T){return De(this,void 0,void 0,function*(){const[R,O,P,D]=T;(0,C.assertType)(h.URI.isUri(R)),(0,C.assertType)(i.Position.isIPosition(O)),(0,C.assertType)(typeof P=="string");const x=B.get(s.ITextModelService),H=B.get(c.IEditorWorkerService),j=yield x.createModelReference(R);try{return F(H,j.object.textEditorModel,i.Position.lift(O),P,D,N.CancellationToken.None)}finally{j.dispose()}})})}),define(ee[664],te([0,1,19,21,14,56,2,15,28,96,3,24,18,83,280,249,521,26,16,9,69]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let u=class{constructor(_,L){this._editor=_,this._workerService=L,this._disposables=new S.DisposableStore,this._sessionDisposables=new S.DisposableStore,this._disposables.add(i.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this)),this._disposables.add(_.onDidChangeModel(()=>this._update())),this._disposables.add(_.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(_.onDidChangeConfiguration(E=>{E.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const _=this._editor.getModel(),[L]=i.OnTypeFormattingEditProviderRegistry.ordered(_);if(!L||!L.autoFormatTriggerCharacters)return;let E=new h.CharacterSet;for(let M of L.autoFormatTriggerCharacters)E.add(M.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(M=>{let k=M.charCodeAt(M.length-1);E.has(k)&&this._trigger(String.fromCharCode(k))}))}_trigger(_){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const L=this._editor.getModel(),E=this._editor.getPosition(),M=new m.CancellationTokenSource,k=this._editor.onDidChangeModelContent(A=>{if(A.isFlush){M.cancel(),k.dispose();return}for(let F=0,B=A.changes.length;F<B;F++)if(A.changes[F].range.endLineNumber<=E.lineNumber){M.cancel(),k.dispose();return}});(0,o.getOnTypeFormattingEdits)(this._workerService,L,E,_,L.getFormattingOptions(),M.token).then(A=>{M.token.isCancellationRequested||(0,y.isNonEmptyArray)(A)&&(d.FormattingEdit.execute(this._editor,A,!0),(0,o.alertFormattingEdits)(A))}).finally(()=>{k.dispose()})}};u.ID="editor.contrib.autoFormat",u=Be([me(1,n.IEditorWorkerService)],u);let f=class{constructor(_,L){this.editor=_,this._instantiationService=L,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(i.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(48)&&(!this.editor.hasModel()||!i.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:_})=>this._trigger(_))))}_trigger(_){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(o.formatDocumentRangesWithSelectedProvider,this.editor,_,2,l.Progress.None,m.CancellationToken.None).catch(N.onUnexpectedError)}};f.ID="editor.contrib.formatOnPaste",f=Be([me(1,r.IInstantiationService)],f);class w extends b.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:c.localize(0,null),alias:"Format Document",precondition:a.ContextKeyExpr.and(t.EditorContextKeys.notInCompositeEditor,t.EditorContextKeys.writable,t.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(_,L){return De(this,void 0,void 0,function*(){if(L.hasModel()){const E=_.get(r.IInstantiationService);yield _.get(l.IEditorProgressService).showWhile(E.invokeFunction(o.formatDocumentWithSelectedProvider,L,1,l.Progress.None,m.CancellationToken.None),250)}})}}class v extends b.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:c.localize(1,null),alias:"Format Selection",precondition:a.ContextKeyExpr.and(t.EditorContextKeys.writable,t.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:t.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(_,L){return De(this,void 0,void 0,function*(){if(!L.hasModel())return;const E=_.get(r.IInstantiationService),M=L.getModel(),k=L.getSelections().map(F=>F.isEmpty()?new g.Range(F.startLineNumber,1,F.startLineNumber,M.getLineMaxColumn(F.startLineNumber)):F);yield _.get(l.IEditorProgressService).showWhile(E.invokeFunction(o.formatDocumentRangesWithSelectedProvider,L,k,1,l.Progress.None,m.CancellationToken.None),250)})}}(0,b.registerEditorContribution)(u.ID,u),(0,b.registerEditorContribution)(f.ID,f),(0,b.registerEditorAction)(w),(0,b.registerEditorAction)(v),s.CommandsRegistry.registerCommand("editor.action.format",p=>De(void 0,void 0,void 0,function*(){const _=p.get(C.ICodeEditorService).getFocusedCodeEditor();if(!_||!_.hasModel())return;const L=p.get(s.ICommandService);_.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}))}),define(ee[281],te([0,1,21,14,15,18,125]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function b(o,d,c,s){const r=c.ordered(o).map(l=>Promise.resolve(s(l,o,d)).then(void 0,u=>{(0,m.onUnexpectedExternalError)(u)}));return Promise.all(r).then(l=>{const u=[];for(let f of l)Array.isArray(f)?u.push(...f):f&&u.push(f);return u})}function C(o,d,c){return b(o,d,I.DefinitionProviderRegistry,(s,a,r)=>s.provideDefinition(a,r,c))}e.getDefinitionsAtPosition=C;function h(o,d,c){return b(o,d,I.DeclarationProviderRegistry,(s,a,r)=>s.provideDeclaration(a,r,c))}e.getDeclarationsAtPosition=h;function g(o,d,c){return b(o,d,I.ImplementationProviderRegistry,(s,a,r)=>s.provideImplementation(a,r,c))}e.getImplementationsAtPosition=g;function t(o,d,c){return b(o,d,I.TypeDefinitionProviderRegistry,(s,a,r)=>s.provideTypeDefinition(a,r,c))}e.getTypeDefinitionsAtPosition=t;function i(o,d,c,s){return b(o,d,I.ReferenceProviderRegistry,(a,r,l)=>De(this,void 0,void 0,function*(){const u=yield a.provideReferences(r,l,{includeDeclaration:!0},s);if(!c||!u||u.length!==2)return u;const f=yield a.provideReferences(r,l,{includeDeclaration:!1},s);return f&&f.length===1?f:u}))}e.getReferencesAtPosition=i;function n(o){return De(this,void 0,void 0,function*(){const d=yield o(),c=new S.ReferencesModel(d,""),s=c.references.map(a=>a.link);return c.dispose(),s})}(0,N.registerModelAndPositionCommand)("_executeDefinitionProvider",(o,d)=>n(()=>C(o,d,y.CancellationToken.None))),(0,N.registerModelAndPositionCommand)("_executeDeclarationProvider",(o,d)=>n(()=>h(o,d,y.CancellationToken.None))),(0,N.registerModelAndPositionCommand)("_executeImplementationProvider",(o,d)=>n(()=>g(o,d,y.CancellationToken.None))),(0,N.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(o,d)=>n(()=>t(o,d,y.CancellationToken.None))),(0,N.registerModelAndPositionCommand)("_executeReferenceProvider",(o,d)=>n(()=>i(o,d,!1,y.CancellationToken.None)))}),define(ee[665],te([0,1,4,2,41,15,28,3,530,16,54,9,42,84,40]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new h.RawContextKey("hasSymbols",!1,(0,C.localize)(0,null)),e.ISymbolNavigationService=(0,t.createDecorator)("ISymbolNavigationService");let d=class{constructor(a,r,l,u){this._editorService=r,this._notificationService=l,this._keybindingService=u,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(a)}reset(){var a,r;this._ctxHasSymbols.reset(),(a=this._currentState)===null||a===void 0||a.dispose(),(r=this._currentMessage)===null||r===void 0||r.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(a){const r=a.parent.parent;if(r.references.length<=1){this.reset();return}this._currentModel=r,this._currentIdx=r.references.indexOf(a),this._ctxHasSymbols.set(!0),this._showMessage();const l=new c(this._editorService),u=l.onDidChange(f=>{if(this._ignoreEditorChange)return;const w=this._editorService.getActiveCodeEditor();if(!w)return;const v=w.getModel(),p=w.getPosition();if(!v||!p)return;let _=!1,L=!1;for(const E of r.references)if((0,N.isEqual)(E.uri,v.uri))_=!0,L=L||b.Range.containsPosition(E.range,p);else if(_)break;(!_||!L)&&this.reset()});this._currentState=(0,m.combinedDisposable)(l,u)}revealNext(a){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const r=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:r.uri,options:{selection:b.Range.collapseToStart(r.range),selectionRevealType:3}},a).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var a;(a=this._currentMessage)===null||a===void 0||a.dispose();const r=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),l=r?(0,C.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,r.getLabel()):(0,C.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(l)}};d=Be([me(0,h.IContextKeyService),me(1,S.ICodeEditorService),me(2,o.INotificationService),me(3,i.IKeybindingService)],d),(0,g.registerSingleton)(e.ISymbolNavigationService,d,!0),(0,I.registerEditorCommand)(new class extends I.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(s,a){return s.get(e.ISymbolNavigationService).revealNext(a)}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(s){s.get(e.ISymbolNavigationService).reset()}});let c=class{constructor(a){this._listener=new Map,this._disposables=new m.DisposableStore,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(a.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(a.onCodeEditorAdd(this._onDidAddEditor,this)),a.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,m.dispose)(this._listener.values())}_onDidAddEditor(a){this._listener.set(a,(0,m.combinedDisposable)(a.onDidChangeCursorPosition(r=>this._onDidChange.fire({editor:a})),a.onDidChangeModelContent(r=>this._onDidChange.fire({editor:a}))))}_onDidRemoveEditor(a){var r;(r=this._listener.get(a))===null||r===void 0||r.dispose(),this._listener.delete(a)}};c=Be([me(0,S.ICodeEditorService)],c)}),define(ee[282],te([0,1,10,21,14,15,18]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class b{constructor(n,o,d){this.provider=n,this.hover=o,this.ordinal=d}}e.HoverProviderResult=b;function C(i,n,o,d,c){return De(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(i.provideHover(o,d,c));if(s&&t(s))return new b(i,s,n)}catch(s){(0,N.onUnexpectedExternalError)(s)}})}function h(i,n,o){const c=S.HoverProviderRegistry.ordered(i).map((s,a)=>C(s,a,i,n,o));return y.AsyncIterableObject.fromPromises(c).coalesce()}e.getHover=h;function g(i,n,o){return h(i,n,o).map(d=>d.hover).toPromise()}e.getHoverPromise=g,(0,I.registerModelAndPositionCommand)("_executeHoverProvider",(i,n)=>g(i,n,m.CancellationToken.None));function t(i){const n=typeof i.range!="undefined",o=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return n&&o}}),define(ee[198],te([0,1,7,19,10,65,2,102,11,3,18,34,282,532,39,52]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const c=y.$;class s{constructor(u,f,w,v){this.owner=u,this.range=f,this.contents=w,this.ordinal=v}isValidForHoverAnchor(u){return u.type===1&&this.range.startColumn<=u.range.startColumn&&this.range.endColumn>=u.range.endColumn}}e.MarkdownHover=s;let a=class{constructor(u,f,w,v){this._editor=u,this._languageService=f,this._openerService=w,this._configurationService=v}createLoadingMessage(u){return new s(this,u.range,[new I.MarkdownString().appendText(n.localize(0,null))],2e3)}computeSync(u,f){if(!this._editor.hasModel()||u.type!==1)return[];const w=this._editor.getModel(),v=u.range.startLineNumber,p=w.getLineMaxColumn(v),_=[];let L=1e3;const E=w.getLineLength(v),M=w.getLanguageIdAtPosition(u.range.startLineNumber,u.range.startColumn),k=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:M});typeof k=="number"&&E>=k&&_.push(new s(this,u.range,[{value:n.localize(1,null)}],L++));for(const A of f){const F=A.range.startLineNumber===v?A.range.startColumn:1,B=A.range.endLineNumber===v?A.range.endColumn:p,T=A.options.hoverMessage;if(!T||(0,I.isEmptyMarkdownString)(T))continue;const R=new h.Range(u.range.startLineNumber,F,u.range.startLineNumber,B);_.push(new s(this,R,(0,m.asArray)(T),L++))}return _}computeAsync(u,f,w){if(!this._editor.hasModel()||u.type!==1)return N.AsyncIterableObject.EMPTY;const v=this._editor.getModel();if(!g.HoverProviderRegistry.has(v))return N.AsyncIterableObject.EMPTY;const p=new C.Position(u.range.startLineNumber,u.range.startColumn);return(0,i.getHover)(v,p,w).filter(_=>!(0,I.isEmptyMarkdownString)(_.hover.contents)).map(_=>{const L=_.hover.range?h.Range.lift(_.hover.range):u.range;return new s(this,L,_.hover.contents,_.ordinal)})}renderHoverParts(u,f){return r(u,f,this._editor,this._languageService,this._openerService)}};a=Be([me(1,t.ILanguageService),me(2,d.IOpenerService),me(3,o.IConfigurationService)],a),e.MarkdownHoverParticipant=a;function r(l,u,f,w,v){u.sort((_,L)=>_.ordinal-L.ordinal);const p=new S.DisposableStore;for(const _ of u)for(const L of _.contents){if((0,I.isEmptyMarkdownString)(L))continue;const E=c("div.hover-row.markdown-hover"),M=y.append(E,c("div.hover-contents")),k=p.add(new b.MarkdownRenderer({editor:f},w,v));p.add(k.onDidRenderAsync(()=>{M.className="hover-contents code-hover-contents",l.onContentsChanged()}));const A=p.add(k.render(L));M.appendChild(A.element),l.fragment.appendChild(E)}return p}e.renderMarkdownHovers=r}),define(ee[154],te([0,1,43,10,2,15,3,542,16,377]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let h=class Xt{constructor(n,o){this._messageWidget=new N.MutableDisposable,this._messageListeners=new N.DisposableStore,this._editor=n,this._visible=Xt.MESSAGE_VISIBLE.bindTo(o),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(n){return n.getContribution(Xt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(n,o){(0,y.alert)(n),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new t(this._editor,o,n),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new m.TimeoutTimer(()=>this.closeMessage(),3e3));let d;this._messageListeners.add(this._editor.onMouseMove(c=>{!c.target.position||(d?d.containsPosition(c.target.position)||this.closeMessage():d=new S.Range(o.lineNumber-3,1,c.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(t.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(b.localize(1,null),this._editor.getPosition())}};h.ID="editor.contrib.messageController",h.MESSAGE_VISIBLE=new C.RawContextKey("messageVisible",!1,b.localize(0,null)),h=Be([me(1,C.IContextKeyService)],h),e.MessageController=h;const g=I.EditorCommand.bindToContribution(h.get);(0,I.registerEditorCommand)(new g({id:"leaveEditorMessage",precondition:h.MESSAGE_VISIBLE,handler:i=>i.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class t{constructor(n,{lineNumber:o,column:d},c){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=n,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:d-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const a=document.createElement("div");a.classList.add("message"),a.textContent=c,this._domNode.appendChild(a);const r=document.createElement("div");r.classList.add("anchor","below"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(n){let o;const d=()=>{n.dispose(),clearTimeout(o),n.getDomNode().removeEventListener("animationend",d)};return o=setTimeout(d,110),n.getDomNode().addEventListener("animationend",d),n.getDomNode().classList.add("fadeOut"),{dispose:d}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(n){this._domNode.classList.toggle("below",n===2)}}(0,I.registerEditorContribution)(h.ID,h)});var Zt=this&&this.__classPrivateFieldSet||function(K,e,y,m,N){if(m==="m")throw new TypeError("Private method is not writable");if(m==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?K!==e||!N:!e.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m==="a"?N.call(K,y):N?N.value=y:e.set(K,y),y},Dt=this&&this.__classPrivateFieldGet||function(K,e,y,m){if(y==="a"&&!m)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?K!==e||!m:!e.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?m:y==="a"?m.call(K):m?m.value:e.get(K)};define(ee[666],te([0,1,14,133,2,154,9,658,645]),function(K,e,y,m,N,I,S,b,C){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let g=class extends N.Disposable{constructor(i,n,o,d,c){super();this._editor=i,this.delegate=d,this._activeCodeActions=this._register(new N.MutableDisposable),h.set(this,!1),this._codeActionWidget=new m.Lazy(()=>this._register(c.createInstance(b.CodeActionMenu,this._editor,{onSelectCodeAction:s=>De(this,void 0,void 0,function*(){this.delegate.applyCodeAction(s,!0)})}))),this._lightBulbWidget=new m.Lazy(()=>{const s=this._register(c.createInstance(C.LightBulbWidget,this._editor,n,o));return this._register(s.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1}))),s})}dispose(){Zt(this,h,!0,"f"),super.dispose()}update(i){var n,o,d,c,s;return De(this,void 0,void 0,function*(){if(i.type!==1){(n=this._lightBulbWidget.rawValue)===null||n===void 0||n.hide();return}let a;try{a=yield i.actions}catch(r){(0,y.onUnexpectedError)(r);return}if(!Dt(this,h,"f"))if(this._lightBulbWidget.getValue().update(a,i.trigger,i.position),i.trigger.type===1){if((o=i.trigger.filter)===null||o===void 0?void 0:o.include){const l=this.tryGetValidActionToApply(i.trigger,a);if(l){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(l,!1)}finally{a.dispose()}return}if(i.trigger.context){const u=this.getInvalidActionThatWouldHaveBeenApplied(i.trigger,a);if(u&&u.action.disabled){(d=I.MessageController.get(this._editor))===null||d===void 0||d.showMessage(u.action.disabled,i.trigger.context.position),a.dispose();return}}}const r=!!((c=i.trigger.filter)===null||c===void 0?void 0:c.include);if(i.trigger.context&&(!a.allActions.length||!r&&!a.validActions.length)){(s=I.MessageController.get(this._editor))===null||s===void 0||s.showMessage(i.trigger.context.notAvailableMessage,i.trigger.context.position),this._activeCodeActions.value=a,a.dispose();return}this._activeCodeActions.value=a,this._codeActionWidget.getValue().show(i.trigger,a,i.position,{includeDisabledActions:r})}else this._codeActionWidget.getValue().isVisible?a.dispose():this._activeCodeActions.value=a})}getInvalidActionThatWouldHaveBeenApplied(i,n){if(!!n.allActions.length&&(i.autoApply==="first"&&n.validActions.length===0||i.autoApply==="ifSingle"&&n.allActions.length===1))return n.allActions.find(({action:o})=>o.disabled)}tryGetValidActionToApply(i,n){if(!!n.validActions.length&&(i.autoApply==="first"&&n.validActions.length>0||i.autoApply==="ifSingle"&&n.validActions.length===1))return n.validActions[0]}showCodeActionList(i,n,o,d){return De(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(i,n,o,d)})}};h=new WeakMap,g=Be([me(4,S.IInstantiationService)],g),e.CodeActionUi=g}),define(ee[283],te([0,1,21,133,2,8,15,192,24,153,666,154,508,26,16,9,76,40,69,85,659,150]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function f(R){return o.ContextKeyExpr.regex(l.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,I.escapeRegExpCharacters)(R.value)+"\\b"))}const w={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:i.localize(0,null)},apply:{type:"string",description:i.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[i.localize(2,null),i.localize(3,null),i.localize(4,null)]},preferred:{type:"boolean",default:!1,description:i.localize(5,null)}}};let v=class Ii extends N.Disposable{constructor(O,P,D,x,H){super();this._instantiationService=H,this._editor=O,this._model=this._register(new l.CodeActionModel(this._editor,P,D,x)),this._register(this._model.onDidChangeState(j=>this.update(j))),this._ui=new m.Lazy(()=>this._register(new g.CodeActionUi(O,E.Id,T.Id,{applyCodeAction:(j,Q)=>De(this,void 0,void 0,function*(){try{yield this._applyCodeAction(j)}finally{Q&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(O){return O.getContribution(Ii.ID)}update(O){this._ui.getValue().update(O)}showCodeActions(O,P,D){return this._ui.getValue().showCodeActionList(O,P,D,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(O,P,D){var x;if(!this._editor.hasModel())return;(x=t.MessageController.get(this._editor))===null||x===void 0||x.closeMessage();const H=this._editor.getPosition();this._trigger({type:1,filter:P,autoApply:D,context:{notAvailableMessage:O,position:H}})}_trigger(O){return this._model.trigger(O)}_applyCodeAction(O){return this._instantiationService.invokeFunction(p,O,this._editor)}};v.ID="editor.contrib.quickFixController",v=Be([me(1,c.IMarkerService),me(2,o.IContextKeyService),me(3,a.IEditorProgressService),me(4,d.IInstantiationService)],v),e.QuickFixController=v;function p(R,O,P){return De(this,void 0,void 0,function*(){const D=R.get(b.IBulkEditService),x=R.get(n.ICommandService),H=R.get(r.ITelemetryService),j=R.get(s.INotificationService);if(H.publicLog2("codeAction.applyCodeAction",{codeActionTitle:O.action.title,codeActionKind:O.action.kind,codeActionIsPreferred:!!O.action.isPreferred}),yield O.resolve(y.CancellationToken.None),O.action.edit&&(yield D.apply(b.ResourceEdit.convert(O.action.edit),{editor:P,label:O.action.title})),O.action.command)try{yield x.executeCommand(O.action.command.id,...O.action.command.arguments||[])}catch(Q){const G=_(Q);j.error(typeof G=="string"?G:i.localize(6,null))}})}e.applyCodeAction=p;function _(R){return typeof R=="string"?R:R instanceof Error&&typeof R.message=="string"?R.message:void 0}function L(R,O,P,D){if(R.hasModel()){const x=v.get(R);x&&x.manualTriggerAtCurrentPosition(O,P,D)}}class E extends S.EditorAction{constructor(){super({id:E.Id,label:i.localize(7,null),alias:"Quick Fix...",precondition:o.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(O,P){return L(P,i.localize(8,null),void 0,void 0)}}e.QuickFixAction=E,E.Id="editor.action.quickFix";class M extends S.EditorCommand{constructor(){super({id:h.codeActionCommandId,precondition:o.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:w}]}})}runEditorCommand(O,P,D){const x=u.CodeActionCommandArgs.fromUser(D,{kind:u.CodeActionKind.Empty,apply:"ifSingle"});return L(P,typeof(D==null?void 0:D.kind)=="string"?x.preferred?i.localize(9,null,D.kind):i.localize(10,null,D.kind):x.preferred?i.localize(11,null):i.localize(12,null),{include:x.kind,includeSourceActions:!0,onlyIncludePreferredActions:x.preferred},x.apply)}}e.CodeActionCommand=M;class k extends S.EditorAction{constructor(){super({id:h.refactorCommandId,label:i.localize(13,null),alias:"Refactor...",precondition:o.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:o.ContextKeyExpr.and(C.EditorContextKeys.writable,f(u.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:w}]}})}run(O,P,D){const x=u.CodeActionCommandArgs.fromUser(D,{kind:u.CodeActionKind.Refactor,apply:"never"});return L(P,typeof(D==null?void 0:D.kind)=="string"?x.preferred?i.localize(14,null,D.kind):i.localize(15,null,D.kind):x.preferred?i.localize(16,null):i.localize(17,null),{include:u.CodeActionKind.Refactor.contains(x.kind)?x.kind:u.CodeActionKind.None,onlyIncludePreferredActions:x.preferred},x.apply)}}e.RefactorAction=k;class A extends S.EditorAction{constructor(){super({id:h.sourceActionCommandId,label:i.localize(18,null),alias:"Source Action...",precondition:o.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:o.ContextKeyExpr.and(C.EditorContextKeys.writable,f(u.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:w}]}})}run(O,P,D){const x=u.CodeActionCommandArgs.fromUser(D,{kind:u.CodeActionKind.Source,apply:"never"});return L(P,typeof(D==null?void 0:D.kind)=="string"?x.preferred?i.localize(19,null,D.kind):i.localize(20,null,D.kind):x.preferred?i.localize(21,null):i.localize(22,null),{include:u.CodeActionKind.Source.contains(x.kind)?x.kind:u.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:x.preferred},x.apply)}}e.SourceAction=A;class F extends S.EditorAction{constructor(){super({id:h.organizeImportsCommandId,label:i.localize(23,null),alias:"Organize Imports",precondition:o.ContextKeyExpr.and(C.EditorContextKeys.writable,f(u.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(O,P){return L(P,i.localize(24,null),{include:u.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=F;class B extends S.EditorAction{constructor(){super({id:h.fixAllCommandId,label:i.localize(25,null),alias:"Fix All",precondition:o.ContextKeyExpr.and(C.EditorContextKeys.writable,f(u.CodeActionKind.SourceFixAll))})}run(O,P){return L(P,i.localize(26,null),{include:u.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=B;class T extends S.EditorAction{constructor(){super({id:T.Id,label:i.localize(27,null),alias:"Auto Fix...",precondition:o.ContextKeyExpr.and(C.EditorContextKeys.writable,f(u.CodeActionKind.QuickFix)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(O,P){return L(P,i.localize(28,null),{include:u.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=T,T.Id="editor.action.autoFix"}),define(ee[667],te([0,1,15,283]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(m.QuickFixController.ID,m.QuickFixController),(0,y.registerEditorAction)(m.QuickFixAction),(0,y.registerEditorAction)(m.RefactorAction),(0,y.registerEditorAction)(m.SourceAction),(0,y.registerEditorAction)(m.OrganizeImportsAction),(0,y.registerEditorAction)(m.AutoFixAction),(0,y.registerEditorAction)(m.FixAllAction),(0,y.registerEditorCommand)(new m.CodeActionCommand)}),define(ee[668],te([0,1,43,10,21,14,2,20,25,70,15,192,28,11,3,24,18,151,154,549,101,16,9,64,40,69,36,651]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(T,R){this.model=T,this.position=R,this._providerRenameIdx=0,this._providers=c.RenameProviderRegistry.ordered(T)}hasProvider(){return this._providers.length>0}resolveRenameLocation(T){return De(this,void 0,void 0,function*(){const R=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const P=this._providers[this._providerRenameIdx];if(!P.resolveRenameLocation)break;let D=yield P.resolveRenameLocation(this.model,this.position,T);if(!!D){if(D.rejectReason){R.push(D.rejectReason);continue}return D}}const O=this.model.getWordAtPosition(this.position);return O?{range:new o.Range(this.position.lineNumber,O.startColumn,this.position.lineNumber,O.endColumn),text:O.word,rejectReason:R.length>0?R.join(`
`):void 0}:{range:o.Range.fromPositions(this.position),text:"",rejectReason:R.length>0?R.join(`
`):void 0}})}provideRenameEdits(T,R){return De(this,void 0,void 0,function*(){return this._provideRenameEdits(T,this._providerRenameIdx,[],R)})}_provideRenameEdits(T,R,O,P){return De(this,void 0,void 0,function*(){const D=this._providers[R];if(!D)return{edits:[],rejectReason:O.join(`
`)};const x=yield D.provideRenameEdits(this.model,this.position,T,P);if(x){if(x.rejectReason)return this._provideRenameEdits(T,R+1,O.concat(x.rejectReason),P)}else return this._provideRenameEdits(T,R+1,O.concat(r.localize(0,null)),P);return x})}}function M(B,T,R){return De(this,void 0,void 0,function*(){const O=new E(B,T),P=yield O.resolveRenameLocation(N.CancellationToken.None);return(P==null?void 0:P.rejectReason)?{edits:[],rejectReason:P.rejectReason}:O.provideRenameEdits(R,N.CancellationToken.None)})}e.rename=M;let k=class Di{constructor(T,R,O,P,D,x,H){this.editor=T,this._instaService=R,this._notificationService=O,this._bulkEditService=P,this._progressService=D,this._logService=x,this._configService=H,this._dispoableStore=new S.DisposableStore,this._cts=new N.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new m.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(L.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(T){return T.getContribution(Di.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var T,R;return De(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const O=this.editor.getPosition(),P=new E(this.editor.getModel(),O);if(!P.hasProvider())return;this._cts=new h.EditorStateCancellationTokenSource(this.editor,4|1);let D;try{const ne=P.resolveRenameLocation(this._cts.token);this._progressService.showWhile(ne,250),D=yield ne}catch(ne){(T=a.MessageController.get(this.editor))===null||T===void 0||T.showMessage(ne||r.localize(1,null),O);return}if(!D)return;if(D.rejectReason){(R=a.MessageController.get(this.editor))===null||R===void 0||R.showMessage(D.rejectReason,O);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new h.EditorStateCancellationTokenSource(this.editor,4|1,D.range);let x=this.editor.getSelection(),H=0,j=D.text.length;!o.Range.isEmpty(x)&&!o.Range.spansMultipleLines(x)&&o.Range.containsRange(D.range,x)&&(H=Math.max(0,x.startColumn-D.range.startColumn),j=Math.min(D.range.endColumn,x.endColumn)-D.range.startColumn);const Q=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),G=yield this._renameInputField.value.getInput(D.range,D.text,H,j,Q,this._cts.token);if(typeof G=="boolean"){G&&this.editor.focus();return}this.editor.focus();const se=(0,m.raceCancellation)(P.provideRenameEdits(G.newName,this._cts.token),this._cts.token).then(ne=>De(this,void 0,void 0,function*(){if(!(!ne||!this.editor.hasModel())){if(ne.rejectReason){this._notificationService.info(ne.rejectReason);return}this.editor.setSelection(o.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(t.ResourceEdit.convert(ne),{editor:this.editor,showPreview:G.wantsPreview,label:r.localize(2,null,D==null?void 0:D.text),quotableLabel:r.localize(3,null,D==null?void 0:D.text)}).then(Z=>{Z.ariaSummary&&(0,y.alert)(r.localize(4,null,D.text,G.newName,Z.ariaSummary))}).catch(Z=>{this._notificationService.error(r.localize(5,null)),this._logService.error(Z)})}}),ne=>{this._notificationService.error(r.localize(6,null)),this._logService.error(ne)});return this._progressService.showWhile(se,250),se})}acceptRenameInput(T){this._renameInputField.value.acceptInput(T)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};k.ID="editor.contrib.renameController",k=Be([me(1,f.IInstantiationService),me(2,v.INotificationService),me(3,t.IBulkEditService),me(4,p.IEditorProgressService),me(5,w.ILogService),me(6,s.ITextResourceConfigurationService)],k);class A extends g.EditorAction{constructor(){super({id:"editor.action.rename",label:r.localize(7,null),alias:"Rename Symbol",precondition:u.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(T,R){const O=T.get(i.ICodeEditorService),[P,D]=Array.isArray(R)&&R||[void 0,void 0];return C.URI.isUri(P)&&n.Position.isIPosition(D)?O.openCodeEditor({resource:P},O.getActiveCodeEditor()).then(x=>{!x||(x.setPosition(D),x.invokeWithinContext(H=>(this.reportTelemetry(H,x),this.run(H,x))))},I.onUnexpectedError):super.runCommand(T,R)}run(T,R){const O=k.get(R);return O?O.run():Promise.resolve()}}e.RenameAction=A,(0,g.registerEditorContribution)(k.ID,k),(0,g.registerEditorAction)(A);const F=g.EditorCommand.bindToContribution(k.get);(0,g.registerEditorCommand)(new F({id:"acceptRenameInput",precondition:L.CONTEXT_RENAME_INPUT_VISIBLE,handler:B=>B.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:3}})),(0,g.registerEditorCommand)(new F({id:"acceptRenameInputWithPreview",precondition:u.ContextKeyExpr.and(L.CONTEXT_RENAME_INPUT_VISIBLE,u.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:B=>B.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:1024+3}})),(0,g.registerEditorCommand)(new F({id:"cancelRenameInput",precondition:L.CONTEXT_RENAME_INPUT_VISIBLE,handler:B=>B.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,g.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(B,T,...R){const[O]=R;return(0,b.assertType)(typeof O=="string"),M(B,T,O)}),(0,g.registerModelAndPositionCommand)("_executePrepareRename",function(B,T){return De(this,void 0,void 0,function*(){const O=yield new E(B,T).resolveRenameLocation(N.CancellationToken.None);if(O==null?void 0:O.rejectReason)throw new Error(O.rejectReason);return O})}),_.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:r.localize(8,null),default:!0,type:"boolean"}}})}),define(ee[669],te([0,1,19,21,14,15,11,3,22,24,18,253,450,551,37,26]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class c{constructor(w,v){this.index=w,this.ranges=v}mov(w){let v=this.index+(w?1:-1);if(v<0||v>=this.ranges.length)return this;const p=new c(v,this.ranges);return p.ranges[v].equalsRange(this.ranges[this.index])?p.mov(w):p}}class s{constructor(w){this._editor=w,this._ignoreSelection=!1}static get(w){return w.getContribution(s.ID)}dispose(){var w;(w=this._selectionListener)===null||w===void 0||w.dispose()}run(w){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const v=this._editor.getSelections(),p=this._editor.getModel();if(!g.SelectionRangeRegistry.has(p)||(this._state||(yield u(p,v.map(L=>L.getPosition()),this._editor.getOption(102),m.CancellationToken.None).then(L=>{var E;if(!(!y.isNonEmptyArray(L)||L.length!==v.length)&&!(!this._editor.hasModel()||!y.equals(this._editor.getSelections(),v,(M,k)=>M.equalsSelection(k)))){for(let M=0;M<L.length;M++)L[M]=L[M].filter(k=>k.containsPosition(v[M].getStartPosition())&&k.containsPosition(v[M].getEndPosition())),L[M].unshift(v[M]);this._state=L.map(M=>new c(0,M)),(E=this._selectionListener)===null||E===void 0||E.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var M;this._ignoreSelection||((M=this._selectionListener)===null||M===void 0||M.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(L=>L.mov(w));const _=this._state.map(L=>C.Selection.fromPositions(L.ranges[L.index].getStartPosition(),L.ranges[L.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(_)}finally{this._ignoreSelection=!1}})}}s.ID="editor.contrib.smartSelectController";class a extends I.EditorAction{constructor(w,v){super(v);this._forward=w}run(w,v){return De(this,void 0,void 0,function*(){let p=s.get(v);p&&(yield p.run(this._forward))})}}class r extends a{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:n.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:o.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(1,null),order:2}})}}d.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class l extends a{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:n.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:o.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(3,null),order:3}})}}(0,I.registerEditorContribution)(s.ID,s),(0,I.registerEditorAction)(r),(0,I.registerEditorAction)(l),g.SelectionRangeRegistry.register("*",new i.WordSelectionRangeProvider);function u(f,w,v,p){return De(this,void 0,void 0,function*(){const _=g.SelectionRangeRegistry.all(f);_.length===1&&_.unshift(new t.BracketSelectionRangeProvider);let L=[],E=[];for(const M of _)L.push(Promise.resolve(M.provideSelectionRanges(f,w,p)).then(k=>{if(y.isNonEmptyArray(k)&&k.length===w.length)for(let A=0;A<w.length;A++){E[A]||(E[A]=[]);for(const F of k[A])b.Range.isIRange(F.range)&&b.Range.containsPosition(F.range,w[A])&&E[A].push(b.Range.lift(F.range))}},N.onUnexpectedExternalError));return yield Promise.all(L),E.map(M=>{if(M.length===0)return[];M.sort((B,T)=>S.Position.isBefore(B.getStartPosition(),T.getStartPosition())?1:S.Position.isBefore(T.getStartPosition(),B.getStartPosition())||S.Position.isBefore(B.getEndPosition(),T.getEndPosition())?-1:S.Position.isBefore(T.getEndPosition(),B.getEndPosition())?1:0);let k=[],A;for(const B of M)(!A||b.Range.containsRange(B,A)&&!b.Range.equalsRange(B,A))&&(k.push(B),A=B);if(!v.selectLeadingAndTrailingWhitespace)return k;let F=[k[0]];for(let B=1;B<k.length;B++){const T=k[B-1],R=k[B];if(R.startLineNumber!==T.startLineNumber||R.endLineNumber!==T.endLineNumber){const O=new b.Range(T.startLineNumber,f.getLineFirstNonWhitespaceColumn(T.startLineNumber),T.endLineNumber,f.getLineLastNonWhitespaceColumn(T.endLineNumber));O.containsRange(T)&&!O.equalsRange(T)&&R.containsRange(O)&&!R.equalsRange(O)&&F.push(O);const P=new b.Range(T.startLineNumber,1,T.endLineNumber,f.getLineMaxColumn(T.endLineNumber));P.containsRange(T)&&!P.equalsRange(O)&&R.containsRange(P)&&!R.equalsRange(P)&&F.push(P)}F.push(R)}return F})})}e.provideSelectionRanges=u,(0,I.registerModelCommand)("_executeSelectionRangeProvider",function(f,...w){const[v]=w;return u(f,v,{selectLeadingAndTrailingWhitespace:!0},m.CancellationToken.None)})}),define(ee[104],te([0,1,21,14,72,2,87,20,25,11,3,18,59,123,554,37,26,16]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new s.RawContextKey("suggestWidgetVisible",!1,(0,o.localize)(0,null)),DetailsVisible:new s.RawContextKey("suggestWidgetDetailsVisible",!1,(0,o.localize)(1,null)),MultipleSuggestions:new s.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,o.localize)(2,null)),MakesTextEdit:new s.RawContextKey("suggestionMakesTextEdit",!0,(0,o.localize)(3,null)),AcceptSuggestionsOnEnter:new s.RawContextKey("acceptSuggestionOnEnter",!0,(0,o.localize)(4,null)),HasInsertAndReplaceRange:new s.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,o.localize)(5,null)),InsertMode:new s.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,o.localize)(6,null)}),CanResolve:new s.RawContextKey("suggestionCanResolve",!1,(0,o.localize)(7,null))},e.suggestWidgetStatusbarMenu=new d.MenuId("suggestWidgetStatusBar");class a{constructor(F,B,T,R){this.position=F,this.completion=B,this.container=T,this.provider=R,this.isInvalid=!1,this.score=N.FuzzyScore.Default,this.distance=0,this.textLabel=typeof B.label=="string"?B.label:B.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=B.sortText&&B.sortText.toLowerCase(),this.filterTextLow=B.filterText&&B.filterText.toLowerCase(),g.Range.isIRange(B.range)?(this.editStart=new h.Position(B.range.startLineNumber,B.range.startColumn),this.editInsertEnd=new h.Position(B.range.endLineNumber,B.range.endColumn),this.editReplaceEnd=new h.Position(B.range.endLineNumber,B.range.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(B.range)||B.range.startLineNumber!==F.lineNumber):(this.editStart=new h.Position(B.range.insert.startLineNumber,B.range.insert.startColumn),this.editInsertEnd=new h.Position(B.range.insert.endLineNumber,B.range.insert.endColumn),this.editReplaceEnd=new h.Position(B.range.replace.endLineNumber,B.range.replace.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(B.range.insert)||g.Range.spansMultipleLines(B.range.replace)||B.range.insert.startLineNumber!==F.lineNumber||B.range.replace.startLineNumber!==F.lineNumber||B.range.insert.startColumn!==B.range.replace.startColumn),typeof R.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(F){return De(this,void 0,void 0,function*(){if(!this._resolveCache){const B=F.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,F)).then(T=>{Object.assign(this.completion,T),this._isResolved=!0,B.dispose()},T=>{(0,m.isCancellationError)(T)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=a;class r{constructor(F=2,B=new Set,T=new Set,R=!0){this.snippetSortOrder=F,this.kindFilter=B,this.providerFilter=T,this.showDeprecated=R}}e.CompletionOptions=r,r.default=new r;let l;function u(){return l}e.getSnippetSuggestSupport=u;class f{constructor(F,B,T,R){this.items=F,this.needsClipboard=B,this.durations=T,this.disposable=R}}e.CompletionItemModel=f;function w(A,F,B=r.default,T={triggerKind:0},R=y.CancellationToken.None){return De(this,void 0,void 0,function*(){const O=new S.StopWatch(!0);F=F.clone();const P=A.getWordAtPosition(F),D=P?new g.Range(F.lineNumber,P.startColumn,F.lineNumber,P.endColumn):g.Range.fromPositions(F),x={replace:D,insert:D.setEndPosition(F.lineNumber,F.column)},H=[],j=new I.DisposableStore,Q=[];let G=!1;const se=(Z,U,W)=>{var V,Y,X;let ae=!1;if(!U)return ae;for(let J of U.suggestions)if(!B.kindFilter.has(J.kind)){if(!B.showDeprecated&&((V=J==null?void 0:J.tags)===null||V===void 0?void 0:V.includes(1)))continue;J.range||(J.range=x),J.sortText||(J.sortText=typeof J.label=="string"?J.label:J.label.label),!G&&J.insertTextRules&&J.insertTextRules&4&&(G=n.SnippetParser.guessNeedsClipboard(J.insertText)),H.push(new a(F,J,U,Z)),ae=!0}return(0,I.isDisposable)(U)&&j.add(U),Q.push({providerName:(Y=Z._debugDisplayName)!==null&&Y!==void 0?Y:"unkown_provider",elapsedProvider:(X=U.duration)!==null&&X!==void 0?X:-1,elapsedOverall:W.elapsed()}),ae},ne=(()=>De(this,void 0,void 0,function*(){if(!l||B.kindFilter.has(27)||B.providerFilter.size>0&&!B.providerFilter.has(l))return;const Z=new S.StopWatch(!0),U=yield l.provideCompletionItems(A,F,T,R);se(l,U,Z)}))();for(let Z of t.CompletionProviderRegistry.orderedGroups(A)){let U=!1;if(yield Promise.all(Z.map(W=>De(this,void 0,void 0,function*(){if(!(B.providerFilter.size>0&&!B.providerFilter.has(W)))try{const V=new S.StopWatch(!0),Y=yield W.provideCompletionItems(A,F,T,R);U=se(W,Y,V)||U}catch(V){(0,m.onUnexpectedExternalError)(V)}}))),U||R.isCancellationRequested)break}return yield ne,R.isCancellationRequested?(j.dispose(),Promise.reject((0,m.canceled)())):new f(H.sort(E(B.snippetSortOrder)),G,{entries:Q,elapsed:O.elapsed()},j)})}e.provideSuggestionItems=w;function v(A,F){if(A.sortTextLow&&F.sortTextLow){if(A.sortTextLow<F.sortTextLow)return-1;if(A.sortTextLow>F.sortTextLow)return 1}return A.completion.label<F.completion.label?-1:A.completion.label>F.completion.label?1:A.completion.kind-F.completion.kind}function p(A,F){if(A.completion.kind!==F.completion.kind){if(A.completion.kind===27)return-1;if(F.completion.kind===27)return 1}return v(A,F)}function _(A,F){if(A.completion.kind!==F.completion.kind){if(A.completion.kind===27)return 1;if(F.completion.kind===27)return-1}return v(A,F)}const L=new Map;L.set(0,p),L.set(2,_),L.set(1,v);function E(A){return L.get(A)}e.getSuggestionComparator=E,c.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(A,...F)=>De(void 0,void 0,void 0,function*(){const[B,T,R,O]=F;(0,b.assertType)(C.URI.isUri(B)),(0,b.assertType)(h.Position.isIPosition(T)),(0,b.assertType)(typeof R=="string"||!R),(0,b.assertType)(typeof O=="number"||!O);const P=yield A.get(i.ITextModelService).createModelReference(B);try{const D={incomplete:!1,suggestions:[]},x=[],H=yield w(P.object.textEditorModel,h.Position.lift(T),void 0,{triggerCharacter:R,triggerKind:R?1:0});for(const j of H.items)x.length<(O??0)&&x.push(j.resolve(y.CancellationToken.None)),D.incomplete=D.incomplete||j.container.incomplete,D.suggestions.push(j.completion);try{return yield Promise.all(x),D}finally{setTimeout(()=>H.disposable.dispose(),100)}}finally{P.dispose()}}));const M=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let F={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,F}};t.CompletionProviderRegistry.register("*",M);function k(A,F){setTimeout(()=>{var B;M.onlyOnceSuggestions.push(...F),(B=A.getContribution("editor.contrib.suggestController"))===null||B===void 0||B.triggerSuggest(new Set().add(M))},0)}e.showSimpleSuggestions=k}),define(ee[284],te([0,1,43,229,15,561]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends N.EditorAction{constructor(){super({id:S.ID,label:I.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(C,h){const t=!m.TabFocus.getTabFocusMode();m.TabFocus.setTabFocusMode(t),t?(0,y.alert)(I.localize(1,null)):(0,y.alert)(I.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,N.registerEditorAction)(S)}),define(ee[670],te([0,1,87,15,562]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends m.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:N.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(b,C){if(!C.hasModel())return;const h=C.getModel();h.resetTokenization();const g=new y.StopWatch(!0);h.forceTokenization(h.getLineCount()),g.stop(),console.log(`tokenization took ${g.elapsed()}`)}}(0,m.registerEditorAction)(I)}),define(ee[671],te([0,1,2,41,15,28,564,126]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const C="ignoreUnusualLineTerminators";function h(i,n,o){i.setModelProperty(n.uri,C,o)}function g(i,n){return i.getModelProperty(n.uri,C)}let t=class extends y.Disposable{constructor(n,o,d){super();this._editor=n,this._dialogService=o,this._codeEditorService=d,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(c=>{c.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return De(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const n=this._editor.getModel();if(!n.mightContainUnusualLineTerminators()||g(this._codeEditorService,n)===!0||this._editor.getOption(81))return;if(this._config==="auto"){n.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null,(0,m.basename)(n.uri)),primaryButton:S.localize(3,null),secondaryButton:S.localize(4,null)})).confirmed){h(this._codeEditorService,n,!0);return}n.removeUnusualLineTerminators(this._editor.getSelections())})}};t.ID="editor.contrib.unusualLineTerminatorsDetector",t=Be([me(1,b.IDialogService),me(2,I.ICodeEditorService)],t),e.UnusualLineTerminatorsDetector=t,(0,N.registerEditorContribution)(t.ID,t)}),define(ee[672],te([0,1,7,31,167,43,60,2,17,8,25,15,24,284,16,9,42,52,23,13,68,386]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const u=new o.RawContextKey("accessibilityHelpWidgetVisible",!1);let f=class ki extends b.Disposable{constructor(E,M){super();this._editor=E,this._widget=this._register(M.createInstance(v,this._editor))}static get(E){return E.getContribution(ki.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};f.ID="editor.contrib.accessibilityHelpController",f=Be([me(1,d.IInstantiationService)],f);function w(L,E){return!L||L.length===0?l.AccessibilityHelpNLS.noSelection:L.length===1?E?h.format(l.AccessibilityHelpNLS.singleSelectionRange,L[0].positionLineNumber,L[0].positionColumn,E):h.format(l.AccessibilityHelpNLS.singleSelection,L[0].positionLineNumber,L[0].positionColumn):E?h.format(l.AccessibilityHelpNLS.multiSelectionRange,L.length,E):L.length>0?h.format(l.AccessibilityHelpNLS.multiSelection,L.length):""}let v=class Wt extends S.Widget{constructor(E,M,k,A){super();this._contextKeyService=M,this._keybindingService=k,this._openerService=A,this._editor=E,this._isVisibleKey=u.bindTo(this._contextKeyService),this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,m.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(y.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",F=>{if(!!this._isVisible&&(F.equals(2048|35)&&((0,I.alert)(l.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),y.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),F.preventDefault(),F.stopPropagation()),F.equals(2048|38))){(0,I.alert)(l.AccessibilityHelpNLS.openingDocs);let B=this._editor.getRawOptions().accessibilityHelpUrl;typeof B=="undefined"&&(B="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(g.URI.parse(B)),F.preventDefault(),F.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Wt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,M,k){const A=this._keybindingService.lookupKeybinding(E);return A?h.format(M,A.getAriaLabel()):h.format(k,E)}_buildContent(){const E=this._editor.getOptions(),M=this._editor.getSelections();let k=0;if(M){const T=this._editor.getModel();T&&M.forEach(R=>{k+=T.getValueLengthInRange(R)})}let A=w(M,k);E.get(54)?E.get(81)?A+=l.AccessibilityHelpNLS.readonlyDiffEditor:A+=l.AccessibilityHelpNLS.editableDiffEditor:E.get(81)?A+=l.AccessibilityHelpNLS.readonlyEditor:A+=l.AccessibilityHelpNLS.editableEditor;const F=C.isMacintosh?l.AccessibilityHelpNLS.changeConfigToOnMac:l.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:A+=`

 - `+F;break;case 2:A+=`

 - `+l.AccessibilityHelpNLS.auto_on;break;case 1:A+=`

 - `+l.AccessibilityHelpNLS.auto_off,A+=" "+F;break}E.get(130)?A+=`

 - `+this._descriptionForCommand(n.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOnMsg,l.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):A+=`

 - `+this._descriptionForCommand(n.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOffMsg,l.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const B=C.isMacintosh?l.AccessibilityHelpNLS.openDocMac:l.AccessibilityHelpNLS.openDocWinLinux;A+=`

 - `+B,A+=`

`+l.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,N.renderFormattedText)(A)),this._contentDomNode.domNode.setAttribute("aria-label",A)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,y.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const E=this._editor.getLayoutInfo(),M=Math.max(5,Math.min(Wt.WIDTH,E.width-40)),k=Math.max(5,Math.min(Wt.HEIGHT,E.height-40));this._domNode.setWidth(M),this._domNode.setHeight(k);const A=Math.round((E.height-k)/2);this._domNode.setTop(A);const F=Math.round((E.width-M)/2);this._domNode.setLeft(F)}};v.ID="editor.contrib.accessibilityHelpWidget",v.WIDTH=500,v.HEIGHT=300,v=Be([me(1,o.IContextKeyService),me(2,c.IKeybindingService),me(3,s.IOpenerService)],v);class p extends t.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:l.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(E,M){const k=f.get(M);k&&k.show()}}(0,t.registerEditorContribution)(f.ID,f),(0,t.registerEditorAction)(p);const _=t.EditorCommand.bindToContribution(f.get);(0,t.registerEditorCommand)(new _({id:"closeAccessibilityHelp",precondition:u,handler:L=>L.hide(),kbOpts:{weight:100+100,kbExpr:i.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,r.registerThemingParticipant)((L,E)=>{const M=L.getColor(a.editorWidgetBackground);M&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${M}; }`);const k=L.getColor(a.editorWidgetForeground);k&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${k}; }`);const A=L.getColor(a.widgetShadow);A&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${A}; }`);const F=L.getColor(a.contrastBorder);F&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${F}; }`)})}),define(ee[673],te([0,1,7,2,15,17,387]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends m.Disposable{constructor(h){super();this.editor=h,this.widget=null,I.isIOS&&(this._register(h.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const h=!this.editor.getOption(81);!this.widget&&h?this.widget=new b(this.editor):this.widget&&!h&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class b extends m.Disposable{constructor(h){super();this.editor=h,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(y.addDisposableListener(this._domNode,"touchstart",g=>{this.editor.focus()})),this._register(y.addDisposableListener(this._domNode,"focus",g=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}b.ID="editor.contrib.ShowKeyboardWidget",(0,N.registerEditorContribution)(S.ID,S)}),define(ee[674],te([0,1,7,29,2,15,18,116,34,99,23,13,68,131,388]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class Ni extends N.Disposable{constructor(l,u,f){super();this._editor=l,this._languageService=f,this._widget=null,this._register(this._editor.onDidChangeModel(w=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(w=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(w=>this.stop())),this._register(this._editor.onKeyUp(w=>w.keyCode===9&&this.stop()))}static get(l){return l.getContribution(Ni.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new a(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};o.ID="editor.contrib.inspectTokens",o=Be([me(1,h.IStandaloneThemeService),me(2,C.ILanguageService)],o);class d extends I.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:i.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(l,u){const f=o.get(u);f&&f.launch()}}function c(r){let l="";for(let u=0,f=r.length;u<f;u++){const w=r.charCodeAt(u);switch(w){case 9:l+="\u2192";break;case 32:l+="\xB7";break;default:l+=String.fromCharCode(w)}}return l}function s(r,l){const u=S.TokenizationRegistry.get(l);if(u)return u;const f=r.encodeLanguageId(l);return{getInitialState:()=>b.NullState,tokenize:(w,v,p)=>(0,b.nullTokenize)(l,p),tokenizeEncoded:(w,v,p)=>(0,b.nullTokenizeEncoded)(f,p)}}class a extends N.Disposable{constructor(l,u){super();this.allowEditorOverflow=!0,this._editor=l,this._languageService=u,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=s(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(f=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return a._ID}_compute(l){const u=this._getTokensAtLine(l.lineNumber);let f=0;for(let L=u.tokens1.length-1;L>=0;L--){const E=u.tokens1[L];if(l.column-1>=E.offset){f=L;break}}let w=0;for(let L=u.tokens2.length>>>1;L>=0;L--)if(l.column-1>=u.tokens2[L<<1]){w=L;break}const v=this._model.getLineContent(l.lineNumber);let p="";if(f<u.tokens1.length){const L=u.tokens1[f].offset,E=f+1<u.tokens1.length?u.tokens1[f+1].offset:v.length;p=v.substring(L,E)}(0,y.reset)(this._domNode,(0,y.$)("h2.tm-token",void 0,c(p),(0,y.$)("span.tm-token-length",void 0,`${p.length} ${p.length===1?"char":"chars"}`))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const _=(w<<1)+1<u.tokens2.length?this._decodeMetadata(u.tokens2[(w<<1)+1]):null;(0,y.append)(this._domNode,(0,y.$)("table.tm-metadata-table",void 0,(0,y.$)("tbody",void 0,(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"language"),(0,y.$)("td.tm-metadata-value",void 0,`${_?_.languageId:"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"token type"),(0,y.$)("td.tm-metadata-value",void 0,`${_?this._tokenTypeToString(_.tokenType):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"font style"),(0,y.$)("td.tm-metadata-value",void 0,`${_?this._fontStyleToString(_.fontStyle):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"foreground"),(0,y.$)("td.tm-metadata-value",void 0,`${_?m.Color.Format.CSS.formatHex(_.foreground):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"background"),(0,y.$)("td.tm-metadata-value",void 0,`${_?m.Color.Format.CSS.formatHex(_.background):"-?-"}`))))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator")),f<u.tokens1.length&&(0,y.append)(this._domNode,(0,y.$)("span.tm-token-type",void 0,u.tokens1[f].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(l){const u=S.TokenizationRegistry.getColorMap(),f=S.TokenMetadata.getLanguageId(l),w=S.TokenMetadata.getTokenType(l),v=S.TokenMetadata.getFontStyle(l),p=S.TokenMetadata.getForeground(l),_=S.TokenMetadata.getBackground(l);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(f),tokenType:w,fontStyle:v,foreground:u[p],background:u[_]}}_tokenTypeToString(l){switch(l){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(l){let u="";return l&1&&(u+="italic "),l&2&&(u+="bold "),l&4&&(u+="underline "),l&8&&(u+="strikethrough "),u.length===0&&(u="---"),u}_getTokensAtLine(l){const u=this._getStateBeforeLine(l),f=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,u),w=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(l),!0,u);return{startState:u,tokens1:f.tokens,tokens2:w.tokens,endState:f.endState}}_getStateBeforeLine(l){let u=this._tokenizationSupport.getInitialState();for(let f=1;f<l;f++)u=this._tokenizationSupport.tokenize(this._model.getLineContent(f),!0,u).endState;return u}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}a._ID="editor.contrib.inspectTokensWidget",(0,I.registerEditorContribution)(o.ID,o),(0,I.registerEditorAction)(d),(0,t.registerThemingParticipant)((r,l)=>{const u=r.getColor(g.editorHoverBorder);if(u){const v=r.type===n.ColorScheme.HIGH_CONTRAST?2:1;l.addRule(`.monaco-editor .tokens-inspect-widget { border: ${v}px solid ${u}; }`),l.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${u}; }`)}const f=r.getColor(g.editorHoverBackground);f&&l.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${f}; }`);const w=r.getColor(g.editorHoverForeground);w&&l.addRule(`.monaco-editor .tokens-inspect-widget { color: ${w}; }`)})}),define(ee[675],te([0,1,36,103,68,28,629,20,9,42,26,85,126,15,24,77]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let c=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(r,l,u,f,w,v){super({showAlias:!1},r,u,f,w,v);this.codeEditorService=l}get activeTextEditorControl(){return(0,b.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return De(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};c=Be([me(0,C.IInstantiationService),me(1,I.ICodeEditorService),me(2,h.IKeybindingService),me(3,g.ICommandService),me(4,t.ITelemetryService),me(5,i.IDialogService)],c),e.StandaloneCommandsQuickAccessProvider=c,y.Registry.as(m.Extensions.Quickaccess).registerQuickAccessProvider({ctor:c,prefix:c.PREFIX,helpEntries:[{description:N.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class s extends n.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:N.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(r){r.get(d.IQuickInputService).quickAccess.show(c.PREFIX)}}e.GotoLineAction=s,(0,n.registerEditorAction)(s)}),define(ee[676],te([0,1,649,36,103,28,20,68,4,15,24,77]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let i=class extends y.AbstractGotoLineQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};i=Be([me(0,I.ICodeEditorService)],i),e.StandaloneGotoLineQuickAccessProvider=i,m.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:i.PREFIX,helpEntries:[{description:b.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class n extends h.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:b.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(d){d.get(t.IQuickInputService).quickAccess.show(i.PREFIX)}}e.GotoLineAction=n,(0,h.registerEditorAction)(n)}),define(ee[677],te([0,1,650,36,103,28,20,68,4,15,24,77,196,139,278]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let n=class extends y.AbstractGotoSymbolQuickAccessProvider{constructor(c,s){super(s);this.editorService=c,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};n=Be([me(0,I.ICodeEditorService),me(1,i.IOutlineModelService)],n),e.StandaloneGotoSymbolQuickAccessProvider=n,m.Registry.as(N.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:b.QuickOutlineNLS.quickOutlineActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:b.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class o extends h.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:b.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:g.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(c){c.get(t.IQuickInputService).quickAccess.show(y.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=o,(0,h.registerEditorAction)(o)}),define(ee[678],te([0,1,15,99,68]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends y.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:N.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(b,C){const h=b.get(m.IStandaloneThemeService);this._originalThemeName?(h.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=h.getColorTheme().themeName,h.setTheme("hc-black"))}}(0,y.registerEditorAction)(I)}),define(ee[199],te([0,1,7,47,124,470,44,190,2,17,567,37,16,75,9,42,40,79,13,391]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function r(_,L,E,M,k,A,F){const B=_.getActions(L);return u(B,E,!1,typeof M=="string"?R=>R===M:M,k,A,F),l(B)}e.createAndFillInActionBarActions=r;function l(_){const L=new C.DisposableStore;for(const[,E]of _)for(const M of E)L.add(M);return L}function u(_,L,E,M=B=>B==="navigation",k=Number.MAX_SAFE_INTEGER,A=()=>!1,F=!1){let B,T;Array.isArray(L)?(B=L,T=L):(B=L.primary,T=L.secondary);const R=new Set;for(const[O,P]of _){let D;M(O)?(D=B,D.length>0&&F&&D.push(new S.Separator)):(D=T,D.length>0&&D.push(new S.Separator));for(let x of P){E&&(x=x instanceof t.MenuItemAction&&x.alt?x.alt:x);const H=D.push(x);x instanceof S.SubmenuAction&&R.add({group:O,action:x,index:H-1})}}for(const{group:O,action:P,index:D}of R){const x=M(O)?B:T,H=P.actions;(H.length<=1||x.length+H.length-2<=k)&&A(P,O,x.length)&&x.splice(D,1,...H)}if(B!==T&&B.length>k){const O=B.splice(k,B.length-k);T.unshift(...O,new S.Separator)}}let f=class extends N.ActionViewItem{constructor(L,E,M,k,A){super(void 0,L,{icon:!!(L.class||L.item.icon),label:!L.class&&!L.item.icon,draggable:E==null?void 0:E.draggable});this._keybindingService=M,this._notificationService=k,this._contextKeyService=A,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new C.MutableDisposable),this._altKey=y.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(L){return De(this,void 0,void 0,function*(){L.preventDefault(),L.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(E){this._notificationService.error(E)}})}render(L){super.render(L),L.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let E=!1,M=this._altKey.keyStatus.altKey||(h.isWindows||h.isLinux)&&this._altKey.keyStatus.shiftKey;const k=()=>{const A=E&&M;A!==this._wantsAltCommand&&(this._wantsAltCommand=A,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(A=>{M=A.altKey||(h.isWindows||h.isLinux)&&A.shiftKey,k()})),this._register((0,y.addDisposableListener)(L,"mouseleave",A=>{E=!1,k()})),this._register((0,y.addDisposableListener)(L,"mouseenter",A=>{E=!0,k()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const L=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),E=L&&L.getLabel(),M=this._commandAction.tooltip||this._commandAction.label;let k=E?(0,g.localize)(0,null,M,E):M;if(!this._wantsAltCommand&&this._menuItemAction.alt){const A=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,F=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),B=F&&F.getLabel(),T=B?(0,g.localize)(1,null,A,B):A;k+=`
[${b.UILabelProvider.modifierLabels[h.OS].altKey}] ${T}`}this.label.title=k}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(L){var E;this._itemClassDispose.value=void 0;const{element:M,label:k}=this;if(!M||!k)return;const A=this._commandAction.checked&&((E=L.toggled)===null||E===void 0?void 0:E.icon)?L.toggled.icon:L.icon;if(!!A)if(a.ThemeIcon.isThemeIcon(A)){const F=a.ThemeIcon.asClassNameArray(A);k.classList.add(...F),this._itemClassDispose.value=(0,C.toDisposable)(()=>{k.classList.remove(...F)})}else A.light&&k.style.setProperty("--menu-entry-icon-light",(0,y.asCSSUrl)(A.light)),A.dark&&k.style.setProperty("--menu-entry-icon-dark",(0,y.asCSSUrl)(A.dark)),k.classList.add("icon"),this._itemClassDispose.value=(0,C.toDisposable)(()=>{k.classList.remove("icon"),k.style.removeProperty("--menu-entry-icon-light"),k.style.removeProperty("--menu-entry-icon-dark")})}};f=Be([me(2,d.IKeybindingService),me(3,c.INotificationService),me(4,i.IContextKeyService)],f),e.MenuEntryActionViewItem=f;let w=class extends I.DropdownMenuActionViewItem{constructor(L,E,M){var k,A;const F=Object.assign({},E??Object.create(null),{menuAsChild:(k=E==null?void 0:E.menuAsChild)!==null&&k!==void 0?k:!1,classNames:(A=E==null?void 0:E.classNames)!==null&&A!==void 0?A:a.ThemeIcon.isThemeIcon(L.item.icon)?a.ThemeIcon.asClassName(L.item.icon):void 0});super(L,{getActions:()=>L.actions},M,F)}render(L){if(super.render(L),this.element){L.classList.add("menu-entry");const{icon:E}=this._action.item;E&&!a.ThemeIcon.isThemeIcon(E)&&(this.element.classList.add("icon"),E.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,y.asCSSUrl)(E.light)),E.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,y.asCSSUrl)(E.dark)))}}};w=Be([me(2,n.IContextMenuService)],w),e.SubmenuEntryActionViewItem=w;let v=class extends N.BaseActionViewItem{constructor(L,E,M,k,A,F,B,T){var R,O,P;super(null,L);this._keybindingService=M,this._notificationService=k,this._contextMenuService=A,this._menuService=F,this._instaService=B,this._storageService=T,this._container=null,this._storageKey=`${L.item.submenu._debugName}_lastActionId`;let D,x=T.get(this._storageKey,1);x&&(D=L.actions.find(j=>x===j.id)),D||(D=L.actions[0]),this._defaultAction=this._instaService.createInstance(f,D,void 0);const H=Object.assign({},E??Object.create(null),{menuAsChild:(R=E==null?void 0:E.menuAsChild)!==null&&R!==void 0?R:!0,classNames:(O=E==null?void 0:E.classNames)!==null&&O!==void 0?O:["codicon","codicon-chevron-down"],actionRunner:(P=E==null?void 0:E.actionRunner)!==null&&P!==void 0?P:new S.ActionRunner});this._dropdown=new I.DropdownMenuActionViewItem(L,L.actions,this._contextMenuService,H),this._dropdown.actionRunner.onDidRun(j=>{j.action instanceof t.MenuItemAction&&this.update(j.action)})}update(L){this._storageService.store(this._storageKey,L.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(f,L,void 0),this._defaultAction.actionRunner=new class extends S.ActionRunner{runAction(E,M){return De(this,void 0,void 0,function*(){yield E.run(void 0)})}},this._container&&this._defaultAction.render((0,y.prepend)(this._container,(0,y.$)(".action-container")))}setActionContext(L){super.setActionContext(L),this._defaultAction.setActionContext(L),this._dropdown.setActionContext(L)}render(L){this._container=L,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const E=(0,y.$)(".action-container");this._defaultAction.render((0,y.append)(this._container,E)),this._register((0,y.addDisposableListener)(E,y.EventType.KEY_DOWN,k=>{const A=new m.StandardKeyboardEvent(k);A.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),A.stopPropagation())}));const M=(0,y.$)(".dropdown-action-container");this._dropdown.render((0,y.append)(this._container,M)),this._register((0,y.addDisposableListener)(M,y.EventType.KEY_DOWN,k=>{var A;const F=new m.StandardKeyboardEvent(k);F.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(A=this._defaultAction.element)===null||A===void 0||A.focus(),F.stopPropagation())}))}focus(L){L?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(L){L?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};v=Be([me(2,d.IKeybindingService),me(3,c.INotificationService),me(4,n.IContextMenuService),me(5,t.IMenuService),me(6,o.IInstantiationService),me(7,s.IStorageService)],v);function p(_,L,E){return L instanceof t.MenuItemAction?_.createInstance(f,L,void 0):L instanceof t.SubmenuItemAction?L.item.rememberDefaultAction?_.createInstance(v,L,E):_.createInstance(w,L,E):void 0}e.createActionViewItem=p}),define(ee[679],te([0,1,7,82,2,104,559,199,37,16,9]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class t extends b.MenuEntryActionViewItem{updateLabel(){const o=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!o)return super.updateLabel();this.label&&(this.label.textContent=(0,S.localize)(0,null,this._action.label,t.symbolPrintEnter(o)))}static symbolPrintEnter(o){var d;return(d=o.getLabel())===null||d===void 0?void 0:d.replace(/\benter\b/gi,"\u23CE")}}let i=class{constructor(o,d,c,s){this._menuService=c,this._contextKeyService=s,this._menuDisposables=new N.DisposableStore,this.element=y.append(o,y.$(".suggest-status-bar"));const a=r=>r instanceof C.MenuItemAction?d.createInstance(t,r,void 0):void 0;this._leftActions=new m.ActionBar(this.element,{actionViewItemProvider:a}),this._rightActions=new m.ActionBar(this.element,{actionViewItemProvider:a}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const o=this._menuService.createMenu(I.suggestWidgetStatusbarMenu,this._contextKeyService),d=()=>{const c=[],s=[];for(let[a,r]of o.getActions())a==="left"?c.push(...r):s.push(...r);this._leftActions.clear(),this._leftActions.push(c),this._rightActions.clear(),this._rightActions.push(s)};this._menuDisposables.add(o.onDidChange(()=>d())),this._menuDisposables.add(o)}hide(){this._menuDisposables.clear()}};i=Be([me(1,g.IInstantiationService),me(2,C.IMenuService),me(3,h.IContextKeyService)],i),e.SuggestWidgetStatus=i}),define(ee[680],te([0,1,10,4,2,37,26,16]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let C=class{constructor(t){this._commandService=t}createMenu(t,i,n){return new h(t,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},n),this._commandService,i,this)}};C=Be([me(0,S.ICommandService)],C),e.MenuService=C;let h=class Lt{constructor(t,i,n,o,d){this._id=t,this._options=i,this._commandService=n,this._contextKeyService=o,this._menuService=d,this._disposables=new N.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const c=new y.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},i.eventDebounceDelay);this._disposables.add(c),this._disposables.add(I.MenuRegistry.onDidChangeMenu(r=>{r.has(t)&&c.schedule()}));const s=this._disposables.add(new N.DisposableStore),a=()=>{const r=new y.RunOnceScheduler(()=>this._onDidChange.fire(this),i.eventDebounceDelay);s.add(r),s.add(o.onDidChangeContext(l=>{l.affectsSome(this._contextKeys)&&r.schedule()}))};this._onDidChange=new m.Emitter({onFirstListenerAdd:a,onLastListenerRemove:s.clear.bind(s)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=I.MenuRegistry.getMenuItems(this._id);let i;t.sort(Lt._compareMenuItems);for(const n of t){const o=n.group||"";(!i||i[0]!==o)&&(i=[o,[]],this._menuGroups.push(i)),i[1].push(n),this._collectContextKeys(n)}}_collectContextKeys(t){if(Lt._fillInKbExprKeys(t.when,this._contextKeys),(0,I.isIMenuItem)(t)){if(t.command.precondition&&Lt._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;Lt._fillInKbExprKeys(i,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&I.MenuRegistry.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(t){const i=[];for(let n of this._menuGroups){const[o,d]=n,c=[];for(const s of d)if(this._contextKeyService.contextMatchesRules(s.when)){const a=(0,I.isIMenuItem)(s)?new I.MenuItemAction(s.command,s.alt,t,this._contextKeyService,this._commandService):new I.SubmenuItemAction(s,this._menuService,this._contextKeyService,t);c.push(a)}c.length>0&&i.push([o,c])}return i}static _fillInKbExprKeys(t,i){if(t)for(let n of t.keys())i.add(n)}static _compareMenuItems(t,i){let n=t.group,o=i.group;if(n!==o){if(n){if(!o)return-1}else return 1;if(n==="navigation")return-1;if(o==="navigation")return 1;let s=n.localeCompare(o);if(s!==0)return s}let d=t.order||0,c=i.order||0;return d<c?-1:d>c?1:Lt._compareTitles((0,I.isIMenuItem)(t)?t.command.title:t.title,(0,I.isIMenuItem)(i)?i.command.title:i.title)}static _compareTitles(t,i){const n=typeof t=="string"?t:t.original,o=typeof i=="string"?i:i.original;return n.localeCompare(o)}};h=Be([me(2,S.ICommandService),me(3,b.IContextKeyService),me(4,I.IMenuService)],h)}),define(ee[681],te([0,1,7,4,2,42,40,85,13,630,75]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let t=class extends N.Disposable{constructor(n,o,d,c,s){super();this._onDidShowContextMenu=new m.Emitter,this._onDidHideContextMenu=new m.Emitter,this.contextMenuHandler=new h.ContextMenuHandler(d,n,o,c,s)}configure(n){this.contextMenuHandler.configure(n)}showContextMenu(n){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},n),{onHide:o=>{n.onHide&&n.onHide(o),this._onDidHideContextMenu.fire()}})),y.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};t=Be([me(0,b.ITelemetryService),me(1,S.INotificationService),me(2,g.IContextViewService),me(3,I.IKeybindingService),me(4,C.IThemeService)],t),e.ContextMenuService=t}),define(ee[155],te([0,1,7,341,112,344,467,466,257,4,2,572,63,39,101,16,269,9,42,36,130,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,s.createDecorator)("listService");let f=class{constructor(z){this._themeService=z,this.disposables=new g.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(z){var $,ie;z!==this._lastFocusedWidget&&(($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=z,(ie=this._lastFocusedWidget)===null||ie===void 0||ie.getHTMLElement().classList.add("last-focused"))}register(z,$){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ce=new N.DefaultStyleController((0,y.createStyleSheet)(),"");this.disposables.add((0,l.attachListStyler)(ce,this._themeService))}if(this.lists.some(ce=>ce.widget===z))throw new Error("Cannot register the same widget multiple times");const ie={widget:z,extraContextKeys:$};return this.lists.push(ie),z.getHTMLElement()===document.activeElement&&this.setLastFocusedList(z),(0,g.combinedDisposable)(z.onDidFocus(()=>this.setLastFocusedList(z)),(0,g.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ie),1)),z.onDidDispose(()=>{this.lists=this.lists.filter(ce=>ce!==ie),this._lastFocusedWidget===z&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};f=Be([me(0,u.IThemeService)],f),e.ListService=f;const w=new d.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new d.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=d.ContextKeyExpr.and(w,d.ContextKeyExpr.not(c.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new d.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new d.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new d.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new d.RawContextKey("listSelectionNavigation",!1),e.WorkbenchTreeElementCanCollapse=new d.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new d.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new d.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new d.RawContextKey("treeElementHasChild",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function v(q,z){const $=q.createScoped(z.getHTMLElement());return w.bindTo($),$}const p="workbench.list.multiSelectModifier",_="workbench.list.openMode",L="workbench.list.horizontalScrolling",E="workbench.list.keyboardNavigation",M="workbench.list.automaticKeyboardNavigation",k="workbench.tree.indent",A="workbench.tree.renderIndentGuides",F="workbench.list.smoothScrolling",B="workbench.list.mouseWheelScrollSensitivity",T="workbench.list.fastScrollSensitivity",R="workbench.tree.expandMode";function O(q){return q.getValue(p)==="alt"}class P extends g.Disposable{constructor(z){super();this.configurationService=z,this.useAltAsMultipleSelectionModifier=O(z),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(z=>{z.affectsConfiguration(p)&&(this.useAltAsMultipleSelectionModifier=O(this.configurationService))}))}isSelectionSingleChangeEvent(z){return this.useAltAsMultipleSelectionModifier?z.browserEvent.altKey:(0,N.isSelectionSingleChangeEvent)(z)}isSelectionRangeChangeEvent(z){return(0,N.isSelectionRangeChangeEvent)(z)}}function D(q,z,$){var ie;const ce=new g.DisposableStore;return[Object.assign(Object.assign({},q),{keyboardNavigationDelegate:{mightProducePrintableCharacter(he){return $.mightProducePrintableCharacter(he)}},smoothScrolling:Boolean(z.getValue(F)),mouseWheelScrollSensitivity:z.getValue(B),fastScrollSensitivity:z.getValue(T),multipleSelectionController:(ie=q.multipleSelectionController)!==null&&ie!==void 0?ie:ce.add(new P(z))}),ce]}let x=class extends N.List{constructor(z,$,ie,ce,oe,he,ve,Se,le,ge){const ue=typeof oe.horizontalScrolling!="undefined"?oe.horizontalScrolling:Boolean(le.getValue(L)),[be,re]=D(oe,le,ge);super(z,$,ie,ce,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(Se.getColorTheme(),l.defaultListStyles)),be),{horizontalScrolling:ue}));this.disposables.add(re),this.contextKeyService=v(he,this),this.themeService=Se,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(oe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(oe.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=oe.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(le),this.disposables.add(this.contextKeyService),this.disposables.add(ve.register(this)),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ye=this.getSelection(),Me=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ye.length>0||Me.length>0),this.listMultiSelection.set(ye.length>1),this.listDoubleSelection.set(ye.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ye=this.getSelection(),Me=this.getFocus();this.listHasSelectionOrFocus.set(ye.length>0||Me.length>0)})),this.disposables.add(le.onDidChangeConfiguration(ye=>{ye.affectsConfiguration(p)&&(this._useAltAsMultipleSelectionModifier=O(le));let Me={};if(ye.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Oe=Boolean(le.getValue(L));Me=Object.assign(Object.assign({},Me),{horizontalScrolling:Oe})}if(ye.affectsConfiguration(F)){const Oe=Boolean(le.getValue(F));Me=Object.assign(Object.assign({},Me),{smoothScrolling:Oe})}if(ye.affectsConfiguration(B)){const Oe=le.getValue(B);Me=Object.assign(Object.assign({},Me),{mouseWheelScrollSensitivity:Oe})}if(ye.affectsConfiguration(T)){const Oe=le.getValue(T);Me=Object.assign(Object.assign({},Me),{fastScrollSensitivity:Oe})}Object.keys(Me).length>0&&this.updateOptions(Me)})),this.navigator=new G(this,Object.assign({configurationService:le},oe)),this.disposables.add(this.navigator)}updateOptions(z){super.updateOptions(z),z.overrideStyles&&this.updateStyles(z.overrideStyles),z.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!z.multipleSelectionSupport)}updateStyles(z){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,z)}dispose(){var z;(z=this._styler)===null||z===void 0||z.dispose(),super.dispose()}};x=Be([me(5,d.IContextKeyService),me(6,e.IListService),me(7,u.IThemeService),me(8,n.IConfigurationService),me(9,a.IKeybindingService)],x),e.WorkbenchList=x;let H=class extends m.PagedList{constructor(z,$,ie,ce,oe,he,ve,Se,le,ge){const ue=typeof oe.horizontalScrolling!="undefined"?oe.horizontalScrolling:Boolean(le.getValue(L)),[be,re]=D(oe,le,ge);super(z,$,ie,ce,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(Se.getColorTheme(),l.defaultListStyles)),be),{horizontalScrolling:ue}));this.disposables=new g.DisposableStore,this.disposables.add(re),this.contextKeyService=v(he,this),this.themeService=Se,this.horizontalScrolling=oe.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(oe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(oe.selectionNavigation)),this._useAltAsMultipleSelectionModifier=O(le),this.disposables.add(this.contextKeyService),this.disposables.add(ve.register(this)),oe.overrideStyles&&this.updateStyles(oe.overrideStyles),oe.overrideStyles&&this.disposables.add((0,l.attachListStyler)(this,Se,oe.overrideStyles)),this.disposables.add(le.onDidChangeConfiguration(ye=>{ye.affectsConfiguration(p)&&(this._useAltAsMultipleSelectionModifier=O(le));let Me={};if(ye.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Oe=Boolean(le.getValue(L));Me=Object.assign(Object.assign({},Me),{horizontalScrolling:Oe})}if(ye.affectsConfiguration(F)){const Oe=Boolean(le.getValue(F));Me=Object.assign(Object.assign({},Me),{smoothScrolling:Oe})}if(ye.affectsConfiguration(B)){const Oe=le.getValue(B);Me=Object.assign(Object.assign({},Me),{mouseWheelScrollSensitivity:Oe})}if(ye.affectsConfiguration(T)){const Oe=le.getValue(T);Me=Object.assign(Object.assign({},Me),{fastScrollSensitivity:Oe})}Object.keys(Me).length>0&&this.updateOptions(Me)})),this.navigator=new G(this,Object.assign({configurationService:le},oe)),this.disposables.add(this.navigator)}updateOptions(z){super.updateOptions(z),z.overrideStyles&&this.updateStyles(z.overrideStyles),z.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!z.multipleSelectionSupport)}updateStyles(z){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,z)}dispose(){var z;(z=this._styler)===null||z===void 0||z.dispose(),this.disposables.dispose(),super.dispose()}};H=Be([me(5,d.IContextKeyService),me(6,e.IListService),me(7,u.IThemeService),me(8,n.IConfigurationService),me(9,a.IKeybindingService)],H),e.WorkbenchPagedList=H;let j=class extends I.Table{constructor(z,$,ie,ce,oe,he,ve,Se,le,ge,ue){const be=typeof he.horizontalScrolling!="undefined"?he.horizontalScrolling:Boolean(ge.getValue(L)),[re,fe]=D(he,ge,ue);super(z,$,ie,ce,oe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(le.getColorTheme(),l.defaultListStyles)),re),{horizontalScrolling:be}));this.disposables.add(fe),this.contextKeyService=v(ve,this),this.themeService=le,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(he.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(he.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=he.horizontalScrolling,this._useAltAsMultipleSelectionModifier=O(ge),this.disposables.add(this.contextKeyService),this.disposables.add(Se.register(this)),he.overrideStyles&&this.updateStyles(he.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Me=this.getSelection(),Oe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Me.length>0||Oe.length>0),this.listMultiSelection.set(Me.length>1),this.listDoubleSelection.set(Me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Me=this.getSelection(),Oe=this.getFocus();this.listHasSelectionOrFocus.set(Me.length>0||Oe.length>0)})),this.disposables.add(ge.onDidChangeConfiguration(Me=>{Me.affectsConfiguration(p)&&(this._useAltAsMultipleSelectionModifier=O(ge));let Oe={};if(Me.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const He=Boolean(ge.getValue(L));Oe=Object.assign(Object.assign({},Oe),{horizontalScrolling:He})}if(Me.affectsConfiguration(F)){const He=Boolean(ge.getValue(F));Oe=Object.assign(Object.assign({},Oe),{smoothScrolling:He})}if(Me.affectsConfiguration(B)){const He=ge.getValue(B);Oe=Object.assign(Object.assign({},Oe),{mouseWheelScrollSensitivity:He})}if(Me.affectsConfiguration(T)){const He=ge.getValue(T);Oe=Object.assign(Object.assign({},Oe),{fastScrollSensitivity:He})}Object.keys(Oe).length>0&&this.updateOptions(Oe)})),this.navigator=new se(this,Object.assign({configurationService:ge},he)),this.disposables.add(this.navigator)}updateOptions(z){super.updateOptions(z),z.overrideStyles&&this.updateStyles(z.overrideStyles),z.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!z.multipleSelectionSupport)}updateStyles(z){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,z)}dispose(){var z;(z=this._styler)===null||z===void 0||z.dispose(),this.disposables.dispose(),super.dispose()}};j=Be([me(6,d.IContextKeyService),me(7,e.IListService),me(8,u.IThemeService),me(9,n.IConfigurationService),me(10,a.IKeybindingService)],j),e.WorkbenchTable=j;class Q extends g.Disposable{constructor(z,$){var ie;super();this.widget=z,this._onDidOpen=this._register(new h.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(h.Event.filter(this.widget.onDidChangeSelection,ce=>ce.browserEvent instanceof KeyboardEvent)(ce=>this.onSelectionFromKeyboard(ce))),this._register(this.widget.onPointer(ce=>this.onPointer(ce.element,ce.browserEvent))),this._register(this.widget.onMouseDblClick(ce=>this.onMouseDblClick(ce.element,ce.browserEvent))),typeof($==null?void 0:$.openOnSingleClick)!="boolean"&&($==null?void 0:$.configurationService)?(this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(_))!=="doubleClick",this._register($==null?void 0:$.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(_))!=="doubleClick"}))):this.openOnSingleClick=(ie=$==null?void 0:$.openOnSingleClick)!==null&&ie!==void 0?ie:!0}onSelectionFromKeyboard(z){if(z.elements.length!==1)return;const $=z.browserEvent,ie=typeof $.preserveFocus=="boolean"?$.preserveFocus:!0,ce=typeof $.pinned=="boolean"?$.pinned:!ie,oe=!1;this._open(this.getSelectedElement(),ie,ce,oe,z.browserEvent)}onPointer(z,$){if(!this.openOnSingleClick||$.detail===2)return;const ce=$.button===1,oe=!0,he=ce,ve=$.ctrlKey||$.metaKey||$.altKey;this._open(z,oe,he,ve,$)}onMouseDblClick(z,$){if(!$)return;const ie=$.target;if(ie.classList.contains("monaco-tl-twistie")||ie.classList.contains("monaco-icon-label")&&ie.classList.contains("folder-icon")&&$.offsetX<16)return;const oe=!1,he=!0,ve=$.ctrlKey||$.metaKey||$.altKey;this._open(z,oe,he,ve,$)}_open(z,$,ie,ce,oe){!z||this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:ie,revealIfVisible:!0},sideBySide:ce,element:z,browserEvent:oe})}}class G extends Q{constructor(z,$){super(z,$);this.widget=z}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class se extends Q{constructor(z,$){super(z,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ne extends Q{constructor(z,$){super(z,$)}getSelectedElement(){var z;return(z=this.widget.getSelection()[0])!==null&&z!==void 0?z:void 0}}function Z(q,z){let $=!1;return ie=>{if(ie.toKeybinding().isModifierKey())return!1;if($)return $=!1,!1;const ce=z.softDispatch(ie,q);return ce&&ce.enterChord?($=!0,!1):($=!1,!0)}}let U=class extends C.ObjectTree{constructor(z,$,ie,ce,oe,he,ve,Se,le,ge,ue){const{options:be,getAutomaticKeyboardNavigation:re,disposable:fe}=ae($,oe,he,le,ge,ue);super(z,$,ie,ce,be);this.disposables.add(fe),this.internals=new J(this,oe,re,oe.overrideStyles,he,ve,Se,le,ue),this.disposables.add(this.internals)}updateOptions(z){super.updateOptions(z),this.internals.updateOptions(z)}};U=Be([me(5,d.IContextKeyService),me(6,e.IListService),me(7,u.IThemeService),me(8,n.IConfigurationService),me(9,a.IKeybindingService),me(10,i.IAccessibilityService)],U),e.WorkbenchObjectTree=U;let W=class extends C.CompressibleObjectTree{constructor(z,$,ie,ce,oe,he,ve,Se,le,ge,ue){const{options:be,getAutomaticKeyboardNavigation:re,disposable:fe}=ae($,oe,he,le,ge,ue);super(z,$,ie,ce,be);this.disposables.add(fe),this.internals=new J(this,oe,re,oe.overrideStyles,he,ve,Se,le,ue),this.disposables.add(this.internals)}updateOptions(z={}){super.updateOptions(z),z.overrideStyles&&this.internals.updateStyleOverrides(z.overrideStyles),this.internals.updateOptions(z)}};W=Be([me(5,d.IContextKeyService),me(6,e.IListService),me(7,u.IThemeService),me(8,n.IConfigurationService),me(9,a.IKeybindingService),me(10,i.IAccessibilityService)],W),e.WorkbenchCompressibleObjectTree=W;let V=class extends b.DataTree{constructor(z,$,ie,ce,oe,he,ve,Se,le,ge,ue,be){const{options:re,getAutomaticKeyboardNavigation:fe,disposable:ye}=ae($,he,ve,ge,ue,be);super(z,$,ie,ce,oe,re);this.disposables.add(ye),this.internals=new J(this,he,fe,he.overrideStyles,ve,Se,le,ge,be),this.disposables.add(this.internals)}updateOptions(z={}){super.updateOptions(z),z.overrideStyles&&this.internals.updateStyleOverrides(z.overrideStyles),this.internals.updateOptions(z)}};V=Be([me(6,d.IContextKeyService),me(7,e.IListService),me(8,u.IThemeService),me(9,n.IConfigurationService),me(10,a.IKeybindingService),me(11,i.IAccessibilityService)],V),e.WorkbenchDataTree=V;let Y=class extends S.AsyncDataTree{constructor(z,$,ie,ce,oe,he,ve,Se,le,ge,ue,be){const{options:re,getAutomaticKeyboardNavigation:fe,disposable:ye}=ae($,he,ve,ge,ue,be);super(z,$,ie,ce,oe,re);this.disposables.add(ye),this.internals=new J(this,he,fe,he.overrideStyles,ve,Se,le,ge,be),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(z={}){super.updateOptions(z),z.overrideStyles&&this.internals.updateStyleOverrides(z.overrideStyles),this.internals.updateOptions(z)}};Y=Be([me(6,d.IContextKeyService),me(7,e.IListService),me(8,u.IThemeService),me(9,n.IConfigurationService),me(10,a.IKeybindingService),me(11,i.IAccessibilityService)],Y),e.WorkbenchAsyncDataTree=Y;let X=class extends S.CompressibleAsyncDataTree{constructor(z,$,ie,ce,oe,he,ve,Se,le,ge,ue,be,re){const{options:fe,getAutomaticKeyboardNavigation:ye,disposable:Me}=ae($,ve,Se,ue,be,re);super(z,$,ie,ce,oe,he,fe);this.disposables.add(Me),this.internals=new J(this,ve,ye,ve.overrideStyles,Se,le,ge,ue,re),this.disposables.add(this.internals)}updateOptions(z){super.updateOptions(z),this.internals.updateOptions(z)}};X=Be([me(7,d.IContextKeyService),me(8,e.IListService),me(9,u.IThemeService),me(10,n.IConfigurationService),me(11,a.IKeybindingService),me(12,i.IAccessibilityService)],X),e.WorkbenchCompressibleAsyncDataTree=X;function ae(q,z,$,ie,ce,oe){var he;const ve=()=>{let fe=Boolean($.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return fe&&(fe=Boolean(ie.getValue(M))),fe},Se=oe.isScreenReaderOptimized(),le=z.simpleKeyboardNavigation||Se?"simple":ie.getValue(E),ge=z.horizontalScrolling!==void 0?z.horizontalScrolling:Boolean(ie.getValue(L)),[ue,be]=D(z,ie,ce),re=z.additionalScrollHeight;return{getAutomaticKeyboardNavigation:ve,disposable:be,options:Object.assign(Object.assign({keyboardSupport:!1},ue),{indent:typeof ie.getValue(k)=="number"?ie.getValue(k):void 0,renderIndentGuides:ie.getValue(A),smoothScrolling:Boolean(ie.getValue(F)),automaticKeyboardNavigation:ve(),simpleKeyboardNavigation:le==="simple",filterOnType:le==="filter",horizontalScrolling:ge,keyboardNavigationEventFilter:Z(q,ce),additionalScrollHeight:re,hideTwistiesOfChildlessElements:z.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(he=z.expandOnlyOnTwistieClick)!==null&&he!==void 0?he:ie.getValue(R)==="doubleClick"})}}let J=class{constructor(z,$,ie,ce,oe,he,ve,Se,le){this.tree=z,this.themeService=ve,this.disposables=[],this.contextKeyService=v(oe,z),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set($.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean($.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=O(Se);const ue=new Set;ue.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const be=()=>{const ye=le.isScreenReaderOptimized()?"simple":Se.getValue(E);z.updateOptions({simpleKeyboardNavigation:ye==="simple",filterOnType:ye==="filter"})};this.updateStyleOverrides(ce);const re=()=>{const fe=z.getFocus()[0];if(!fe)return;const ye=z.getNode(fe);this.treeElementCanCollapse.set(ye.collapsible&&!ye.collapsed),this.treeElementHasParent.set(!!z.getParentElement(fe)),this.treeElementCanExpand.set(ye.collapsible&&ye.collapsed),this.treeElementHasChild.set(!!z.getFirstElementChild(fe))};this.disposables.push(this.contextKeyService,he.register(z),z.onDidChangeSelection(()=>{const fe=z.getSelection(),ye=z.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(fe.length>0||ye.length>0),this.hasMultiSelection.set(fe.length>1),this.hasDoubleSelection.set(fe.length===2)})}),z.onDidChangeFocus(()=>{const fe=z.getSelection(),ye=z.getFocus();this.hasSelectionOrFocus.set(fe.length>0||ye.length>0),re()}),z.onDidChangeCollapseState(re),z.onDidChangeModel(re),Se.onDidChangeConfiguration(fe=>{let ye={};if(fe.affectsConfiguration(p)&&(this._useAltAsMultipleSelectionModifier=O(Se)),fe.affectsConfiguration(k)){const Me=Se.getValue(k);ye=Object.assign(Object.assign({},ye),{indent:Me})}if(fe.affectsConfiguration(A)){const Me=Se.getValue(A);ye=Object.assign(Object.assign({},ye),{renderIndentGuides:Me})}if(fe.affectsConfiguration(F)){const Me=Boolean(Se.getValue(F));ye=Object.assign(Object.assign({},ye),{smoothScrolling:Me})}if(fe.affectsConfiguration(E)&&be(),fe.affectsConfiguration(M)&&(ye=Object.assign(Object.assign({},ye),{automaticKeyboardNavigation:ie()})),fe.affectsConfiguration(L)&&$.horizontalScrolling===void 0){const Me=Boolean(Se.getValue(L));ye=Object.assign(Object.assign({},ye),{horizontalScrolling:Me})}if(fe.affectsConfiguration(R)&&$.expandOnlyOnTwistieClick===void 0&&(ye=Object.assign(Object.assign({},ye),{expandOnlyOnTwistieClick:Se.getValue(R)==="doubleClick"})),fe.affectsConfiguration(B)){const Me=Se.getValue(B);ye=Object.assign(Object.assign({},ye),{mouseWheelScrollSensitivity:Me})}if(fe.affectsConfiguration(T)){const Me=Se.getValue(T);ye=Object.assign(Object.assign({},ye),{fastScrollSensitivity:Me})}Object.keys(ye).length>0&&z.updateOptions(ye)}),this.contextKeyService.onDidChangeContext(fe=>{fe.affectsSome(ue)&&z.updateOptions({automaticKeyboardNavigation:ie()})}),le.onDidChangeScreenReaderOptimized(()=>be())),this.navigator=new ne(z,Object.assign({configurationService:Se},$)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(z){z.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!z.multipleSelectionSupport)}updateStyleOverrides(z){(0,g.dispose)(this.styler),this.styler=z?(0,l.attachListStyler)(this.tree,this.themeService,z):g.Disposable.None}dispose(){this.disposables=(0,g.dispose)(this.disposables),(0,g.dispose)(this.styler),this.styler=void 0}};J=Be([me(4,d.IContextKeyService),me(5,e.IListService),me(6,u.IThemeService),me(7,n.IConfigurationService),me(8,i.IAccessibilityService)],J),r.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,t.localize)(0,null),type:"object",properties:{[p]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,t.localize)(1,null),(0,t.localize)(2,null)],default:"ctrlCmd",description:(0,t.localize)(3,null)},[_]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,t.localize)(4,null)},[L]:{type:"boolean",default:!1,description:(0,t.localize)(5,null)},[k]:{type:"number",default:8,minimum:0,maximum:40,description:(0,t.localize)(6,null)},[A]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,t.localize)(7,null)},[F]:{type:"boolean",default:!1,description:(0,t.localize)(8,null)},[B]:{type:"number",default:1,description:(0,t.localize)(9,null)},[T]:{type:"number",default:5,description:(0,t.localize)(10,null)},[E]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,t.localize)(11,null),(0,t.localize)(12,null),(0,t.localize)(13,null)],default:"highlight",description:(0,t.localize)(14,null)},[M]:{type:"boolean",default:!0,markdownDescription:(0,t.localize)(15,null)},[R]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,t.localize)(16,null)}}})}),define(ee[682],te([0,1,7,88,47,58,4,2,52,23,13]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let t=class extends b.Disposable{constructor(n,o,d={},c){var s;super();this._link=o,this._enabled=!0,this.el=(0,y.append)(n,(0,y.$)("a.monaco-link",{tabIndex:(s=o.tabIndex)!==null&&s!==void 0?s:0,href:o.href,title:o.title},o.label)),this.el.setAttribute("role","button");const a=this._register(new m.DomEmitter(this.el,"click")),r=this._register(new m.DomEmitter(this.el,"keypress")),l=S.Event.chain(r.event).map(w=>new N.StandardKeyboardEvent(w)).filter(w=>w.keyCode===3).event,u=this._register(new m.DomEmitter(this.el,I.EventType.Tap)).event;this._register(I.Gesture.addTarget(this.el));const f=S.Event.any(a.event,l,u);this._register(f(w=>{!this.enabled||(y.EventHelper.stop(w,!0),(d==null?void 0:d.opener)?d.opener(this._link.href):c.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(n){n?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=n}};t=Be([me(3,C.IOpenerService)],t),e.Link=t,(0,g.registerThemingParticipant)((i,n)=>{const o=i.getColor(h.textLinkForeground);o&&n.addRule(`.monaco-link { color: ${o}; }`);const d=i.getColor(h.textLinkActiveForeground);d&&n.addRule(`.monaco-link:hover { color: ${d}; }`)})}),define(ee[683],te([0,1,21,482,63,16,9,128,155,625,23,130,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let n=class extends i.Themable{constructor(d,c,s,a,r){super(s);this.instantiationService=d,this.contextKeyService=c,this.accessibilityService=a,this.layoutService=r,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(h.QuickAccessController))),this._quickAccess}createController(d=this.layoutService,c){var s,a;const r={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:u=>this.setContextKey(u),returnFocus:()=>d.focus(),createList:(u,f,w,v,p)=>this.instantiationService.createInstance(C.WorkbenchList,u,f,w,v,p),styles:this.computeStyles()},l=this._register(new m.QuickInputController(Object.assign(Object.assign({},r),c)));return l.layout(d.dimension,(a=(s=d.offset)===null||s===void 0?void 0:s.top)!==null&&a!==void 0?a:0),this._register(d.onDidLayout(u=>{var f,w;return l.layout(u,(w=(f=d.offset)===null||f===void 0?void 0:f.top)!==null&&w!==void 0?w:0)})),this._register(l.onShow(()=>this.resetContextKeys())),this._register(l.onHide(()=>this.resetContextKeys())),l}setContextKey(d){let c;d&&(c=this.contexts.get(d),c||(c=new I.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,c))),!(c&&c.get())&&(this.resetContextKeys(),c&&c.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,c={},s=y.CancellationToken.None){return this.controller.pick(d,c,s)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,t.computeStyles)(this.theme,{quickInputBackground:g.quickInputBackground,quickInputForeground:g.quickInputForeground,quickInputTitleBackground:g.quickInputTitleBackground,contrastBorder:g.contrastBorder,widgetShadow:g.widgetShadow})),inputBox:(0,t.computeStyles)(this.theme,{inputForeground:g.inputForeground,inputBackground:g.inputBackground,inputBorder:g.inputBorder,inputValidationInfoBackground:g.inputValidationInfoBackground,inputValidationInfoForeground:g.inputValidationInfoForeground,inputValidationInfoBorder:g.inputValidationInfoBorder,inputValidationWarningBackground:g.inputValidationWarningBackground,inputValidationWarningForeground:g.inputValidationWarningForeground,inputValidationWarningBorder:g.inputValidationWarningBorder,inputValidationErrorBackground:g.inputValidationErrorBackground,inputValidationErrorForeground:g.inputValidationErrorForeground,inputValidationErrorBorder:g.inputValidationErrorBorder}),countBadge:(0,t.computeStyles)(this.theme,{badgeBackground:g.badgeBackground,badgeForeground:g.badgeForeground,badgeBorder:g.contrastBorder}),button:(0,t.computeStyles)(this.theme,{buttonForeground:g.buttonForeground,buttonBackground:g.buttonBackground,buttonHoverBackground:g.buttonHoverBackground,buttonBorder:g.contrastBorder}),progressBar:(0,t.computeStyles)(this.theme,{progressBarBackground:g.progressBarBackground}),keybindingLabel:(0,t.computeStyles)(this.theme,{keybindingLabelBackground:g.keybindingLabelBackground,keybindingLabelForeground:g.keybindingLabelForeground,keybindingLabelBorder:g.keybindingLabelBorder,keybindingLabelBottomBorder:g.keybindingLabelBottomBorder,keybindingLabelShadow:g.widgetShadow}),list:(0,t.computeStyles)(this.theme,{listBackground:g.quickInputBackground,listInactiveFocusForeground:g.quickInputListFocusForeground,listInactiveSelectionIconForeground:g.quickInputListFocusIconForeground,listInactiveFocusBackground:g.quickInputListFocusBackground,listFocusOutline:g.activeContrastBorder,listInactiveFocusOutline:g.activeContrastBorder,pickerGroupBorder:g.pickerGroupBorder,pickerGroupForeground:g.pickerGroupForeground})}}};n=Be([me(0,S.IInstantiationService),me(1,I.IContextKeyService),me(2,i.IThemeService),me(3,N.IAccessibilityService),me(4,b.ILayoutService)],n),e.QuickInputService=n}),define(ee[684],te([0,1,15,13,21,9,16,63,271,28,683,86,389]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=e.EditorScopedQuickInputService=void 0;let i=class extends g.QuickInputService{constructor(s,a,r,l,u,f){super(a,r,l,u,new C.EditorScopedLayoutService(s.getContainerDomNode(),f));this.host=void 0;const w=o.get(s);if(w){const v=w.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return v.getDomNode()},get dimension(){return s.getLayoutInfo()},get onDidLayout(){return s.onDidLayoutChange},focus:()=>s.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};i=Be([me(1,I.IInstantiationService),me(2,S.IContextKeyService),me(3,m.IThemeService),me(4,b.IAccessibilityService),me(5,h.ICodeEditorService)],i),e.EditorScopedQuickInputService=i;let n=class{constructor(s,a){this.instantiationService=s,this.codeEditorService=a,this.mapEditorToService=new Map}get activeService(){const s=this.codeEditorService.getFocusedCodeEditor();if(!s)throw new Error("Quick input service needs a focused editor to work.");let a=this.mapEditorToService.get(s);if(!a){const r=a=this.instantiationService.createInstance(i,s);this.mapEditorToService.set(s,a),(0,t.once)(s.onDidDispose)(()=>{r.dispose(),this.mapEditorToService.delete(s)})}return a}get quickAccess(){return this.activeService.quickAccess}pick(s,a={},r=N.CancellationToken.None){return this.activeService.pick(s,a,r)}createQuickPick(){return this.activeService.createQuickPick()}};n=Be([me(0,I.IInstantiationService),me(1,h.ICodeEditorService)],n),e.StandaloneQuickInputService=n;class o{constructor(s){this.editor=s,this.widget=new d(this.editor)}static get(s){return s.getContribution(o.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=o,o.ID="editor.controller.quickInput";class d{constructor(s){this.codeEditor=s,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return d.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=d,d.ID="editor.contrib.quickInputWidget",(0,y.registerEditorContribution)(o.ID,o)}),define(ee[685],te([0,1,27,73,23,13]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(b){function C(h){switch(h){case m.default.Ignore:return"severity-ignore "+y.Codicon.info.classNames;case m.default.Info:return y.Codicon.info.classNames;case m.default.Warning:return y.Codicon.warning.classNames;case m.default.Error:return y.Codicon.error.classNames;default:return""}}b.className=C})(S=e.SeverityIcon||(e.SeverityIcon={})),(0,I.registerThemingParticipant)((b,C)=>{const h=b.getColor(N.problemsErrorIconForeground);if(h){const i=y.Codicon.error.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.text-search-provider-messages .providerMessage ${i},
			.extensions-viewlet > .extensions ${i} {
				color: ${h};
			}
		`)}const g=b.getColor(N.problemsWarningIconForeground);if(g){const i=y.Codicon.warning.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.extension-editor ${i},
			.text-search-provider-messages .providerMessage ${i},
			.preferences-editor ${i} {
				color: ${g};
			}
		`)}const t=b.getColor(N.problemsInfoIconForeground);if(t){const i=y.Codicon.info.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.text-search-provider-messages .providerMessage ${i},
			.extension-editor ${i} {
				color: ${t};
			}
		`)}})}),define(ee[71],te([0,1,10,27,4,577,197,36,13]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var h;(function(s){function a(r,l){let u=r.defaults;for(;C.ThemeIcon.isThemeIcon(u);){const f=t.getIcon(u.id);if(!f)return;u=f.defaults}return u}s.getDefinition=a})(h=e.IconContribution||(e.IconContribution={}));class g{constructor(){this._onDidChange=new N.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,I.localize)(0,null)},fontCharacter:{type:"string",description:(0,I.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${m.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(a,r,l,u){const f=this.iconsById[a];if(f){if(l&&!f.description){f.description=l,this.iconSchema.properties[a].markdownDescription=`${l} $(${a})`;const p=this.iconReferenceSchema.enum.indexOf(a);p!==-1&&(this.iconReferenceSchema.enumDescriptions[p]=l),this._onDidChange.fire()}return f}let w={id:a,description:l,defaults:r,deprecationMessage:u};this.iconsById[a]=w;let v={$ref:"#/definitions/icons"};return u&&(v.deprecationMessage=u),l&&(v.markdownDescription=`${l}: $(${a})`),this.iconSchema.properties[a]=v,this.iconReferenceSchema.enum.push(a),this.iconReferenceSchema.enumDescriptions.push(l||""),this._onDidChange.fire(),{id:a}}getIcons(){return Object.keys(this.iconsById).map(a=>this.iconsById[a])}getIcon(a){return this.iconsById[a]}getIconSchema(){return this.iconSchema}toString(){const a=(f,w)=>f.id.localeCompare(w.id),r=f=>{for(;C.ThemeIcon.isThemeIcon(f.defaults);)f=this.iconsById[f.defaults.id];return`codicon codicon-${f?f.id:""}`};let l=[];l.push("| preview     | identifier                        | default codicon ID                | description"),l.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const u=Object.keys(this.iconsById).map(f=>this.iconsById[f]);for(const f of u.filter(w=>!!w.description).sort(a))l.push(`|<i class="${r(f)}"></i>|${f.id}|${C.ThemeIcon.isThemeIcon(f.defaults)?f.defaults.id:f.id}|${f.description||""}|`);l.push("| preview     | identifier                        "),l.push("| ----------- | --------------------------------- |");for(const f of u.filter(w=>!C.ThemeIcon.isThemeIcon(w.defaults)).sort(a))l.push(`|<i class="${r(f)}"></i>|${f.id}|`);return l.join(`
`)}}const t=new g;b.Registry.add(e.Extensions.IconContribution,t);function i(s,a,r,l){return t.registerIcon(s,a,r,l)}e.registerIcon=i;function n(){return t}e.getIconRegistry=n;function o(){for(const s of m.Codicon.getAll())t.registerIcon(s.id,s.definition,s.description)}o(),e.iconsSchemaId="vscode://schemas/icons";let d=b.Registry.as(S.Extensions.JSONContribution);d.registerSchema(e.iconsSchemaId,t.getIconSchema());const c=new y.RunOnceScheduler(()=>d.notifySchemaChanged(e.iconsSchemaId),200);t.onDidChange(()=>{c.isScheduled()||c.schedule()}),e.widgetClose=i("widget-close",m.Codicon.close,(0,I.localize)(2,null)),e.gotoPreviousLocation=i("goto-previous-location",m.Codicon.arrowUp,(0,I.localize)(3,null)),e.gotoNextLocation=i("goto-next-location",m.Codicon.arrowDown,(0,I.localize)(4,null)),e.syncing=C.ThemeIcon.modify(m.Codicon.sync,"spin"),e.spinningLoading=C.ThemeIcon.modify(m.Codicon.loading,"spin")}),define(ee[686],te([0,1,489,7,31,82,66,44,2,62,15,28,30,74,11,53,121,67,16,23,13,27,71,34,362]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const p=3;class _{constructor(O,P,D,x){this.originalLineStart=O,this.originalLineEnd=P,this.modifiedLineStart=D,this.modifiedLineEnd=x}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class L{constructor(O){this.entries=O}}const E=(0,f.registerIcon)("diff-review-insert",u.Codicon.add,y.localize(0,null)),M=(0,f.registerIcon)("diff-review-remove",u.Codicon.remove,y.localize(1,null)),k=(0,f.registerIcon)("diff-review-close",u.Codicon.close,y.localize(2,null));let A=class yt extends C.Disposable{constructor(O,P){super();this._languageService=P,this._width=0,this._diffEditor=O,this._isVisible=!1,this.shadow=(0,N.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,N.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new I.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new b.Action("diffreview.close",y.localize(3,null),"close-diff-review "+l.ThemeIcon.asClassName(k),!0,()=>De(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,N.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(O.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(O.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(m.addStandardDisposableListener(this.domNode.domNode,"click",D=>{D.preventDefault();const x=m.findParentWithClass(D.target,"diff-review-row");x&&this._goToRow(x)})),this._register(m.addStandardDisposableListener(this.domNode.domNode,"keydown",D=>{(D.equals(18)||D.equals(2048|18)||D.equals(512|18))&&(D.preventDefault(),this._goToRow(this._getNextRow())),(D.equals(16)||D.equals(2048|16)||D.equals(512|16))&&(D.preventDefault(),this._goToRow(this._getPrevRow())),(D.equals(9)||D.equals(2048|9)||D.equals(512|9)||D.equals(1024|9))&&(D.preventDefault(),this.hide()),(D.equals(10)||D.equals(3))&&(D.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let O=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let D=-1;for(let x=0,H=this._diffs.length;x<H;x++)if(this._diffs[x]===this._currentDiff){D=x;break}O=this._diffs.length+D-1}else O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;O=O%this._diffs.length;const P=this._diffs[O].entries;this._diffEditor.setPosition(new o.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let O=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let D=-1;for(let x=0,H=this._diffs.length;x<H;x++)if(this._diffs[x]===this._currentDiff){D=x;break}O=D+1}else O=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;O=O%this._diffs.length;const P=this._diffs[O].entries;this._diffEditor.setPosition(new o.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let O=-1;const P=this._getCurrentFocusedRow();if(P){const D=parseInt(P.getAttribute("data-line"),10);isNaN(D)||(O=D)}this.hide(),O!==-1&&(this._diffEditor.setPosition(new o.Position(O,1)),this._diffEditor.revealPosition(new o.Position(O,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const O=this._getCurrentFocusedRow();return O?O.previousElementSibling?O.previousElementSibling:O:this._getFirstRow()}_getNextRow(){const O=this._getCurrentFocusedRow();return O?O.nextElementSibling?O.nextElementSibling:O:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const O=document.activeElement;return O&&/diff-review-row/.test(O.className)?O:null}_goToRow(O){const P=this._getCurrentFocusedRow();O.tabIndex=0,O.focus(),P&&P!==O&&(P.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(O,P,D){this._width=P,this.shadow.setTop(O-6),this.shadow.setWidth(P),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(O),this.domNode.setWidth(P),this.domNode.setHeight(D),this._content.setHeight(D),this._content.setWidth(P),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const O=this._diffEditor.getLineChanges();if(!O||O.length===0)return[];const P=this._diffEditor.getOriginalEditor().getModel(),D=this._diffEditor.getModifiedEditor().getModel();return!P||!D?[]:yt._mergeAdjacent(O,P.getLineCount(),D.getLineCount())}static _mergeAdjacent(O,P,D){if(!O||O.length===0)return[];const x=[];let H=0;for(let se=0,ne=O.length;se<ne;se++){const Z=O[se],U=Z.originalStartLineNumber,W=Z.originalEndLineNumber,V=Z.modifiedStartLineNumber,Y=Z.modifiedEndLineNumber,X=[];let ae=0;{const J=W===0?U:U-1,de=Y===0?V:V-1;let q=1,z=1;if(se>0){const ce=O[se-1];ce.originalEndLineNumber===0?q=ce.originalStartLineNumber+1:q=ce.originalEndLineNumber+1,ce.modifiedEndLineNumber===0?z=ce.modifiedStartLineNumber+1:z=ce.modifiedEndLineNumber+1}let $=J-p+1,ie=de-p+1;if($<q){const ce=q-$;$=$+ce,ie=ie+ce}if(ie<z){const ce=z-ie;$=$+ce,ie=ie+ce}X[ae++]=new _($,J,ie,de)}W!==0&&(X[ae++]=new _(U,W,0,0)),Y!==0&&(X[ae++]=new _(0,0,V,Y));{const J=W===0?U+1:W+1,de=Y===0?V+1:Y+1;let q=P,z=D;if(se+1<ne){const ce=O[se+1];ce.originalEndLineNumber===0?q=ce.originalStartLineNumber:q=ce.originalStartLineNumber-1,ce.modifiedEndLineNumber===0?z=ce.modifiedStartLineNumber:z=ce.modifiedStartLineNumber-1}let $=J+p-1,ie=de+p-1;if($>q){const ce=q-$;$=$+ce,ie=ie+ce}if(ie>z){const ce=z-ie;$=$+ce,ie=ie+ce}X[ae++]=new _(J,$,de,ie)}x[H++]=new L(X)}let j=x[0].entries;const Q=[];let G=0;for(let se=1,ne=x.length;se<ne;se++){const Z=x[se].entries,U=j[j.length-1],W=Z[0];if(U.getType()===0&&W.getType()===0&&W.originalLineStart<=U.originalLineEnd){j[j.length-1]=new _(U.originalLineStart,W.originalLineEnd,U.modifiedLineStart,W.modifiedLineEnd),j=j.concat(Z.slice(1));continue}Q[G++]=new L(j),j=Z}return Q[G++]=new L(j),Q}_findDiffIndex(O){const P=O.lineNumber;for(let D=0,x=this._diffs.length;D<x;D++){const H=this._diffs[D].entries,j=H[H.length-1].modifiedLineEnd;if(P<=j)return D}return 0}_render(){const O=this._diffEditor.getOriginalEditor().getOptions(),P=this._diffEditor.getModifiedEditor().getOptions(),D=this._diffEditor.getOriginalEditor().getModel(),x=this._diffEditor.getModifiedEditor().getModel(),H=D.getOptions(),j=x.getOptions();if(!this._isVisible||!D||!x){m.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const Q=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Q]===this._currentDiff)return;this._currentDiff=this._diffs[Q];const G=this._diffs[Q].entries,se=document.createElement("div");se.className="diff-review-table",se.setAttribute("role","list"),se.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,h.applyFontInfo)(se,P.get(44));let ne=0,Z=0,U=0,W=0;for(let ie=0,ce=G.length;ie<ce;ie++){const oe=G[ie],he=oe.originalLineStart,ve=oe.originalLineEnd,Se=oe.modifiedLineStart,le=oe.modifiedLineEnd;he!==0&&(ne===0||he<ne)&&(ne=he),ve!==0&&(Z===0||ve>Z)&&(Z=ve),Se!==0&&(U===0||Se<U)&&(U=Se),le!==0&&(W===0||le>W)&&(W=le)}const V=document.createElement("div");V.className="diff-review-row";const Y=document.createElement("div");Y.className="diff-review-cell diff-review-summary";const X=Z-ne+1,ae=W-U+1;Y.appendChild(document.createTextNode(`${Q+1}/${this._diffs.length}: @@ -${ne},${X} +${U},${ae} @@`)),V.setAttribute("data-line",String(U));const J=ie=>ie===0?y.localize(4,null):ie===1?y.localize(5,null):y.localize(6,null,ie),de=J(X),q=J(ae);V.setAttribute("aria-label",y.localize(7,null,Q+1,this._diffs.length,ne,de,U,q)),V.appendChild(Y),V.setAttribute("role","listitem"),se.appendChild(V);const z=P.get(59);let $=U;for(let ie=0,ce=G.length;ie<ce;ie++){const oe=G[ie];yt._renderSection(se,oe,$,z,this._width,O,D,H,P,x,j,this._languageService.languageIdCodec),oe.modifiedLineStart!==0&&($=oe.modifiedLineEnd)}m.clearNode(this._content.domNode),this._content.domNode.appendChild(se),this.scrollbar.scanDomNode()}static _renderSection(O,P,D,x,H,j,Q,G,se,ne,Z,U){const W=P.getType();let V="diff-review-row",Y="";const X="diff-review-spacer";let ae=null;switch(W){case 1:V="diff-review-row line-insert",Y=" char-insert",ae=E;break;case 2:V="diff-review-row line-delete",Y=" char-delete",ae=M;break}const J=P.originalLineStart,de=P.originalLineEnd,q=P.modifiedLineStart,z=P.modifiedLineEnd,$=Math.max(z-q,de-J),ie=j.get(131),ce=ie.glyphMarginWidth+ie.lineNumbersWidth,oe=se.get(131),he=10+oe.glyphMarginWidth+oe.lineNumbersWidth;for(let ve=0;ve<=$;ve++){const Se=J===0?0:J+ve,le=q===0?0:q+ve,ge=document.createElement("div");ge.style.minWidth=H+"px",ge.className=V,ge.setAttribute("role","listitem"),le!==0&&(D=le),ge.setAttribute("data-line",String(D));const ue=document.createElement("div");ue.className="diff-review-cell",ue.style.height=`${x}px`,ge.appendChild(ue);const be=document.createElement("span");be.style.width=ce+"px",be.style.minWidth=ce+"px",be.className="diff-review-line-number"+Y,Se!==0?be.appendChild(document.createTextNode(String(Se))):be.innerText="\xA0",ue.appendChild(be);const re=document.createElement("span");re.style.width=he+"px",re.style.minWidth=he+"px",re.style.paddingRight="10px",re.className="diff-review-line-number"+Y,le!==0?re.appendChild(document.createTextNode(String(le))):re.innerText="\xA0",ue.appendChild(re);const fe=document.createElement("span");if(fe.className=X,ae){const Oe=document.createElement("span");Oe.className=l.ThemeIcon.asClassName(ae),Oe.innerText="\xA0\xA0",fe.appendChild(Oe)}else fe.innerText="\xA0\xA0";ue.appendChild(fe);let ye;if(le!==0){let Oe=this._renderLine(ne,se,Z.tabSize,le,U);yt._ttPolicy&&(Oe=yt._ttPolicy.createHTML(Oe)),ue.insertAdjacentHTML("beforeend",Oe),ye=ne.getLineContent(le)}else{let Oe=this._renderLine(Q,j,G.tabSize,Se,U);yt._ttPolicy&&(Oe=yt._ttPolicy.createHTML(Oe)),ue.insertAdjacentHTML("beforeend",Oe),ye=Q.getLineContent(Se)}ye.length===0&&(ye=y.localize(8,null));let Me="";switch(W){case 0:Se===le?Me=y.localize(9,null,ye,Se):Me=y.localize(10,null,ye,Se,le);break;case 1:Me=y.localize(11,null,ye,le);break;case 2:Me=y.localize(12,null,ye,Se);break}ge.setAttribute("aria-label",Me),O.appendChild(ge)}}static _renderLine(O,P,D,x,H){const j=O.getLineContent(x),Q=P.get(44),G=n.LineTokens.createEmpty(j,H),se=s.ViewLineRenderingData.isBasicASCII(j,O.mightContainNonBasicASCII()),ne=s.ViewLineRenderingData.containsRTL(j,se,O.mightContainRTL());return(0,c.renderViewLine2)(new c.RenderLineInput(Q.isMonospace&&!P.get(29),Q.canUseHalfwidthRightwardsArrow,j,!1,se,ne,0,G,[],D,0,Q.spaceWidth,Q.middotWidth,Q.wsmiddotWidth,P.get(105),P.get(88),P.get(83),P.get(45)!==i.EditorFontLigatures.OFF,null)).html}};A._ttPolicy=(v=window.trustedTypes)===null||v===void 0?void 0:v.createPolicy("diffReview",{createHTML:R=>R}),A=Be([me(1,w.ILanguageService)],A),e.DiffReview=A,(0,l.registerThemingParticipant)((R,O)=>{const P=R.getColor(d.editorLineNumbers);P&&O.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${P}; }`);const D=R.getColor(r.scrollbarShadow);D&&O.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${D} 0 -6px 6px -6px inset; }`)});class F extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:y.localize(13,null),alias:"Go to Next Difference",precondition:a.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(O,P){const D=T(O);D&&D.diffReviewNext()}}class B extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:y.localize(14,null),alias:"Go to Previous Difference",precondition:a.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(O,P){const D=T(O);D&&D.diffReviewPrev()}}function T(R){const O=R.get(t.ICodeEditorService),P=O.listDiffEditors(),D=O.getActiveCodeEditor();if(!D)return null;for(let x=0,H=P.length;x<H;x++){const j=P[x];if(j.getModifiedEditor().getId()===D.getId()||j.getOriginalEditor().getId()===D.getId())return j}return null}(0,g.registerEditorAction)(F),(0,g.registerEditorAction)(B)}),define(ee[687],te([0,1,7,43,66,27,4,2,8,20,102,34,597,194,545,16,52,23,71,131,13,378]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const u=y.$,f=(0,a.registerIcon)("parameter-hints-next",I.Codicon.chevronDown,o.localize(0,null)),w=(0,a.registerIcon)("parameter-hints-previous",I.Codicon.chevronUp,o.localize(1,null));let v=class Ti extends b.Disposable{constructor(_,L,E,M){super();this.editor=_,this.renderDisposeables=this._register(new b.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new g.MarkdownRenderer({editor:_},M,E)),this.model=this._register(new i.ParameterHintsModel(_)),this.keyVisible=n.Context.Visible.bindTo(L),this.keyMultipleSignatures=n.Context.MultipleSignatures.bindTo(L),this._register(this.model.onChangedHints(k=>{k?(this.show(),this.render(k)):this.hide()}))}createParameterHintDOMNodes(){const _=u(".editor-widget.parameter-hints-widget"),L=y.append(_,u(".phwrapper"));L.tabIndex=-1;const E=y.append(L,u(".controls")),M=y.append(E,u(".button"+l.ThemeIcon.asCSSSelector(w))),k=y.append(E,u(".overloads")),A=y.append(E,u(".button"+l.ThemeIcon.asCSSSelector(f)));this._register(y.addDisposableListener(M,"click",P=>{y.EventHelper.stop(P),this.previous()})),this._register(y.addDisposableListener(A,"click",P=>{y.EventHelper.stop(P),this.next()}));const F=u(".body"),B=new N.DomScrollableElement(F,{});this._register(B),L.appendChild(B.getDomNode());const T=y.append(F,u(".signature")),R=y.append(F,u(".docs"));_.style.userSelect="text",this.domNodes={element:_,signature:T,overloads:k,docs:R,scrollbar:B},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(P=>{this.visible&&this.editor.layoutContentWidget(this)}));const O=()=>{if(!this.domNodes)return;const P=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${P.fontSize}px`,this.domNodes.element.style.lineHeight=`${P.lineHeight/P.fontSize}`};O(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(P=>P.hasChanged(44)).on(O,null)),this._register(this.editor.onDidLayoutChange(P=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(_){var L;if(this.renderDisposeables.clear(),!this.domNodes)return;const E=_.signatures.length>1;this.domNodes.element.classList.toggle("multiple",E),this.keyMultipleSignatures.set(E),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const M=_.signatures[_.activeSignature];if(!M)return;const k=y.append(this.domNodes.signature,u(".code")),A=this.editor.getOption(44);k.style.fontSize=`${A.fontSize}px`,k.style.fontFamily=A.fontFamily;const F=M.parameters.length>0,B=(L=M.activeParameter)!==null&&L!==void 0?L:_.activeParameter;if(F)this.renderParameters(k,M,B);else{const O=y.append(k,u("span"));O.textContent=M.label}const T=M.parameters[B];if(T==null?void 0:T.documentation){const O=u("span.documentation");if(typeof T.documentation=="string")O.textContent=T.documentation;else{const P=this.renderMarkdownDocs(T.documentation);O.appendChild(P.element)}y.append(this.domNodes.docs,u("p",{},O))}if(M.documentation!==void 0)if(typeof M.documentation=="string")y.append(this.domNodes.docs,u("p",{},M.documentation));else{const O=this.renderMarkdownDocs(M.documentation);y.append(this.domNodes.docs,O.element)}const R=this.hasDocs(M,T);if(this.domNodes.signature.classList.toggle("has-docs",R),this.domNodes.docs.classList.toggle("empty",!R),this.domNodes.overloads.textContent=String(_.activeSignature+1).padStart(_.signatures.length.toString().length,"0")+"/"+_.signatures.length,T){let O="";const P=M.parameters[B];Array.isArray(P.label)?O=M.label.substring(P.label[0],P.label[1]):O=P.label,P.documentation&&(O+=typeof P.documentation=="string"?`, ${P.documentation}`:`, ${P.documentation.value}`),M.documentation&&(O+=typeof M.documentation=="string"?`, ${M.documentation}`:`, ${M.documentation.value}`),this.announcedLabel!==O&&(m.alert(o.localize(2,null,O)),this.announcedLabel=O)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(_){const L=this.renderDisposeables.add(this.markdownRenderer.render(_,{asyncRenderCallback:()=>{var E;(E=this.domNodes)===null||E===void 0||E.scrollbar.scanDomNode()}}));return L.element.classList.add("markdown-docs"),L}hasDocs(_,L){return!!(L&&typeof L.documentation=="string"&&(0,h.assertIsDefined)(L.documentation).length>0||L&&typeof L.documentation=="object"&&(0,h.assertIsDefined)(L.documentation).value.length>0||_.documentation&&typeof _.documentation=="string"&&(0,h.assertIsDefined)(_.documentation).length>0||_.documentation&&typeof _.documentation=="object"&&(0,h.assertIsDefined)(_.documentation.value).length>0)}renderParameters(_,L,E){const[M,k]=this.getParameterLabelOffsets(L,E),A=document.createElement("span");A.textContent=L.label.substring(0,M);const F=document.createElement("span");F.textContent=L.label.substring(M,k),F.className="parameter active";const B=document.createElement("span");B.textContent=L.label.substring(k),y.append(_,A,F,B)}getParameterLabelOffsets(_,L){const E=_.parameters[L];if(E){if(Array.isArray(E.label))return E.label;if(E.label.length){const M=new RegExp(`(\\W|^)${(0,C.escapeRegExpCharacters)(E.label)}(?=\\W|$)`,"g");M.test(_.label);const k=M.lastIndex-E.label.length;return k>=0?[k,M.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Ti.ID}trigger(_){this.model.trigger(_,0)}updateMaxHeight(){if(!this.domNodes)return;const L=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=L;const E=this.domNodes.element.getElementsByClassName("phwrapper");E.length&&(E[0].style.maxHeight=L)}};v.ID="editor.widget.parameterHintsWidget",v=Be([me(1,d.IContextKeyService),me(2,c.IOpenerService),me(3,t.ILanguageService)],v),e.ParameterHintsWidget=v,e.editorHoverWidgetHighlightForeground=(0,s.registerColor)("editorHoverWidget.highlightForeground",{dark:s.listHighlightForeground,light:s.listHighlightForeground,hc:s.listHighlightForeground},o.localize(3,null)),(0,l.registerThemingParticipant)((p,_)=>{const L=p.getColor(s.editorHoverBorder);if(L){const T=p.type===r.ColorScheme.HIGH_CONTRAST?2:1;_.addRule(`.monaco-editor .parameter-hints-widget { border: ${T}px solid ${L}; }`),_.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${L.transparent(.5)}; }`),_.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${L.transparent(.5)}; }`)}const E=p.getColor(s.editorHoverBackground);E&&_.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${E}; }`);const M=p.getColor(s.textLinkForeground);M&&_.addRule(`.monaco-editor .parameter-hints-widget a { color: ${M}; }`);const k=p.getColor(s.textLinkActiveForeground);k&&_.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${k}; }`);const A=p.getColor(s.editorHoverForeground);A&&_.addRule(`.monaco-editor .parameter-hints-widget { color: ${A}; }`);const F=p.getColor(s.textCodeBlockBackground);F&&_.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${F}; }`);const B=p.getColor(e.editorHoverWidgetHighlightForeground);B&&_.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${B}}`)})}),define(ee[688],te([0,1,2,15,24,18,194,544,16,9,687]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let t=class Mi extends y.Disposable{constructor(c,s){super();this.editor=c,this.widget=this._register(s.createInstance(g.ParameterHintsWidget,this.editor))}static get(c){return c.getContribution(Mi.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(c){this.widget.trigger(c)}};t.ID="editor.controller.parameterHints",t=Be([me(1,h.IInstantiationService)],t);class i extends m.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:N.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:N.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(c,s){const a=t.get(s);a&&a.trigger({triggerKind:I.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=i,(0,m.registerEditorContribution)(t.ID,t),(0,m.registerEditorAction)(i);const n=100+75,o=m.EditorCommand.bindToContribution(t.get);(0,m.registerEditorCommand)(new o({id:"closeParameterHints",precondition:S.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:n,kbExpr:N.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,m.registerEditorCommand)(new o({id:"showPrevParameterHint",precondition:C.ContextKeyExpr.and(S.Context.Visible,S.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:n,kbExpr:N.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,m.registerEditorCommand)(new o({id:"showNextParameterHint",precondition:C.ContextKeyExpr.and(S.Context.Visible,S.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:n,kbExpr:N.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(ee[689],te([0,1,33,7,187,19,27,4,72,2,25,30,18,617,45,34,558,261,71,13,273]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function f(_){return`suggest-aria-id:${_}`}e.getAriaId=f,e.suggestMoreInfoIcon=(0,a.registerIcon)("suggest-more-info",S.Codicon.chevronRight,c.localize(0,null));const w=new(u=class xt{extract(L,E){if(L.textLabel.match(xt._regexStrict))return E[0]=L.textLabel,!0;if(L.completion.detail&&L.completion.detail.match(xt._regexStrict))return E[0]=L.completion.detail,!0;if(typeof L.completion.documentation=="string"){const M=xt._regexRelaxed.exec(L.completion.documentation);if(M&&(M.index===0||M.index+M[0].length===L.completion.documentation.length))return E[0]=M[0],!0}return!1}},u._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,u._regexStrict=new RegExp(`^${u._regexRelaxed.source}$`,"i"),u);let v=class{constructor(L,E,M,k){this._editor=L,this._modelService=E,this._languageService=M,this._themeService=k,this._onDidToggleDetails=new b.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(L){const E=Object.create(null);E.disposables=new h.DisposableStore,E.root=L,E.root.classList.add("show-file-icons"),E.icon=(0,m.append)(L,(0,m.$)(".icon")),E.colorspan=(0,m.append)(E.icon,(0,m.$)("span.colorspan"));const M=(0,m.append)(L,(0,m.$)(".contents")),k=(0,m.append)(M,(0,m.$)(".main"));E.iconContainer=(0,m.append)(k,(0,m.$)(".icon-label.codicon")),E.left=(0,m.append)(k,(0,m.$)("span.left")),E.right=(0,m.append)(k,(0,m.$)("span.right")),E.iconLabel=new N.IconLabel(E.left,{supportHighlights:!0,supportIcons:!0}),E.disposables.add(E.iconLabel),E.parametersLabel=(0,m.append)(E.left,(0,m.$)("span.signature-label")),E.qualifierLabel=(0,m.append)(E.left,(0,m.$)("span.qualifier-label")),E.detailsLabel=(0,m.append)(E.right,(0,m.$)("span.details-label")),E.readMore=(0,m.append)(E.right,(0,m.$)("span.readMore"+r.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),E.readMore.title=c.localize(1,null);const A=()=>{const F=this._editor.getOptions(),B=F.get(44),T=B.getMassagedFontFamily(y.isSafari?t.EDITOR_FONT_DEFAULTS.fontFamily:null),R=B.fontFeatureSettings,O=F.get(107)||B.fontSize,P=F.get(108)||B.lineHeight,D=B.fontWeight,x=`${O}px`,H=`${P}px`;E.root.style.fontSize=x,E.root.style.fontWeight=D,k.style.fontFamily=T,k.style.fontFeatureSettings=R,k.style.lineHeight=H,E.icon.style.height=H,E.icon.style.width=H,E.readMore.style.height=H,E.readMore.style.width=H};return A(),E.disposables.add(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(44)||F.hasChanged(107)||F.hasChanged(108))&&A()})),E}renderElement(L,E,M){const{completion:k}=L;M.root.id=f(E),M.colorspan.style.backgroundColor="";const A={labelEscapeNewLines:!0,matches:(0,C.createMatches)(L.score)};let F=[];if(k.kind===19&&w.extract(L,F))M.icon.className="icon customcolor",M.iconContainer.className="icon hide",M.colorspan.style.backgroundColor=F[0];else if(k.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){M.icon.className="icon hide",M.iconContainer.className="icon hide";const B=(0,n.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:L.textLabel}),s.FileKind.FILE),T=(0,n.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:k.detail}),s.FileKind.FILE);A.extraClasses=B.length>T.length?B:T}else k.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(M.icon.className="icon hide",M.iconContainer.className="icon hide",A.extraClasses=(0,I.flatten)([(0,n.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:L.textLabel}),s.FileKind.FOLDER),(0,n.getIconClasses)(this._modelService,this._languageService,g.URI.from({scheme:"fake",path:k.detail}),s.FileKind.FOLDER)])):(M.icon.className="icon hide",M.iconContainer.className="",M.iconContainer.classList.add("suggest-icon",...S.CSSIcon.asClassNameArray(i.CompletionItemKinds.toIcon(k.kind))));k.tags&&k.tags.indexOf(1)>=0&&(A.extraClasses=(A.extraClasses||[]).concat(["deprecated"]),A.matches=[]),M.iconLabel.setLabel(L.textLabel,void 0,A),typeof k.label=="string"?(M.parametersLabel.textContent="",M.detailsLabel.textContent=p(k.detail||""),M.root.classList.add("string-label")):(M.parametersLabel.textContent=p(k.label.detail||""),M.detailsLabel.textContent=p(k.label.description||""),M.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,m.show)(M.detailsLabel):(0,m.hide)(M.detailsLabel),(0,l.canExpandCompletionItem)(L)?(M.right.classList.add("can-expand-details"),(0,m.show)(M.readMore),M.readMore.onmousedown=B=>{B.stopPropagation(),B.preventDefault()},M.readMore.onclick=B=>{B.stopPropagation(),B.preventDefault(),this._onDidToggleDetails.fire()}):(M.right.classList.remove("can-expand-details"),(0,m.hide)(M.readMore),M.readMore.onmousedown=null,M.readMore.onclick=null)}disposeTemplate(L){L.disposables.dispose()}};v=Be([me(1,o.IModelService),me(2,d.ILanguageService),me(3,r.IThemeService)],v),e.ItemRenderer=v;function p(_){return _.replace(/\r\n|\r|\n/g,"")}}),define(ee[690],te([0,1,7,82,44,2,102,9,682,71,13,383]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const t=26;let i=class extends I.Disposable{constructor(d,c){super();this._editor=d,this.instantiationService=c,this.banner=this._register(this.instantiationService.createInstance(n))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(d){this.banner.show(Object.assign(Object.assign({},d),{onClose:()=>{this.hide(),d.onClose&&d.onClose()}})),this._editor.setBanner(this.banner.element,t)}};i=Be([me(1,b.IInstantiationService)],i),e.BannerController=i;let n=class extends I.Disposable{constructor(d){super();this.instantiationService=d,this.markdownRenderer=this.instantiationService.createInstance(S.MarkdownRenderer,{}),this.element=(0,y.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(d){if(d.ariaLabel)return d.ariaLabel;if(typeof d.message=="string")return d.message}getBannerMessage(d){if(typeof d=="string"){const c=(0,y.$)("span");return c.innerText=d,c}return this.markdownRenderer.render(d).element}clear(){(0,y.clearNode)(this.element)}show(d){(0,y.clearNode)(this.element);const c=this.getAriaLabel(d);c&&this.element.setAttribute("aria-label",c);const s=(0,y.append)(this.element,(0,y.$)("div.icon-container"));s.setAttribute("aria-hidden","true"),d.icon&&s.appendChild((0,y.$)(`div${g.ThemeIcon.asCSSSelector(d.icon)}`));const a=(0,y.append)(this.element,(0,y.$)("div.message-container"));if(a.setAttribute("aria-hidden","true"),a.appendChild(this.getBannerMessage(d.message)),this.messageActionsContainer=(0,y.append)(this.element,(0,y.$)("div.message-actions-container")),d.actions)for(const l of d.actions)this._register(this.instantiationService.createInstance(C.Link,this.messageActionsContainer,Object.assign(Object.assign({},l),{tabIndex:-1}),{}));const r=(0,y.append)(this.element,(0,y.$)("div.action-container"));this.actionBar=this._register(new m.ActionBar(r)),this.actionBar.push(this._register(new N.Action("banner.close","Close Banner",g.ThemeIcon.asClassName(h.widgetClose),!0,()=>{typeof d.onClose=="function"&&d.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};n=Be([me(0,b.IInstantiationService)],n)}),define(ee[691],te([0,1,7,4,71,13]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function S(C){const h=new m.Emitter,g=(0,N.getIconRegistry)();return g.onDidChange(()=>h.fire()),C==null||C.onDidProductIconThemeChange(()=>h.fire()),{onDidChange:h.event,getCSS(){const t=C?C.getProductIconTheme():new b,i={},n=d=>{const c=t.getIcon(d);if(!c)return;const s=c.font;return s?(i[s.id]=s.getDefinition(),`.codicon-${d.id}:before { content: '${c.fontCharacter}'; font-family: ${(0,y.asCSSPropertyValue)(s.id)}; }`):`.codicon-${d.id}:before { content: '${c.fontCharacter}'; }`},o=[];for(let d of g.getIcons()){const c=n(d);c&&o.push(c)}for(let d in i){const c=i[d];if(c){const s=c.weight?`font-weight: ${c.weight};`:"",a=c.style?`font-style: ${c.style};`:"",r=c.src.map(l=>`${(0,y.asCSSUrl)(l.location)} format('${l.format}')`).join(", ");o.push(`@font-face { src: ${r}; font-family: ${(0,y.asCSSPropertyValue)(d)};${s}${a} font-display: block; }`)}}return o.join(`
`)}}}e.getIconsStyleSheet=S;class b{getIcon(h){const g=(0,N.getIconRegistry)();let t=h.defaults;for(;I.ThemeIcon.isThemeIcon(t);){const i=g.getIcon(t.id);if(!i)return;t=i.defaults}return t}}e.UnthemedProductIconTheme=b}),define(ee[692],te([0,1,7,29,4,18,406,652,36,23,13,2,131,691]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=void 0;const o="vs",d="vs-dark",c="hc-black",s=C.Registry.as(h.Extensions.ColorContribution),a=C.Registry.as(g.Extensions.ThemingContribution);class r{constructor(p,_){this.semanticHighlighting=!1,this.themeData=_;const L=_.base;p.length>0?(l(p)?this.id=p:this.id=L+" "+p,this.themeName=p):(this.id=L,this.themeName=L),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const p=new Map;for(let _ in this.themeData.colors)p.set(_,m.Color.fromHex(this.themeData.colors[_]));if(this.themeData.inherit){const _=u(this.themeData.base);for(let L in _.colors)p.has(L)||p.set(L,m.Color.fromHex(_.colors[L]))}this.colors=p}return this.colors}getColor(p,_){const L=this.getColors().get(p);if(L)return L;if(_!==!1)return this.getDefault(p)}getDefault(p){let _=this.defaultColors[p];return _||(_=s.resolveDefaultColor(p,this),this.defaultColors[p]=_,_)}defines(p){return Object.prototype.hasOwnProperty.call(this.getColors(),p)}get type(){switch(this.base){case o:return i.ColorScheme.LIGHT;case c:return i.ColorScheme.HIGH_CONTRAST;default:return i.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let p=[],_=[];if(this.themeData.inherit){const M=u(this.themeData.base);p=M.rules,M.encodedTokensColors&&(_=M.encodedTokensColors)}const L=this.themeData.colors["editor.foreground"],E=this.themeData.colors["editor.background"];if(L||E){const M={token:""};L&&(M.foreground=L),E&&(M.background=E),p.push(M)}p=p.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(_=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(p,_)}return this._tokenTheme}getTokenStyleMetadata(p,_,L){const M=this.tokenTheme._match([p].concat(_).join(".")).metadata,k=I.TokenMetadata.getForeground(M),A=I.TokenMetadata.getFontStyle(M);return{foreground:k,italic:Boolean(A&1),bold:Boolean(A&2),underline:Boolean(A&4),strikethrough:Boolean(A&8)}}}function l(v){return v===o||v===d||v===c}function u(v){switch(v){case o:return b.vs;case d:return b.vs_dark;case c:return b.hc_black}}function f(v){const p=u(v);return new r(v,p)}class w extends t.Disposable{constructor(){super();this._onColorThemeChange=this._register(new N.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new N.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new n.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(o,f(o)),this._knownThemes.set(d,f(d)),this._knownThemes.set(c,f(c));const p=(0,n.getIconsStyleSheet)(this);this._codiconCSS=p.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(o),p.onDidChange(()=>{this._codiconCSS=p.getCSS(),this._updateCSS()}),y.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(p){return y.isInShadowDOM(p)?this._registerShadowDomContainer(p):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=y.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),t.Disposable.None}_registerShadowDomContainer(p){const _=y.createStyleSheet(p);return _.className="monaco-colors",_.textContent=this._allCSS,this._styleElements.push(_),{dispose:()=>{for(let L=0;L<this._styleElements.length;L++)if(this._styleElements[L]===_){this._styleElements.splice(L,1);return}}}}defineTheme(p,_){if(!/^[a-z0-9\-]+$/i.test(p))throw new Error("Illegal theme name!");if(!l(_.base)&&!l(p))throw new Error("Illegal theme base!");this._knownThemes.set(p,new r(p,_)),l(p)&&this._knownThemes.forEach(L=>{L.base===p&&L.notifyBaseUpdated()}),this._theme.themeName===p&&this.setTheme(p)}getColorTheme(){return this._theme}setColorMapOverride(p){this._colorMapOverride=p,this._updateThemeOrColorMap()}setTheme(p){let _;this._knownThemes.has(p)?_=this._knownThemes.get(p):_=this._knownThemes.get(o),this._desiredTheme=_,this._updateActualTheme()}_updateActualTheme(){const p=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(c):this._desiredTheme;this._theme!==p&&(this._theme=p,this._updateThemeOrColorMap())}setAutoDetectHighContrast(p){this._autoDetectHighContrast=p,this._updateActualTheme()}_updateThemeOrColorMap(){const p=[],_={},L={addRule:k=>{_[k]||(p.push(k),_[k]=!0)}};a.getThemingParticipants().forEach(k=>k(this._theme,L,this._environment));const E=[];for(const k of s.getColors()){const A=this._theme.getColor(k.id,!0);A&&E.push(`${(0,h.asCssVariableName)(k.id)}: ${A.toString()};`)}L.addRule(`.monaco-editor { ${E.join(`
`)} }`);const M=this._colorMapOverride||this._theme.tokenTheme.getColorMap();L.addRule((0,S.generateTokensCSSForColorMap)(M)),this._themeCSS=p.join(`
`),this._updateCSS(),I.TokenizationRegistry.setColorMap(M),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(p=>p.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=w}),define(ee[156],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,y.createDecorator)("undoRedoService");class m{constructor(b,C){this.resource=b,this.elements=C}}e.ResourceEditStackSnapshot=m;class N{constructor(){this.id=N._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=N,N._ID=0,N.None=new N;class I{constructor(){this.id=I._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=I,I._ID=0,I.None=new I}),define(ee[32],te([0,1,19,29,14,4,2,8,25,30,11,3,22,50,587,643,260,177,412,413,241,416,91,147,588,119,590,591,148,35,34,156]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E,M,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function F(){return new u.PieceTreeTextBufferBuilder}function B(de){const q=F();return q.acceptChunk(de),q.finish()}e.createTextBufferFactory=B;function T(de,q){return(typeof de=="string"?B(de):de).create(q)}e.createTextBuffer=T;let R=0;const O=999;e.LONG_LINE_BOUNDARY=1e4;class P{constructor(q){this._source=q,this._eos=!1}read(){if(this._eos)return null;const q=[];let z=0,$=0;do{const ie=this._source.read();if(ie===null)return this._eos=!0,z===0?null:q.join("");if(ie.length>0&&(q[z++]=ie,$+=ie.length),$>=64*1024)return q.join("")}while(!0)}}const D=()=>{throw new Error("Invalid change accessor")};let x=class vt extends S.Disposable{constructor(q,z,$,ie=null,ce,oe,he){super();this._undoRedoService=ce,this._languageService=oe,this._languageConfigurationService=he,this._onWillDispose=this._register(new I.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ae(ue=>this.handleBeforeFireDecorationsChangedEvent(ue))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new I.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new I.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new I.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new I.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new I.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new I.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new J),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new I.Emitter),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(ue=>{this._onDidChangeContentOrInjectedText.fire(ue.rawContentChangedEvent)})),R++,this.id="$model"+R,this.isForSimpleWidget=$.isForSimpleWidget,typeof ie=="undefined"||ie===null?this._associatedResource=C.URI.parse("inmemory://model/"+R):this._associatedResource=ie,this._attachedEditorCount=0;const{textBuffer:ve,disposable:Se}=T(q,$.defaultEOL);this._buffer=ve,this._bufferDisposable=Se,this._options=vt.resolveOptions(this._buffer,$);const le=this._buffer.getLineCount(),ge=this._buffer.getValueLengthInRange(new t.Range(1,1,le,this._buffer.getLineLength(le)+1),0);$.largeFileOptimizations?this._isTooLargeForTokenization=ge>vt.LARGE_FILE_SIZE_THRESHOLD||le>vt.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=ge>vt.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=z,this._languageRegistryListener=this._languageConfigurationService.onDidChange(ue=>{ue.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=b.singleLetterHash(R),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new G,this._commandManager=new c.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new _.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new L.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new v.TextModelTokenization(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new o.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new s.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new d.ColorizedBracketPairsDecorationProvider(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(q,z){if(z.detectIndentation){const $=(0,a.guessIndentation)(q,z.tabSize,z.insertSpaces);return new n.TextModelResolvedOptions({tabSize:$.tabSize,indentSize:$.tabSize,insertSpaces:$.insertSpaces,trimAutoWhitespace:z.trimAutoWhitespace,defaultEOL:z.defaultEOL,bracketPairColorizationOptions:z.bracketPairColorizationOptions})}return new n.TextModelResolvedOptions({tabSize:z.tabSize,indentSize:z.indentSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:z.trimAutoWhitespace,defaultEOL:z.defaultEOL,bracketPairColorizationOptions:z.bracketPairColorizationOptions})}onDidChangeContentFast(q){return this._eventEmitter.fastEvent(z=>q(z.contentChangedEvent))}onDidChangeContent(q){return this._eventEmitter.slowEvent(z=>q(z.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(q){if(this._backgroundTokenizationState===2)return;const z=q?2:1;this._backgroundTokenizationState!==z&&(this._backgroundTokenizationState=z,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const q=new l.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);q.dispose(),this._buffer=q}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(q,z){this._bracketPairColorizer.handleContentChanged(z),!this._isDisposing&&this._eventEmitter.fire(new f.InternalModelContentChangeEvent(q,z))}setValue(q){if(this._assertNotDisposed(),q===null)return;const{textBuffer:z,disposable:$}=T(q,this._options.defaultEOL);this._setValueFromTextBuffer(z,$)}_createContentChanged2(q,z,$,ie,ce,oe,he){return{changes:[{range:q,rangeOffset:z,rangeLength:$,text:ie}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:ce,isRedoing:oe,isFlush:he}}_setValueFromTextBuffer(q,z){this._assertNotDisposed();const $=this.getFullModelRange(),ie=this.getValueLengthInRange($),ce=this.getLineCount(),oe=this.getLineMaxColumn(ce);this._buffer=q,this._bufferDisposable.dispose(),this._bufferDisposable=z,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new G,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new f.ModelRawContentChangedEvent([new f.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new t.Range(1,1,ce,oe),0,ie,this.getValue(),!1,!1,!0))}setEOL(q){this._assertNotDisposed();const z=q===1?`\r
`:`
`;if(this._buffer.getEOL()===z)return;const $=this.getFullModelRange(),ie=this.getValueLengthInRange($),ce=this.getLineCount(),oe=this.getLineMaxColumn(ce);this._onBeforeEOLChange(),this._buffer.setEOL(z),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new f.ModelRawContentChangedEvent([new f.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new t.Range(1,1,ce,oe),0,ie,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const q=this.getVersionId(),z=this._decorationsTree.collectNodesPostOrder();for(let $=0,ie=z.length;$<ie;$++){const ce=z[$],oe=ce.range,he=ce.cachedAbsoluteStart-ce.start,ve=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),Se=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);ce.cachedAbsoluteStart=ve,ce.cachedAbsoluteEnd=Se,ce.cachedVersionId=q,ce.start=ve-he,ce.end=Se-he,(0,r.recomputeMaxEnd)(ce)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let q=0,z=0;const $=this._buffer.getLineCount();for(let ie=1;ie<=$;ie++){const ce=this._buffer.getLineLength(ie);ce>=e.LONG_LINE_BOUNDARY?z+=ce:q+=ce}return z>q}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(q){this._assertNotDisposed();const z=typeof q.tabSize!="undefined"?q.tabSize:this._options.tabSize,$=typeof q.indentSize!="undefined"?q.indentSize:this._options.indentSize,ie=typeof q.insertSpaces!="undefined"?q.insertSpaces:this._options.insertSpaces,ce=typeof q.trimAutoWhitespace!="undefined"?q.trimAutoWhitespace:this._options.trimAutoWhitespace,oe=typeof q.bracketColorizationOptions!="undefined"?q.bracketColorizationOptions:this._options.bracketPairColorizationOptions,he=new n.TextModelResolvedOptions({tabSize:z,indentSize:$,insertSpaces:ie,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:ce,bracketPairColorizationOptions:oe});if(this._options.equals(he))return;const ve=this._options.createChangeEvent(he);this._options=he,this._onDidChangeOptions.fire(ve)}detectIndentation(q,z){this._assertNotDisposed();const $=(0,a.guessIndentation)(this._buffer,z,q);this.updateOptions({insertSpaces:$.insertSpaces,tabSize:$.tabSize,indentSize:$.tabSize})}static _normalizeIndentationFromWhitespace(q,z,$){let ie=0;for(let oe=0;oe<q.length;oe++)q.charAt(oe)==="	"?ie+=z:ie++;let ce="";if(!$){const oe=Math.floor(ie/z);ie=ie%z;for(let he=0;he<oe;he++)ce+="	"}for(let oe=0;oe<ie;oe++)ce+=" ";return ce}static normalizeIndentation(q,z,$){let ie=b.firstNonWhitespaceIndex(q);return ie===-1&&(ie=q.length),vt._normalizeIndentationFromWhitespace(q.substring(0,ie),z,$)+q.substring(ie)}normalizeIndentation(q){return this._assertNotDisposed(),vt.normalizeIndentation(q,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(q=null){const z=this.findMatches(b.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(q,z.map($=>({range:$.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(q){this._assertNotDisposed();const z=this._validatePosition(q.lineNumber,q.column,0);return this._buffer.getOffsetAt(z.lineNumber,z.column)}getPositionAt(q){this._assertNotDisposed();const z=Math.min(this._buffer.getLength(),Math.max(0,q));return this._buffer.getPositionAt(z)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(q){this._versionId=q}_overwriteAlternativeVersionId(q){this._alternativeVersionId=q}_overwriteInitialUndoRedoSnapshot(q){this._initialUndoRedoSnapshot=q}getValue(q,z=!1){this._assertNotDisposed();const $=this.getFullModelRange(),ie=this.getValueInRange($,q);return z?this._buffer.getBOM()+ie:ie}createSnapshot(q=!1){return new P(this._buffer.createSnapshot(q))}getValueLength(q,z=!1){this._assertNotDisposed();const $=this.getFullModelRange(),ie=this.getValueLengthInRange($,q);return z?this._buffer.getBOM().length+ie:ie}getValueInRange(q,z=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(q),z)}getValueLengthInRange(q,z=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(q),z)}getCharacterCountInRange(q,z=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(q),z)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(q)}getLineLength(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(q)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(q){return this._assertNotDisposed(),1}getLineMaxColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(q)+1}getLineFirstNonWhitespaceColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(q)}getLineLastNonWhitespaceColumn(q){if(this._assertNotDisposed(),q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(q)}_validateRangeRelaxedNoAllocations(q){const z=this._buffer.getLineCount(),$=q.startLineNumber,ie=q.startColumn;let ce=Math.floor(typeof $=="number"&&!isNaN($)?$:1),oe=Math.floor(typeof ie=="number"&&!isNaN(ie)?ie:1);if(ce<1)ce=1,oe=1;else if(ce>z)ce=z,oe=this.getLineMaxColumn(ce);else if(oe<=1)oe=1;else{const ge=this.getLineMaxColumn(ce);oe>=ge&&(oe=ge)}const he=q.endLineNumber,ve=q.endColumn;let Se=Math.floor(typeof he=="number"&&!isNaN(he)?he:1),le=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(Se<1)Se=1,le=1;else if(Se>z)Se=z,le=this.getLineMaxColumn(Se);else if(le<=1)le=1;else{const ge=this.getLineMaxColumn(Se);le>=ge&&(le=ge)}return $===ce&&ie===oe&&he===Se&&ve===le&&q instanceof t.Range&&!(q instanceof i.Selection)?q:new t.Range(ce,oe,Se,le)}_isValidPosition(q,z,$){if(typeof q!="number"||typeof z!="number"||isNaN(q)||isNaN(z)||q<1||z<1||(q|0)!==q||(z|0)!==z)return!1;const ie=this._buffer.getLineCount();if(q>ie)return!1;if(z===1)return!0;const ce=this.getLineMaxColumn(q);if(z>ce)return!1;if($===1){const oe=this._buffer.getLineCharCode(q,z-2);if(b.isHighSurrogate(oe))return!1}return!0}_validatePosition(q,z,$){const ie=Math.floor(typeof q=="number"&&!isNaN(q)?q:1),ce=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),oe=this._buffer.getLineCount();if(ie<1)return new g.Position(1,1);if(ie>oe)return new g.Position(oe,this.getLineMaxColumn(oe));if(ce<=1)return new g.Position(ie,1);const he=this.getLineMaxColumn(ie);if(ce>=he)return new g.Position(ie,he);if($===1){const ve=this._buffer.getLineCharCode(ie,ce-2);if(b.isHighSurrogate(ve))return new g.Position(ie,ce-1)}return new g.Position(ie,ce)}validatePosition(q){const z=1;return this._assertNotDisposed(),q instanceof g.Position&&this._isValidPosition(q.lineNumber,q.column,z)?q:this._validatePosition(q.lineNumber,q.column,z)}_isValidRange(q,z){const $=q.startLineNumber,ie=q.startColumn,ce=q.endLineNumber,oe=q.endColumn;if(!this._isValidPosition($,ie,0)||!this._isValidPosition(ce,oe,0))return!1;if(z===1){const he=ie>1?this._buffer.getLineCharCode($,ie-2):0,ve=oe>1&&oe<=this._buffer.getLineLength(ce)?this._buffer.getLineCharCode(ce,oe-2):0,Se=b.isHighSurrogate(he),le=b.isHighSurrogate(ve);return!Se&&!le}return!0}validateRange(q){const z=1;if(this._assertNotDisposed(),q instanceof t.Range&&!(q instanceof i.Selection)&&this._isValidRange(q,z))return q;const $=this._validatePosition(q.startLineNumber,q.startColumn,0),ie=this._validatePosition(q.endLineNumber,q.endColumn,0),ce=$.lineNumber,oe=$.column,he=ie.lineNumber,ve=ie.column;if(z===1){const Se=oe>1?this._buffer.getLineCharCode(ce,oe-2):0,le=ve>1&&ve<=this._buffer.getLineLength(he)?this._buffer.getLineCharCode(he,ve-2):0,ge=b.isHighSurrogate(Se),ue=b.isHighSurrogate(le);return!ge&&!ue?new t.Range(ce,oe,he,ve):ce===he&&oe===ve?new t.Range(ce,oe-1,he,ve-1):ge&&ue?new t.Range(ce,oe-1,he,ve+1):ge?new t.Range(ce,oe-1,he,ve):new t.Range(ce,oe,he,ve+1)}return new t.Range(ce,oe,he,ve)}modifyPosition(q,z){this._assertNotDisposed();const $=this.getOffsetAt(q)+z;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,$)))}getFullModelRange(){this._assertNotDisposed();const q=this.getLineCount();return new t.Range(1,1,q,this.getLineMaxColumn(q))}findMatchesLineByLine(q,z,$,ie){return this._buffer.findMatchesLineByLine(q,z,$,ie)}findMatches(q,z,$,ie,ce,oe,he=O){this._assertNotDisposed();let ve=null;z!==null&&(Array.isArray(z)||(z=[z]),z.every(ge=>t.Range.isIRange(ge))&&(ve=z.map(ge=>this.validateRange(ge)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((ge,ue)=>ge.startLineNumber-ue.startLineNumber||ge.startColumn-ue.startColumn);const Se=[];Se.push(ve.reduce((ge,ue)=>t.Range.areIntersecting(ge,ue)?ge.plusRange(ue):(Se.push(ge),ue)));let le;if(!$&&q.indexOf(`
`)<0){const ue=new w.SearchParams(q,$,ie,ce).parseSearchRequest();if(!ue)return[];le=be=>this.findMatchesLineByLine(be,ue,oe,he)}else le=ge=>w.TextModelSearch.findMatches(this,new w.SearchParams(q,$,ie,ce),ge,oe,he);return Se.map(le).reduce((ge,ue)=>ge.concat(ue),[])}findNextMatch(q,z,$,ie,ce,oe){this._assertNotDisposed();const he=this.validatePosition(z);if(!$&&q.indexOf(`
`)<0){const Se=new w.SearchParams(q,$,ie,ce).parseSearchRequest();if(!Se)return null;const le=this.getLineCount();let ge=new t.Range(he.lineNumber,he.column,le,this.getLineMaxColumn(le)),ue=this.findMatchesLineByLine(ge,Se,oe,1);return w.TextModelSearch.findNextMatch(this,new w.SearchParams(q,$,ie,ce),he,oe),ue.length>0||(ge=new t.Range(1,1,he.lineNumber,this.getLineMaxColumn(he.lineNumber)),ue=this.findMatchesLineByLine(ge,Se,oe,1),ue.length>0)?ue[0]:null}return w.TextModelSearch.findNextMatch(this,new w.SearchParams(q,$,ie,ce),he,oe)}findPreviousMatch(q,z,$,ie,ce,oe){this._assertNotDisposed();const he=this.validatePosition(z);return w.TextModelSearch.findPreviousMatch(this,new w.SearchParams(q,$,ie,ce),he,oe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(q){if((this.getEOL()===`
`?0:1)!==q)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(q){return q instanceof n.ValidAnnotatedEditOperation?q:new n.ValidAnnotatedEditOperation(q.identifier||null,this.validateRange(q.range),q.text,q.forceMoveMarkers||!1,q.isAutoWhitespaceEdit||!1,q._isTracked||!1)}_validateEditOperations(q){const z=[];for(let $=0,ie=q.length;$<ie;$++)z[$]=this._validateEditOperation(q[$]);return z}pushEditOperations(q,z,$){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(q,this._validateEditOperations(z),$)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(q,z,$){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const ie=z.map(oe=>({range:this.validateRange(oe.range),text:oe.text}));let ce=!0;if(q)for(let oe=0,he=q.length;oe<he;oe++){const ve=q[oe];let Se=!1;for(let le=0,ge=ie.length;le<ge;le++){const ue=ie[le].range,be=ue.startLineNumber>ve.endLineNumber,re=ve.startLineNumber>ue.endLineNumber;if(!be&&!re){Se=!0;break}}if(!Se){ce=!1;break}}if(ce)for(let oe=0,he=this._trimAutoWhitespaceLines.length;oe<he;oe++){const ve=this._trimAutoWhitespaceLines[oe],Se=this.getLineMaxColumn(ve);let le=!0;for(let ge=0,ue=ie.length;ge<ue;ge++){const be=ie[ge].range,re=ie[ge].text;if(!(ve<be.startLineNumber||ve>be.endLineNumber)&&!(ve===be.startLineNumber&&be.startColumn===Se&&be.isEmpty()&&re&&re.length>0&&re.charAt(0)===`
`)&&!(ve===be.startLineNumber&&be.startColumn===1&&be.isEmpty()&&re&&re.length>0&&re.charAt(re.length-1)===`
`)){le=!1;break}}if(le){const ge=new t.Range(ve,1,ve,Se);z.push(new n.ValidAnnotatedEditOperation(null,ge,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(q,z,$)}_applyUndo(q,z,$,ie){const ce=q.map(oe=>{const he=this.getPositionAt(oe.newPosition),ve=this.getPositionAt(oe.newEnd);return{range:new t.Range(he.lineNumber,he.column,ve.lineNumber,ve.column),text:oe.oldText}});this._applyUndoRedoEdits(ce,z,!0,!1,$,ie)}_applyRedo(q,z,$,ie){const ce=q.map(oe=>{const he=this.getPositionAt(oe.oldPosition),ve=this.getPositionAt(oe.oldEnd);return{range:new t.Range(he.lineNumber,he.column,ve.lineNumber,ve.column),text:oe.newText}});this._applyUndoRedoEdits(ce,z,!1,!0,$,ie)}_applyUndoRedoEdits(q,z,$,ie,ce,oe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=$,this._isRedoing=ie,this.applyEdits(q,!1),this.setEOL(z),this._overwriteAlternativeVersionId(ce)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(oe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(q,z=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const $=this._validateEditOperations(q);return this._doApplyEdits($,z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(q,z){const $=this._buffer.getLineCount(),ie=this._buffer.applyEdits(q,this._options.trimAutoWhitespace,z),ce=this._buffer.getLineCount(),oe=ie.changes;if(this._trimAutoWhitespaceLines=ie.trimAutoWhitespaceLineNumbers,oe.length!==0){for(let Se=0,le=oe.length;Se<le;Se++){const ge=oe[Se],[ue,be,re]=(0,p.countEOL)(ge.text);this._tokens.acceptEdit(ge.range,ue,be),this._semanticTokens.acceptEdit(ge.range,ue,be,re,ge.text.length>0?ge.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(ge.rangeOffset,ge.rangeLength,ge.text.length,ge.forceMoveMarkers)}const he=[];this._increaseVersionId();let ve=$;for(let Se=0,le=oe.length;Se<le;Se++){const ge=oe[Se],[ue]=(0,p.countEOL)(ge.text);this._onDidChangeDecorations.fire();const be=ge.range.startLineNumber,re=ge.range.endLineNumber,fe=re-be,ye=ue,Me=Math.min(fe,ye),Oe=ye-fe,He=ce-ve-Oe+be,Ve=He,Ge=He+ye,Je=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new g.Position(Ve,1)),this.getOffsetAt(new g.Position(Ge,this.getLineMaxColumn(Ge))),0),Ze=f.LineInjectedText.fromDecorations(Je),et=new y.ArrayQueue(Ze);for(let Ee=Me;Ee>=0;Ee--){const Ie=be+Ee,Re=He+Ee;et.takeFromEndWhile(Ne=>Ne.lineNumber>Re);const Ue=et.takeFromEndWhile(Ne=>Ne.lineNumber===Re);he.push(new f.ModelRawLineChanged(Ie,this.getLineContent(Re),Ue))}if(Me<fe){const Ee=be+Me;he.push(new f.ModelRawLinesDeleted(Ee+1,re))}if(Me<ye){const Ee=new y.ArrayQueue(Ze),Ie=be+Me,Re=ye-Me,Ue=ce-ve-Re+Ie+1,Ne=[],ke=[];for(let Te=0;Te<Re;Te++){const pe=Ue+Te;ke[Te]=this.getLineContent(pe),Ee.takeWhile(Ce=>Ce.lineNumber<pe),Ne[Te]=Ee.takeWhile(Ce=>Ce.lineNumber===pe)}he.push(new f.ModelRawLinesInserted(Ie+1,be+ye,ke,Ne))}ve+=Oe}this._emitContentChangedEvent(new f.ModelRawContentChangedEvent(he,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:oe,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ie.reverseEdits===null?void 0:ie.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(q){if(q===null||q.size===0)return;const $=[...q].map(ie=>new f.ModelRawLineChanged(ie,this.getLineContent(ie),this._getInjectedTextInLine(ie)));this._onDidChangeContentOrInjectedText.fire(new f.ModelInjectedTextChangedEvent($))}changeDecorations(q,z=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(z,q)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(q,z){const $={addDecoration:(ce,oe)=>this._deltaDecorationsImpl(q,[],[{range:ce,options:oe}])[0],changeDecoration:(ce,oe)=>{this._changeDecorationImpl(ce,oe)},changeDecorationOptions:(ce,oe)=>{this._changeDecorationOptionsImpl(ce,X(oe))},removeDecoration:ce=>{this._deltaDecorationsImpl(q,[ce],[])},deltaDecorations:(ce,oe)=>ce.length===0&&oe.length===0?[]:this._deltaDecorationsImpl(q,ce,oe)};let ie=null;try{ie=z($)}catch(ce){(0,N.onUnexpectedError)(ce)}return $.addDecoration=D,$.changeDecoration=D,$.changeDecorationOptions=D,$.removeDecoration=D,$.deltaDecorations=D,ie}deltaDecorations(q,z,$=0){if(this._assertNotDisposed(),q||(q=[]),q.length===0&&z.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl($,q,z)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(q){return this.getDecorationRange(q)}_setTrackedRange(q,z,$){const ie=q?this._decorations[q]:null;if(!ie)return z?this._deltaDecorationsImpl(0,[],[{range:z,options:Y[$]}])[0]:null;if(!z)return this._decorationsTree.delete(ie),delete this._decorations[ie.id],null;const ce=this._validateRangeRelaxedNoAllocations(z),oe=this._buffer.getOffsetAt(ce.startLineNumber,ce.startColumn),he=this._buffer.getOffsetAt(ce.endLineNumber,ce.endColumn);return this._decorationsTree.delete(ie),ie.reset(this.getVersionId(),oe,he,ce),ie.setOptions(Y[$]),this._decorationsTree.insert(ie),ie.id}removeAllDecorationsWithOwnerId(q){if(this._isDisposed)return;const z=this._decorationsTree.collectNodesFromOwner(q);for(let $=0,ie=z.length;$<ie;$++){const ce=z[$];this._decorationsTree.delete(ce),delete this._decorations[ce.id]}}getDecorationOptions(q){const z=this._decorations[q];return z?z.options:null}getDecorationRange(q){const z=this._decorations[q];return z?this._decorationsTree.getNodeRange(this,z):null}getLineDecorations(q,z=0,$=!1){return q<1||q>this.getLineCount()?[]:this.getLinesDecorations(q,q,z,$)}getLinesDecorations(q,z,$=0,ie=!1){const ce=this.getLineCount(),oe=Math.min(ce,Math.max(1,q)),he=Math.min(ce,Math.max(1,z)),ve=this.getLineMaxColumn(he),Se=new t.Range(oe,1,he,ve),le=this._getDecorationsInRange(Se,$,ie);return le.push(...this._decorationProvider.getDecorationsInRange(Se,$,ie)),le}getDecorationsInRange(q,z=0,$=!1){const ie=this.validateRange(q),ce=this._getDecorationsInRange(ie,z,$);return ce.push(...this._decorationProvider.getDecorationsInRange(ie,z,$)),ce}getOverviewRulerDecorations(q=0,z=!1){return this._decorationsTree.getAll(this,q,z,!0)}getInjectedTextDecorations(q=0){return this._decorationsTree.getAllInjectedText(this,q)}_getInjectedTextInLine(q){const z=this._buffer.getOffsetAt(q,1),$=z+this._buffer.getLineLength(q),ie=this._decorationsTree.getInjectedTextInInterval(this,z,$,0);return f.LineInjectedText.fromDecorations(ie).filter(ce=>ce.lineNumber===q)}getAllDecorations(q=0,z=!1){let $=this._decorationsTree.getAll(this,q,z,!1);return $=$.concat(this._decorationProvider.getAllDecorations(q,z)),$}_getDecorationsInRange(q,z,$){const ie=this._buffer.getOffsetAt(q.startLineNumber,q.startColumn),ce=this._buffer.getOffsetAt(q.endLineNumber,q.endColumn);return this._decorationsTree.getAllInInterval(this,ie,ce,z,$)}getRangeAt(q,z){return this._buffer.getRangeAt(q,z-q)}_changeDecorationImpl(q,z){const $=this._decorations[q];if(!$)return;if($.options.after){const he=this.getDecorationRange(q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.endLineNumber)}if($.options.before){const he=this.getDecorationRange(q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.startLineNumber)}const ie=this._validateRangeRelaxedNoAllocations(z),ce=this._buffer.getOffsetAt(ie.startLineNumber,ie.startColumn),oe=this._buffer.getOffsetAt(ie.endLineNumber,ie.endColumn);this._decorationsTree.delete($),$.reset(this.getVersionId(),ce,oe,ie),this._decorationsTree.insert($),this._onDidChangeDecorations.checkAffectedAndFire($.options),$.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ie.endLineNumber),$.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ie.startLineNumber)}_changeDecorationOptionsImpl(q,z){const $=this._decorations[q];if(!$)return;const ie=!!($.options.overviewRuler&&$.options.overviewRuler.color),ce=!!(z.overviewRuler&&z.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire($.options),this._onDidChangeDecorations.checkAffectedAndFire(z),$.options.after||z.after){const oe=this._decorationsTree.getNodeRange(this,$);this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.endLineNumber)}if($.options.before||z.before){const oe=this._decorationsTree.getNodeRange(this,$);this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.startLineNumber)}ie!==ce?(this._decorationsTree.delete($),$.setOptions(z),this._decorationsTree.insert($)):$.setOptions(z)}_deltaDecorationsImpl(q,z,$){const ie=this.getVersionId(),ce=z.length;let oe=0;const he=$.length;let ve=0;const Se=new Array(he);for(;oe<ce||ve<he;){let le=null;if(oe<ce){do le=this._decorations[z[oe++]];while(!le&&oe<ce);if(le){if(le.options.after){const ge=this._decorationsTree.getNodeRange(this,le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.endLineNumber)}if(le.options.before){const ge=this._decorationsTree.getNodeRange(this,le);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.startLineNumber)}this._decorationsTree.delete(le),this._onDidChangeDecorations.checkAffectedAndFire(le.options)}}if(ve<he){if(!le){const ye=++this._lastDecorationId,Me=`${this._instanceId};${ye}`;le=new r.IntervalNode(Me,0,0),this._decorations[Me]=le}const ge=$[ve],ue=this._validateRangeRelaxedNoAllocations(ge.range),be=X(ge.options),re=this._buffer.getOffsetAt(ue.startLineNumber,ue.startColumn),fe=this._buffer.getOffsetAt(ue.endLineNumber,ue.endColumn);le.ownerId=q,le.reset(ie,re,fe,ue),le.setOptions(be),le.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.endLineNumber),le.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(be),this._decorationsTree.insert(le),Se[ve]=le.id,ve++}else le&&delete this._decorations[le.id]}return Se}setTokens(q,z=!1){if(q.length!==0){const $=[];for(let ie=0,ce=q.length;ie<ce;ie++){const oe=q[ie];let he=0,ve=0,Se=!1;for(let le=oe.startLineNumber;le<=oe.endLineNumber;le++)Se?(this._tokens.setTokens(this._languageId,le-1,this._buffer.getLineLength(le),oe.getLineTokens(le),!1),ve=le):this._tokens.setTokens(this._languageId,le-1,this._buffer.getLineLength(le),oe.getLineTokens(le),!0)&&(Se=!0,he=le,ve=le);Se&&$.push({fromLineNumber:he,toLineNumber:ve})}$.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:$})}this.handleTokenizationProgress(z)}setSemanticTokens(q,z){this._semanticTokens.set(q,z),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:q!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(q,z){if(this.hasCompleteSemanticTokens())return;const $=this._semanticTokens.setPartial(q,z);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:$.startLineNumber,toLineNumber:$.endLineNumber}]})}tokenizeViewport(q,z){q=Math.max(1,q),z=Math.min(this._buffer.getLineCount(),z),this._tokenization.tokenizeViewport(q,z)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(q){this._isDisposing||this._onDidChangeTokens.fire(q)}resetTokenization(){this._tokenization.reset()}forceTokenization(q){if(q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(q)}isCheapToTokenize(q){return this._tokenization.isCheapToTokenize(q)}tokenizeIfCheap(q){this.isCheapToTokenize(q)&&this.forceTokenization(q)}getLineTokens(q){if(q<1||q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(q)}_getLineTokens(q){const z=this.getLineContent(q),$=this._tokens.getTokens(this._languageId,q-1,z);return this._semanticTokens.addSparseTokens(q,$)}getLanguageId(){return this._languageId}setMode(q){if(this._languageId===q)return;const z={oldLanguage:this._languageId,newLanguage:q};this._languageId=q,this._onDidChangeLanguage.fire(z),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(q,z){const $=this.validatePosition(new g.Position(q,z)),ie=this.getLineTokens($.lineNumber);return ie.getLanguageId(ie.findTokenIndexAtOffset($.column-1))}getTokenTypeIfInsertingCharacter(q,z,$){const ie=this.validatePosition(new g.Position(q,z));return this._tokenization.getTokenTypeIfInsertingCharacter(ie,$)}getLanguageConfiguration(q){return this._languageConfigurationService.getLanguageConfiguration(q)}getWordAtPosition(q){this._assertNotDisposed();const z=this.validatePosition(q),$=this.getLineContent(z.lineNumber),ie=this._getLineTokens(z.lineNumber),ce=ie.findTokenIndexAtOffset(z.column-1),[oe,he]=vt._findLanguageBoundaries(ie,ce),ve=(0,E.getWordAtText)(z.column,this.getLanguageConfiguration(ie.getLanguageId(ce)).getWordDefinition(),$.substring(oe,he),oe);if(ve&&ve.startColumn<=q.column&&q.column<=ve.endColumn)return ve;if(ce>0&&oe===z.column-1){const[Se,le]=vt._findLanguageBoundaries(ie,ce-1),ge=(0,E.getWordAtText)(z.column,this.getLanguageConfiguration(ie.getLanguageId(ce-1)).getWordDefinition(),$.substring(Se,le),Se);if(ge&&ge.startColumn<=q.column&&q.column<=ge.endColumn)return ge}return null}static _findLanguageBoundaries(q,z){const $=q.getLanguageId(z);let ie=0;for(let oe=z;oe>=0&&q.getLanguageId(oe)===$;oe--)ie=q.getStartOffset(oe);let ce=q.getLineContent().length;for(let oe=z,he=q.getCount();oe<he&&q.getLanguageId(oe)===$;oe++)ce=q.getEndOffset(oe);return[ie,ce]}getWordUntilPosition(q){const z=this.getWordAtPosition(q);return z?{word:z.word.substr(0,q.column-z.startColumn),startColumn:z.startColumn,endColumn:q.column}:{word:"",startColumn:q.column,endColumn:q.column}}normalizePosition(q,z){return q}getLineIndentColumn(q){return H(this.getLineContent(q))+1}};x.MODEL_SYNC_LIMIT=50*1024*1024,x.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,x.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,x.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:h.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:h.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:h.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:h.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:h.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:h.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},x=Be([me(4,A.IUndoRedoService),me(5,k.ILanguageService),me(6,M.ILanguageConfigurationService)],x),e.TextModel=x;function H(de){let q=0;for(const z of de)if(z===" "||z==="	")q++;else break;return q}function j(de){return!!(de.options.overviewRuler&&de.options.overviewRuler.color)}function Q(de){return!!de.options.after||!!de.options.before}class G{constructor(){this._decorationsTree0=new r.IntervalTree,this._decorationsTree1=new r.IntervalTree,this._injectedTextDecorationsTree=new r.IntervalTree}ensureAllNodesHaveRanges(q){this.getAll(q,0,!1,!1)}_ensureNodesHaveRanges(q,z){for(const $ of z)$.range===null&&($.range=q.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd));return z}getAllInInterval(q,z,$,ie,ce){const oe=q.getVersionId(),he=this._intervalSearch(z,$,ie,ce,oe);return this._ensureNodesHaveRanges(q,he)}_intervalSearch(q,z,$,ie,ce){const oe=this._decorationsTree0.intervalSearch(q,z,$,ie,ce),he=this._decorationsTree1.intervalSearch(q,z,$,ie,ce),ve=this._injectedTextDecorationsTree.intervalSearch(q,z,$,ie,ce);return oe.concat(he).concat(ve)}getInjectedTextInInterval(q,z,$,ie){const ce=q.getVersionId(),oe=this._injectedTextDecorationsTree.intervalSearch(z,$,ie,!1,ce);return this._ensureNodesHaveRanges(q,oe).filter(he=>he.options.showIfCollapsed||!he.range.isEmpty())}getAllInjectedText(q,z){const $=q.getVersionId(),ie=this._injectedTextDecorationsTree.search(z,!1,$);return this._ensureNodesHaveRanges(q,ie).filter(ce=>ce.options.showIfCollapsed||!ce.range.isEmpty())}getAll(q,z,$,ie){const ce=q.getVersionId(),oe=this._search(z,$,ie,ce);return this._ensureNodesHaveRanges(q,oe)}_search(q,z,$,ie){if($)return this._decorationsTree1.search(q,z,ie);{const ce=this._decorationsTree0.search(q,z,ie),oe=this._decorationsTree1.search(q,z,ie),he=this._injectedTextDecorationsTree.search(q,z,ie);return ce.concat(oe).concat(he)}}collectNodesFromOwner(q){const z=this._decorationsTree0.collectNodesFromOwner(q),$=this._decorationsTree1.collectNodesFromOwner(q),ie=this._injectedTextDecorationsTree.collectNodesFromOwner(q);return z.concat($).concat(ie)}collectNodesPostOrder(){const q=this._decorationsTree0.collectNodesPostOrder(),z=this._decorationsTree1.collectNodesPostOrder(),$=this._injectedTextDecorationsTree.collectNodesPostOrder();return q.concat(z).concat($)}insert(q){Q(q)?this._injectedTextDecorationsTree.insert(q):j(q)?this._decorationsTree1.insert(q):this._decorationsTree0.insert(q)}delete(q){Q(q)?this._injectedTextDecorationsTree.delete(q):j(q)?this._decorationsTree1.delete(q):this._decorationsTree0.delete(q)}getNodeRange(q,z){const $=q.getVersionId();return z.cachedVersionId!==$&&this._resolveNode(z,$),z.range===null&&(z.range=q.getRangeAt(z.cachedAbsoluteStart,z.cachedAbsoluteEnd)),z.range}_resolveNode(q,z){Q(q)?this._injectedTextDecorationsTree.resolveNode(q,z):j(q)?this._decorationsTree1.resolveNode(q,z):this._decorationsTree0.resolveNode(q,z)}acceptReplace(q,z,$,ie){this._decorationsTree0.acceptReplace(q,z,$,ie),this._decorationsTree1.acceptReplace(q,z,$,ie),this._injectedTextDecorationsTree.acceptReplace(q,z,$,ie)}}function se(de){return de.replace(/[^a-z0-9\-_]/gi," ")}class ne{constructor(q){this.color=q.color||"",this.darkColor=q.darkColor||""}}class Z extends ne{constructor(q){super(q);this._resolvedColor=null,this.position=typeof q.position=="number"?q.position:n.OverviewRulerLane.Center}getColor(q){return this._resolvedColor||(q.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,q):this._resolvedColor=this._resolveColor(this.color,q)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(q,z){if(typeof q=="string")return q;const $=q?z.getColor(q.id):null;return $?$.toString():""}}e.ModelDecorationOverviewRulerOptions=Z;class U extends ne{constructor(q){super(q);this.position=q.position}getColor(q){return this._resolvedColor||(q.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,q):this._resolvedColor=this._resolveColor(this.color,q)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(q,z){return typeof q=="string"?m.Color.fromHex(q):z.getColor(q.id)}}e.ModelDecorationMinimapOptions=U;class W{constructor(q){this.content=q.content||"",this.inlineClassName=q.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=q.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=q.attachedData||null,this.cursorStops=q.cursorStops||null}static from(q){return q instanceof W?q:new W(q)}}e.ModelDecorationInjectedTextOptions=W;class V{constructor(q){var z,$;this.description=q.description,this.stickiness=q.stickiness||0,this.zIndex=q.zIndex||0,this.className=q.className?se(q.className):null,this.hoverMessage=q.hoverMessage||null,this.glyphMarginHoverMessage=q.glyphMarginHoverMessage||null,this.isWholeLine=q.isWholeLine||!1,this.showIfCollapsed=q.showIfCollapsed||!1,this.collapseOnReplaceEdit=q.collapseOnReplaceEdit||!1,this.overviewRuler=q.overviewRuler?new Z(q.overviewRuler):null,this.minimap=q.minimap?new U(q.minimap):null,this.glyphMarginClassName=q.glyphMarginClassName?se(q.glyphMarginClassName):null,this.linesDecorationsClassName=q.linesDecorationsClassName?se(q.linesDecorationsClassName):null,this.firstLineDecorationClassName=q.firstLineDecorationClassName?se(q.firstLineDecorationClassName):null,this.marginClassName=q.marginClassName?se(q.marginClassName):null,this.inlineClassName=q.inlineClassName?se(q.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=q.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=q.beforeContentClassName?se(q.beforeContentClassName):null,this.afterContentClassName=q.afterContentClassName?se(q.afterContentClassName):null,this.after=q.after?W.from(q.after):null,this.before=q.before?W.from(q.before):null,this.hideInCommentTokens=(z=q.hideInCommentTokens)!==null&&z!==void 0?z:!1,this.hideInStringTokens=($=q.hideInStringTokens)!==null&&$!==void 0?$:!1}static register(q){return new V(q)}static createDynamic(q){return new V(q)}}e.ModelDecorationOptions=V,V.EMPTY=V.register({description:"empty"});const Y=[V.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),V.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),V.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),V.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function X(de){return de instanceof V?de:V.createDynamic(de)}class ae extends S.Disposable{constructor(q){super();this.handleBeforeFire=q,this._actual=this._register(new I.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var q;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const z={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(z)}(q=this._affectedInjectedTextLines)===null||q===void 0||q.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(q){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(q)}checkAffectedAndFire(q){this._affectsMinimap||(this._affectsMinimap=!!(q.minimap&&q.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(q.overviewRuler&&q.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=ae;class J extends S.Disposable{constructor(){super();this._fastEmitter=this._register(new I.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new I.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(q=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=q;const z=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(z),this._slowEmitter.fire(z)}}fire(q){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(q):this._deferredEvent=q;return}this._fastEmitter.fire(q),this._slowEmitter.fire(q)}}e.DidChangeContentEmitter=J}),define(ee[46],te([0,1,11,3,22,32,117,113,113]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorContext=e.CursorConfiguration=e.CursorColumns=void 0,Object.defineProperty(e,"CursorColumns",{enumerable:!0,get:function(){return C.CursorColumns}});const h=()=>!0,g=()=>!1,t=l=>l===" "||l==="	";class i{constructor(u,f,w,v){this.languageConfigurationService=v,this._cursorMoveConfigurationBrand=void 0,this._languageId=u;const p=w.options,_=p.get(131);this.readOnly=p.get(81),this.tabSize=f.tabSize,this.indentSize=f.indentSize,this.insertSpaces=f.insertSpaces,this.stickyTabStops=p.get(104),this.lineHeight=p.get(59),this.pageSize=Math.max(1,Math.floor(_.height/this.lineHeight)-2),this.useTabStops=p.get(116),this.wordSeparators=p.get(117),this.emptySelectionClipboard=p.get(32),this.copyWithSyntaxHighlighting=p.get(21),this.multiCursorMergeOverlapping=p.get(69),this.multiCursorPaste=p.get(71),this.autoClosingBrackets=p.get(5),this.autoClosingQuotes=p.get(8),this.autoClosingDelete=p.get(6),this.autoClosingOvertype=p.get(7),this.autoSurround=p.get(11),this.autoIndent=p.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(u,this.autoClosingQuotes),bracket:this._getShouldAutoClose(u,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(u).getAutoClosingPairs();const L=this.languageConfigurationService.getLanguageConfiguration(u).getSurroundingPairs();if(L)for(const E of L)this.surroundingPairs[E.open]=E.close}static shouldRecreate(u){return u.hasChanged(131)||u.hasChanged(117)||u.hasChanged(32)||u.hasChanged(69)||u.hasChanged(71)||u.hasChanged(5)||u.hasChanged(8)||u.hasChanged(6)||u.hasChanged(7)||u.hasChanged(11)||u.hasChanged(116)||u.hasChanged(59)||u.hasChanged(81)}get electricChars(){var u;if(!this._electricChars){this._electricChars={};const f=(u=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||u===void 0?void 0:u.getElectricCharacters();if(f)for(const w of f)this._electricChars[w]=!0}return this._electricChars}onElectricCharacter(u,f,w){const v=(0,S.createScopedLineTokens)(f,w-1),p=this.languageConfigurationService.getLanguageConfiguration(v.languageId).electricCharacter;return p?p.onElectricCharacter(u,v,w-v.firstCharOffset):null}normalizeIndentation(u){return I.TextModel.normalizeIndentation(u,this.indentSize,this.insertSpaces)}_getShouldAutoClose(u,f){switch(f){case"beforeWhitespace":return t;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(u);case"always":return h;case"never":return g}}_getLanguageDefinedShouldAutoClose(u){const f=this.languageConfigurationService.getLanguageConfiguration(u).getAutoCloseBeforeSet();return w=>f.indexOf(w)!==-1}visibleColumnFromColumn(u,f){return b.CursorColumns.visibleColumnFromColumn(u.getLineContent(f.lineNumber),f.column,this.tabSize)}columnFromVisibleColumn(u,f,w){const v=b.CursorColumns.columnFromVisibleColumn(u.getLineContent(f),w,this.tabSize),p=u.getLineMinColumn(f);if(v<p)return p;const _=u.getLineMaxColumn(f);return v>_?_:v}}e.CursorConfiguration=i;class n{constructor(u,f,w,v){this._cursorContextBrand=void 0,this.model=u,this.viewModel=f,this.coordinatesConverter=w,this.cursorConfig=v}}e.CursorContext=n;class o{constructor(u,f){this._cursorStateBrand=void 0,this.modelState=u,this.viewState=f}static fromModelState(u){return new d(u)}static fromViewState(u){return new c(u)}static fromModelSelection(u){const f=N.Selection.liftSelection(u),w=new s(m.Range.fromPositions(f.getSelectionStart()),0,f.getPosition(),0);return o.fromModelState(w)}static fromModelSelections(u){const f=[];for(let w=0,v=u.length;w<v;w++)f[w]=this.fromModelSelection(u[w]);return f}equals(u){return this.viewState.equals(u.viewState)&&this.modelState.equals(u.modelState)}}e.CursorState=o;class d{constructor(u){this.modelState=u,this.viewState=null}}e.PartialModelCursorState=d;class c{constructor(u){this.modelState=null,this.viewState=u}}e.PartialViewCursorState=c;class s{constructor(u,f,w,v){this._singleCursorStateBrand=void 0,this.selectionStart=u,this.selectionStartLeftoverVisibleColumns=f,this.position=w,this.leftoverVisibleColumns=v,this.selection=s._computeSelection(this.selectionStart,this.position)}equals(u){return this.selectionStartLeftoverVisibleColumns===u.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===u.leftoverVisibleColumns&&this.position.equals(u.position)&&this.selectionStart.equalsRange(u.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(u,f,w,v){return u?new s(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new y.Position(f,w),v):new s(new m.Range(f,w,f,w),v,new y.Position(f,w),v)}static _computeSelection(u,f){return u.isEmpty()||!f.isBeforeOrEqual(u.getStartPosition())?N.Selection.fromPositions(u.getStartPosition(),f):N.Selection.fromPositions(u.getEndPosition(),f)}}e.SingleCursorState=s;class a{constructor(u,f,w){this._editOperationResultBrand=void 0,this.type=u,this.commands=f,this.shouldPushStackElementBefore=w.shouldPushStackElementBefore,this.shouldPushStackElementAfter=w.shouldPushStackElementAfter}}e.EditOperationResult=a;function r(l){return l==="'"||l==='"'||l==="`"}e.isQuote=r}),define(ee[200],te([0,1,8,46,3,22,35]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const b=Object.create(null);function C(g,t){if(t<=0)return"";b[g]||(b[g]=["",g]);const i=b[g];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+g;return i[t]}e.cachedStringRepeat=C;class h{constructor(t,i){this._opts=i,this._selection=t,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(t,i,n,o,d){const c=m.CursorColumns.visibleColumnFromColumn(t,i,n);if(d){const s=C(" ",o),r=m.CursorColumns.prevIndentTabStop(c,o)/o;return C(s,r)}else{const s="	",r=m.CursorColumns.prevRenderTabStop(c,n)/n;return C(s,r)}}static shiftIndent(t,i,n,o,d){const c=m.CursorColumns.visibleColumnFromColumn(t,i,n);if(d){const s=C(" ",o),r=m.CursorColumns.nextIndentTabStop(c,o)/o;return C(s,r)}else{const s="	",r=m.CursorColumns.nextRenderTabStop(c,n)/n;return C(s,r)}}_addEditOperation(t,i,n){this._useLastEditRangeForCursorEndPosition?t.addTrackedEditOperation(i,n):t.addEditOperation(i,n)}getEditOperations(t,i){const n=this._selection.startLineNumber;let o=this._selection.endLineNumber;this._selection.endColumn===1&&n!==o&&(o=o-1);const{tabSize:d,indentSize:c,insertSpaces:s}=this._opts,a=n===o;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let r=0,l=0;for(let u=n;u<=o;u++,r=l){l=0;const f=t.getLineContent(u);let w=y.firstNonWhitespaceIndex(f);if(this._opts.isUnshift&&(f.length===0||w===0)||!a&&!this._opts.isUnshift&&f.length===0)continue;if(w===-1&&(w=f.length),u>1&&m.CursorColumns.visibleColumnFromColumn(f,w+1,d)%c!=0&&t.isCheapToTokenize(u-1)){const _=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,t,new N.Range(u-1,t.getLineMaxColumn(u-1),u-1,t.getLineMaxColumn(u-1)));if(_){if(l=r,_.appendText)for(let L=0,E=_.appendText.length;L<E&&l<c&&_.appendText.charCodeAt(L)===32;L++)l++;_.removeText&&(l=Math.max(0,l-_.removeText));for(let L=0;L<l&&!(w===0||f.charCodeAt(w-1)!==32);L++)w--}}if(this._opts.isUnshift&&w===0)continue;let v;this._opts.isUnshift?v=h.unshiftIndent(f,w+1,d,c,s):v=h.shiftIndent(f,w+1,d,c,s),this._addEditOperation(i,new N.Range(u,1,u,w+1),v),u===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=w+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&t.getLineLength(n)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const r=s?C(" ",c):"	";for(let l=n;l<=o;l++){const u=t.getLineContent(l);let f=y.firstNonWhitespaceIndex(u);if(!(this._opts.isUnshift&&(u.length===0||f===0))&&!(!a&&!this._opts.isUnshift&&u.length===0)&&(f===-1&&(f=u.length),!(this._opts.isUnshift&&f===0)))if(this._opts.isUnshift){f=Math.min(f,c);for(let w=0;w<f;w++)if(u.charCodeAt(w)===9){f=w+1;break}this._addEditOperation(i,new N.Range(l,1,l,f+1),"")}else this._addEditOperation(i,new N.Range(l,1,l,1),r),l===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=i.trackSelection(this._selection)}computeCursorState(t,i){if(this._useLastEditRangeForCursorEndPosition){const o=i.getInverseEditOperations()[0];return new I.Selection(o.range.endLineNumber,o.range.endColumn,o.range.endLineNumber,o.range.endColumn)}const n=i.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const o=this._selection.startColumn;return n.startColumn<=o?n:n.getDirection()===0?new I.Selection(n.startLineNumber,o,n.endLineNumber,n.endColumn):new I.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,o)}return n}}e.ShiftCommand=h}),define(ee[285],te([0,1,46]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class m{static whitespaceVisibleColumn(I,S,b){const C=I.length;let h=0,g=-1,t=-1;for(let i=0;i<C;i++){if(i===S)return[g,t,h];switch(h%b==0&&(g=i,t=h),I.charCodeAt(i)){case 32:h+=1;break;case 9:h=y.CursorColumns.nextRenderTabStop(h,b);break;default:return[-1,-1,-1]}}return S===C?[g,t,h]:[-1,-1,-1]}static atomicPosition(I,S,b,C){const h=I.length,[g,t,i]=m.whitespaceVisibleColumn(I,S,b);if(i===-1)return-1;let n;switch(C){case 0:n=!0;break;case 1:n=!1;break;case 2:if(i%b==0)return S;n=i%b<=b/2;break}if(n){if(g===-1)return-1;let c=t;for(let s=g;s<h;++s){if(c===t+b)return g;switch(I.charCodeAt(s)){case 32:c+=1;break;case 9:c=y.CursorColumns.nextRenderTabStop(c,b);break;default:return-1}}return c===t+b?g:-1}const o=y.CursorColumns.nextRenderTabStop(i,b);let d=i;for(let c=S;c<h;c++){if(d===o)return c;switch(I.charCodeAt(c)){case 32:d+=1;break;case 9:d=y.CursorColumns.nextRenderTabStop(d,b);break;default:return-1}}return d===o?h:-1}}e.AtomicTabMoveOperations=m}),define(ee[286],te([0,1,129,51,274,11,3,46,7,285]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class g{constructor(p=null){this.hitTarget=p,this.type=0}}class t{constructor(p,_,L){this.position=p,this.spanNode=_,this.injectedText=L,this.type=1}}var i;(function(v){function p(_,L,E){const M=_.getPositionFromDOMInfo(L,E);return M?new t(M,L,null):new g(L)}v.createFromDOMInfo=p})(i||(i={}));class n{constructor(p,_){this.lastViewCursorsRenderData=p,this.lastTextareaPosition=_}}e.PointerHandlerLastRenderData=n;class o{static _deduceRage(p,_=null){return!_&&p?new S.Range(p.lineNumber,p.column,p.lineNumber,p.column):_??null}static createUnknown(p,_,L){return{type:0,element:p,mouseColumn:_,position:L,range:this._deduceRage(L)}}static createTextarea(p,_){return{type:1,element:p,mouseColumn:_,position:null,range:null}}static createMargin(p,_,L,E,M,k){return{type:p,element:_,mouseColumn:L,position:E,range:M,detail:k}}static createViewZone(p,_,L,E,M){return{type:p,element:_,mouseColumn:L,position:E,range:this._deduceRage(E),detail:M}}static createContentText(p,_,L,E,M){return{type:6,element:p,mouseColumn:_,position:L,range:this._deduceRage(L,E),detail:M}}static createContentEmpty(p,_,L,E){return{type:7,element:p,mouseColumn:_,position:L,range:this._deduceRage(L),detail:E}}static createContentWidget(p,_,L){return{type:9,element:p,mouseColumn:_,position:null,range:null,detail:L}}static createScrollbar(p,_,L){return{type:11,element:p,mouseColumn:_,position:L,range:this._deduceRage(L)}}static createOverlayWidget(p,_,L){return{type:12,element:p,mouseColumn:_,position:null,range:null,detail:L}}static createOutsideEditor(p,_){return{type:13,element:null,mouseColumn:p,position:_,range:this._deduceRage(_)}}static _typeToString(p){return p===1?"TEXTAREA":p===2?"GUTTER_GLYPH_MARGIN":p===3?"GUTTER_LINE_NUMBERS":p===4?"GUTTER_LINE_DECORATIONS":p===5?"GUTTER_VIEW_ZONE":p===6?"CONTENT_TEXT":p===7?"CONTENT_EMPTY":p===8?"CONTENT_VIEW_ZONE":p===9?"CONTENT_WIDGET":p===10?"OVERVIEW_RULER":p===11?"SCROLLBAR":p===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(p){return this._typeToString(p.type)+": "+p.position+" - "+p.range+" - "+JSON.stringify(p.detail)}}e.MouseTarget=o;class d{static isTextArea(p){return p.length===2&&p[0]===3&&p[1]===6}static isChildOfViewLines(p){return p.length>=4&&p[0]===3&&p[3]===7}static isStrictChildOfViewLines(p){return p.length>4&&p[0]===3&&p[3]===7}static isChildOfScrollableElement(p){return p.length>=2&&p[0]===3&&p[1]===5}static isChildOfMinimap(p){return p.length>=2&&p[0]===3&&p[1]===8}static isChildOfContentWidgets(p){return p.length>=4&&p[0]===3&&p[3]===1}static isChildOfOverflowingContentWidgets(p){return p.length>=1&&p[0]===2}static isChildOfOverlayWidgets(p){return p.length>=2&&p[0]===3&&p[1]===4}}class c{constructor(p,_,L){this.model=p.model;const E=p.configuration.options;this.layoutInfo=E.get(131),this.viewDomNode=_.viewDomNode,this.lineHeight=E.get(59),this.stickyTabStops=E.get(104),this.typicalHalfwidthCharacterWidth=E.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=L,this._context=p,this._viewHelper=_}getZoneAtCoord(p){return c.getZoneAtCoord(this._context,p)}static getZoneAtCoord(p,_){const L=p.viewLayout.getWhitespaceAtVerticalOffset(_);if(L){const E=L.verticalOffset+L.height/2,M=p.model.getLineCount();let k=null,A,F=null;return L.afterLineNumber!==M&&(F=new I.Position(L.afterLineNumber+1,1)),L.afterLineNumber>0&&(k=new I.Position(L.afterLineNumber,p.model.getLineMaxColumn(L.afterLineNumber))),F===null?A=k:k===null?A=F:_<E?A=k:A=F,{viewZoneId:L.id,afterLineNumber:L.afterLineNumber,positionBefore:k,positionAfter:F,position:A}}return null}getFullLineRangeAtCoord(p){if(this._context.viewLayout.isAfterLines(p)){const E=this._context.model.getLineCount(),M=this._context.model.getLineMaxColumn(E);return{range:new S.Range(E,M,E,M),isAfterLines:!0}}const _=this._context.viewLayout.getLineNumberAtVerticalOffset(p),L=this._context.model.getLineMaxColumn(_);return{range:new S.Range(_,1,_,L),isAfterLines:!1}}getLineNumberAtVerticalOffset(p){return this._context.viewLayout.getLineNumberAtVerticalOffset(p)}isAfterLines(p){return this._context.viewLayout.isAfterLines(p)}isInTopPadding(p){return this._context.viewLayout.isInTopPadding(p)}isInBottomPadding(p){return this._context.viewLayout.isInBottomPadding(p)}getVerticalOffsetForLineNumber(p){return this._context.viewLayout.getVerticalOffsetForLineNumber(p)}findAttribute(p,_){return c._findAttribute(p,_,this._viewHelper.viewDomNode)}static _findAttribute(p,_,L){for(;p&&p!==document.body;){if(p.hasAttribute&&p.hasAttribute(_))return p.getAttribute(_);if(p===L)return null;p=p.parentNode}return null}getLineWidth(p){return this._viewHelper.getLineWidth(p)}visibleRangeForPosition(p,_){return this._viewHelper.visibleRangeForPosition(p,_)}getPositionFromDOMInfo(p,_){return this._viewHelper.getPositionFromDOMInfo(p,_)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=c;class s{constructor(p,_,L,E){this.editorPos=_,this.pos=L,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,p.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=p.getCurrentScrollLeft()+this.relativePos.x-p.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<p.layoutInfo.contentLeft&&this.relativePos.x>=p.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,u._getMouseColumn(this.mouseContentHorizontalOffset,p.typicalHalfwidthCharacterWidth))}}class a extends s{constructor(p,_,L,E,M){super(p,_,L,E);this._ctx=p,M?(this.target=M,this.targetPath=m.PartFingerprints.collect(M,p.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(p=null){return p&&p.column<this._ctx.model.getLineMaxColumn(p.lineNumber)?b.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(p.lineNumber),p.column,this._ctx.model.getTextModelOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(p=null){return o.createUnknown(this.target,this._getMouseColumn(p),p)}fulfillTextarea(){return o.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(p,_,L,E){return o.createMargin(p,this.target,this._getMouseColumn(_),_,L,E)}fulfillViewZone(p,_,L){return o.createViewZone(p,this.target,this._getMouseColumn(_),_,L)}fulfillContentText(p,_,L){return o.createContentText(this.target,this._getMouseColumn(p),p,_,L)}fulfillContentEmpty(p,_){return o.createContentEmpty(this.target,this._getMouseColumn(p),p,_)}fulfillContentWidget(p){return o.createContentWidget(this.target,this._getMouseColumn(),p)}fulfillScrollbar(p){return o.createScrollbar(this.target,this._getMouseColumn(p),p)}fulfillOverlayWidget(p){return o.createOverlayWidget(this.target,this._getMouseColumn(),p)}withTarget(p){return new a(this._ctx,this.editorPos,this.pos,this.relativePos,p)}}const r={isAfterLines:!0};function l(v){return{isAfterLines:!1,horizontalDistanceToText:v}}class u{constructor(p,_){this._context=p,this._viewHelper=_}mouseTargetIsWidget(p){const _=p.target,L=m.PartFingerprints.collect(_,this._viewHelper.viewDomNode);return!!(d.isChildOfContentWidgets(L)||d.isChildOfOverflowingContentWidgets(L)||d.isChildOfOverlayWidgets(L))}createMouseTarget(p,_,L,E,M){const k=new c(this._context,this._viewHelper,p),A=new a(k,_,L,E,M);try{return u._createMouseTarget(k,A,!1)}catch{return A.fulfillUnknown()}}static _createMouseTarget(p,_,L){if(_.target===null){if(L)return _.fulfillUnknown();const k=u._doHitTest(p,_);return k.type===1?u.createMouseTargetFromHitTestPosition(p,_,k.spanNode,k.position,k.injectedText):this._createMouseTarget(p,_.withTarget(k.hitTarget),!0)}const E=_;let M=null;return M=M||u._hitTestContentWidget(p,E),M=M||u._hitTestOverlayWidget(p,E),M=M||u._hitTestMinimap(p,E),M=M||u._hitTestScrollbarSlider(p,E),M=M||u._hitTestViewZone(p,E),M=M||u._hitTestMargin(p,E),M=M||u._hitTestViewCursor(p,E),M=M||u._hitTestTextArea(p,E),M=M||u._hitTestViewLines(p,E,L),M=M||u._hitTestScrollbar(p,E),M||_.fulfillUnknown()}static _hitTestContentWidget(p,_){if(d.isChildOfContentWidgets(_.targetPath)||d.isChildOfOverflowingContentWidgets(_.targetPath)){const L=p.findAttribute(_.target,"widgetId");return L?_.fulfillContentWidget(L):_.fulfillUnknown()}return null}static _hitTestOverlayWidget(p,_){if(d.isChildOfOverlayWidgets(_.targetPath)){const L=p.findAttribute(_.target,"widgetId");return L?_.fulfillOverlayWidget(L):_.fulfillUnknown()}return null}static _hitTestViewCursor(p,_){if(_.target){const L=p.lastRenderData.lastViewCursorsRenderData;for(const E of L)if(_.target===E.domNode)return _.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(_.isInContentArea){const L=p.lastRenderData.lastViewCursorsRenderData,E=_.mouseContentHorizontalOffset,M=_.mouseVerticalOffset;for(const k of L){if(E<k.contentLeft||E>k.contentLeft+k.width)continue;const A=p.getVerticalOffsetForLineNumber(k.position.lineNumber);if(A<=M&&M<=A+k.height)return _.fulfillContentText(k.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(p,_){const L=p.getZoneAtCoord(_.mouseVerticalOffset);if(L){const E=_.isInContentArea?8:5;return _.fulfillViewZone(E,L.position,L)}return null}static _hitTestTextArea(p,_){return d.isTextArea(_.targetPath)?p.lastRenderData.lastTextareaPosition?_.fulfillContentText(p.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):_.fulfillTextarea():null}static _hitTestMargin(p,_){if(_.isInMarginArea){const L=p.getFullLineRangeAtCoord(_.mouseVerticalOffset),E=L.range.getStartPosition();let M=Math.abs(_.relativePos.x);const k={isAfterLines:L.isAfterLines,glyphMarginLeft:p.layoutInfo.glyphMarginLeft,glyphMarginWidth:p.layoutInfo.glyphMarginWidth,lineNumbersWidth:p.layoutInfo.lineNumbersWidth,offsetX:M};return M-=p.layoutInfo.glyphMarginLeft,M<=p.layoutInfo.glyphMarginWidth?_.fulfillMargin(2,E,L.range,k):(M-=p.layoutInfo.glyphMarginWidth,M<=p.layoutInfo.lineNumbersWidth?_.fulfillMargin(3,E,L.range,k):(M-=p.layoutInfo.lineNumbersWidth,_.fulfillMargin(4,E,L.range,k)))}return null}static _hitTestViewLines(p,_,L){if(!d.isChildOfViewLines(_.targetPath))return null;if(p.isInTopPadding(_.mouseVerticalOffset))return _.fulfillContentEmpty(new I.Position(1,1),r);if(p.isAfterLines(_.mouseVerticalOffset)||p.isInBottomPadding(_.mouseVerticalOffset)){const M=p.model.getLineCount(),k=p.model.getLineMaxColumn(M);return _.fulfillContentEmpty(new I.Position(M,k),r)}if(L){if(d.isStrictChildOfViewLines(_.targetPath)){const M=p.getLineNumberAtVerticalOffset(_.mouseVerticalOffset);if(p.model.getLineLength(M)===0){const A=p.getLineWidth(M),F=l(_.mouseContentHorizontalOffset-A);return _.fulfillContentEmpty(new I.Position(M,1),F)}const k=p.getLineWidth(M);if(_.mouseContentHorizontalOffset>=k){const A=l(_.mouseContentHorizontalOffset-k),F=new I.Position(M,p.model.getLineMaxColumn(M));return _.fulfillContentEmpty(F,A)}}return _.fulfillUnknown()}const E=u._doHitTest(p,_);return E.type===1?u.createMouseTargetFromHitTestPosition(p,_,E.spanNode,E.position,E.injectedText):this._createMouseTarget(p,_.withTarget(E.hitTarget),!0)}static _hitTestMinimap(p,_){if(d.isChildOfMinimap(_.targetPath)){const L=p.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=p.model.getLineMaxColumn(L);return _.fulfillScrollbar(new I.Position(L,E))}return null}static _hitTestScrollbarSlider(p,_){if(d.isChildOfScrollableElement(_.targetPath)&&_.target&&_.target.nodeType===1){const L=_.target.className;if(L&&/\b(slider|scrollbar)\b/.test(L)){const E=p.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),M=p.model.getLineMaxColumn(E);return _.fulfillScrollbar(new I.Position(E,M))}}return null}static _hitTestScrollbar(p,_){if(d.isChildOfScrollableElement(_.targetPath)){const L=p.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=p.model.getLineMaxColumn(L);return _.fulfillScrollbar(new I.Position(L,E))}return null}getMouseColumn(p){const _=this._context.configuration.options,L=_.get(131),E=this._context.viewLayout.getCurrentScrollLeft()+p.x-L.contentLeft;return u._getMouseColumn(E,_.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(p,_){return p<0?1:Math.round(p/_)+1}static createMouseTargetFromHitTestPosition(p,_,L,E,M){const k=E.lineNumber,A=E.column,F=p.getLineWidth(k);if(_.mouseContentHorizontalOffset>F){const H=l(_.mouseContentHorizontalOffset-F);return _.fulfillContentEmpty(E,H)}const B=p.visibleRangeForPosition(k,A);if(!B)return _.fulfillUnknown(E);const T=B.left;if(_.mouseContentHorizontalOffset===T)return _.fulfillContentText(E,null,{mightBeForeignElement:!!M,injectedText:M});const R=[];if(R.push({offset:B.left,column:A}),A>1){const H=p.visibleRangeForPosition(k,A-1);H&&R.push({offset:H.left,column:A-1})}const O=p.model.getLineMaxColumn(k);if(A<O){const H=p.visibleRangeForPosition(k,A+1);H&&R.push({offset:H.left,column:A+1})}R.sort((H,j)=>H.offset-j.offset);const P=_.pos.toClientCoordinates(),D=L.getBoundingClientRect(),x=D.left<=P.clientX&&P.clientX<=D.right;for(let H=1;H<R.length;H++){const j=R[H-1],Q=R[H];if(j.offset<=_.mouseContentHorizontalOffset&&_.mouseContentHorizontalOffset<=Q.offset){const G=new S.Range(k,j.column,k,Q.column);return _.fulfillContentText(E,G,{mightBeForeignElement:!x||!!M,injectedText:M})}}return _.fulfillContentText(E,null,{mightBeForeignElement:!x||!!M,injectedText:M})}static _doHitTestWithCaretRangeFromPoint(p,_){const L=p.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),M=p.getVerticalOffsetForLineNumber(L)+Math.floor(p.lineHeight/2);let k=_.pos.y+(M-_.mouseVerticalOffset);k<=_.editorPos.y&&(k=_.editorPos.y+1),k>=_.editorPos.y+_.editorPos.height&&(k=_.editorPos.y+_.editorPos.height-1);const A=new y.PageCoordinates(_.pos.x,k),F=this._actualDoHitTestWithCaretRangeFromPoint(p,A.toClientCoordinates());return F.type===1?F:this._actualDoHitTestWithCaretRangeFromPoint(p,_.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(p,_){const L=C.getShadowRoot(p.viewDomNode);let E;if(L?typeof L.caretRangeFromPoint=="undefined"?E=f(L,_.clientX,_.clientY):E=L.caretRangeFromPoint(_.clientX,_.clientY):E=document.caretRangeFromPoint(_.clientX,_.clientY),!E||!E.startContainer)return new g;const M=E.startContainer;if(M.nodeType===M.TEXT_NODE){const k=M.parentNode,A=k?k.parentNode:null,F=A?A.parentNode:null;return(F&&F.nodeType===F.ELEMENT_NODE?F.className:null)===N.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,k,E.startOffset):new g(M.parentNode)}else if(M.nodeType===M.ELEMENT_NODE){const k=M.parentNode,A=k?k.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===N.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,M,M.textContent.length):new g(M)}return new g}static _doHitTestWithCaretPositionFromPoint(p,_){const L=document.caretPositionFromPoint(_.clientX,_.clientY);if(L.offsetNode.nodeType===L.offsetNode.TEXT_NODE){const E=L.offsetNode.parentNode,M=E?E.parentNode:null,k=M?M.parentNode:null;return(k&&k.nodeType===k.ELEMENT_NODE?k.className:null)===N.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,L.offsetNode.parentNode,L.offset):new g(L.offsetNode.parentNode)}if(L.offsetNode.nodeType===L.offsetNode.ELEMENT_NODE){const E=L.offsetNode.parentNode,M=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,k=E?E.parentNode:null,A=k&&k.nodeType===k.ELEMENT_NODE?k.className:null;if(M===N.ViewLine.CLASS_NAME){const F=L.offsetNode.childNodes[Math.min(L.offset,L.offsetNode.childNodes.length-1)];if(F)return i.createFromDOMInfo(p,F,0)}else if(A===N.ViewLine.CLASS_NAME)return i.createFromDOMInfo(p,L.offsetNode,0)}return new g(L.offsetNode)}static _snapToSoftTabBoundary(p,_){const L=_.getLineContent(p.lineNumber),{tabSize:E}=_.getTextModelOptions(),M=h.AtomicTabMoveOperations.atomicPosition(L,p.column-1,E,2);return M!==-1?new I.Position(p.lineNumber,M+1):p}static _doHitTest(p,_){let L=new g;if(typeof document.caretRangeFromPoint=="function"?L=this._doHitTestWithCaretRangeFromPoint(p,_):document.caretPositionFromPoint&&(L=this._doHitTestWithCaretPositionFromPoint(p,_.pos.toClientCoordinates())),L.type===1){const E=p.model.getInjectedTextAt(L.position),M=p.model.normalizePosition(L.position,2);(E||!M.equals(L.position))&&(L=new t(M,L.spanNode,E))}return L.type===1&&p.stickyTabStops&&(L=new t(this._snapToSoftTabBoundary(L.position,p.model),L.spanNode,L.injectedText)),L}}e.MouseTargetFactory=u;function f(v,p,_){const L=document.createRange();let E=v.elementFromPoint(p,_);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const M=E.getBoundingClientRect(),k=window.getComputedStyle(E,null).getPropertyValue("font"),A=E.innerText;let F=M.left,B=0,T;if(p>M.left+M.width)B=A.length;else{const R=w.getInstance();for(let O=0;O<A.length+1;O++){if(T=R.getCharWidth(A.charAt(O),k)/2,F+=T,p<F){B=O;break}F+=T}}L.setStart(E.firstChild,B),L.setEnd(E.firstChild,B)}return L}e.shadowCaretRangeFromPoint=f;class w{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return w._INSTANCE||(w._INSTANCE=new w),w._INSTANCE}getCharWidth(p,_){const L=p+_;if(this._cache[L])return this._cache[L];const E=this._canvas.getContext("2d");E.font=_;const k=E.measureText(p).width;return this._cache[L]=k,k}}w._INSTANCE=null}),define(ee[693],te([0,1,7,57,10,2,17,286,129,142,11,22,122]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function n(s){return function(a,r){let l=!1;return s&&(l=s.mouseTargetIsWidget(r)),l||r.preventDefault(),r}}e.createMouseMoveEventMerger=n;class o extends i.ViewEventHandler{constructor(a,r,l){super();this._context=a,this.viewController=r,this.viewHelper=l,this.mouseTargetFactory=new b.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new d(this._context,this.viewController,this.viewHelper,(w,v)=>this._createMouseTarget(w,v),w=>this._getMouseColumn(w))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const u=new C.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(u.onContextMenu(this.viewHelper.viewDomNode,w=>this._onContextMenu(w,!0))),this._register(u.onMouseMoveThrottled(this.viewHelper.viewDomNode,w=>this._onMouseMove(w),n(this.mouseTargetFactory),o.MOUSE_MOVE_MINIMUM_TIME)),this._register(u.onMouseUp(this.viewHelper.viewDomNode,w=>this._onMouseUp(w))),this._register(u.onMouseLeave(this.viewHelper.viewDomNode,w=>this._onMouseLeave(w))),this._register(u.onMouseDown(this.viewHelper.viewDomNode,w=>this._onMouseDown(w)));const f=w=>{if(this.viewController.emitMouseWheel(w),!this._context.configuration.options.get(68))return;const v=new m.StandardWheelEvent(w);if(S.isMacintosh?(w.metaKey||w.ctrlKey)&&!w.shiftKey&&!w.altKey:w.ctrlKey&&!w.metaKey&&!w.shiftKey&&!w.altKey){const _=h.EditorZoom.getZoomLevel(),L=v.deltaY>0?1:-1;h.EditorZoom.setZoomLevel(_+L),v.preventDefault(),v.stopPropagation()}};this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.MOUSE_WHEEL,f,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(a){if(a.hasChanged(131)){const r=this._context.configuration.options.get(131).height;this._height!==r&&(this._height=r,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(a){return this._mouseDownOperation.onCursorStateChanged(a),!1}onFocusChanged(a){return!1}onScrollChanged(a){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(a,r){const u=new C.ClientCoordinates(a,r).toPageCoordinates(),f=(0,C.createEditorPagePosition)(this.viewHelper.viewDomNode);if(u.y<f.y||u.y>f.y+f.height||u.x<f.x||u.x>f.x+f.width)return null;const w=(0,C.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,f,u);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),f,u,w,null)}_createMouseTarget(a,r){let l=a.target;if(!this.viewHelper.viewDomNode.contains(l)){const u=y.getShadowRoot(this.viewHelper.viewDomNode);u&&(l=u.elementsFromPoint(a.posx,a.posy).find(f=>this.viewHelper.viewDomNode.contains(f)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),a.editorPos,a.pos,a.relativePos,r?l:null)}_getMouseColumn(a){return this.mouseTargetFactory.getMouseColumn(a.relativePos)}_onContextMenu(a,r){this.viewController.emitContextMenu({event:a,target:this._createMouseTarget(a,r)})}_onMouseMove(a){this._mouseDownOperation.isActive()||a.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:a,target:this._createMouseTarget(a,!0)})}_onMouseLeave(a){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:a,target:null})}_onMouseUp(a){this.viewController.emitMouseUp({event:a,target:this._createMouseTarget(a,!0)})}_onMouseDown(a){const r=this._createMouseTarget(a,!0),l=r.type===6||r.type===7,u=r.type===2||r.type===3||r.type===4,f=r.type===3,w=this._context.configuration.options.get(98),v=r.type===8||r.type===5,p=r.type===9;let _=a.leftButton||a.middleButton;S.isMacintosh&&a.leftButton&&a.ctrlKey&&(_=!1);const L=()=>{a.preventDefault(),this.viewHelper.focusTextArea()};if(_&&(l||f&&w))L(),this._mouseDownOperation.start(r.type,a);else if(u)a.preventDefault();else if(v){const E=r.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(E.viewZoneId)&&(L(),this._mouseDownOperation.start(r.type,a),a.preventDefault())}else p&&this.viewHelper.shouldSuppressMouseDownOnWidget(r.detail)&&(L(),a.preventDefault());this.viewController.emitMouseDown({event:a,target:r})}}e.MouseHandler=o,o.MOUSE_MOVE_MINIMUM_TIME=100;class d extends I.Disposable{constructor(a,r,l,u,f){super();this._context=a,this._viewController=r,this._viewHelper=l,this._createMouseTarget=u,this._getMouseColumn=f,this._mouseMoveMonitor=this._register(new C.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new N.TimeoutTimer),this._mouseState=new c,this._currentSelection=new t.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(a){this._lastMouseEvent=a,this._mouseState.setModifiers(a);const r=this._findMousePosition(a,!0);!r||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:a,target:r}):this._dispatchMouse(r,!0))}start(a,r){this._lastMouseEvent=r,this._mouseState.setStartedOnLineNumbers(a===3),this._mouseState.setStartButtons(r),this._mouseState.setModifiers(r);const l=this._findMousePosition(r,!0);if(!l||!l.position)return;this._mouseState.trySetCount(r.detail,l.position),r.detail=this._mouseState.count;const u=this._context.configuration.options;if(!u.get(81)&&u.get(31)&&!u.get(18)&&!this._mouseState.altKey&&r.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(r.target,r.buttons,n(null),f=>this._onMouseDownThenMove(f),f=>{const w=this._findMousePosition(this._lastMouseEvent,!0);f&&f instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:w?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,r.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(r.target,r.buttons,n(null),f=>this._onMouseDownThenMove(f),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const a=this._findMousePosition(this._lastMouseEvent,!1);!a||this._mouseState.isDragAndDrop||this._dispatchMouse(a,!0)},10)}onCursorStateChanged(a){this._currentSelection=a.selections[0]}_getPositionOutsideEditor(a){const r=a.editorPos,l=this._context.model,u=this._context.viewLayout,f=this._getMouseColumn(a);if(a.posy<r.y){const v=Math.max(u.getCurrentScrollTop()-(r.y-a.posy),0),p=b.HitTestContext.getZoneAtCoord(this._context,v);if(p){const L=this._helpPositionJumpOverViewZone(p);if(L)return b.MouseTarget.createOutsideEditor(f,L)}const _=u.getLineNumberAtVerticalOffset(v);return b.MouseTarget.createOutsideEditor(f,new g.Position(_,1))}if(a.posy>r.y+r.height){const v=u.getCurrentScrollTop()+a.relativePos.y,p=b.HitTestContext.getZoneAtCoord(this._context,v);if(p){const L=this._helpPositionJumpOverViewZone(p);if(L)return b.MouseTarget.createOutsideEditor(f,L)}const _=u.getLineNumberAtVerticalOffset(v);return b.MouseTarget.createOutsideEditor(f,new g.Position(_,l.getLineMaxColumn(_)))}const w=u.getLineNumberAtVerticalOffset(u.getCurrentScrollTop()+a.relativePos.y);return a.posx<r.x?b.MouseTarget.createOutsideEditor(f,new g.Position(w,1)):a.posx>r.x+r.width?b.MouseTarget.createOutsideEditor(f,new g.Position(w,l.getLineMaxColumn(w))):null}_findMousePosition(a,r){const l=this._getPositionOutsideEditor(a);if(l)return l;const u=this._createMouseTarget(a,r);if(!u.position)return null;if(u.type===8||u.type===5){const w=this._helpPositionJumpOverViewZone(u.detail);if(w)return b.MouseTarget.createViewZone(u.type,u.element,u.mouseColumn,w,u.detail)}return u}_helpPositionJumpOverViewZone(a){const r=new g.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=a.positionBefore,u=a.positionAfter;return l&&u?l.isBefore(r)?l:u:null}_dispatchMouse(a,r){!a.position||this._viewController.dispatchMouse({position:a.position,mouseColumn:a.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:r,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class c{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(a){this._altKey=a.altKey,this._ctrlKey=a.ctrlKey,this._metaKey=a.metaKey,this._shiftKey=a.shiftKey}setStartButtons(a){this._leftButton=a.leftButton,this._middleButton=a.middleButton}setStartedOnLineNumbers(a){this._startedOnLineNumbers=a}trySetCount(a,r){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>c.CLEAR_MOUSE_DOWN_COUNT_TIME&&(a=1),this._lastSetMouseDownCountTime=l,a>this._lastMouseDownCount+1&&(a=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(r)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=r,this._lastMouseDownCount=Math.min(a,this._lastMouseDownPositionEqualCount)}}c.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ee[694],te([0,1,7,17,58,2,693,129,163,173]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class g extends S.MouseHandler{constructor(o,d,c){super(o,d,c);this._register(N.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Tap,a=>this.onTap(a))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Change,a=>this.onChange(a))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Contextmenu,a=>this._onContextMenu(new b.EditorMouseEvent(a,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",a=>{const r=a.pointerType;if(r==="mouse"){this._lastPointerType="mouse";return}else r==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const s=new b.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(s.onPointerMoveThrottled(this.viewHelper.viewDomNode,a=>this._onMouseMove(a),(0,S.createMouseMoveEventMerger)(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(s.onPointerUp(this.viewHelper.viewDomNode,a=>this._onMouseUp(a))),this._register(s.onPointerLeave(this.viewHelper.viewDomNode,a=>this._onMouseLeave(a))),this._register(s.onPointerDown(this.viewHelper.viewDomNode,a=>this._onMouseDown(a)))}onTap(o){if(!o.initialTarget||!this.viewHelper.linesContentDomNode.contains(o.initialTarget))return;o.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new b.EditorMouseEvent(o,this.viewHelper.viewDomNode),!1);d.position&&this.viewController.dispatchMouse({position:d.position,mouseColumn:d.position.column,startedOnLineNumbers:!1,mouseDownCount:o.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(o){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-o.translationX,-o.translationY)}_onMouseDown(o){o.browserEvent.pointerType!=="touch"&&super._onMouseDown(o)}}e.PointerEventHandler=g;class t extends S.MouseHandler{constructor(o,d,c){super(o,d,c);this._register(N.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Tap,s=>this.onTap(s))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Change,s=>this.onChange(s))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,N.EventType.Contextmenu,s=>this._onContextMenu(new b.EditorMouseEvent(s,this.viewHelper.viewDomNode),!1)))}onTap(o){o.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new b.EditorMouseEvent(o,this.viewHelper.viewDomNode),!1);if(d.position){const c=document.createEvent("CustomEvent");c.initEvent(h.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(c),this.viewController.moveTo(d.position)}}onChange(o){this._context.model.deltaScrollNow(-o.translationX,-o.translationY)}}class i extends I.Disposable{constructor(o,d,c){super();m.isIOS&&C.BrowserFeatures.pointerEvents?this.handler=this._register(new g(o,d,c)):window.TouchEvent?this.handler=this._register(new t(o,d,c)):this.handler=this._register(new S.MouseHandler(o,d,c))}getTargetAtClientPoint(o,d){return this.handler.getTargetAtClientPoint(o,d)}}e.PointerHandler=i}),define(ee[695],te([0,1,46,11,3]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class I{static columnSelect(b,C,h,g,t,i){const n=Math.abs(t-h)+1,o=h>t,d=g>i,c=g<i,s=[];for(let a=0;a<n;a++){const r=h+(o?-a:a),l=b.columnFromVisibleColumn(C,r,g),u=b.columnFromVisibleColumn(C,r,i),f=b.visibleColumnFromColumn(C,new m.Position(r,l)),w=b.visibleColumnFromColumn(C,new m.Position(r,u));c&&(f>i||w<g)||d&&(w>g||f<i)||s.push(new y.SingleCursorState(new N.Range(r,l,r,l),0,new m.Position(r,u),0))}if(s.length===0)for(let a=0;a<n;a++){const r=h+(o?-a:a),l=C.getLineMaxColumn(r);s.push(new y.SingleCursorState(new N.Range(r,l,r,l),0,new m.Position(r,l),0))}return{viewStates:s,reversed:o,fromLineNumber:h,fromVisualColumn:g,toLineNumber:t,toVisualColumn:i}}static columnSelectLeft(b,C,h){let g=h.toViewVisualColumn;return g>0&&g--,I.columnSelect(b,C,h.fromViewLineNumber,h.fromViewVisualColumn,h.toViewLineNumber,g)}static columnSelectRight(b,C,h){let g=0;const t=Math.min(h.fromViewLineNumber,h.toViewLineNumber),i=Math.max(h.fromViewLineNumber,h.toViewLineNumber);for(let o=t;o<=i;o++){const d=C.getLineMaxColumn(o),c=b.visibleColumnFromColumn(C,new m.Position(o,d));g=Math.max(g,c)}let n=h.toViewVisualColumn;return n<g&&n++,this.columnSelect(b,C,h.fromViewLineNumber,h.fromViewVisualColumn,h.toViewLineNumber,n)}static columnSelectUp(b,C,h,g){const t=g?b.pageSize:1,i=Math.max(1,h.toViewLineNumber-t);return this.columnSelect(b,C,h.fromViewLineNumber,h.fromViewVisualColumn,i,h.toViewVisualColumn)}static columnSelectDown(b,C,h,g){const t=g?b.pageSize:1,i=Math.min(C.getLineCount(),h.toViewLineNumber+t);return this.columnSelect(b,C,h.fromViewLineNumber,h.fromViewVisualColumn,i,h.toViewVisualColumn)}}e.ColumnSelection=I}),define(ee[201],te([0,1,46,11,3,8,285]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class b{constructor(g,t,i){this._cursorPositionBrand=void 0,this.lineNumber=g,this.column=t,this.leftoverVisibleColumns=i}}e.CursorPosition=b;class C{static leftPosition(g,t){if(t.column>g.getLineMinColumn(t.lineNumber))return t.delta(void 0,-I.prevCharLength(g.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new m.Position(i,g.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(g,t,i){if(t.column<=g.getLineIndentColumn(t.lineNumber)){const n=g.getLineMinColumn(t.lineNumber),o=g.getLineContent(t.lineNumber),d=S.AtomicTabMoveOperations.atomicPosition(o,t.column-1,i,0);if(d!==-1&&d+1>=n)return new m.Position(t.lineNumber,d+1)}return this.leftPosition(g,t)}static left(g,t,i){const n=g.stickyTabStops?C.leftPositionAtomicSoftTabs(t,i,g.tabSize):C.leftPosition(t,i);return new b(n.lineNumber,n.column,0)}static moveLeft(g,t,i,n,o){let d,c;if(i.hasSelection()&&!n)d=i.selection.startLineNumber,c=i.selection.startColumn;else{const s=i.position.delta(void 0,-(o-1)),a=t.normalizePosition(C.clipPositionColumn(s,t),0),r=C.left(g,t,a);d=r.lineNumber,c=r.column}return i.move(n,d,c,0)}static clipPositionColumn(g,t){return new m.Position(g.lineNumber,C.clipRange(g.column,t.getLineMinColumn(g.lineNumber),t.getLineMaxColumn(g.lineNumber)))}static clipRange(g,t,i){return g<t?t:g>i?i:g}static rightPosition(g,t,i){return i<g.getLineMaxColumn(t)?i=i+I.nextCharLength(g.getLineContent(t),i-1):t<g.getLineCount()&&(t=t+1,i=g.getLineMinColumn(t)),new m.Position(t,i)}static rightPositionAtomicSoftTabs(g,t,i,n,o){if(i<g.getLineIndentColumn(t)){const d=g.getLineContent(t),c=S.AtomicTabMoveOperations.atomicPosition(d,i-1,n,1);if(c!==-1)return new m.Position(t,c+1)}return this.rightPosition(g,t,i)}static right(g,t,i){const n=g.stickyTabStops?C.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,g.tabSize,g.indentSize):C.rightPosition(t,i.lineNumber,i.column);return new b(n.lineNumber,n.column,0)}static moveRight(g,t,i,n,o){let d,c;if(i.hasSelection()&&!n)d=i.selection.endLineNumber,c=i.selection.endColumn;else{const s=i.position.delta(void 0,o-1),a=t.normalizePosition(C.clipPositionColumn(s,t),1),r=C.right(g,t,a);d=r.lineNumber,c=r.column}return i.move(n,d,c,0)}static vertical(g,t,i,n,o,d,c,s){const a=y.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),n,g.tabSize)+o,r=t.getLineCount(),l=i===1&&n===1,u=i===r&&n===t.getLineMaxColumn(i),f=d<i?l:u;if(i=d,i<1?(i=1,c?n=t.getLineMinColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):i>r?(i=r,c?n=t.getLineMaxColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):n=g.columnFromVisibleColumn(t,i,a),f?o=0:o=a-y.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),n,g.tabSize),s!==void 0){const w=new m.Position(i,n),v=t.normalizePosition(w,s);o=o+(n-v.column),i=v.lineNumber,n=v.column}return new b(i,n,o)}static down(g,t,i,n,o,d,c){return this.vertical(g,t,i,n,o,i+d,c,1)}static moveDown(g,t,i,n,o){let d,c;i.hasSelection()&&!n?(d=i.selection.endLineNumber,c=i.selection.endColumn):(d=i.position.lineNumber,c=i.position.column);const s=C.down(g,t,d,c,i.leftoverVisibleColumns,o,!0);return i.move(n,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateDown(g,t,i){const n=i.selection,o=C.down(g,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),d=C.down(g,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new N.Range(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new m.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(g,t,i,n,o,d,c){return this.vertical(g,t,i,n,o,i-d,c,0)}static moveUp(g,t,i,n,o){let d,c;i.hasSelection()&&!n?(d=i.selection.startLineNumber,c=i.selection.startColumn):(d=i.position.lineNumber,c=i.position.column);const s=C.up(g,t,d,c,i.leftoverVisibleColumns,o,!0);return i.move(n,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateUp(g,t,i){const n=i.selection,o=C.up(g,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),d=C.up(g,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new y.SingleCursorState(new N.Range(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new m.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(g,t){return g.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(g,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(g,t,i,n){const o=t.getLineCount();let d=i.position.lineNumber;for(;d<o&&this._isBlankLine(t,d);)d++;for(;d<o&&!this._isBlankLine(t,d);)d++;return i.move(n,d,t.getLineMinColumn(d),0)}static moveToBeginningOfLine(g,t,i,n){const o=i.position.lineNumber,d=t.getLineMinColumn(o),c=t.getLineFirstNonWhitespaceColumn(o)||d;let s;return i.position.column===c?s=d:s=c,i.move(n,o,s,0)}static moveToEndOfLine(g,t,i,n,o){const d=i.position.lineNumber,c=t.getLineMaxColumn(d);return i.move(n,d,c,o?1073741824-c:0)}static moveToBeginningOfBuffer(g,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(g,t,i,n){const o=t.getLineCount(),d=t.getLineMaxColumn(o);return i.move(n,o,d,0)}}e.MoveOperations=C}),define(ee[202],te([0,1,8,97,46,201,3,11]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class C{static deleteRight(g,t,i,n){const o=[];let d=g!==3;for(let c=0,s=n.length;c<s;c++){const a=n[c];let r=a;if(r.isEmpty()){const l=a.getPosition(),u=I.MoveOperations.right(t,i,l);r=new S.Range(u.lineNumber,u.column,l.lineNumber,l.column)}if(r.isEmpty()){o[c]=null;continue}r.startLineNumber!==r.endLineNumber&&(d=!0),o[c]=new m.ReplaceCommand(r,"")}return[d,o]}static isAutoClosingPairDelete(g,t,i,n,o,d,c){if(t==="never"&&i==="never"||g==="never")return!1;for(let s=0,a=d.length;s<a;s++){const r=d[s],l=r.getPosition();if(!r.isEmpty())return!1;const u=o.getLineContent(l.lineNumber);if(l.column<2||l.column>=u.length+1)return!1;const f=u.charAt(l.column-2),w=n.get(f);if(!w)return!1;if((0,N.isQuote)(f)){if(i==="never")return!1}else if(t==="never")return!1;const v=u.charAt(l.column-1);let p=!1;for(const _ of w)_.open===f&&_.close===v&&(p=!0);if(!p)return!1;if(g==="auto"){let _=!1;for(let L=0,E=c.length;L<E;L++){const M=c[L];if(l.lineNumber===M.startLineNumber&&l.column===M.startColumn){_=!0;break}}if(!_)return!1}}return!0}static _runAutoClosingPairDelete(g,t,i){const n=[];for(let o=0,d=i.length;o<d;o++){const c=i[o].getPosition(),s=new S.Range(c.lineNumber,c.column-1,c.lineNumber,c.column+1);n[o]=new m.ReplaceCommand(s,"")}return[!0,n]}static deleteLeft(g,t,i,n,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,o))return this._runAutoClosingPairDelete(t,i,n);const d=[];let c=g!==2;for(let s=0,a=n.length;s<a;s++){const r=C.getDeleteRange(n[s],i,t);if(r.isEmpty()){d[s]=null;continue}r.startLineNumber!==r.endLineNumber&&(c=!0),d[s]=new m.ReplaceCommand(r,"")}return[c,d]}static getDeleteRange(g,t,i){if(!g.isEmpty())return g;const n=g.getPosition();if(i.useTabStops&&n.column>1){const o=t.getLineContent(n.lineNumber),d=y.firstNonWhitespaceIndex(o),c=d===-1?o.length+1:d+1;if(n.column<=c){const s=i.visibleColumnFromColumn(t,n),a=N.CursorColumns.prevIndentTabStop(s,i.indentSize),r=i.columnFromVisibleColumn(t,n.lineNumber,a);return new S.Range(n.lineNumber,r,n.lineNumber,n.column)}}return S.Range.fromPositions(C.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(g,t){if(g.column>1){const i=y.getLeftDeleteOffset(g.column-1,t.getLineContent(g.lineNumber));return g.with(void 0,i+1)}else if(g.lineNumber>1){const i=g.lineNumber-1;return new b.Position(i,t.getLineMaxColumn(i))}else return g}static cut(g,t,i){const n=[];let o=null;i.sort((d,c)=>b.Position.compare(d.getStartPosition(),c.getEndPosition()));for(let d=0,c=i.length;d<c;d++){const s=i[d];if(s.isEmpty())if(g.emptySelectionClipboard){const a=s.getPosition();let r,l,u,f;a.lineNumber<t.getLineCount()?(r=a.lineNumber,l=1,u=a.lineNumber+1,f=1):a.lineNumber>1&&(o==null?void 0:o.endLineNumber)!==a.lineNumber?(r=a.lineNumber-1,l=t.getLineMaxColumn(a.lineNumber-1),u=a.lineNumber,f=t.getLineMaxColumn(a.lineNumber)):(r=a.lineNumber,l=1,u=a.lineNumber,f=t.getLineMaxColumn(a.lineNumber));const w=new S.Range(r,l,u,f);o=w,w.isEmpty()?n[d]=null:n[d]=new m.ReplaceCommand(w,"")}else n[d]=null;else n[d]=new m.ReplaceCommand(s,"")}return new N.EditOperationResult(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=C}),define(ee[203],te([0,1,14,8,97,200,398,46,114,3,22,11,115,35,117]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class d{static indent(f,w,v){if(w===null||v===null)return[];const p=[];for(let _=0,L=v.length;_<L;_++)p[_]=new I.ShiftCommand(v[_],{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent});return p}static outdent(f,w,v){const p=[];for(let _=0,L=v.length;_<L;_++)p[_]=new I.ShiftCommand(v[_],{isUnshift:!0,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent});return p}static shiftIndent(f,w,v){return v=v||1,I.ShiftCommand.shiftIndent(w,w.length+v,f.tabSize,f.indentSize,f.insertSpaces)}static unshiftIndent(f,w,v){return v=v||1,I.ShiftCommand.unshiftIndent(w,w.length+v,f.tabSize,f.indentSize,f.insertSpaces)}static _distributedPaste(f,w,v,p){const _=[];for(let L=0,E=v.length;L<E;L++)_[L]=new N.ReplaceCommand(v[L],p[L]);return new b.EditOperationResult(0,_,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(f,w,v,p,_){const L=[];for(let E=0,M=v.length;E<M;E++){const k=v[E],A=k.getPosition();if(_&&!k.isEmpty()&&(_=!1),_&&p.indexOf(`
`)!==p.length-1&&(_=!1),_){const F=new h.Range(A.lineNumber,1,A.lineNumber,1);L[E]=new N.ReplaceCommandThatPreservesSelection(F,p,k,!0)}else L[E]=new N.ReplaceCommand(k,p)}return new b.EditOperationResult(0,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(f,w,v,p,_){if(p||w.length===1)return null;if(_&&_.length===w.length)return _;if(f.multiCursorPaste==="spread"){v.charCodeAt(v.length-1)===10&&(v=v.substr(0,v.length-1)),v.charCodeAt(v.length-1)===13&&(v=v.substr(0,v.length-1));const L=m.splitLines(v);if(L.length===w.length)return L}return null}static paste(f,w,v,p,_,L){const E=this._distributePasteToCursors(f,v,p,_,L);return E?(v=v.sort(h.Range.compareRangesUsingStarts),this._distributedPaste(f,w,v,E)):this._simplePaste(f,w,v,p,_)}static _goodIndentForLine(f,w,v){let p=null,_="";const L=n.LanguageConfigurationRegistry.getInheritIndentForLine(f.autoIndent,w,v,!1);if(L)p=L.action,_=L.indentation;else if(v>1){let E;for(E=v-1;E>=1;E--){const A=w.getLineContent(E);if(m.lastNonWhitespaceIndex(A)>=0)break}if(E<1)return null;const M=w.getLineMaxColumn(E),k=n.LanguageConfigurationRegistry.getEnterAction(f.autoIndent,w,new h.Range(E,M,E,M));k&&(_=k.indentation+k.appendText)}return p&&(p===i.IndentAction.Indent&&(_=d.shiftIndent(f,_)),p===i.IndentAction.Outdent&&(_=d.unshiftIndent(f,_)),_=f.normalizeIndentation(_)),_||null}static _replaceJumpToNextIndent(f,w,v,p){let _="";const L=v.getStartPosition();if(f.insertSpaces){const E=f.visibleColumnFromColumn(w,L),M=f.indentSize,k=M-E%M;for(let A=0;A<k;A++)_+=" "}else _="	";return new N.ReplaceCommand(v,_,p)}static tab(f,w,v){const p=[];for(let _=0,L=v.length;_<L;_++){const E=v[_];if(E.isEmpty()){const M=w.getLineContent(E.startLineNumber);if(/^\s*$/.test(M)&&w.isCheapToTokenize(E.startLineNumber)){let k=this._goodIndentForLine(f,w,E.startLineNumber);k=k||"	";const A=f.normalizeIndentation(k);if(!M.startsWith(A)){p[_]=new N.ReplaceCommand(new h.Range(E.startLineNumber,1,E.startLineNumber,M.length+1),A,!0);continue}}p[_]=this._replaceJumpToNextIndent(f,w,E,!0)}else{if(E.startLineNumber===E.endLineNumber){const M=w.getLineMaxColumn(E.startLineNumber);if(E.startColumn!==1||E.endColumn!==M){p[_]=this._replaceJumpToNextIndent(f,w,E,!1);continue}}p[_]=new I.ShiftCommand(E,{isUnshift:!1,tabSize:f.tabSize,indentSize:f.indentSize,insertSpaces:f.insertSpaces,useTabStops:f.useTabStops,autoIndent:f.autoIndent})}}return p}static compositionType(f,w,v,p,_,L,E,M){const k=p.map(A=>this._compositionType(v,A,_,L,E,M));return new b.EditOperationResult(4,k,{shouldPushStackElementBefore:a(f,4),shouldPushStackElementAfter:!1})}static _compositionType(f,w,v,p,_,L){if(!w.isEmpty())return null;const E=w.getPosition(),M=Math.max(1,E.column-p),k=Math.min(f.getLineMaxColumn(E.lineNumber),E.column+_),A=new h.Range(E.lineNumber,M,E.lineNumber,k);return f.getValueInRange(A)===v&&L===0?null:new N.ReplaceCommandWithOffsetCursorState(A,v,0,L)}static _typeCommand(f,w,v){return v?new N.ReplaceCommandWithoutChangingPosition(f,w,!0):new N.ReplaceCommand(f,w,!0)}static _enter(f,w,v,p){if(f.autoIndent===0)return d._typeCommand(p,`
`,v);if(!w.isCheapToTokenize(p.getStartPosition().lineNumber)||f.autoIndent===1){const M=w.getLineContent(p.startLineNumber),k=m.getLeadingWhitespace(M).substring(0,p.startColumn-1);return d._typeCommand(p,`
`+f.normalizeIndentation(k),v)}const _=n.LanguageConfigurationRegistry.getEnterAction(f.autoIndent,w,p);if(_){if(_.indentAction===i.IndentAction.None)return d._typeCommand(p,`
`+f.normalizeIndentation(_.indentation+_.appendText),v);if(_.indentAction===i.IndentAction.Indent)return d._typeCommand(p,`
`+f.normalizeIndentation(_.indentation+_.appendText),v);if(_.indentAction===i.IndentAction.IndentOutdent){const M=f.normalizeIndentation(_.indentation),k=f.normalizeIndentation(_.indentation+_.appendText),A=`
`+k+`
`+M;return v?new N.ReplaceCommandWithoutChangingPosition(p,A,!0):new N.ReplaceCommandWithOffsetCursorState(p,A,-1,k.length-M.length,!0)}else if(_.indentAction===i.IndentAction.Outdent){const M=d.unshiftIndent(f,_.indentation);return d._typeCommand(p,`
`+f.normalizeIndentation(M+_.appendText),v)}}const L=w.getLineContent(p.startLineNumber),E=m.getLeadingWhitespace(L).substring(0,p.startColumn-1);if(f.autoIndent>=4){const M=n.LanguageConfigurationRegistry.getIndentForEnter(f.autoIndent,w,p,{unshiftIndent:k=>d.unshiftIndent(f,k),shiftIndent:k=>d.shiftIndent(f,k),normalizeIndentation:k=>f.normalizeIndentation(k)});if(M){let k=f.visibleColumnFromColumn(w,p.getEndPosition());const A=p.endColumn,F=w.getLineContent(p.endLineNumber),B=m.firstNonWhitespaceIndex(F);if(B>=0?p=p.setEndPosition(p.endLineNumber,Math.max(p.endColumn,B+1)):p=p.setEndPosition(p.endLineNumber,w.getLineMaxColumn(p.endLineNumber)),v)return new N.ReplaceCommandWithoutChangingPosition(p,`
`+f.normalizeIndentation(M.afterEnter),!0);{let T=0;return A<=B+1&&(f.insertSpaces||(k=Math.ceil(k/f.indentSize)),T=Math.min(k+1-f.normalizeIndentation(M.afterEnter).length-1,0)),new N.ReplaceCommandWithOffsetCursorState(p,`
`+f.normalizeIndentation(M.afterEnter),0,T,!0)}}}return d._typeCommand(p,`
`+f.normalizeIndentation(E),v)}static _isAutoIndentType(f,w,v){if(f.autoIndent<4)return!1;for(let p=0,_=v.length;p<_;p++)if(!w.isCheapToTokenize(v[p].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(f,w,v,p){const _=n.LanguageConfigurationRegistry.getIndentationAtPosition(w,v.startLineNumber,v.startColumn),L=n.LanguageConfigurationRegistry.getIndentActionForType(f.autoIndent,w,v,p,{shiftIndent:E=>d.shiftIndent(f,E),unshiftIndent:E=>d.unshiftIndent(f,E)});if(L===null)return null;if(L!==f.normalizeIndentation(_)){const E=w.getLineFirstNonWhitespaceColumn(v.startLineNumber);return E===0?d._typeCommand(new h.Range(v.startLineNumber,1,v.endLineNumber,v.endColumn),f.normalizeIndentation(L)+p,!1):d._typeCommand(new h.Range(v.startLineNumber,1,v.endLineNumber,v.endColumn),f.normalizeIndentation(L)+w.getLineContent(v.startLineNumber).substring(E-1,v.startColumn-1)+p,!1)}return null}static _isAutoClosingOvertype(f,w,v,p,_){if(f.autoClosingOvertype==="never"||!f.autoClosingPairs.autoClosingPairsCloseSingleChar.has(_))return!1;for(let L=0,E=v.length;L<E;L++){const M=v[L];if(!M.isEmpty())return!1;const k=M.getPosition(),A=w.getLineContent(k.lineNumber);if(A.charAt(k.column-1)!==_)return!1;const B=(0,b.isQuote)(_);if((k.column>2?A.charCodeAt(k.column-2):0)===92&&B)return!1;if(f.autoClosingOvertype==="auto"){let R=!1;for(let O=0,P=p.length;O<P;O++){const D=p[O];if(k.lineNumber===D.startLineNumber&&k.column===D.startColumn){R=!0;break}}if(!R)return!1}}return!0}static _runAutoClosingOvertype(f,w,v,p,_){const L=[];for(let E=0,M=p.length;E<M;E++){const A=p[E].getPosition(),F=new h.Range(A.lineNumber,A.column,A.lineNumber,A.column+1);L[E]=new N.ReplaceCommand(F,_)}return new b.EditOperationResult(4,L,{shouldPushStackElementBefore:a(f,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(f,w){const v=w.charAt(0),p=f.autoClosingPairs.autoClosingPairsOpenByStart.get(v)||[],_=f.autoClosingPairs.autoClosingPairsCloseByStart.get(v)||[],L=p.some(M=>w.startsWith(M.open)),E=_.some(M=>w.startsWith(M.close));return!L&&E}static _findAutoClosingPairOpen(f,w,v,p){const _=f.autoClosingPairs.autoClosingPairsOpenByEnd.get(p);if(!_)return null;let L=null;for(const E of _)if(L===null||E.open.length>L.open.length){let M=!0;for(const k of v)if(w.getValueInRange(new h.Range(k.lineNumber,k.column-E.open.length+1,k.lineNumber,k.column))+p!==E.open){M=!1;break}M&&(L=E)}return L}static _findContainedAutoClosingPair(f,w){if(w.open.length<=1)return null;const v=w.close.charAt(w.close.length-1),p=f.autoClosingPairs.autoClosingPairsCloseByEnd.get(v)||[];let _=null;for(const L of p)L.open!==w.open&&w.open.includes(L.open)&&w.close.endsWith(L.close)&&(!_||L.open.length>_.open.length)&&(_=L);return _}static _getAutoClosingPairClose(f,w,v,p,_){const L=(0,b.isQuote)(p),E=L?f.autoClosingQuotes:f.autoClosingBrackets,M=L?f.shouldAutoCloseBefore.quote:f.shouldAutoCloseBefore.bracket;if(E==="never")return null;for(const R of v)if(!R.isEmpty())return null;const k=v.map(R=>{const O=R.getPosition();return _?{lineNumber:O.lineNumber,beforeColumn:O.column-p.length,afterColumn:O.column}:{lineNumber:O.lineNumber,beforeColumn:O.column,afterColumn:O.column}}),A=this._findAutoClosingPairOpen(f,w,k.map(R=>new t.Position(R.lineNumber,R.beforeColumn)),p);if(!A)return null;const F=this._findContainedAutoClosingPair(f,A),B=F?F.close:"";let T=!0;for(const R of k){const{lineNumber:O,beforeColumn:P,afterColumn:D}=R,x=w.getLineContent(O),H=x.substring(0,P-1),j=x.substring(D-1);if(j.startsWith(B)||(T=!1),j.length>0){const ne=j.charAt(0);if(!d._isBeforeClosingBrace(f,j)&&!M(ne))return null}if(A.open.length===1&&(p==="'"||p==='"')&&E!=="always"){const ne=(0,C.getMapForWordSeparators)(f.wordSeparators);if(H.length>0){const Z=H.charCodeAt(H.length-1);if(ne.get(Z)===0)return null}}if(!w.isCheapToTokenize(O))return null;w.forceTokenization(O);const Q=w.getLineTokens(O),G=(0,o.createScopedLineTokens)(Q,P-1);if(!A.shouldAutoClose(G,P-G.firstCharOffset))return null;const se=A.findNeutralCharacter();if(se){const ne=w.getTokenTypeIfInsertingCharacter(O,P,se);if(!A.isOK(ne))return null}}return T?A.close.substring(0,A.close.length-B.length):A.close}static _runAutoClosingOpenCharType(f,w,v,p,_,L,E){const M=[];for(let k=0,A=p.length;k<A;k++){const F=p[k];M[k]=new c(F,_,!L,E)}return new b.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(f,w){return(0,b.isQuote)(w)?f.autoSurround==="quotes"||f.autoSurround==="languageDefined":f.autoSurround==="brackets"||f.autoSurround==="languageDefined"}static _isSurroundSelectionType(f,w,v,p){if(!d._shouldSurroundChar(f,p)||!f.surroundingPairs.hasOwnProperty(p))return!1;const _=(0,b.isQuote)(p);for(let L=0,E=v.length;L<E;L++){const M=v[L];if(M.isEmpty())return!1;let k=!0;for(let A=M.startLineNumber;A<=M.endLineNumber;A++){const F=w.getLineContent(A),B=A===M.startLineNumber?M.startColumn-1:0,T=A===M.endLineNumber?M.endColumn-1:F.length,R=F.substring(B,T);if(/[^ \t]/.test(R)){k=!1;break}}if(k)return!1;if(_&&M.startLineNumber===M.endLineNumber&&M.startColumn+1===M.endColumn){const A=w.getValueInRange(M);if((0,b.isQuote)(A))return!1}}return!0}static _runSurroundSelectionType(f,w,v,p,_){const L=[];for(let E=0,M=p.length;E<M;E++){const k=p[E],A=w.surroundingPairs[_];L[E]=new S.SurroundSelectionCommand(k,_,A)}return new b.EditOperationResult(0,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(f,w,v){return!!(v.length===1&&w.isCheapToTokenize(v[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(f,w,v,p,_){if(!w.electricChars.hasOwnProperty(_)||!p.isEmpty())return null;const L=p.getPosition();v.forceTokenization(L.lineNumber);const E=v.getLineTokens(L.lineNumber);let M;try{M=w.onElectricCharacter(_,E,L.column)}catch(k){return(0,y.onUnexpectedError)(k),null}if(!M)return null;if(M.matchOpenBracket){const k=(E.getLineContent()+_).lastIndexOf(M.matchOpenBracket)+1,A=v.bracketPairs.findMatchingBracketUp(M.matchOpenBracket,{lineNumber:L.lineNumber,column:k});if(A){if(A.startLineNumber===L.lineNumber)return null;const F=v.getLineContent(A.startLineNumber),B=m.getLeadingWhitespace(F),T=w.normalizeIndentation(B),R=v.getLineContent(L.lineNumber),O=v.getLineFirstNonWhitespaceColumn(L.lineNumber)||L.column,P=R.substring(O-1,L.column-1),D=T+P+_,x=new h.Range(L.lineNumber,1,L.lineNumber,L.column),H=new N.ReplaceCommand(x,D);return new b.EditOperationResult(s(D,f),[H],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(f,w,v,p,_,L){if(!p||g.Selection.selectionsArrEqual(p,_))return null;let E=null;for(const k of _){if(!k.isEmpty())return null;const A=k.getPosition(),F=v.getValueInRange(new h.Range(A.lineNumber,A.column-1,A.lineNumber,A.column));if(E===null)E=F;else if(E!==F)return null}if(!E)return null;if(this._isAutoClosingOvertype(w,v,_,L,E)){const k=_.map(A=>new N.ReplaceCommand(new h.Range(A.positionLineNumber,A.positionColumn,A.positionLineNumber,A.positionColumn+1),"",!1));return new b.EditOperationResult(4,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const M=this._getAutoClosingPairClose(w,v,_,E,!0);return M!==null?this._runAutoClosingOpenCharType(f,w,v,_,E,!0,M):null}static typeWithInterceptors(f,w,v,p,_,L,E){if(!f&&E===`
`){const A=[];for(let F=0,B=_.length;F<B;F++)A[F]=d._enter(v,p,!1,_[F]);return new b.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!f&&this._isAutoIndentType(v,p,_)){const A=[];let F=!1;for(let B=0,T=_.length;B<T;B++)if(A[B]=this._runAutoIndentType(v,p,_[B],E),!A[B]){F=!0;break}if(!F)return new b.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!f&&this._isAutoClosingOvertype(v,p,_,L,E))return this._runAutoClosingOvertype(w,v,p,_,E);if(!f){const A=this._getAutoClosingPairClose(v,p,_,E,!1);if(A)return this._runAutoClosingOpenCharType(w,v,p,_,E,!1,A)}if(this._isSurroundSelectionType(v,p,_,E))return this._runSurroundSelectionType(w,v,p,_,E);if(!f&&this._isTypeInterceptorElectricChar(v,p,_)){const A=this._typeInterceptorElectricChar(w,v,p,_[0],E);if(A)return A}const M=[];for(let A=0,F=_.length;A<F;A++)M[A]=new N.ReplaceCommand(_[A],E);const k=s(E,w);return new b.EditOperationResult(k,M,{shouldPushStackElementBefore:a(w,k),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(f,w,v,p,_){const L=[];for(let M=0,k=p.length;M<k;M++)L[M]=new N.ReplaceCommand(p[M],_);const E=s(_,f);return new b.EditOperationResult(E,L,{shouldPushStackElementBefore:a(f,E),shouldPushStackElementAfter:!1})}static lineInsertBefore(f,w,v){if(w===null||v===null)return[];const p=[];for(let _=0,L=v.length;_<L;_++){let E=v[_].positionLineNumber;if(E===1)p[_]=new N.ReplaceCommandWithoutChangingPosition(new h.Range(1,1,1,1),`
`);else{E--;const M=w.getLineMaxColumn(E);p[_]=this._enter(f,w,!1,new h.Range(E,M,E,M))}}return p}static lineInsertAfter(f,w,v){if(w===null||v===null)return[];const p=[];for(let _=0,L=v.length;_<L;_++){const E=v[_].positionLineNumber,M=w.getLineMaxColumn(E);p[_]=this._enter(f,w,!1,new h.Range(E,M,E,M))}return p}static lineBreakInsert(f,w,v){const p=[];for(let _=0,L=v.length;_<L;_++)p[_]=this._enter(f,w,!0,v[_]);return p}}e.TypeOperations=d;class c extends N.ReplaceCommandWithOffsetCursorState{constructor(f,w,v,p){super(f,(v?w:"")+p,0,-p.length);this._openCharacter=w,this._closeCharacter=p,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(f,w){const p=w.getInverseEditOperations()[0].range;return this.closeCharacterRange=new h.Range(p.startLineNumber,p.endColumn-this._closeCharacter.length,p.endLineNumber,p.endColumn),this.enclosingRange=new h.Range(p.startLineNumber,p.endColumn-this._openCharacter.length-this._closeCharacter.length,p.endLineNumber,p.endColumn),super.computeCursorState(f,w)}}e.TypeWithAutoClosingCommand=c;function s(u,f){return u===" "?f===5||f===6?6:5:4}function a(u,f){return l(u)&&!l(f)?!0:u===5?!1:r(u)!==r(f)}function r(u){return u===6||u===5?"space":u}function l(u){return u===4||u===5||u===6}}),define(ee[157],te([0,1,8,46,202,114,11,3]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class C{static _createWord(i,n,o,d,c){return{start:d,end:c,wordType:n,nextCharClass:o}}static _findPreviousWordOnLine(i,n,o){const d=n.getLineContent(o.lineNumber);return this._doFindPreviousWordOnLine(d,i,o)}static _doFindPreviousWordOnLine(i,n,o){let d=0;for(let c=o.column-2;c>=0;c--){const s=i.charCodeAt(c),a=n.get(s);if(a===0){if(d===2)return this._createWord(i,d,a,c+1,this._findEndOfWord(i,n,d,c+1));d=1}else if(a===2){if(d===1)return this._createWord(i,d,a,c+1,this._findEndOfWord(i,n,d,c+1));d=2}else if(a===1&&d!==0)return this._createWord(i,d,a,c+1,this._findEndOfWord(i,n,d,c+1))}return d!==0?this._createWord(i,d,1,0,this._findEndOfWord(i,n,d,0)):null}static _findEndOfWord(i,n,o,d){const c=i.length;for(let s=d;s<c;s++){const a=i.charCodeAt(s),r=n.get(a);if(r===1||o===1&&r===2||o===2&&r===0)return s}return c}static _findNextWordOnLine(i,n,o){const d=n.getLineContent(o.lineNumber);return this._doFindNextWordOnLine(d,i,o)}static _doFindNextWordOnLine(i,n,o){let d=0;const c=i.length;for(let s=o.column-1;s<c;s++){const a=i.charCodeAt(s),r=n.get(a);if(r===0){if(d===2)return this._createWord(i,d,r,this._findStartOfWord(i,n,d,s-1),s);d=1}else if(r===2){if(d===1)return this._createWord(i,d,r,this._findStartOfWord(i,n,d,s-1),s);d=2}else if(r===1&&d!==0)return this._createWord(i,d,r,this._findStartOfWord(i,n,d,s-1),s)}return d!==0?this._createWord(i,d,1,this._findStartOfWord(i,n,d,c-1),c):null}static _findStartOfWord(i,n,o,d){for(let c=d;c>=0;c--){const s=i.charCodeAt(c),a=n.get(s);if(a===1||o===1&&a===2||o===2&&a===0)return c+1}return 0}static moveWordLeft(i,n,o,d){let c=o.lineNumber,s=o.column;s===1&&c>1&&(c=c-1,s=n.getLineMaxColumn(c));let a=C._findPreviousWordOnLine(i,n,new S.Position(c,s));if(d===0)return new S.Position(c,a?a.start+1:1);if(d===1)return a&&a.wordType===2&&a.end-a.start==1&&a.nextCharClass===0&&(a=C._findPreviousWordOnLine(i,n,new S.Position(c,a.start+1))),new S.Position(c,a?a.start+1:1);if(d===3){for(;a&&a.wordType===2;)a=C._findPreviousWordOnLine(i,n,new S.Position(c,a.start+1));return new S.Position(c,a?a.start+1:1)}return a&&s<=a.end+1&&(a=C._findPreviousWordOnLine(i,n,new S.Position(c,a.start+1))),new S.Position(c,a?a.end+1:1)}static _moveWordPartLeft(i,n){const o=n.lineNumber,d=i.getLineMaxColumn(o);if(n.column===1)return o>1?new S.Position(o-1,i.getLineMaxColumn(o-1)):n;const c=i.getLineContent(o);for(let s=n.column-1;s>1;s--){const a=c.charCodeAt(s-2),r=c.charCodeAt(s-1);if(a===95&&r!==95)return new S.Position(o,s);if(y.isLowerAsciiLetter(a)&&y.isUpperAsciiLetter(r))return new S.Position(o,s);if(y.isUpperAsciiLetter(a)&&y.isUpperAsciiLetter(r)&&s+1<d){const l=c.charCodeAt(s);if(y.isLowerAsciiLetter(l))return new S.Position(o,s)}}return new S.Position(o,1)}static moveWordRight(i,n,o,d){let c=o.lineNumber,s=o.column,a=!1;s===n.getLineMaxColumn(c)&&c<n.getLineCount()&&(a=!0,c=c+1,s=1);let r=C._findNextWordOnLine(i,n,new S.Position(c,s));if(d===2)r&&r.wordType===2&&r.end-r.start==1&&r.nextCharClass===0&&(r=C._findNextWordOnLine(i,n,new S.Position(c,r.end+1))),r?s=r.end+1:s=n.getLineMaxColumn(c);else if(d===3){for(a&&(s=0);r&&(r.wordType===2||r.start+1<=s);)r=C._findNextWordOnLine(i,n,new S.Position(c,r.end+1));r?s=r.start+1:s=n.getLineMaxColumn(c)}else r&&!a&&s>=r.start+1&&(r=C._findNextWordOnLine(i,n,new S.Position(c,r.end+1))),r?s=r.start+1:s=n.getLineMaxColumn(c);return new S.Position(c,s)}static _moveWordPartRight(i,n){const o=n.lineNumber,d=i.getLineMaxColumn(o);if(n.column===d)return o<i.getLineCount()?new S.Position(o+1,1):n;const c=i.getLineContent(o);for(let s=n.column+1;s<d;s++){const a=c.charCodeAt(s-2),r=c.charCodeAt(s-1);if(a!==95&&r===95)return new S.Position(o,s);if(y.isLowerAsciiLetter(a)&&y.isUpperAsciiLetter(r))return new S.Position(o,s);if(y.isUpperAsciiLetter(a)&&y.isUpperAsciiLetter(r)&&s+1<d){const l=c.charCodeAt(s);if(y.isLowerAsciiLetter(l))return new S.Position(o,s)}}return new S.Position(o,d)}static _deleteWordLeftWhitespace(i,n){const o=i.getLineContent(n.lineNumber),d=n.column-2,c=y.lastNonWhitespaceIndex(o,d);return c+1<d?new b.Range(n.lineNumber,c+2,n.lineNumber,n.column):null}static deleteWordLeft(i,n){const o=i.wordSeparators,d=i.model,c=i.selection,s=i.whitespaceHeuristics;if(!c.isEmpty())return c;if(N.DeleteOperations.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){const f=i.selection.getPosition();return new b.Range(f.lineNumber,f.column-1,f.lineNumber,f.column+1)}const a=new S.Position(c.positionLineNumber,c.positionColumn);let r=a.lineNumber,l=a.column;if(r===1&&l===1)return null;if(s){const f=this._deleteWordLeftWhitespace(d,a);if(f)return f}let u=C._findPreviousWordOnLine(o,d,a);return n===0?u?l=u.start+1:l>1?l=1:(r--,l=d.getLineMaxColumn(r)):(u&&l<=u.end+1&&(u=C._findPreviousWordOnLine(o,d,new S.Position(r,u.start+1))),u?l=u.end+1:l>1?l=1:(r--,l=d.getLineMaxColumn(r))),new b.Range(r,l,a.lineNumber,a.column)}static deleteInsideWord(i,n,o){if(!o.isEmpty())return o;const d=new S.Position(o.positionLineNumber,o.positionColumn),c=this._deleteInsideWordWhitespace(n,d);return c||this._deleteInsideWordDetermineDeleteRange(i,n,d)}static _charAtIsWhitespace(i,n){const o=i.charCodeAt(n);return o===32||o===9}static _deleteInsideWordWhitespace(i,n){const o=i.getLineContent(n.lineNumber),d=o.length;if(d===0)return null;let c=Math.max(n.column-2,0);if(!this._charAtIsWhitespace(o,c))return null;let s=Math.min(n.column-1,d-1);if(!this._charAtIsWhitespace(o,s))return null;for(;c>0&&this._charAtIsWhitespace(o,c-1);)c--;for(;s+1<d&&this._charAtIsWhitespace(o,s+1);)s++;return new b.Range(n.lineNumber,c+1,n.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(i,n,o){const d=n.getLineContent(o.lineNumber),c=d.length;if(c===0)return o.lineNumber>1?new b.Range(o.lineNumber-1,n.getLineMaxColumn(o.lineNumber-1),o.lineNumber,1):o.lineNumber<n.getLineCount()?new b.Range(o.lineNumber,1,o.lineNumber+1,1):new b.Range(o.lineNumber,1,o.lineNumber,1);const s=f=>f.start+1<=o.column&&o.column<=f.end+1,a=(f,w)=>(f=Math.min(f,o.column),w=Math.max(w,o.column),new b.Range(o.lineNumber,f,o.lineNumber,w)),r=f=>{let w=f.start+1,v=f.end+1,p=!1;for(;v-1<c&&this._charAtIsWhitespace(d,v-1);)p=!0,v++;if(!p)for(;w>1&&this._charAtIsWhitespace(d,w-2);)w--;return a(w,v)},l=C._findPreviousWordOnLine(i,n,o);if(l&&s(l))return r(l);const u=C._findNextWordOnLine(i,n,o);return u&&s(u)?r(u):l&&u?a(l.end+1,u.start+1):l?a(l.start+1,l.end+1):u?a(u.start+1,u.end+1):a(1,c+1)}static _deleteWordPartLeft(i,n){if(!n.isEmpty())return n;const o=n.getPosition(),d=C._moveWordPartLeft(i,o);return new b.Range(o.lineNumber,o.column,d.lineNumber,d.column)}static _findFirstNonWhitespaceChar(i,n){const o=i.length;for(let d=n;d<o;d++){const c=i.charAt(d);if(c!==" "&&c!=="	")return d}return o}static _deleteWordRightWhitespace(i,n){const o=i.getLineContent(n.lineNumber),d=n.column-1,c=this._findFirstNonWhitespaceChar(o,d);return d+1<c?new b.Range(n.lineNumber,n.column,n.lineNumber,c+1):null}static deleteWordRight(i,n){const o=i.wordSeparators,d=i.model,c=i.selection,s=i.whitespaceHeuristics;if(!c.isEmpty())return c;const a=new S.Position(c.positionLineNumber,c.positionColumn);let r=a.lineNumber,l=a.column;const u=d.getLineCount(),f=d.getLineMaxColumn(r);if(r===u&&l===f)return null;if(s){const v=this._deleteWordRightWhitespace(d,a);if(v)return v}let w=C._findNextWordOnLine(o,d,a);return n===2?w?l=w.end+1:l<f||r===u?l=f:(r++,w=C._findNextWordOnLine(o,d,new S.Position(r,1)),w?l=w.start+1:l=d.getLineMaxColumn(r)):(w&&l>=w.start+1&&(w=C._findNextWordOnLine(o,d,new S.Position(r,w.end+1))),w?l=w.start+1:l<f||r===u?l=f:(r++,w=C._findNextWordOnLine(o,d,new S.Position(r,1)),w?l=w.start+1:l=d.getLineMaxColumn(r))),new b.Range(r,l,a.lineNumber,a.column)}static _deleteWordPartRight(i,n){if(!n.isEmpty())return n;const o=n.getPosition(),d=C._moveWordPartRight(i,o);return new b.Range(o.lineNumber,o.column,d.lineNumber,d.column)}static _createWordAtPosition(i,n,o){const d=new b.Range(n,o.start+1,n,o.end+1);return{word:i.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}static getWordAtPosition(i,n,o){const d=(0,I.getMapForWordSeparators)(n),c=C._findPreviousWordOnLine(d,i,o);if(c&&c.wordType===1&&c.start<=o.column-1&&o.column-1<=c.end)return C._createWordAtPosition(i,o.lineNumber,c);const s=C._findNextWordOnLine(d,i,o);return s&&s.wordType===1&&s.start<=o.column-1&&o.column-1<=s.end?C._createWordAtPosition(i,o.lineNumber,s):null}static word(i,n,o,d,c){const s=(0,I.getMapForWordSeparators)(i.wordSeparators),a=C._findPreviousWordOnLine(s,n,c),r=C._findNextWordOnLine(s,n,c);if(!d){let v,p;return a&&a.wordType===1&&a.start<=c.column-1&&c.column-1<=a.end?(v=a.start+1,p=a.end+1):r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end?(v=r.start+1,p=r.end+1):(a?v=a.end+1:v=1,r?p=r.start+1:p=n.getLineMaxColumn(c.lineNumber)),new m.SingleCursorState(new b.Range(c.lineNumber,v,c.lineNumber,p),0,new S.Position(c.lineNumber,p),0)}let l,u;a&&a.wordType===1&&a.start<c.column-1&&c.column-1<a.end?(l=a.start+1,u=a.end+1):r&&r.wordType===1&&r.start<c.column-1&&c.column-1<r.end?(l=r.start+1,u=r.end+1):(l=c.column,u=c.column);const f=c.lineNumber;let w;if(o.selectionStart.containsPosition(c))w=o.selectionStart.endColumn;else if(c.isBeforeOrEqual(o.selectionStart.getStartPosition())){w=l;const v=new S.Position(f,w);o.selectionStart.containsPosition(v)&&(w=o.selectionStart.endColumn)}else{w=u;const v=new S.Position(f,w);o.selectionStart.containsPosition(v)&&(w=o.selectionStart.startColumn)}return o.move(!0,f,w,0)}}e.WordOperations=C;class h extends C{static deleteWordPartLeft(i){const n=g([C.deleteWordLeft(i,0),C.deleteWordLeft(i,2),C._deleteWordPartLeft(i.model,i.selection)]);return n.sort(b.Range.compareRangesUsingEnds),n[2]}static deleteWordPartRight(i){const n=g([C.deleteWordRight(i,0),C.deleteWordRight(i,2),C._deleteWordPartRight(i.model,i.selection)]);return n.sort(b.Range.compareRangesUsingStarts),n[0]}static moveWordPartLeft(i,n,o){const d=g([C.moveWordLeft(i,n,o,0),C.moveWordLeft(i,n,o,2),C._moveWordPartLeft(n,o)]);return d.sort(S.Position.compare),d[2]}static moveWordPartRight(i,n,o){const d=g([C.moveWordRight(i,n,o,0),C.moveWordRight(i,n,o,2),C._moveWordPartRight(n,o)]);return d.sort(S.Position.compare),d[0]}}e.WordPartOperations=h;function g(t){return t.filter(i=>Boolean(i))}}),define(ee[204],te([0,1,20,46,201,157,11,3]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class C{static addCursorDown(t,i,n){const o=[];let d=0;for(let c=0,s=i.length;c<s;c++){const a=i[c];o[d++]=new m.CursorState(a.modelState,a.viewState),n?o[d++]=m.CursorState.fromModelState(N.MoveOperations.translateDown(t.cursorConfig,t.model,a.modelState)):o[d++]=m.CursorState.fromViewState(N.MoveOperations.translateDown(t.cursorConfig,t,a.viewState))}return o}static addCursorUp(t,i,n){const o=[];let d=0;for(let c=0,s=i.length;c<s;c++){const a=i[c];o[d++]=new m.CursorState(a.modelState,a.viewState),n?o[d++]=m.CursorState.fromModelState(N.MoveOperations.translateUp(t.cursorConfig,t.model,a.modelState)):o[d++]=m.CursorState.fromViewState(N.MoveOperations.translateUp(t.cursorConfig,t,a.viewState))}return o}static moveToBeginningOfLine(t,i,n){let o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d];o[d]=this._moveToLineStart(t,s,n)}return o}static _moveToLineStart(t,i,n){const o=i.viewState.position.column,d=i.modelState.position.column,c=o===d,s=i.viewState.position.lineNumber,a=t.getLineFirstNonWhitespaceColumn(s);return!c&&!(o===a)?this._moveToLineStartByView(t,i,n):this._moveToLineStartByModel(t,i,n)}static _moveToLineStartByView(t,i,n){return m.CursorState.fromViewState(N.MoveOperations.moveToBeginningOfLine(t.cursorConfig,t,i.viewState,n))}static _moveToLineStartByModel(t,i,n){return m.CursorState.fromModelState(N.MoveOperations.moveToBeginningOfLine(t.cursorConfig,t.model,i.modelState,n))}static moveToEndOfLine(t,i,n,o){const d=[];for(let c=0,s=i.length;c<s;c++){const a=i[c];d[c]=this._moveToLineEnd(t,a,n,o)}return d}static _moveToLineEnd(t,i,n,o){const d=i.viewState.position,c=t.getLineMaxColumn(d.lineNumber),s=d.column===c,a=i.modelState.position,r=t.model.getLineMaxColumn(a.lineNumber),l=c-d.column==r-a.column;return s||l?this._moveToLineEndByModel(t,i,n,o):this._moveToLineEndByView(t,i,n,o)}static _moveToLineEndByView(t,i,n,o){return m.CursorState.fromViewState(N.MoveOperations.moveToEndOfLine(t.cursorConfig,t,i.viewState,n,o))}static _moveToLineEndByModel(t,i,n,o){return m.CursorState.fromModelState(N.MoveOperations.moveToEndOfLine(t.cursorConfig,t.model,i.modelState,n,o))}static expandLineSelection(t,i){const n=[];for(let o=0,d=i.length;o<d;o++){const c=i[o],s=c.modelState.selection.startLineNumber,a=t.model.getLineCount();let r=c.modelState.selection.endLineNumber,l;r===a?l=t.model.getLineMaxColumn(a):(r++,l=1),n[o]=m.CursorState.fromModelState(new m.SingleCursorState(new b.Range(s,1,s,1),0,new S.Position(r,l),0))}return n}static moveToBeginningOfBuffer(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d];o[d]=m.CursorState.fromModelState(N.MoveOperations.moveToBeginningOfBuffer(t.cursorConfig,t.model,s.modelState,n))}return o}static moveToEndOfBuffer(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d];o[d]=m.CursorState.fromModelState(N.MoveOperations.moveToEndOfBuffer(t.cursorConfig,t.model,s.modelState,n))}return o}static selectAll(t,i){const n=t.model.getLineCount(),o=t.model.getLineMaxColumn(n);return m.CursorState.fromModelState(new m.SingleCursorState(new b.Range(1,1,1,1),0,new S.Position(n,o),0))}static line(t,i,n,o,d){const c=t.model.validatePosition(o),s=d?t.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),c):t.coordinatesConverter.convertModelPositionToViewPosition(c);if(!n||!i.modelState.hasSelection()){const r=t.model.getLineCount();let l=c.lineNumber+1,u=1;return l>r&&(l=r,u=t.model.getLineMaxColumn(l)),m.CursorState.fromModelState(new m.SingleCursorState(new b.Range(c.lineNumber,1,l,u),0,new S.Position(l,u),0))}const a=i.modelState.selectionStart.getStartPosition().lineNumber;if(c.lineNumber<a)return m.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),s.lineNumber,1,0));if(c.lineNumber>a){const r=t.getLineCount();let l=s.lineNumber+1,u=1;return l>r&&(l=r,u=t.getLineMaxColumn(l)),m.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),l,u,0))}else{const r=i.modelState.selectionStart.getEndPosition();return m.CursorState.fromModelState(i.modelState.move(i.modelState.hasSelection(),r.lineNumber,r.column,0))}}static word(t,i,n,o){const d=t.model.validatePosition(o);return m.CursorState.fromModelState(I.WordOperations.word(t.cursorConfig,t.model,i.modelState,n,d))}static cancelSelection(t,i){if(!i.modelState.hasSelection())return new m.CursorState(i.modelState,i.viewState);const n=i.viewState.position.lineNumber,o=i.viewState.position.column;return m.CursorState.fromViewState(new m.SingleCursorState(new b.Range(n,o,n,o),0,new S.Position(n,o),0))}static moveTo(t,i,n,o,d){const c=t.model.validatePosition(o),s=d?t.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),c):t.coordinatesConverter.convertModelPositionToViewPosition(c);return m.CursorState.fromViewState(i.viewState.move(n,s.lineNumber,s.column,0))}static simpleMove(t,i,n,o,d,c){switch(n){case 0:return c===4?this._moveHalfLineLeft(t,i,o):this._moveLeft(t,i,o,d);case 1:return c===4?this._moveHalfLineRight(t,i,o):this._moveRight(t,i,o,d);case 2:return c===2?this._moveUpByViewLines(t,i,o,d):this._moveUpByModelLines(t,i,o,d);case 3:return c===2?this._moveDownByViewLines(t,i,o,d):this._moveDownByModelLines(t,i,o,d);case 4:return c===2?i.map(s=>m.CursorState.fromViewState(N.MoveOperations.moveToPrevBlankLine(t.cursorConfig,t,s.viewState,o))):i.map(s=>m.CursorState.fromModelState(N.MoveOperations.moveToPrevBlankLine(t.cursorConfig,t.model,s.modelState,o)));case 5:return c===2?i.map(s=>m.CursorState.fromViewState(N.MoveOperations.moveToNextBlankLine(t.cursorConfig,t,s.viewState,o))):i.map(s=>m.CursorState.fromModelState(N.MoveOperations.moveToNextBlankLine(t.cursorConfig,t.model,s.modelState,o)));case 6:return this._moveToViewMinColumn(t,i,o);case 7:return this._moveToViewFirstNonWhitespaceColumn(t,i,o);case 8:return this._moveToViewCenterColumn(t,i,o);case 9:return this._moveToViewMaxColumn(t,i,o);case 10:return this._moveToViewLastNonWhitespaceColumn(t,i,o);default:return null}}static viewportMove(t,i,n,o,d){const c=t.getCompletelyVisibleViewRange(),s=t.coordinatesConverter.convertViewRangeToModelRange(c);switch(n){case 11:{const a=this._firstLineNumberInRange(t.model,s,d),r=t.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(t,i[0],o,a,r)]}case 13:{const a=this._lastLineNumberInRange(t.model,s,d),r=t.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(t,i[0],o,a,r)]}case 12:{const a=Math.round((s.startLineNumber+s.endLineNumber)/2),r=t.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(t,i[0],o,a,r)]}case 14:{const a=[];for(let r=0,l=i.length;r<l;r++){const u=i[r];a[r]=this.findPositionInViewportIfOutside(t,u,c,o)}return a}default:return null}}static findPositionInViewportIfOutside(t,i,n,o){const d=i.viewState.position.lineNumber;if(n.startLineNumber<=d&&d<=n.endLineNumber-1)return new m.CursorState(i.modelState,i.viewState);{let c;d>n.endLineNumber-1?c=n.endLineNumber-1:d<n.startLineNumber?c=n.startLineNumber:c=d;const s=N.MoveOperations.vertical(t.cursorConfig,t,d,i.viewState.position.column,i.viewState.leftoverVisibleColumns,c,!1);return m.CursorState.fromViewState(i.viewState.move(o,s.lineNumber,s.column,s.leftoverVisibleColumns))}}static _firstLineNumberInRange(t,i,n){let o=i.startLineNumber;return i.startColumn!==t.getLineMinColumn(o)&&o++,Math.min(i.endLineNumber,o+n-1)}static _lastLineNumberInRange(t,i,n){let o=i.startLineNumber;return i.startColumn!==t.getLineMinColumn(o)&&o++,Math.max(o,i.endLineNumber-n+1)}static _moveLeft(t,i,n,o){return i.map(d=>m.CursorState.fromViewState(N.MoveOperations.moveLeft(t.cursorConfig,t,d.viewState,n,o)))}static _moveHalfLineLeft(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d],a=s.viewState.position.lineNumber,r=Math.round(t.getLineContent(a).length/2);o[d]=m.CursorState.fromViewState(N.MoveOperations.moveLeft(t.cursorConfig,t,s.viewState,n,r))}return o}static _moveRight(t,i,n,o){return i.map(d=>m.CursorState.fromViewState(N.MoveOperations.moveRight(t.cursorConfig,t,d.viewState,n,o)))}static _moveHalfLineRight(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d],a=s.viewState.position.lineNumber,r=Math.round(t.getLineContent(a).length/2);o[d]=m.CursorState.fromViewState(N.MoveOperations.moveRight(t.cursorConfig,t,s.viewState,n,r))}return o}static _moveDownByViewLines(t,i,n,o){const d=[];for(let c=0,s=i.length;c<s;c++){const a=i[c];d[c]=m.CursorState.fromViewState(N.MoveOperations.moveDown(t.cursorConfig,t,a.viewState,n,o))}return d}static _moveDownByModelLines(t,i,n,o){const d=[];for(let c=0,s=i.length;c<s;c++){const a=i[c];d[c]=m.CursorState.fromModelState(N.MoveOperations.moveDown(t.cursorConfig,t.model,a.modelState,n,o))}return d}static _moveUpByViewLines(t,i,n,o){const d=[];for(let c=0,s=i.length;c<s;c++){const a=i[c];d[c]=m.CursorState.fromViewState(N.MoveOperations.moveUp(t.cursorConfig,t,a.viewState,n,o))}return d}static _moveUpByModelLines(t,i,n,o){const d=[];for(let c=0,s=i.length;c<s;c++){const a=i[c];d[c]=m.CursorState.fromModelState(N.MoveOperations.moveUp(t.cursorConfig,t.model,a.modelState,n,o))}return d}static _moveToViewPosition(t,i,n,o,d){return m.CursorState.fromViewState(i.viewState.move(n,o,d,0))}static _moveToModelPosition(t,i,n,o,d){return m.CursorState.fromModelState(i.modelState.move(n,o,d,0))}static _moveToViewMinColumn(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d],a=s.viewState.position.lineNumber,r=t.getLineMinColumn(a);o[d]=this._moveToViewPosition(t,s,n,a,r)}return o}static _moveToViewFirstNonWhitespaceColumn(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d],a=s.viewState.position.lineNumber,r=t.getLineFirstNonWhitespaceColumn(a);o[d]=this._moveToViewPosition(t,s,n,a,r)}return o}static _moveToViewCenterColumn(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d],a=s.viewState.position.lineNumber,r=Math.round((t.getLineMaxColumn(a)+t.getLineMinColumn(a))/2);o[d]=this._moveToViewPosition(t,s,n,a,r)}return o}static _moveToViewMaxColumn(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d],a=s.viewState.position.lineNumber,r=t.getLineMaxColumn(a);o[d]=this._moveToViewPosition(t,s,n,a,r)}return o}static _moveToViewLastNonWhitespaceColumn(t,i,n){const o=[];for(let d=0,c=i.length;d<c;d++){const s=i[d],a=s.viewState.position.lineNumber,r=t.getLineLastNonWhitespaceColumn(a);o[d]=this._moveToViewPosition(t,s,n,a,r)}return o}}e.CursorMoveCommands=C;var h;(function(g){const t=function(n){if(!y.isObject(n))return!1;const o=n;return!(!y.isString(o.to)||!y.isUndefined(o.select)&&!y.isBoolean(o.select)||!y.isUndefined(o.by)&&!y.isString(o.by)||!y.isUndefined(o.value)&&!y.isNumber(o.value))};g.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:t,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},g.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},g.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function i(n){if(!n.to)return null;let o;switch(n.to){case g.RawDirection.Left:o=0;break;case g.RawDirection.Right:o=1;break;case g.RawDirection.Up:o=2;break;case g.RawDirection.Down:o=3;break;case g.RawDirection.PrevBlankLine:o=4;break;case g.RawDirection.NextBlankLine:o=5;break;case g.RawDirection.WrappedLineStart:o=6;break;case g.RawDirection.WrappedLineFirstNonWhitespaceCharacter:o=7;break;case g.RawDirection.WrappedLineColumnCenter:o=8;break;case g.RawDirection.WrappedLineEnd:o=9;break;case g.RawDirection.WrappedLineLastNonWhitespaceCharacter:o=10;break;case g.RawDirection.ViewPortTop:o=11;break;case g.RawDirection.ViewPortBottom:o=13;break;case g.RawDirection.ViewPortCenter:o=12;break;case g.RawDirection.ViewPortIfOutside:o=14;break;default:return null}let d=0;switch(n.by){case g.RawUnit.Line:d=1;break;case g.RawUnit.WrappedLine:d=2;break;case g.RawUnit.Character:d=3;break;case g.RawUnit.HalfLine:d=4;break}return{direction:o,unit:d,select:!!n.select,value:n.value||1}}g.parse=i})(h=e.CursorMove||(e.CursorMove={}))}),define(ee[158],te([0,1,483,33,20,43,15,28,695,46,202,204,203,11,3,24,16,84]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const a=0;class r extends S.EditorCommand{runEditorCommand(A,F,B){const T=F._getViewModel();!T||this.runCoreEditorCommand(T,B||{})}}e.CoreEditorCommand=r;var l;(function(k){const A=function(B){if(!N.isObject(B))return!1;const T=B;return!(!N.isString(T.to)||!N.isUndefined(T.by)&&!N.isString(T.by)||!N.isUndefined(T.value)&&!N.isNumber(T.value)||!N.isUndefined(T.revealCursor)&&!N.isBoolean(T.revealCursor))};k.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:A,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},k.RawDirection={Up:"up",Down:"down"},k.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function F(B){let T;switch(B.to){case k.RawDirection.Up:T=1;break;case k.RawDirection.Down:T=2;break;default:return null}let R;switch(B.by){case k.RawUnit.Line:R=1;break;case k.RawUnit.WrappedLine:R=2;break;case k.RawUnit.Page:R=3;break;case k.RawUnit.HalfPage:R=4;break;default:R=2}const O=Math.floor(B.value||1),P=!!B.revealCursor;return{direction:T,unit:R,value:O,revealCursor:P,select:!!B.select}}k.parse=F})(l=e.EditorScroll_||(e.EditorScroll_={}));var u;(function(k){const A=function(F){if(!N.isObject(F))return!1;const B=F;return!(!N.isNumber(B.lineNumber)&&!N.isString(B.lineNumber)||!N.isUndefined(B.at)&&!N.isString(B.at))};k.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:A,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},k.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(u=e.RevealLine_||(e.RevealLine_={}));class f{constructor(A){A.addImplementation(1e4,"code-editor",(F,B)=>{const T=F.get(b.ICodeEditorService).getFocusedCodeEditor();return T&&T.hasTextFocus()?this._runEditorCommand(F,T,B):!1}),A.addImplementation(1e3,"generic-dom-input-textarea",(F,B)=>{const T=document.activeElement;return T&&["input","textarea"].indexOf(T.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),A.addImplementation(0,"generic-dom",(F,B)=>{const T=F.get(b.ICodeEditorService).getActiveCodeEditor();return T?(T.focus(),this._runEditorCommand(F,T,B)):!1})}_runEditorCommand(A,F,B){const T=this.runEditorCommand(A,F,B);return T||!0}}var w;(function(k){class A extends r{constructor(W){super(W);this._minimalReveal=W.minimalReveal,this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,[t.CursorMoveCommands.moveTo(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)])&&W.revealPrimaryCursor(V.source,!0,this._minimalReveal)}}k.MoveTo=(0,S.registerEditorCommand)(new A({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),k.MoveToSelect=(0,S.registerEditorCommand)(new A({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class F extends r{runCoreEditorCommand(W,V){W.model.pushStackElement();const Y=this._getColumnSelectResult(W,W.getPrimaryCursorState(),W.getCursorColumnSelectData(),V);W.setCursorStates(V.source,3,Y.viewStates.map(X=>h.CursorState.fromViewState(X))),W.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Y.fromLineNumber,fromViewVisualColumn:Y.fromVisualColumn,toViewLineNumber:Y.toLineNumber,toViewVisualColumn:Y.toVisualColumn}),Y.reversed?W.revealTopMostCursor(V.source):W.revealBottomMostCursor(V.source)}}k.ColumnSelect=(0,S.registerEditorCommand)(new class extends F{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(U,W,V,Y){const X=U.model.validatePosition(Y.position),ae=U.coordinatesConverter.validateViewPosition(new n.Position(Y.viewPosition.lineNumber,Y.viewPosition.column),X),J=Y.doColumnSelect?V.fromViewLineNumber:ae.lineNumber,de=Y.doColumnSelect?V.fromViewVisualColumn:Y.mouseColumn-1;return C.ColumnSelection.columnSelect(U.cursorConfig,U,J,de,ae.lineNumber,Y.mouseColumn-1)}}),k.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(U,W,V,Y){return C.ColumnSelection.columnSelectLeft(U.cursorConfig,U,V)}}),k.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(U,W,V,Y){return C.ColumnSelection.columnSelectRight(U.cursorConfig,U,V)}});class B extends F{constructor(W){super(W);this._isPaged=W.isPaged}_getColumnSelectResult(W,V,Y,X){return C.ColumnSelection.columnSelectUp(W.cursorConfig,W,Y,this._isPaged)}}k.CursorColumnSelectUp=(0,S.registerEditorCommand)(new B({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),k.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new B({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class T extends F{constructor(W){super(W);this._isPaged=W.isPaged}_getColumnSelectResult(W,V,Y,X){return C.ColumnSelection.columnSelectDown(W.cursorConfig,W,Y,this._isPaged)}}k.CursorColumnSelectDown=(0,S.registerEditorCommand)(new T({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),k.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new T({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class R extends r{constructor(){super({id:"cursorMove",precondition:void 0,description:t.CursorMove.description})}runCoreEditorCommand(W,V){const Y=t.CursorMove.parse(V);!Y||this._runCursorMove(W,V.source,Y)}_runCursorMove(W,V,Y){W.model.pushStackElement(),W.setCursorStates(V,3,R._move(W,W.getCursorStates(),Y)),W.revealPrimaryCursor(V,!0)}static _move(W,V,Y){const X=Y.select,ae=Y.value;switch(Y.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return t.CursorMoveCommands.simpleMove(W,V,Y.direction,X,ae,Y.unit);case 11:case 13:case 12:case 14:return t.CursorMoveCommands.viewportMove(W,V,Y.direction,X,ae);default:return null}}}k.CursorMoveImpl=R,k.CursorMove=(0,S.registerEditorCommand)(new R);class O extends r{constructor(W){super(W);this._staticArgs=W.args}runCoreEditorCommand(W,V){let Y=this._staticArgs;this._staticArgs.value===-1&&(Y={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:V.pageSize||W.cursorConfig.pageSize}),W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.simpleMove(W,W.getCursorStates(),Y.direction,Y.select,Y.value,Y.unit)),W.revealPrimaryCursor(V.source,!0)}}k.CursorLeft=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),k.CursorLeftSelect=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|15}})),k.CursorRight=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),k.CursorRightSelect=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|17}})),k.CursorUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),k.CursorUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),k.CursorPageUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:11}})),k.CursorPageUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|11}})),k.CursorDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),k.CursorDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),k.CursorPageDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:12}})),k.CursorPageDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|12}})),k.CreateCursor=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(U,W){let V;W.wholeLine?V=t.CursorMoveCommands.line(U,U.getPrimaryCursorState(),!1,W.position,W.viewPosition):V=t.CursorMoveCommands.moveTo(U,U.getPrimaryCursorState(),!1,W.position,W.viewPosition);const Y=U.getCursorStates();if(Y.length>1){const X=V.modelState?V.modelState.position:null,ae=V.viewState?V.viewState.position:null;for(let J=0,de=Y.length;J<de;J++){const q=Y[J];if(!(X&&!q.modelState.selection.containsPosition(X))&&!(ae&&!q.viewState.selection.containsPosition(ae))){Y.splice(J,1),U.model.pushStackElement(),U.setCursorStates(W.source,3,Y);return}}}Y.push(V),U.model.pushStackElement(),U.setCursorStates(W.source,3,Y)}}),k.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(U,W){const V=U.getLastAddedCursorIndex(),Y=U.getCursorStates(),X=Y.slice(0);X[V]=t.CursorMoveCommands.moveTo(U,Y[V],!0,W.position,W.viewPosition),U.model.pushStackElement(),U.setCursorStates(W.source,3,X)}});class P extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.moveToBeginningOfLine(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}k.CursorHome=(0,S.registerEditorCommand)(new P({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),k.CursorHomeSelect=(0,S.registerEditorCommand)(new P({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class D extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,this._exec(W.getCursorStates())),W.revealPrimaryCursor(V.source,!0)}_exec(W){const V=[];for(let Y=0,X=W.length;Y<X;Y++){const ae=W[Y],J=ae.modelState.position.lineNumber;V[Y]=h.CursorState.fromModelState(ae.modelState.move(this._inSelectionMode,J,1,0))}return V}}k.CursorLineStart=(0,S.registerEditorCommand)(new D({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),k.CursorLineStartSelect=(0,S.registerEditorCommand)(new D({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class x extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.moveToEndOfLine(W,W.getCursorStates(),this._inSelectionMode,V.sticky||!1)),W.revealPrimaryCursor(V.source,!0)}}k.CursorEnd=(0,S.registerEditorCommand)(new x({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(0,null),type:"boolean",default:!1}}}}]}})),k.CursorEndSelect=(0,S.registerEditorCommand)(new x({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(1,null),type:"boolean",default:!1}}}}]}}));class H extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,this._exec(W,W.getCursorStates())),W.revealPrimaryCursor(V.source,!0)}_exec(W,V){const Y=[];for(let X=0,ae=V.length;X<ae;X++){const J=V[X],de=J.modelState.position.lineNumber,q=W.model.getLineMaxColumn(de);Y[X]=h.CursorState.fromModelState(J.modelState.move(this._inSelectionMode,de,q,0))}return Y}}k.CursorLineEnd=(0,S.registerEditorCommand)(new H({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),k.CursorLineEndSelect=(0,S.registerEditorCommand)(new H({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class j extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.moveToBeginningOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}k.CursorTop=(0,S.registerEditorCommand)(new j({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),k.CursorTopSelect=(0,S.registerEditorCommand)(new j({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class Q extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,t.CursorMoveCommands.moveToEndOfBuffer(W,W.getCursorStates(),this._inSelectionMode)),W.revealPrimaryCursor(V.source,!0)}}k.CursorBottom=(0,S.registerEditorCommand)(new Q({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),k.CursorBottomSelect=(0,S.registerEditorCommand)(new Q({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class G extends r{constructor(){super({id:"editorScroll",precondition:void 0,description:l.description})}runCoreEditorCommand(W,V){const Y=l.parse(V);!Y||this._runEditorScroll(W,V.source,Y)}_runEditorScroll(W,V,Y){const X=this._computeDesiredScrollTop(W,Y);if(Y.revealCursor){const ae=W.getCompletelyVisibleViewRangeAtScrollTop(X);W.setCursorStates(V,3,[t.CursorMoveCommands.findPositionInViewportIfOutside(W,W.getPrimaryCursorState(),ae,Y.select)])}W.setScrollTop(X,0)}_computeDesiredScrollTop(W,V){if(V.unit===1){const ae=W.getCompletelyVisibleViewRange(),J=W.coordinatesConverter.convertViewRangeToModelRange(ae);let de;V.direction===1?de=Math.max(1,J.startLineNumber-V.value):de=Math.min(W.model.getLineCount(),J.startLineNumber+V.value);const q=W.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(de,1));return W.getVerticalOffsetForLineNumber(q.lineNumber)}let Y;V.unit===3?Y=W.cursorConfig.pageSize*V.value:V.unit===4?Y=Math.round(W.cursorConfig.pageSize/2)*V.value:Y=V.value;const X=(V.direction===1?-1:1)*Y;return W.getScrollTop()+X*W.cursorConfig.lineHeight}}k.EditorScrollImpl=G,k.EditorScroll=(0,S.registerEditorCommand)(new G),k.ScrollLineUp=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(U,W){k.EditorScroll._runEditorScroll(U,W.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),k.ScrollPageUp=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(U,W){k.EditorScroll._runEditorScroll(U,W.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),k.ScrollLineDown=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(U,W){k.EditorScroll._runEditorScroll(U,W.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),k.ScrollPageDown=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(U,W){k.EditorScroll._runEditorScroll(U,W.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class se extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,[t.CursorMoveCommands.word(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position)]),W.revealPrimaryCursor(V.source,!0)}}k.WordSelect=(0,S.registerEditorCommand)(new se({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),k.WordSelectDrag=(0,S.registerEditorCommand)(new se({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),k.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(U,W){const V=U.getLastAddedCursorIndex(),Y=U.getCursorStates(),X=Y.slice(0),ae=Y[V];X[V]=t.CursorMoveCommands.word(U,ae,ae.modelState.hasSelection(),W.position),U.model.pushStackElement(),U.setCursorStates(W.source,3,X)}});class ne extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){W.model.pushStackElement(),W.setCursorStates(V.source,3,[t.CursorMoveCommands.line(W,W.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)]),W.revealPrimaryCursor(V.source,!1)}}k.LineSelect=(0,S.registerEditorCommand)(new ne({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),k.LineSelectDrag=(0,S.registerEditorCommand)(new ne({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Z extends r{constructor(W){super(W);this._inSelectionMode=W.inSelectionMode}runCoreEditorCommand(W,V){const Y=W.getLastAddedCursorIndex(),X=W.getCursorStates(),ae=X.slice(0);ae[Y]=t.CursorMoveCommands.line(W,X[Y],this._inSelectionMode,V.position,V.viewPosition),W.model.pushStackElement(),W.setCursorStates(V.source,3,ae)}}k.LastCursorLineSelect=(0,S.registerEditorCommand)(new Z({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),k.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new Z({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),k.CancelSelection=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"cancelSelection",precondition:d.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(U,W){U.model.pushStackElement(),U.setCursorStates(W.source,3,[t.CursorMoveCommands.cancelSelection(U,U.getPrimaryCursorState())]),U.revealPrimaryCursor(W.source,!0)}}),k.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"removeSecondaryCursors",precondition:d.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:a+1,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(U,W){U.model.pushStackElement(),U.setCursorStates(W.source,3,[U.getPrimaryCursorState()]),U.revealPrimaryCursor(W.source,!0),(0,I.status)(y.localize(2,null))}}),k.RevealLine=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"revealLine",precondition:void 0,description:u.description})}runCoreEditorCommand(U,W){const V=W,Y=V.lineNumber||0;let X=typeof Y=="number"?Y+1:parseInt(Y)+1;X<1&&(X=1);const ae=U.model.getLineCount();X>ae&&(X=ae);const J=new o.Range(X,1,X,U.model.getLineMaxColumn(X));let de=0;if(V.at)switch(V.at){case u.RawAtArgument.Top:de=3;break;case u.RawAtArgument.Center:de=1;break;case u.RawAtArgument.Bottom:de=4;break;default:break}const q=U.coordinatesConverter.convertModelRangeToViewRange(J);U.revealRange(W.source,!1,q,de,0)}}),k.SelectAll=new class extends f{constructor(){super(S.SelectAllCommand)}runDOMCommand(){m.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(U,W,V){const Y=W._getViewModel();!Y||this.runCoreEditorCommand(Y,V)}runCoreEditorCommand(U,W){U.model.pushStackElement(),U.setCursorStates("keyboard",3,[t.CursorMoveCommands.selectAll(U,U.getPrimaryCursorState())])}},k.SetSelection=(0,S.registerEditorCommand)(new class extends r{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(U,W){U.model.pushStackElement(),U.setCursorStates(W.source,3,[h.CursorState.fromModelSelection(W.selection)])}})})(w=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const v=c.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,d.EditorContextKeys.columnSelection);function p(k,A){s.KeybindingsRegistry.registerKeybindingRule({id:k,primary:A,when:v,weight:a+1})}p(w.CursorColumnSelectLeft.id,1024|15),p(w.CursorColumnSelectRight.id,1024|17),p(w.CursorColumnSelectUp.id,1024|16),p(w.CursorColumnSelectPageUp.id,1024|11),p(w.CursorColumnSelectDown.id,1024|18),p(w.CursorColumnSelectPageDown.id,1024|12);function _(k){return k.register(),k}var L;(function(k){class A extends S.EditorCommand{runEditorCommand(B,T,R){const O=T._getViewModel();!O||this.runCoreEditingCommand(T,O,R||{})}}k.CoreEditingCommand=A,k.LineBreakInsert=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"lineBreakInsert",precondition:d.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(F,B,T){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.lineBreakInsert(B.cursorConfig,B.model,B.getCursorStates().map(R=>R.modelState.selection)))}}),k.Outdent=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"outdent",precondition:d.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:c.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(F,B,T){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.outdent(B.cursorConfig,B.model,B.getCursorStates().map(R=>R.modelState.selection))),F.pushUndoStop()}}),k.Tab=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"tab",precondition:d.EditorContextKeys.writable,kbOpts:{weight:a,kbExpr:c.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(F,B,T){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.tab(B.cursorConfig,B.model,B.getCursorStates().map(R=>R.modelState.selection))),F.pushUndoStop()}}),k.DeleteLeft=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(F,B,T){const[R,O]=g.DeleteOperations.deleteLeft(B.getPrevEditOperationType(),B.cursorConfig,B.model,B.getCursorStates().map(P=>P.modelState.selection),B.getCursorAutoClosedCharacters());R&&F.pushUndoStop(),F.executeCommands(this.id,O),B.setPrevEditOperationType(2)}}),k.DeleteRight=(0,S.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:a,kbExpr:d.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(F,B,T){const[R,O]=g.DeleteOperations.deleteRight(B.getPrevEditOperationType(),B.cursorConfig,B.model,B.getCursorStates().map(P=>P.modelState.selection));R&&F.pushUndoStop(),F.executeCommands(this.id,O),B.setPrevEditOperationType(3)}}),k.Undo=new class extends f{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(F,B,T){if(!(!B.hasModel()||B.getOption(81)===!0))return B.getModel().undo()}},k.Redo=new class extends f{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(F,B,T){if(!(!B.hasModel()||B.getOption(81)===!0))return B.getModel().redo()}}})(L=e.CoreEditingCommands||(e.CoreEditingCommands={}));class E extends S.Command{constructor(A,F,B){super({id:A,precondition:void 0,description:B});this._handlerId=F}runCommand(A,F){const B=A.get(b.ICodeEditorService).getFocusedCodeEditor();!B||B.trigger("keyboard",this._handlerId,F)}}function M(k,A){_(new E("default:"+k,k)),_(new E(k,k,A))}M("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),M("replacePreviousChar"),M("compositionType"),M("compositionStart"),M("compositionEnd"),M("paste"),M("cut")}),define(ee[696],te([0,1,158,11,17]),function(K,e,y,m,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class I{constructor(b,C,h,g){this.configuration=b,this.viewModel=C,this.userInputEvents=h,this.commandDelegate=g}paste(b,C,h,g){this.commandDelegate.paste(b,C,h,g)}type(b){this.commandDelegate.type(b)}compositionType(b,C,h,g){this.commandDelegate.compositionType(b,C,h,g)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(b){y.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:b})}_validateViewColumn(b){const C=this.viewModel.getLineMinColumn(b.lineNumber);return b.column<C?new m.Position(b.lineNumber,C):b}_hasMulticursorModifier(b){switch(this.configuration.options.get(70)){case"altKey":return b.altKey;case"ctrlKey":return b.ctrlKey;case"metaKey":return b.metaKey;default:return!1}}_hasNonMulticursorModifier(b){switch(this.configuration.options.get(70)){case"altKey":return b.ctrlKey||b.metaKey;case"ctrlKey":return b.altKey||b.metaKey;case"metaKey":return b.ctrlKey||b.altKey;default:return!1}}dispatchMouse(b){const C=this.configuration.options,h=N.isLinux&&C.get(96),g=C.get(18);b.middleButton&&!h?this._columnSelect(b.position,b.mouseColumn,b.inSelectionMode):b.startedOnLineNumbers?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelect(b.position):this._createCursor(b.position,!0):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount>=4?this._selectAll():b.mouseDownCount===3?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelectDrag(b.position):this._lastCursorLineSelect(b.position):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount===2?this._hasMulticursorModifier(b)?this._lastCursorWordSelect(b.position):b.inSelectionMode?this._wordSelectDrag(b.position):this._wordSelect(b.position):this._hasMulticursorModifier(b)?this._hasNonMulticursorModifier(b)||(b.shiftKey?this._columnSelect(b.position,b.mouseColumn,!0):b.inSelectionMode?this._lastCursorMoveToSelect(b.position):this._createCursor(b.position,!1)):b.inSelectionMode?b.altKey?this._columnSelect(b.position,b.mouseColumn,!0):g?this._columnSelect(b.position,b.mouseColumn,!0):this._moveToSelect(b.position):this.moveTo(b.position)}_usualArgs(b){return b=this._validateViewColumn(b),{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b}}moveTo(b){y.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_moveToSelect(b){y.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_columnSelect(b,C,h){b=this._validateViewColumn(b),y.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,mouseColumn:C,doColumnSelect:h})}_createCursor(b,C){b=this._validateViewColumn(b),y.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,wholeLine:C})}_lastCursorMoveToSelect(b){y.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelect(b){y.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelectDrag(b){y.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorWordSelect(b){y.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelect(b){y.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelectDrag(b){y.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelect(b){y.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelectDrag(b){y.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_selectAll(){y.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(b){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(b)}emitKeyDown(b){this.userInputEvents.emitKeyDown(b)}emitKeyUp(b){this.userInputEvents.emitKeyUp(b)}emitContextMenu(b){this.userInputEvents.emitContextMenu(b)}emitMouseMove(b){this.userInputEvents.emitMouseMove(b)}emitMouseLeave(b){this.userInputEvents.emitMouseLeave(b)}emitMouseUp(b){this.userInputEvents.emitMouseUp(b)}emitMouseDown(b){this.userInputEvents.emitMouseDown(b)}emitMouseDrag(b){this.userInputEvents.emitMouseDrag(b)}emitMouseDrop(b){this.userInputEvents.emitMouseDrop(b)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(b){this.userInputEvents.emitMouseWheel(b)}}e.ViewController=I}),define(ee[697],te([0,1,7,22,31,14,694,639,696,230,496,51,429,637,430,633,180,638,276,631,431,246,432,634,433,640,434,641,635,636,642,435,11,3,120,423,425,122,13,286]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E,M,k,A,F,B,T,R,O,P,D,x){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class H extends P.ViewEventHandler{constructor(G,se,ne,Z,U,W){super();this._selections=[new m.Selection(1,1,1,1)],this._renderAnimationFrame=null;const V=new C.ViewController(se,Z,U,G);this._context=new R.ViewContext(se,ne.getColorTheme(),Z),this._context.addEventHandler(this),this._register(ne.onDidColorThemeChange($=>{this._context.theme.update($),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new b.TextAreaHandler(this._context,V,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,N.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,N.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,N.createFastDomNode)(document.createElement("div")),t.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new d.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new r.ViewLines(this._context,this._linesContent),this._viewZones=new A.ViewZones(this._context),this._viewParts.push(this._viewZones);const Y=new p.DecorationsOverviewRuler(this._context);this._viewParts.push(Y);const X=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(X);const ae=new g.ContentViewOverlays(this._context);this._viewParts.push(ae),ae.addDynamicOverlay(new n.CurrentLineHighlightOverlay(this._context)),ae.addDynamicOverlay(new M.SelectionsOverlay(this._context)),ae.addDynamicOverlay(new s.IndentGuidesOverlay(this._context)),ae.addDynamicOverlay(new o.DecorationsOverlay(this._context));const J=new g.MarginViewOverlays(this._context);this._viewParts.push(J),J.addDynamicOverlay(new n.CurrentLineMarginHighlightOverlay(this._context)),J.addDynamicOverlay(new c.GlyphMarginOverlay(this._context)),J.addDynamicOverlay(new f.MarginViewLineDecorationsOverlay(this._context)),J.addDynamicOverlay(new l.LinesDecorationsOverlay(this._context)),J.addDynamicOverlay(new a.LineNumbersOverlay(this._context));const de=new u.Margin(this._context);de.getDomNode().appendChild(this._viewZones.marginDomNode),de.getDomNode().appendChild(J.getDomNode()),this._viewParts.push(de),this._contentWidgets=new i.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new k.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new v.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const q=new L.Rulers(this._context);this._viewParts.push(q);const z=new w.Minimap(this._context);if(this._viewParts.push(z),Y){const $=this._scrollbar.getOverviewRulerLayoutInfo();$.parent.insertBefore(Y.getDomNode(),$.insertBefore)}this._linesContent.appendChild(ae.getDomNode()),this._linesContent.appendChild(q.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(de.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(X.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(z.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),W?W.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new S.PointerHandler(this._context,V,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:G=>{this._textAreaHandler.textArea.domNode.dispatchEvent(G)},getLastRenderData:()=>{const G=this._viewCursors.getLastRenderData()||[],se=this._textAreaHandler.getLastRenderData();return new x.PointerHandlerLastRenderData(G,se)},shouldSuppressMouseDownOnViewZone:G=>this._viewZones.shouldSuppressMouseDownOnViewZone(G),shouldSuppressMouseDownOnWidget:G=>this._contentWidgets.shouldSuppressMouseDownOnWidget(G),getPositionFromDOMInfo:(G,se)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(G,se)),visibleRangeForPosition:(G,se)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(G,se))),getLineWidth:G=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(G))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:G=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(G))}}_applyLayout(){const se=this._context.configuration.options.get(131);this.domNode.setWidth(se.width),this.domNode.setHeight(se.height),this._overflowGuardContainer.setWidth(se.width),this._overflowGuardContainer.setHeight(se.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const G=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,D.getThemeTypeSelector)(this._context.theme.type)+G}handleEvents(G){super.handleEvents(G),this._scheduleRender()}onConfigurationChanged(G){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(G){return this._selections=G.selections,!1}onFocusChanged(G){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(G){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const G of this._viewParts)G.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=y.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){j(()=>this._actualRender())}_getViewPartsToRender(){const G=[];let se=0;for(const ne of this._viewParts)ne.shouldRender()&&(G[se++]=ne);return G}_actualRender(){if(!y.isInDOM(this.domNode.domNode))return;let G=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&G.length===0)return;const se=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(se.startLineNumber,se.endLineNumber,se.centeredLineNumber);const ne=new O.ViewportData(this._selections,se,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ne),this._viewLines.shouldRender()&&(this._viewLines.renderText(ne),this._viewLines.onDidRender(),G=this._getViewPartsToRender());const Z=new T.RenderingContext(this._context.viewLayout,ne,this._viewLines);for(const U of G)U.prepareRender(Z);for(const U of G)U.render(Z),U.onDidRender()}delegateVerticalScrollbarMouseDown(G){this._scrollbar.delegateVerticalScrollbarMouseDown(G)}restoreState(G){this._context.model.setScrollPosition({scrollTop:G.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:G.scrollLeft},1)}getOffsetForColumn(G,se){const ne=this._context.model.validateModelPosition({lineNumber:G,column:se}),Z=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(ne);this._flushAccumulatedAndRenderNow();const U=this._viewLines.visibleRangeForPosition(new F.Position(Z.lineNumber,Z.column));return U?U.left:-1}getTargetAtClientPoint(G,se){const ne=this._pointerHandler.getTargetAtClientPoint(G,se);return ne?h.ViewUserInputEvents.convertViewToModelMouseTarget(ne,this._context.model.coordinatesConverter):null}createOverviewRuler(G){return new _.OverviewRuler(this._context,G)}change(G){this._viewZones.changeViewZones(G),this._scheduleRender()}render(G,se){if(se){this._viewLines.forceShouldRender();for(const ne of this._viewParts)ne.forceShouldRender()}G?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(G){this._textAreaHandler.setAriaOptions(G)}addContentWidget(G){this._contentWidgets.addWidget(G.widget),this.layoutContentWidget(G),this._scheduleRender()}layoutContentWidget(G){let se=G.position&&G.position.range||null;if(se===null){const Z=G.position?G.position.position:null;Z!==null&&(se=new B.Range(Z.lineNumber,Z.column,Z.lineNumber,Z.column))}const ne=G.position?G.position.preference:null;this._contentWidgets.setWidgetPosition(G.widget,se,ne),this._scheduleRender()}removeContentWidget(G){this._contentWidgets.removeWidget(G.widget),this._scheduleRender()}addOverlayWidget(G){this._overlayWidgets.addWidget(G.widget),this.layoutOverlayWidget(G),this._scheduleRender()}layoutOverlayWidget(G){const se=G.position?G.position.preference:null;this._overlayWidgets.setWidgetPosition(G.widget,se)&&this._scheduleRender()}removeOverlayWidget(G){this._overlayWidgets.removeWidget(G.widget),this._scheduleRender()}}e.View=H;function j(Q){try{return Q()}catch(G){(0,I.onUnexpectedError)(G)}}}),define(ee[698],te([0,1,46,11,3,22]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(C){this._selTrackedRange=null,this._trackSelection=!0,this._setState(C,new y.SingleCursorState(new N.Range(1,1,1,1),0,new m.Position(1,1),0),new y.SingleCursorState(new N.Range(1,1,1,1),0,new m.Position(1,1),0))}dispose(C){this._removeTrackedRange(C)}startTrackingSelection(C){this._trackSelection=!0,this._updateTrackedRange(C)}stopTrackingSelection(C){this._trackSelection=!1,this._removeTrackedRange(C)}_updateTrackedRange(C){!this._trackSelection||(this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(C){this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new y.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(C){const h=C.model._getTrackedRange(this._selTrackedRange);return I.Selection.fromRange(h,this.modelState.selection.getDirection())}ensureValidState(C){this._setState(C,this.modelState,this.viewState)}setState(C,h,g){this._setState(C,h,g)}static _validatePositionWithCache(C,h,g,t){return h.equals(g)?t:C.normalizePosition(h,2)}static _validateViewState(C,h){const g=h.position,t=h.selectionStart.getStartPosition(),i=h.selectionStart.getEndPosition(),n=C.normalizePosition(g,2),o=this._validatePositionWithCache(C,t,g,n),d=this._validatePositionWithCache(C,i,t,o);return g.equals(n)&&t.equals(o)&&i.equals(d)?h:new y.SingleCursorState(N.Range.fromPositions(o,d),h.selectionStartLeftoverVisibleColumns+t.column-o.column,n,h.leftoverVisibleColumns+g.column-n.column)}_setState(C,h,g){if(g&&(g=S._validateViewState(C.viewModel,g)),h){const t=C.model.validateRange(h.selectionStart),i=h.selectionStart.equalsRange(t)?h.selectionStartLeftoverVisibleColumns:0,n=C.model.validatePosition(h.position),o=h.position.equals(n)?h.leftoverVisibleColumns:0;h=new y.SingleCursorState(t,i,n,o)}else{if(!g)return;const t=C.model.validateRange(C.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),i=C.model.validatePosition(C.coordinatesConverter.convertViewPositionToModelPosition(g.position));h=new y.SingleCursorState(t,g.selectionStartLeftoverVisibleColumns,i,g.leftoverVisibleColumns)}if(g){const t=C.coordinatesConverter.validateViewRange(g.selectionStart,h.selectionStart),i=C.coordinatesConverter.validateViewPosition(g.position,h.position);g=new y.SingleCursorState(t,h.selectionStartLeftoverVisibleColumns,i,h.leftoverVisibleColumns)}else{const t=C.coordinatesConverter.convertModelPositionToViewPosition(new m.Position(h.selectionStart.startLineNumber,h.selectionStart.startColumn)),i=C.coordinatesConverter.convertModelPositionToViewPosition(new m.Position(h.selectionStart.endLineNumber,h.selectionStart.endColumn)),n=new N.Range(t.lineNumber,t.column,i.lineNumber,i.column),o=C.coordinatesConverter.convertModelPositionToViewPosition(h.position);g=new y.SingleCursorState(n,h.selectionStartLeftoverVisibleColumns,o,h.leftoverVisibleColumns)}this.modelState=h,this.viewState=g,this._updateTrackedRange(C)}}e.Cursor=S}),define(ee[699],te([0,1,19,46,698,11,3,22]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class C{constructor(g){this.context=g,this.cursors=[new N.Cursor(g)],this.lastAddedCursorIndex=0}dispose(){for(const g of this.cursors)g.dispose(this.context)}startTrackingSelections(){for(const g of this.cursors)g.startTrackingSelection(this.context)}stopTrackingSelections(){for(const g of this.cursors)g.stopTrackingSelection(this.context)}updateContext(g){this.context=g}ensureValidState(){for(const g of this.cursors)g.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(g=>g.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(g=>g.asCursorState())}getViewPositions(){return this.cursors.map(g=>g.viewState.position)}getTopMostViewPosition(){return(0,y.findMinBy)(this.cursors,(0,y.compareBy)(g=>g.viewState.position,I.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,y.findLastMaxBy)(this.cursors,(0,y.compareBy)(g=>g.viewState.position,I.Position.compare)).viewState.position}getSelections(){return this.cursors.map(g=>g.modelState.selection)}getViewSelections(){return this.cursors.map(g=>g.viewState.selection)}setSelections(g){this.setStates(m.CursorState.fromModelSelections(g))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(g){g!==null&&(this.cursors[0].setState(this.context,g[0].modelState,g[0].viewState),this._setSecondaryStates(g.slice(1)))}_setSecondaryStates(g){const t=this.cursors.length-1,i=g.length;if(t<i){const n=i-t;for(let o=0;o<n;o++)this._addSecondaryCursor()}else if(t>i){const n=t-i;for(let o=0;o<n;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,g[n].modelState,g[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new N.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(g){this.lastAddedCursorIndex>=g+1&&this.lastAddedCursorIndex--,this.cursors[g+1].dispose(this.context),this.cursors.splice(g+1,1)}normalize(){if(this.cursors.length===1)return;const g=this.cursors.slice(0),t=[];for(let i=0,n=g.length;i<n;i++)t.push({index:i,selection:g[i].modelState.selection});t.sort((0,y.compareBy)(i=>i.selection,S.Range.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],d=n.selection,c=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let s;if(c.isEmpty()||d.isEmpty()?s=c.getStartPosition().isBeforeOrEqual(d.getEndPosition()):s=c.getStartPosition().isBefore(d.getEndPosition()),s){const a=n.index<o.index?i:i+1,r=n.index<o.index?i+1:i,l=t[r].index,u=t[a].index,f=t[r].selection,w=t[a].selection;if(!f.equalsSelection(w)){const v=f.plusRange(w),p=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,_=w.selectionStartLineNumber===w.startLineNumber&&w.selectionStartColumn===w.startColumn;let L;l===this.lastAddedCursorIndex?(L=p,this.lastAddedCursorIndex=u):L=_;let E;L?E=new b.Selection(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):E=new b.Selection(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn),t[a].selection=E;const M=m.CursorState.fromModelSelection(E);g[u].setState(this.context,M.modelState,M.viewState)}for(const v of t)v.index>l&&v.index--;g.splice(l,1),t.splice(r,1),this._removeSecondaryCursor(l-1),i--}}}}e.CursorCollection=C}),define(ee[287],te([0,1,14,8,699,46,202,203,3,22,91,179,2,181]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class o extends i.Disposable{constructor(r,l,u,f){super();this._model=r,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=l,this._coordinatesConverter=u,this.context=new I.CursorContext(this._model,this._viewModel,this._coordinatesConverter,f),this._cursors=new N.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(r){this.context=new I.CursorContext(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors.updateContext(this.context)}onLineMappingChanged(r){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(r,"viewModel",0,this.getCursorStates())}setHasFocus(r){this._hasFocus=r}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const r=this._cursors.getSelections();for(let l=0;l<this._autoClosedActions.length;l++){const u=this._autoClosedActions[l];u.isValid(r)||(u.dispose(),this._autoClosedActions.splice(l,1),l--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(r,l,u,f){let w=!1;f!==null&&f.length>o.MAX_CURSOR_COUNT&&(f=f.slice(0,o.MAX_CURSOR_COUNT),w=!0);const v=d.from(this._model,this);return this._cursors.setStates(f),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,l,u,v,w)}setCursorColumnSelectData(r){this._columnSelectData=r}revealPrimary(r,l,u,f,w,v){const p=this._cursors.getViewPositions();let _=null,L=null;p.length>1?L=this._cursors.getViewSelections():_=C.Range.fromPositions(p[0],p[0]),r.emitViewEvent(new t.ViewRevealRangeRequestEvent(l,u,_,L,f,w,v))}saveState(){const r=[],l=this._cursors.getSelections();for(let u=0,f=l.length;u<f;u++){const w=l[u];r.push({inSelectionMode:!w.isEmpty(),selectionStart:{lineNumber:w.selectionStartLineNumber,column:w.selectionStartColumn},position:{lineNumber:w.positionLineNumber,column:w.positionColumn}})}return r}restoreState(r,l){const u=[];for(let f=0,w=l.length;f<w;f++){const v=l[f];let p=1,_=1;v.position&&v.position.lineNumber&&(p=v.position.lineNumber),v.position&&v.position.column&&(_=v.position.column);let L=p,E=_;v.selectionStart&&v.selectionStart.lineNumber&&(L=v.selectionStart.lineNumber),v.selectionStart&&v.selectionStart.column&&(E=v.selectionStart.column),u.push({selectionStartLineNumber:L,selectionStartColumn:E,positionLineNumber:p,positionColumn:_})}this.setStates(r,"restoreState",0,I.CursorState.fromModelSelections(u)),this.revealPrimary(r,"restoreState",!1,0,!0,1)}onModelContentChanged(r,l){if(l instanceof g.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(r,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=l.versionId,this._isHandling)return;const u=l.containsEvent(1);if(this._prevEditOperationType=0,u)this._cursors.dispose(),this._cursors=new N.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,"model",1,null,!1);else if(this._hasFocus&&l.resultingSelection&&l.resultingSelection.length>0){const f=I.CursorState.fromModelSelections(l.resultingSelection);this.setStates(r,"modelChange",l.isUndoing?5:l.isRedoing?6:2,f)&&this.revealPrimary(r,"modelChange",!1,0,!0,0)}else{const f=this._cursors.readSelectionFromMarkers();this.setStates(r,"modelChange",2,I.CursorState.fromModelSelections(f))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const r=this._cursors.getPrimaryCursor(),l=r.viewState.selectionStart.getStartPosition(),u=r.viewState.position;return{isReal:!1,fromViewLineNumber:l.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,l),toViewLineNumber:u.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,u)}}getSelections(){return this._cursors.getSelections()}setSelections(r,l,u,f){this.setStates(r,l,f,I.CursorState.fromModelSelections(u))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(r){this._prevEditOperationType=r}_pushAutoClosedAction(r,l){const u=[],f=[];for(let p=0,_=r.length;p<_;p++)u.push({range:r[p],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),f.push({range:l[p],options:{description:"auto-closed-enclosing",stickiness:1}});const w=this._model.deltaDecorations([],u),v=this._model.deltaDecorations([],f);this._autoClosedActions.push(new c(this._model,w,v))}_executeEditOperation(r){if(!r)return;r.shouldPushStackElementBefore&&this._model.pushStackElement();const l=s.executeCommands(this._model,this._cursors.getSelections(),r.commands);if(l){this._interpretCommandResult(l);const u=[],f=[];for(let w=0;w<r.commands.length;w++){const v=r.commands[w];v instanceof b.TypeWithAutoClosingCommand&&v.enclosingRange&&v.closeCharacterRange&&(u.push(v.closeCharacterRange),f.push(v.enclosingRange))}u.length>0&&this._pushAutoClosedAction(u,f),this._prevEditOperationType=r.type}r.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(r){(!r||r.length===0)&&(r=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(r),this._cursors.normalize()}_emitStateChangedIfNecessary(r,l,u,f,w){const v=d.from(this._model,this);if(v.equals(f))return!1;const p=this._cursors.getSelections(),_=this._cursors.getViewSelections();if(r.emitViewEvent(new t.ViewCursorStateChangedEvent(_,p)),!f||f.cursorState.length!==v.cursorState.length||v.cursorState.some((L,E)=>!L.modelState.equals(f.cursorState[E].modelState))){const L=f?f.cursorState.map(M=>M.modelState.selection):null,E=f?f.modelVersionId:0;r.emitOutgoingEvent(new n.CursorStateChangedEvent(L,p,E,v.modelVersionId,l||"keyboard",u,w))}return!0}_findAutoClosingPairs(r){if(!r.length)return null;const l=[];for(let u=0,f=r.length;u<f;u++){const w=r[u];if(!w.text||w.text.indexOf(`
`)>=0)return null;const v=w.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!v)return null;const p=v[1],_=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(p);if(!_||_.length!==1)return null;const L=_[0].open,E=w.text.length-v[2].length-1,M=w.text.lastIndexOf(L,E-1);if(M===-1)return null;l.push([M,E])}return l}executeEdits(r,l,u,f){let w=null;l==="snippet"&&(w=this._findAutoClosingPairs(u)),w&&(u[0]._isTracked=!0);const v=[],p=[],_=this._model.pushEditOperations(this.getSelections(),u,L=>{if(w)for(let M=0,k=w.length;M<k;M++){const[A,F]=w[M],B=L[M],T=B.range.startLineNumber,R=B.range.startColumn-1+A,O=B.range.startColumn-1+F;v.push(new C.Range(T,O+1,T,O+2)),p.push(new C.Range(T,R+1,T,O+2))}const E=f(L);return E&&(this._isHandling=!0),E});_&&(this._isHandling=!1,this.setSelections(r,l,_,0)),v.length>0&&this._pushAutoClosedAction(v,p)}_executeEdit(r,l,u,f=0){if(this.context.cursorConfig.readOnly)return;const w=d.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),r()}catch(v){(0,y.onUnexpectedError)(v)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,u,f,w,!1)&&this.revealPrimary(l,u,!1,0,!0,0)}setIsDoingComposition(r){this._isDoingComposition=r}getAutoClosedCharacters(){return c.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(r){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(r,l){this._executeEdit(()=>{l==="keyboard"&&(this._executeEditOperation(b.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},r,l)}type(r,l,u){this._executeEdit(()=>{if(u==="keyboard"){const f=l.length;let w=0;for(;w<f;){const v=m.nextCharLength(l,w),p=l.substr(w,v);this._executeEditOperation(b.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),p)),w+=v}}else this._executeEditOperation(b.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l))},r,u)}compositionType(r,l,u,f,w,v){if(l.length===0&&u===0&&f===0){if(w!==0){const p=this.getSelections().map(_=>{const L=_.getPosition();return new h.Selection(L.lineNumber,L.column+w,L.lineNumber,L.column+w)});this.setSelections(r,v,p,0)}return}this._executeEdit(()=>{this._executeEditOperation(b.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),l,u,f,w))},r,v)}paste(r,l,u,f,w){this._executeEdit(()=>{this._executeEditOperation(b.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),l,u,f||[]))},r,w,4)}cut(r,l){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},r,l)}executeCommand(r,l,u){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new I.EditOperationResult(0,[l],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,u)}executeCommands(r,l,u){this._executeEdit(()=>{this._executeEditOperation(new I.EditOperationResult(0,l,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,u)}}e.CursorsController=o,o.MAX_CURSOR_COUNT=1e4;class d{constructor(r,l){this.modelVersionId=r,this.cursorState=l}static from(r,l){return new d(r.getVersionId(),l.getCursorStates())}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let l=0,u=this.cursorState.length;l<u;l++)if(!this.cursorState[l].equals(r.cursorState[l]))return!1;return!0}}class c{constructor(r,l,u){this._model=r,this._autoClosedCharactersDecorations=l,this._autoClosedEnclosingDecorations=u}static getAllAutoClosedCharacters(r){let l=[];for(const u of r)l=l.concat(u.getAutoClosedCharactersRanges());return l}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const r=[];for(let l=0;l<this._autoClosedCharactersDecorations.length;l++){const u=this._model.getDecorationRange(this._autoClosedCharactersDecorations[l]);u&&r.push(u)}return r}isValid(r){const l=[];for(let u=0;u<this._autoClosedEnclosingDecorations.length;u++){const f=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[u]);if(f&&(l.push(f),f.startLineNumber!==f.endLineNumber))return!1}l.sort(C.Range.compareRangesUsingStarts),r.sort(C.Range.compareRangesUsingStarts);for(let u=0;u<r.length;u++)if(u>=l.length||!l[u].strictContainsRange(r[u]))return!1;return!0}}class s{static executeCommands(r,l,u){const f={model:r,selectionsBefore:l,trackedRanges:[],trackedRangesDirection:[]},w=this._innerExecuteCommands(f,u);for(let v=0,p=f.trackedRanges.length;v<p;v++)f.model._setTrackedRange(f.trackedRanges[v],null,0);return w}static _innerExecuteCommands(r,l){if(this._arrayIsEmpty(l))return null;const u=this._getEditOperations(r,l);if(u.operations.length===0)return null;const f=u.operations,w=this._getLoserCursorMap(f);if(w.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const v=[];for(let L=0,E=f.length;L<E;L++)w.hasOwnProperty(f[L].identifier.major.toString())||v.push(f[L]);u.hadTrackedEditOperation&&v.length>0&&(v[0]._isTracked=!0);let p=r.model.pushEditOperations(r.selectionsBefore,v,L=>{const E=[];for(let A=0;A<r.selectionsBefore.length;A++)E[A]=[];for(const A of L)!A.identifier||E[A.identifier.major].push(A);const M=(A,F)=>A.identifier.minor-F.identifier.minor,k=[];for(let A=0;A<r.selectionsBefore.length;A++)E[A].length>0?(E[A].sort(M),k[A]=l[A].computeCursorState(r.model,{getInverseEditOperations:()=>E[A],getTrackedSelection:F=>{const B=parseInt(F,10),T=r.model._getTrackedRange(r.trackedRanges[B]);return r.trackedRangesDirection[B]===0?new h.Selection(T.startLineNumber,T.startColumn,T.endLineNumber,T.endColumn):new h.Selection(T.endLineNumber,T.endColumn,T.startLineNumber,T.startColumn)}})):k[A]=r.selectionsBefore[A];return k});p||(p=r.selectionsBefore);const _=[];for(let L in w)w.hasOwnProperty(L)&&_.push(parseInt(L,10));_.sort((L,E)=>E-L);for(const L of _)p.splice(L,1);return p}static _arrayIsEmpty(r){for(let l=0,u=r.length;l<u;l++)if(r[l])return!1;return!0}static _getEditOperations(r,l){let u=[],f=!1;for(let w=0,v=l.length;w<v;w++){const p=l[w];if(p){const _=this._getEditOperationsFromCommand(r,w,p);u=u.concat(_.operations),f=f||_.hadTrackedEditOperation}}return{operations:u,hadTrackedEditOperation:f}}static _getEditOperationsFromCommand(r,l,u){const f=[];let w=0;const v=(M,k,A=!1)=>{C.Range.isEmpty(M)&&k===""||f.push({identifier:{major:l,minor:w++},range:M,text:k,forceMoveMarkers:A,isAutoWhitespaceEdit:u.insertsAutoWhitespace})};let p=!1;const E={addEditOperation:v,addTrackedEditOperation:(M,k,A)=>{p=!0,v(M,k,A)},trackSelection:(M,k)=>{const A=h.Selection.liftSelection(M);let F;if(A.isEmpty())if(typeof k=="boolean")k?F=2:F=3;else{const R=r.model.getLineMaxColumn(A.startLineNumber);A.startColumn===R?F=2:F=3}else F=1;const B=r.trackedRanges.length,T=r.model._setTrackedRange(null,A,F);return r.trackedRanges[B]=T,r.trackedRangesDirection[B]=A.getDirection(),B.toString()}};try{u.getEditOperations(r.model,E)}catch(M){return(0,y.onUnexpectedError)(M),{operations:[],hadTrackedEditOperation:!1}}return{operations:f,hadTrackedEditOperation:p}}static _getLoserCursorMap(r){r=r.slice(0),r.sort((u,f)=>-C.Range.compareRangesUsingEnds(u.range,f.range));const l={};for(let u=1;u<r.length;u++){const f=r[u-1],w=r[u];if(C.Range.getStartPosition(f.range).isBefore(C.Range.getEndPosition(w.range))){let v;f.identifier.major>w.identifier.major?v=f.identifier.major:v=w.identifier.major,l[v.toString()]=!0;for(let p=0;p<r.length;p++)r[p].identifier.major===v&&(r.splice(p,1),p<u&&u--,p--);u>0&&u--}}return l}}}),define(ee[288],te([0,1,4,2,17,14,30,32,18,78,34,151,39,10,21,13,64,156,109,260,49,275,266,38,35]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function p(O){return O.toString()}function _(O){const P=new a.StringSHA1,D=O.createSnapshot();let x;for(;x=D.read();)P.update(x);return P.digest()}class L{constructor(P,D,x){this._modelEventListeners=new m.DisposableStore,this.model=P,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(P.onWillDispose(()=>D(P))),this._modelEventListeners.add(P.onDidChangeLanguage(H=>x(P,H)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(P){this._disposeLanguageSelection(),this._languageSelection=P,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(P.languageId)),this.model.setMode(P.languageId)}}const E=N.isLinux||N.isMacintosh?1:2;class M{constructor(P,D,x,H,j,Q,G,se){this.uri=P,this.initialUndoRedoSnapshot=D,this.time=x,this.sharesUndoRedoStack=H,this.heapSize=j,this.sha1=Q,this.versionId=G,this.alternativeVersionId=se}}let k=class kt extends m.Disposable{constructor(P,D,x,H,j,Q,G){super();this._configurationService=P,this._resourcePropertiesService=D,this._themeService=x,this._logService=H,this._undoRedoService=j,this._languageService=Q,this._languageConfigurationService=G,this._onModelAdded=this._register(new y.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new y.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new y.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new B(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new F(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(P,D){var x;let H=S.EDITOR_MODEL_DEFAULTS.tabSize;if(P.editor&&typeof P.editor.tabSize!="undefined"){const V=parseInt(P.editor.tabSize,10);isNaN(V)||(H=V),H<1&&(H=1)}let j=H;if(P.editor&&typeof P.editor.indentSize!="undefined"&&P.editor.indentSize!=="tabSize"){const V=parseInt(P.editor.indentSize,10);isNaN(V)||(j=V),j<1&&(j=1)}let Q=S.EDITOR_MODEL_DEFAULTS.insertSpaces;P.editor&&typeof P.editor.insertSpaces!="undefined"&&(Q=P.editor.insertSpaces==="false"?!1:Boolean(P.editor.insertSpaces));let G=E;const se=P.eol;se===`\r
`?G=2:se===`
`&&(G=1);let ne=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;P.editor&&typeof P.editor.trimAutoWhitespace!="undefined"&&(ne=P.editor.trimAutoWhitespace==="false"?!1:Boolean(P.editor.trimAutoWhitespace));let Z=S.EDITOR_MODEL_DEFAULTS.detectIndentation;P.editor&&typeof P.editor.detectIndentation!="undefined"&&(Z=P.editor.detectIndentation==="false"?!1:Boolean(P.editor.detectIndentation));let U=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;P.editor&&typeof P.editor.largeFileOptimizations!="undefined"&&(U=P.editor.largeFileOptimizations==="false"?!1:Boolean(P.editor.largeFileOptimizations));let W=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((x=P.editor)===null||x===void 0?void 0:x.bracketPairColorization)&&typeof P.editor.bracketPairColorization=="object"&&(W={enabled:!!P.editor.bracketPairColorization.enabled}),{isForSimpleWidget:D,tabSize:H,indentSize:j,insertSpaces:Q,detectIndentation:Z,defaultEOL:G,trimAutoWhitespace:ne,largeFileOptimizations:U,bracketPairColorizationOptions:W}}_getEOL(P,D){if(P)return this._resourcePropertiesService.getEOL(P,D);const x=this._configurationService.getValue("files.eol",{overrideIdentifier:D});return x&&typeof x=="string"&&x!=="auto"?x:N.OS===3||N.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const P=this._configurationService.getValue("files.restoreUndoStack");return typeof P=="boolean"?P:!0}getCreationOptions(P,D,x){let H=this._modelCreationOptionsByLanguageAndResource[P+D];if(!H){const j=this._configurationService.getValue("editor",{overrideIdentifier:P,resource:D}),Q=this._getEOL(D,P);H=kt._readModelOptions({editor:j,eol:Q},x),this._modelCreationOptionsByLanguageAndResource[P+D]=H}return H}_updateModelOptions(){const P=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const D=Object.keys(this._models);for(let x=0,H=D.length;x<H;x++){const j=D[x],Q=this._models[j],G=Q.model.getLanguageId(),se=Q.model.uri,ne=P[G+se],Z=this.getCreationOptions(G,se,Q.model.isForSimpleWidget);kt._setModelOptionsForModel(Q.model,Z,ne)}}static _setModelOptionsForModel(P,D,x){x&&x.defaultEOL!==D.defaultEOL&&P.getLineCount()===1&&P.setEOL(D.defaultEOL===1?0:1),!(x&&x.detectIndentation===D.detectIndentation&&x.insertSpaces===D.insertSpaces&&x.tabSize===D.tabSize&&x.indentSize===D.indentSize&&x.trimAutoWhitespace===D.trimAutoWhitespace&&(0,w.equals)(x.bracketPairColorizationOptions,D.bracketPairColorizationOptions))&&(D.detectIndentation?(P.detectIndentation(D.insertSpaces,D.tabSize),P.updateOptions({trimAutoWhitespace:D.trimAutoWhitespace,bracketColorizationOptions:D.bracketPairColorizationOptions})):P.updateOptions({insertSpaces:D.insertSpaces,tabSize:D.tabSize,indentSize:D.indentSize,trimAutoWhitespace:D.trimAutoWhitespace,bracketColorizationOptions:D.bracketPairColorizationOptions}))}_insertDisposedModel(P){this._disposedModels.set(p(P.uri),P),this._disposedModelsHeapSize+=P.heapSize}_removeDisposedModel(P){const D=this._disposedModels.get(p(P));return D&&(this._disposedModelsHeapSize-=D.heapSize),this._disposedModels.delete(p(P)),D}_ensureDisposedModelsHeapSize(P){if(this._disposedModelsHeapSize>P){const D=[];for(this._disposedModels.forEach(x=>{x.sharesUndoRedoStack||D.push(x)}),D.sort((x,H)=>x.time-H.time);D.length>0&&this._disposedModelsHeapSize>P;){const x=D.shift();this._removeDisposedModel(x.uri),x.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(x.initialUndoRedoSnapshot)}}}_createModelData(P,D,x,H){const j=this.getCreationOptions(D,x,H),Q=new b.TextModel(P,D,j,x,this._undoRedoService,this._languageService,this._languageConfigurationService);if(x&&this._disposedModels.has(p(x))){const ne=this._removeDisposedModel(x),Z=this._undoRedoService.getElements(x),U=_(Q)===ne.sha1;if(U||ne.sharesUndoRedoStack){for(const W of Z.past)(0,r.isEditStackElement)(W)&&W.matchesResource(x)&&W.setModel(Q);for(const W of Z.future)(0,r.isEditStackElement)(W)&&W.matchesResource(x)&&W.setModel(Q);this._undoRedoService.setElementsValidFlag(x,!0,W=>(0,r.isEditStackElement)(W)&&W.matchesResource(x)),U&&(Q._overwriteVersionId(ne.versionId),Q._overwriteAlternativeVersionId(ne.alternativeVersionId),Q._overwriteInitialUndoRedoSnapshot(ne.initialUndoRedoSnapshot))}else ne.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ne.initialUndoRedoSnapshot)}const G=p(Q.uri);if(this._models[G])throw new Error("ModelService: Cannot add model because it already exists!");const se=new L(Q,ne=>this._onWillDispose(ne),(ne,Z)=>this._onDidChangeLanguage(ne,Z));return this._models[G]=se,se}createModel(P,D,x,H=!1){let j;return D?(j=this._createModelData(P,D.languageId,x,H),this.setMode(j.model,D)):j=this._createModelData(P,h.PLAINTEXT_LANGUAGE_ID,x,H),this._onModelAdded.fire(j.model),j.model}setMode(P,D){if(!D)return;const x=this._models[p(P.uri)];!x||x.setLanguage(D)}getModels(){const P=[],D=Object.keys(this._models);for(let x=0,H=D.length;x<H;x++){const j=D[x];P.push(this._models[j].model)}return P}getModel(P){const D=p(P),x=this._models[D];return x?x.model:null}getSemanticTokensProviderStyling(P){return this._semanticStyling.get(P)}_schemaShouldMaintainUndoRedoElements(P){return P.scheme===l.Schemas.file||P.scheme===l.Schemas.vscodeRemote||P.scheme===l.Schemas.userData||P.scheme===l.Schemas.vscodeNotebookCell||P.scheme==="fake-fs"}_onWillDispose(P){const D=p(P.uri),x=this._models[D],H=this._undoRedoService.getUriComparisonKey(P.uri)!==P.uri.toString();let j=!1,Q=0;if(H||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(P.uri)){const se=this._undoRedoService.getElements(P.uri);if(se.past.length>0||se.future.length>0){for(const ne of se.past)(0,r.isEditStackElement)(ne)&&ne.matchesResource(P.uri)&&(j=!0,Q+=ne.heapSize(P.uri),ne.setModel(P.uri));for(const ne of se.future)(0,r.isEditStackElement)(ne)&&ne.matchesResource(P.uri)&&(j=!0,Q+=ne.heapSize(P.uri),ne.setModel(P.uri))}}const G=kt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(j)if(!H&&Q>G){const se=x.model.getInitialUndoRedoSnapshot();se!==null&&this._undoRedoService.restoreSnapshot(se)}else this._ensureDisposedModelsHeapSize(G-Q),this._undoRedoService.setElementsValidFlag(P.uri,!1,se=>(0,r.isEditStackElement)(se)&&se.matchesResource(P.uri)),this._insertDisposedModel(new M(P.uri,x.model.getInitialUndoRedoSnapshot(),Date.now(),H,Q,_(P),P.getVersionId(),P.getAlternativeVersionId()));else if(!H){const se=x.model.getInitialUndoRedoSnapshot();se!==null&&this._undoRedoService.restoreSnapshot(se)}delete this._models[D],x.dispose(),delete this._modelCreationOptionsByLanguageAndResource[P.getLanguageId()+P.uri],this._onModelRemoved.fire(P)}_onDidChangeLanguage(P,D){const x=D.oldLanguage,H=P.getLanguageId(),j=this.getCreationOptions(x,P.uri,P.isForSimpleWidget),Q=this.getCreationOptions(H,P.uri,P.isForSimpleWidget);kt._setModelOptionsForModel(P,Q,j),this._onModelModeChanged.fire({model:P,oldLanguageId:x})}};k.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,k=Be([me(0,i.IConfigurationService),me(1,t.ITextResourcePropertiesService),me(2,d.IThemeService),me(3,c.ILogService),me(4,s.IUndoRedoService),me(5,g.ILanguageService),me(6,v.ILanguageConfigurationService)],k),e.ModelService=k,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function A(O,P,D){var x;const H=(x=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:O.getLanguageId(),resource:O.uri}))===null||x===void 0?void 0:x.enabled;return typeof H=="boolean"?H:P.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=A;class F extends m.Disposable{constructor(P,D,x,H){super();this._watchers=Object.create(null),this._semanticStyling=H;const j=se=>{this._watchers[se.uri.toString()]=new R(se,D,this._semanticStyling)},Q=(se,ne)=>{ne.dispose(),delete this._watchers[se.uri.toString()]},G=()=>{for(let se of P.getModels()){const ne=this._watchers[se.uri.toString()];A(se,D,x)?ne||j(se):ne&&Q(se,ne)}};this._register(P.onModelAdded(se=>{A(se,D,x)&&j(se)})),this._register(P.onModelRemoved(se=>{const ne=this._watchers[se.uri.toString()];ne&&Q(se,ne)})),this._register(x.onDidChangeConfiguration(se=>{se.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&G()})),this._register(D.onDidColorThemeChange(G))}}class B extends m.Disposable{constructor(P,D,x){super();this._themeService=P,this._languageService=D,this._logService=x,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(P){return this._caches.has(P)||this._caches.set(P,new u.SemanticTokensProviderStyling(P.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(P)}}class T{constructor(P,D,x){this.provider=P,this.resultId=D,this.data=x}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class R extends m.Disposable{constructor(P,D,x){super();this._isDisposed=!1,this._model=P,this._semanticStyling=x,this._fetchDocumentSemanticTokens=this._register(new n.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),R.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const H=()=>{(0,m.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const j of C.DocumentSemanticTokensProviderRegistry.all(P))typeof j.onDidChange=="function"&&this._documentProvidersChangeListeners.push(j.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};H(),this._register(C.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{H(),this._fetchDocumentSemanticTokens.schedule()})),this._register(D.onDidColorThemeChange(j=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,f.hasDocumentSemanticTokensProvider)(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const P=new o.CancellationTokenSource,D=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,x=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,H=(0,f.getDocumentSemanticTokens)(this._model,D,x,P.token);this._currentDocumentRequestCancellationTokenSource=P;const j=[],Q=this._model.onDidChangeContent(G=>{j.push(G)});H.then(G=>{if(this._currentDocumentRequestCancellationTokenSource=null,Q.dispose(),!G)this._setDocumentSemanticTokens(null,null,null,j);else{const{provider:se,tokens:ne}=G,Z=this._semanticStyling.get(se);this._setDocumentSemanticTokens(se,ne||null,Z,j)}},G=>{G&&(I.isCancellationError(G)||typeof G.message=="string"&&G.message.indexOf("busy")!==-1)||I.onUnexpectedError(G),this._currentDocumentRequestCancellationTokenSource=null,Q.dispose(),j.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(P,D,x,H,j){for(let Q=0;Q<j;Q++)x[H+Q]=P[D+Q]}_setDocumentSemanticTokens(P,D,x,H){const j=this._currentDocumentResponse,Q=()=>{H.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){P&&D&&P.releaseDocumentSemanticTokens(D.resultId);return}if(!P||!x){this._model.setSemanticTokens(null,!1);return}if(!D){this._model.setSemanticTokens(null,!0),Q();return}if((0,f.isSemanticTokensEdits)(D)){if(!j){this._model.setSemanticTokens(null,!0);return}if(D.edits.length===0)D={resultId:D.resultId,data:j.data};else{let G=0;for(const W of D.edits)G+=(W.data?W.data.length:0)-W.deleteCount;const se=j.data,ne=new Uint32Array(se.length+G);let Z=se.length,U=ne.length;for(let W=D.edits.length-1;W>=0;W--){const V=D.edits[W],Y=Z-(V.start+V.deleteCount);Y>0&&(R._copy(se,Z-Y,ne,U-Y,Y),U-=Y),V.data&&(R._copy(V.data,0,ne,U-V.data.length,V.data.length),U-=V.data.length),Z=V.start}Z>0&&R._copy(se,0,ne,0,Z),D={resultId:D.resultId,data:ne}}}if((0,f.isSemanticTokens)(D)){this._currentDocumentResponse=new T(P,D.resultId,D.data);const G=(0,u.toMultilineTokens2)(D,x,this._model.getLanguageId());if(H.length>0)for(const se of H)for(const ne of G)for(const Z of se.changes)ne.applyEdit(Z.range,Z.text);this._model.setSemanticTokens(G,!0)}else this._model.setSemanticTokens(null,!0);Q()}}e.ModelSemanticColoring=R,R.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(ee[700],te([0,1,19,11,3,177,32,91,179,592,245,67]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class i{constructor(l,u,f,w,v,p,_,L,E){this._editorId=l,this.model=u,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=f,this._monospaceLineBreaksComputerFactory=w,this.fontInfo=v,this.tabSize=p,this.wrappingStrategy=_,this.wrappingColumn=L,this.wrappingIndent=E,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new c(this)}_constructLines(l,u){this.modelLineProjections=[],l&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const f=this.model.getLinesContent(),w=this.model.getInjectedTextDecorations(this._editorId),v=f.length,p=this.createLineBreaksComputer(),_=new y.ArrayQueue(b.LineInjectedText.fromDecorations(w));for(let T=0;T<v;T++){const R=_.takeWhile(O=>O.lineNumber===T+1);p.addRequest(f[T],R,u?u[T]:null)}const L=p.finalize(),E=[],M=this.hiddenAreasDecorationIds.map(T=>this.model.getDecorationRange(T)).sort(N.Range.compareRangesUsingStarts);let k=1,A=0,F=-1,B=F+1<M.length?A+1:v+2;for(let T=0;T<v;T++){const R=T+1;R===B&&(F++,k=M[F].startLineNumber,A=M[F].endLineNumber,B=F+1<M.length?A+1:v+2);const O=R>=k&&R<=A,P=(0,h.createModelLineProjection)(L[T],!O);E[T]=P.getViewLineCount(),this.modelLineProjections[T]=P}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new g.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(l=>this.model.getDecorationRange(l))}setHiddenAreas(l){const u=l.map(A=>this.model.validateRange(A)),f=n(u),w=this.hiddenAreasDecorationIds.map(A=>this.model.getDecorationRange(A)).sort(N.Range.compareRangesUsingStarts);if(f.length===w.length){let A=!1;for(let F=0;F<f.length;F++)if(!f[F].equalsRange(w[F])){A=!0;break}if(!A)return!1}const v=f.map(A=>({range:A,options:S.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,v);const p=f;let _=1,L=0,E=-1,M=E+1<p.length?L+1:this.modelLineProjections.length+2,k=!1;for(let A=0;A<this.modelLineProjections.length;A++){const F=A+1;F===M&&(E++,_=p[E].startLineNumber,L=p[E].endLineNumber,M=E+1<p.length?L+1:this.modelLineProjections.length+2);let B=!1;if(F>=_&&F<=L?this.modelLineProjections[A].isVisible()&&(this.modelLineProjections[A]=this.modelLineProjections[A].setVisible(!1),B=!0):(k=!0,this.modelLineProjections[A].isVisible()||(this.modelLineProjections[A]=this.modelLineProjections[A].setVisible(!0),B=!0)),B){const T=this.modelLineProjections[A].getViewLineCount();this.projectedModelLineLineCounts.setValue(A,T)}}return k||this.setHiddenAreas([]),!0}modelPositionIsVisible(l,u){return l<1||l>this.modelLineProjections.length?!1:this.modelLineProjections[l-1].isVisible()}getModelLineViewLineCount(l){return l<1||l>this.modelLineProjections.length?1:this.modelLineProjections[l-1].getViewLineCount()}setTabSize(l){return this.tabSize===l?!1:(this.tabSize=l,this._constructLines(!1,null),!0)}setWrappingSettings(l,u,f,w){const v=this.fontInfo.equals(l),p=this.wrappingStrategy===u,_=this.wrappingColumn===f,L=this.wrappingIndent===w;if(v&&p&&_&&L)return!1;const E=v&&p&&!_&&L;this.fontInfo=l,this.wrappingStrategy=u,this.wrappingColumn=f,this.wrappingIndent=w;let M=null;if(E){M=[];for(let k=0,A=this.modelLineProjections.length;k<A;k++)M[k]=this.modelLineProjections[k].getProjectionData()}return this._constructLines(!1,M),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(l,u,f){if(!l||l<=this._validModelVersionId)return null;const w=u===1?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,v=this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections.splice(u-1,f-u+1),this.projectedModelLineLineCounts.removeValues(u-1,f-u+1),new C.ViewLinesDeletedEvent(w,v)}onModelLinesInserted(l,u,f,w){if(!l||l<=this._validModelVersionId)return null;const v=u>2&&!this.modelLineProjections[u-2].isVisible(),p=u===1?1:this.projectedModelLineLineCounts.getPrefixSum(u-1)+1;let _=0;const L=[],E=[];for(let M=0,k=w.length;M<k;M++){const A=(0,h.createModelLineProjection)(w[M],!v);L.push(A);const F=A.getViewLineCount();_+=F,E[M]=F}return this.modelLineProjections=this.modelLineProjections.slice(0,u-1).concat(L).concat(this.modelLineProjections.slice(u-1)),this.projectedModelLineLineCounts.insertValues(u-1,E),new C.ViewLinesInsertedEvent(p,p+_-1)}onModelLineChanged(l,u,f){if(l!==null&&l<=this._validModelVersionId)return[!1,null,null,null];const w=u-1,v=this.modelLineProjections[w].getViewLineCount(),p=this.modelLineProjections[w].isVisible(),_=(0,h.createModelLineProjection)(f,p);this.modelLineProjections[w]=_;const L=this.modelLineProjections[w].getViewLineCount();let E=!1,M=0,k=-1,A=0,F=-1,B=0,T=-1;v>L?(M=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,k=M+L-1,B=k+1,T=B+(v-L)-1,E=!0):v<L?(M=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,k=M+v-1,A=k+1,F=A+(L-v)-1,E=!0):(M=this.projectedModelLineLineCounts.getPrefixSum(u-1)+1,k=M+L-1),this.projectedModelLineLineCounts.setValue(w,L);const R=M<=k?new C.ViewLinesChangedEvent(M,k):null,O=A<=F?new C.ViewLinesInsertedEvent(A,F):null,P=B<=T?new C.ViewLinesDeletedEvent(B,T):null;return[E,R,O,P]}acceptVersionId(l){this._validModelVersionId=l,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(l){if(l<1)return 1;const u=this.getViewLineCount();return l>u?u:l|0}getActiveIndentGuide(l,u,f){l=this._toValidViewLineNumber(l),u=this._toValidViewLineNumber(u),f=this._toValidViewLineNumber(f);const w=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),v=this.convertViewPositionToModelPosition(u,this.getViewLineMinColumn(u)),p=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),_=this.model.guides.getActiveIndentGuide(w.lineNumber,v.lineNumber,p.lineNumber),L=this.convertModelPositionToViewPosition(_.startLineNumber,1),E=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:L.lineNumber,endLineNumber:E.lineNumber,indent:_.indent}}getViewLineInfo(l){l=this._toValidViewLineNumber(l);const u=this.projectedModelLineLineCounts.getIndexOf(l-1),f=u.index,w=u.remainder;return new o(f+1,w)}getMinColumnOfViewLine(l){return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(l){const u=this.modelLineProjections[l.modelLineNumber-1],f=u.getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),w=u.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,f);return new m.Position(l.modelLineNumber,w)}getModelEndPositionOfViewLine(l){const u=this.modelLineProjections[l.modelLineNumber-1],f=u.getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),w=u.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,f);return new m.Position(l.modelLineNumber,w)}getViewLineInfosGroupedByModelRanges(l,u){const f=this.getViewLineInfo(l),w=this.getViewLineInfo(u),v=new Array;let p=this.getModelStartPositionOfViewLine(f),_=new Array;for(let L=f.modelLineNumber;L<=w.modelLineNumber;L++){const E=this.modelLineProjections[L-1];if(E.isVisible()){const M=L===f.modelLineNumber?f.modelLineWrappedLineIdx:0,k=L===w.modelLineNumber?w.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let A=M;A<k;A++)_.push(new o(L,A))}if(!E.isVisible()&&p){const M=new m.Position(L-1,this.model.getLineMaxColumn(L-1)+1),k=N.Range.fromPositions(p,M);v.push(new d(k,_)),_=[],p=null}else E.isVisible()&&!p&&(p=new m.Position(L,1))}if(p){const L=N.Range.fromPositions(p,this.getModelEndPositionOfViewLine(w));v.push(new d(L,_))}return v}getViewLinesBracketGuides(l,u,f,w){const v=f?this.convertViewPositionToModelPosition(f.lineNumber,f.column):null,p=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(l,u)){const L=_.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(L,_.modelRange.endLineNumber,v,w);for(const M of _.viewLines)if(M.isWrappedLineContinuation&&this.getMinColumnOfViewLine(M)===1)p.push([]);else{let k=E[M.modelLineNumber-L];k=k.map(A=>A.horizontalLine?new I.IndentGuide(A.visibleColumn,A.className,new I.IndentGuideHorizontalLine(A.horizontalLine.top,this.convertModelPositionToViewPosition(M.modelLineNumber,A.horizontalLine.endColumn).column)):A),p.push(k)}}return p}getViewLinesIndentGuides(l,u){l=this._toValidViewLineNumber(l),u=this._toValidViewLineNumber(u);const f=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),w=this.convertViewPositionToModelPosition(u,this.getViewLineMaxColumn(u));let v=[];const p=[],_=[],L=f.lineNumber-1,E=w.lineNumber-1;let M=null;for(let B=L;B<=E;B++){const T=this.modelLineProjections[B];if(T.isVisible()){const R=T.getViewLineNumberOfModelPosition(0,B===L?f.column:1),O=T.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(B+1)),P=O-R+1;let D=0;P>1&&T.getViewLineMinColumn(this.model,B+1,O)===1&&(D=R===0?1:2),p.push(P),_.push(D),M===null&&(M=new m.Position(B+1,0))}else M!==null&&(v=v.concat(this.model.guides.getLinesIndentGuides(M.lineNumber,B)),M=null)}M!==null&&(v=v.concat(this.model.guides.getLinesIndentGuides(M.lineNumber,w.lineNumber)),M=null);const k=u-l+1,A=new Array(k);let F=0;for(let B=0,T=v.length;B<T;B++){let R=v[B];const O=Math.min(k-F,p[B]),P=_[B];let D;P===2?D=0:P===1?D=1:D=O;for(let x=0;x<O;x++)x===D&&(R=0),A[F++]=R}return A}getViewLineContent(l){const u=this.getViewLineInfo(l);return this.modelLineProjections[u.modelLineNumber-1].getViewLineContent(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineLength(l){const u=this.getViewLineInfo(l);return this.modelLineProjections[u.modelLineNumber-1].getViewLineLength(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMinColumn(l){const u=this.getViewLineInfo(l);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMinColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineMaxColumn(l){const u=this.getViewLineInfo(l);return this.modelLineProjections[u.modelLineNumber-1].getViewLineMaxColumn(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLineData(l){const u=this.getViewLineInfo(l);return this.modelLineProjections[u.modelLineNumber-1].getViewLineData(this.model,u.modelLineNumber,u.modelLineWrappedLineIdx)}getViewLinesData(l,u,f){l=this._toValidViewLineNumber(l),u=this._toValidViewLineNumber(u);const w=this.projectedModelLineLineCounts.getIndexOf(l-1);let v=l;const p=w.index,_=w.remainder,L=[];for(let E=p,M=this.model.getLineCount();E<M;E++){const k=this.modelLineProjections[E];if(!k.isVisible())continue;const A=E===p?_:0;let F=k.getViewLineCount()-A,B=!1;if(v+F>u&&(B=!0,F=u-v+1),k.getViewLinesData(this.model,E+1,A,F,v-l,f,L),v+=F,B)break}return L}validateViewPosition(l,u,f){l=this._toValidViewLineNumber(l);const w=this.projectedModelLineLineCounts.getIndexOf(l-1),v=w.index,p=w.remainder,_=this.modelLineProjections[v],L=_.getViewLineMinColumn(this.model,v+1,p),E=_.getViewLineMaxColumn(this.model,v+1,p);u<L&&(u=L),u>E&&(u=E);const M=_.getModelColumnOfViewPosition(p,u);return this.model.validatePosition(new m.Position(v+1,M)).equals(f)?new m.Position(l,u):this.convertModelPositionToViewPosition(f.lineNumber,f.column)}validateViewRange(l,u){const f=this.validateViewPosition(l.startLineNumber,l.startColumn,u.getStartPosition()),w=this.validateViewPosition(l.endLineNumber,l.endColumn,u.getEndPosition());return new N.Range(f.lineNumber,f.column,w.lineNumber,w.column)}convertViewPositionToModelPosition(l,u){const f=this.getViewLineInfo(l),w=this.modelLineProjections[f.modelLineNumber-1].getModelColumnOfViewPosition(f.modelLineWrappedLineIdx,u);return this.model.validatePosition(new m.Position(f.modelLineNumber,w))}convertViewRangeToModelRange(l){const u=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),f=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);return new N.Range(u.lineNumber,u.column,f.lineNumber,f.column)}convertModelPositionToViewPosition(l,u,f=2){const w=this.model.validatePosition(new m.Position(l,u)),v=w.lineNumber,p=w.column;let _=v-1,L=!1;for(;_>0&&!this.modelLineProjections[_].isVisible();)_--,L=!0;if(_===0&&!this.modelLineProjections[_].isVisible())return new m.Position(1,1);const E=1+this.projectedModelLineLineCounts.getPrefixSum(_);let M;return L?M=this.modelLineProjections[_].getViewPositionOfModelPosition(E,this.model.getLineMaxColumn(_+1),f):M=this.modelLineProjections[v-1].getViewPositionOfModelPosition(E,p,f),M}convertModelRangeToViewRange(l,u=0){if(l.isEmpty()){const f=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,u);return N.Range.fromPositions(f)}else{const f=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,1),w=this.convertModelPositionToViewPosition(l.endLineNumber,l.endColumn,0);return new N.Range(f.lineNumber,f.column,w.lineNumber,w.column)}}getViewLineNumberOfModelPosition(l,u){let f=l-1;if(this.modelLineProjections[f].isVisible()){const v=1+this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections[f].getViewLineNumberOfModelPosition(v,u)}for(;f>0&&!this.modelLineProjections[f].isVisible();)f--;if(f===0&&!this.modelLineProjections[f].isVisible())return 1;const w=1+this.projectedModelLineLineCounts.getPrefixSum(f);return this.modelLineProjections[f].getViewLineNumberOfModelPosition(w,this.model.getLineMaxColumn(f+1))}getDecorationsInRange(l,u,f){const w=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),v=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);if(v.lineNumber-w.lineNumber<=l.endLineNumber-l.startLineNumber)return this.model.getDecorationsInRange(new N.Range(w.lineNumber,1,v.lineNumber,v.column),u,f);let p=[];const _=w.lineNumber-1,L=v.lineNumber-1;let E=null;for(let F=_;F<=L;F++)if(this.modelLineProjections[F].isVisible())E===null&&(E=new m.Position(F+1,F===_?w.column:1));else if(E!==null){const T=this.model.getLineMaxColumn(F);p=p.concat(this.model.getDecorationsInRange(new N.Range(E.lineNumber,E.column,F,T),u,f)),E=null}E!==null&&(p=p.concat(this.model.getDecorationsInRange(new N.Range(E.lineNumber,E.column,v.lineNumber,v.column),u,f)),E=null),p.sort((F,B)=>{const T=N.Range.compareRangesUsingStarts(F.range,B.range);return T===0?F.id<B.id?-1:F.id>B.id?1:0:T});let M=[],k=0,A=null;for(const F of p){const B=F.id;A!==B&&(A=B,M[k++]=F)}return M}getInjectedTextAt(l){const u=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[u.modelLineNumber-1].getInjectedTextAt(u.modelLineWrappedLineIdx,l.column)}normalizePosition(l,u){const f=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[f.modelLineNumber-1].normalizePosition(f.modelLineWrappedLineIdx,l,u)}getLineIndentColumn(l){const u=this.getViewLineInfo(l);return u.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(u.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=i;function n(r){if(r.length===0)return[];const l=r.slice();l.sort(N.Range.compareRangesUsingStarts);const u=[];let f=l[0].startLineNumber,w=l[0].endLineNumber;for(let v=1,p=l.length;v<p;v++){const _=l[v];_.startLineNumber>w+1?(u.push(new N.Range(f,1,w,1)),f=_.startLineNumber,w=_.endLineNumber):_.endLineNumber>w&&(w=_.endLineNumber)}return u.push(new N.Range(f,1,w,1)),u}class o{constructor(l,u){this.modelLineNumber=l,this.modelLineWrappedLineIdx=u}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class d{constructor(l,u){this.modelRange=l,this.viewLines=u}}class c{constructor(l){this._lines=l}convertViewPositionToModelPosition(l){return this._lines.convertViewPositionToModelPosition(l.lineNumber,l.column)}convertViewRangeToModelRange(l){return this._lines.convertViewRangeToModelRange(l)}validateViewPosition(l,u){return this._lines.validateViewPosition(l.lineNumber,l.column,u)}validateViewRange(l,u){return this._lines.validateViewRange(l,u)}convertModelPositionToViewPosition(l,u){return this._lines.convertModelPositionToViewPosition(l.lineNumber,l.column,u)}convertModelRangeToViewRange(l,u){return this._lines.convertModelRangeToViewRange(l,u)}modelPositionIsVisible(l){return this._lines.modelPositionIsVisible(l.lineNumber,l.column)}getModelLineViewLineCount(l){return this._lines.getModelLineViewLineCount(l)}getViewLineNumberOfModelPosition(l,u){return this._lines.getViewLineNumberOfModelPosition(l,u)}}class s{constructor(l){this.model=l}dispose(){}createCoordinatesConverter(){return new a(this)}getHiddenAreas(){return[]}setHiddenAreas(l){return!1}setTabSize(l){return!1}setWrappingSettings(l,u,f,w){return!1}createLineBreaksComputer(){const l=[];return{addRequest:(u,f,w)=>{l.push(null)},finalize:()=>l}}onModelFlushed(){}onModelLinesDeleted(l,u,f){return new C.ViewLinesDeletedEvent(u,f)}onModelLinesInserted(l,u,f,w){return new C.ViewLinesInsertedEvent(u,f)}onModelLineChanged(l,u,f){return[!1,new C.ViewLinesChangedEvent(u,u),null,null]}acceptVersionId(l){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(l,u,f){return{startLineNumber:l,endLineNumber:l,indent:0}}getViewLinesBracketGuides(l,u,f){return new Array(u-l+1).fill([])}getViewLinesIndentGuides(l,u){const f=u-l+1,w=new Array(f);for(let v=0;v<f;v++)w[v]=0;return w}getViewLineContent(l){return this.model.getLineContent(l)}getViewLineLength(l){return this.model.getLineLength(l)}getViewLineMinColumn(l){return this.model.getLineMinColumn(l)}getViewLineMaxColumn(l){return this.model.getLineMaxColumn(l)}getViewLineData(l){const u=this.model.getLineTokens(l),f=u.getLineContent();return new t.ViewLineData(f,!1,1,f.length+1,0,u.inflate(),null)}getViewLinesData(l,u,f){const w=this.model.getLineCount();l=Math.min(Math.max(1,l),w),u=Math.min(Math.max(1,u),w);const v=[];for(let p=l;p<=u;p++){const _=p-l;v[_]=f[_]?this.getViewLineData(p):null}return v}getDecorationsInRange(l,u,f){return this.model.getDecorationsInRange(l,u,f)}normalizePosition(l,u){return this.model.normalizePosition(l,u)}getLineIndentColumn(l){return this.model.getLineIndentColumn(l)}getInjectedTextAt(l){return null}}e.ViewModelLinesFromModelAsIs=s;class a{constructor(l){this._lines=l}_validPosition(l){return this._lines.model.validatePosition(l)}_validRange(l){return this._lines.model.validateRange(l)}convertViewPositionToModelPosition(l){return this._validPosition(l)}convertViewRangeToModelRange(l){return this._validRange(l)}validateViewPosition(l,u){return this._validPosition(u)}validateViewRange(l,u){return this._validRange(u)}convertModelPositionToViewPosition(l){return this._validPosition(l)}convertModelRangeToViewRange(l){return this._validRange(l)}modelPositionIsVisible(l){const u=this._lines.model.getLineCount();return!(l.lineNumber<1||l.lineNumber>u)}getModelLineViewLineCount(l){return 1}getViewLineNumberOfModelPosition(l,u){return l}}}),define(ee[701],te([0,1,19,10,29,2,17,8,30,287,46,11,3,91,18,78,263,179,436,264,67,259,181,700]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const v=!0;class p extends I.Disposable{constructor(E,M,k,A,F,B,T){super();if(this.languageConfigurationService=T,this._editorId=E,this._configuration=M,this.model=k,this._eventDispatcher=new f.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new m.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new m.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,v&&this.model.isTooLargeForTokenization())this._lines=new w.ViewModelLinesFromModelAsIs(this.model);else{const R=this._configuration.options,O=R.get(44),P=R.get(125),D=R.get(132),x=R.get(124);this._lines=new w.ViewModelLinesFromProjectedModel(this._editorId,this.model,A,F,O,this.model.getOptions().tabSize,P,D.wrappingColumn,x)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new h.CursorsController(k,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new a.ViewLayout(this._configuration,this.getLineCount(),B)),this._register(this.viewLayout.onDidScroll(R=>{R.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new s.ViewScrollChangedEvent(R)),this._eventDispatcher.emitOutgoingEvent(new f.ScrollChangedEvent(R.oldScrollWidth,R.oldScrollLeft,R.oldScrollHeight,R.oldScrollTop,R.scrollWidth,R.scrollLeft,R.scrollHeight,R.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(R=>{this._eventDispatcher.emitOutgoingEvent(R)})),this._decorations=new u.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(R=>{try{const O=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(O,R)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(r.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new s.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(E){this._eventDispatcher.addViewEventHandler(E)}removeViewEventHandler(E){this._eventDispatcher.removeViewEventHandler(E)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const E=this.viewLayout.getLinesViewportData(),M=new i.Range(E.startLineNumber,this.getLineMinColumn(E.startLineNumber),E.endLineNumber,this.getLineMaxColumn(E.endLineNumber)),k=this._toModelVisibleRanges(M);for(const A of k)this.model.tokenizeViewport(A.startLineNumber,A.endLineNumber)}setHasFocus(E){this._hasFocus=E,this._cursor.setHasFocus(E),this._eventDispatcher.emitSingleViewEvent(new s.ViewFocusChangedEvent(E)),this._eventDispatcher.emitOutgoingEvent(new f.FocusChangedEvent(!E,E))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new s.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new s.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new s.ViewThemeChangedEvent)}_onConfigurationChanged(E,M){let k=null;if(this._viewportStartLine!==-1){const P=new t.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));k=this.coordinatesConverter.convertViewPositionToModelPosition(P)}let A=!1;const F=this._configuration.options,B=F.get(44),T=F.get(125),R=F.get(132),O=F.get(124);if(this._lines.setWrappingSettings(B,T,R.wrappingColumn,O)&&(E.emitViewEvent(new s.ViewFlushedEvent),E.emitViewEvent(new s.ViewLineMappingChangedEvent),E.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(E),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(A=!0),this._updateConfigurationViewLineCount.schedule()),M.hasChanged(81)&&(this._decorations.reset(),E.emitViewEvent(new s.ViewDecorationsChangedEvent(null))),E.emitViewEvent(new s.ViewConfigurationChangedEvent(M)),this.viewLayout.onConfigurationChanged(M),A&&k){const P=this.coordinatesConverter.convertModelPositionToViewPosition(k),D=this.viewLayout.getVerticalOffsetForLineNumber(P.lineNumber);this.viewLayout.setScrollPosition({scrollTop:D+this._viewportStartLineDelta},1)}g.CursorConfiguration.shouldRecreate(M)&&(this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(E=>{try{const M=this._eventDispatcher.beginEmitViewEvents();let k=!1,A=!1;const F=E.changes,B=E instanceof n.ModelRawContentChangedEvent?E.versionId:null,T=this._lines.createLineBreaksComputer();for(const P of F)switch(P.changeType){case 4:{for(let D=0;D<P.detail.length;D++){const x=P.detail[D];let H=P.injectedTexts[D];H&&(H=H.filter(j=>!j.ownerId||j.ownerId===this._editorId)),T.addRequest(x,H,null)}break}case 2:{let D=null;P.injectedText&&(D=P.injectedText.filter(x=>!x.ownerId||x.ownerId===this._editorId)),T.addRequest(P.detail,D,null);break}}const R=T.finalize(),O=new y.ArrayQueue(R);for(const P of F)switch(P.changeType){case 1:{this._lines.onModelFlushed(),M.emitViewEvent(new s.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),k=!0;break}case 3:{const D=this._lines.onModelLinesDeleted(B,P.fromLineNumber,P.toLineNumber);D!==null&&(M.emitViewEvent(D),this.viewLayout.onLinesDeleted(D.fromLineNumber,D.toLineNumber)),k=!0;break}case 4:{const D=O.takeCount(P.detail.length),x=this._lines.onModelLinesInserted(B,P.fromLineNumber,P.toLineNumber,D);x!==null&&(M.emitViewEvent(x),this.viewLayout.onLinesInserted(x.fromLineNumber,x.toLineNumber)),k=!0;break}case 2:{const D=O.dequeue(),[x,H,j,Q]=this._lines.onModelLineChanged(B,P.lineNumber,D);A=x,H&&M.emitViewEvent(H),j&&(M.emitViewEvent(j),this.viewLayout.onLinesInserted(j.fromLineNumber,j.toLineNumber)),Q&&(M.emitViewEvent(Q),this.viewLayout.onLinesDeleted(Q.fromLineNumber,Q.toLineNumber));break}case 5:break}B!==null&&this._lines.acceptVersionId(B),this.viewLayout.onHeightMaybeChanged(),!k&&A&&(M.emitViewEvent(new s.ViewLineMappingChangedEvent),M.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const M=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(M){const k=this.coordinatesConverter.convertModelPositionToViewPosition(M.getStartPosition()),A=this.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber);this.viewLayout.setScrollPosition({scrollTop:A+this._viewportStartLineDelta},1)}}try{const M=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(M,E)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(E=>{const M=[];for(let k=0,A=E.ranges.length;k<A;k++){const F=E.ranges[k],B=this.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(F.fromLineNumber,1)).lineNumber,T=this.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(F.toLineNumber,this.model.getLineMaxColumn(F.toLineNumber))).lineNumber;M[k]={fromLineNumber:B,toLineNumber:T}}this._eventDispatcher.emitSingleViewEvent(new s.ViewTokensChangedEvent(M)),E.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(E=>{this._eventDispatcher.emitSingleViewEvent(new s.ViewLanguageConfigurationEvent),this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(E=>{this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(E=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const M=this._eventDispatcher.beginEmitViewEvents();M.emitViewEvent(new s.ViewFlushedEvent),M.emitViewEvent(new s.ViewLineMappingChangedEvent),M.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(E=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new s.ViewDecorationsChangedEvent(E))}))}setHiddenAreas(E){let M=!1;try{const k=this._eventDispatcher.beginEmitViewEvents();M=this._lines.setHiddenAreas(E),M&&(k.emitViewEvent(new s.ViewFlushedEvent),k.emitViewEvent(new s.ViewLineMappingChangedEvent),k.emitViewEvent(new s.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(k),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),M&&this._eventDispatcher.emitOutgoingEvent(new f.ViewZonesChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const E=this._configuration.options.get(131),M=this._configuration.options.get(59),k=Math.max(20,Math.round(E.height/M)),A=this.viewLayout.getLinesViewportData(),F=Math.max(1,A.completelyVisibleStartLineNumber-k),B=Math.min(this.getLineCount(),A.completelyVisibleEndLineNumber+k);return this._toModelVisibleRanges(new i.Range(F,this.getLineMinColumn(F),B,this.getLineMaxColumn(B)))}getVisibleRanges(){const E=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(E)}_toModelVisibleRanges(E){const M=this.coordinatesConverter.convertViewRangeToModelRange(E),k=this._lines.getHiddenAreas();if(k.length===0)return[M];const A=[];let F=0,B=M.startLineNumber,T=M.startColumn;const R=M.endLineNumber,O=M.endColumn;for(let P=0,D=k.length;P<D;P++){const x=k[P].startLineNumber,H=k[P].endLineNumber;H<B||x>R||(B<x&&(A[F++]=new i.Range(B,T,x-1,this.model.getLineMaxColumn(x-1))),B=H+1,T=1)}return(B<R||B===R&&T<O)&&(A[F++]=new i.Range(B,T,R,O)),A}getCompletelyVisibleViewRange(){const E=this.viewLayout.getLinesViewportData(),M=E.completelyVisibleStartLineNumber,k=E.completelyVisibleEndLineNumber;return new i.Range(M,this.getLineMinColumn(M),k,this.getLineMaxColumn(k))}getCompletelyVisibleViewRangeAtScrollTop(E){const M=this.viewLayout.getLinesViewportDataAtScrollTop(E),k=M.completelyVisibleStartLineNumber,A=M.completelyVisibleEndLineNumber;return new i.Range(k,this.getLineMinColumn(k),A,this.getLineMaxColumn(A))}saveState(){const E=this.viewLayout.saveState(),M=E.scrollTop,k=this.viewLayout.getLineNumberAtVerticalOffset(M),A=this.coordinatesConverter.convertViewPositionToModelPosition(new t.Position(k,this.getLineMinColumn(k))),F=this.viewLayout.getVerticalOffsetForLineNumber(k)-M;return{scrollLeft:E.scrollLeft,firstPosition:A,firstPositionDeltaTop:F}}reduceRestoreState(E){if(typeof E.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(E);const M=this.model.validatePosition(E.firstPosition),k=this.coordinatesConverter.convertModelPositionToViewPosition(M),A=this.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber)-E.firstPositionDeltaTop;return{scrollLeft:E.scrollLeft,scrollTop:A}}_reduceRestoreStateCompatibility(E){return{scrollLeft:E.scrollLeft,scrollTop:E.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(E,M,k){this._viewportStartLine=E;const A=this.coordinatesConverter.convertViewPositionToModelPosition(new t.Position(E,this.getLineMinColumn(E)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new i.Range(A.lineNumber,A.column,A.lineNumber,A.column),1);const F=this.viewLayout.getVerticalOffsetForLineNumber(E),B=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=B-F}getActiveIndentGuide(E,M,k){return this._lines.getActiveIndentGuide(E,M,k)}getLinesIndentGuides(E,M){return this._lines.getViewLinesIndentGuides(E,M)}getBracketGuidesInRangeByLine(E,M,k,A){return this._lines.getViewLinesBracketGuides(E,M,k,A)}getLineContent(E){return this._lines.getViewLineContent(E)}getLineLength(E){return this._lines.getViewLineLength(E)}getLineMinColumn(E){return this._lines.getViewLineMinColumn(E)}getLineMaxColumn(E){return this._lines.getViewLineMaxColumn(E)}getLineFirstNonWhitespaceColumn(E){const M=b.firstNonWhitespaceIndex(this.getLineContent(E));return M===-1?0:M+1}getLineLastNonWhitespaceColumn(E){const M=b.lastNonWhitespaceIndex(this.getLineContent(E));return M===-1?0:M+2}getDecorationsInViewport(E){return this._decorations.getDecorationsViewportData(E).decorations}getInjectedTextAt(E){return this._lines.getInjectedTextAt(E)}getViewLineRenderingData(E,M){const k=this.model.mightContainRTL(),A=this.model.mightContainNonBasicASCII(),F=this.getTabSize(),B=this._lines.getViewLineData(M);let R=this._decorations.getDecorationsViewportData(E).inlineDecorations[M-E.startLineNumber];return B.inlineDecorations&&(R=[...R,...B.inlineDecorations.map(O=>O.toInlineDecoration(M))]),new l.ViewLineRenderingData(B.minColumn,B.maxColumn,B.content,B.continuesWithWrappedLine,k,A,B.tokens,R,F,B.startVisibleColumn)}getViewLineData(E){return this._lines.getViewLineData(E)}getMinimapLinesRenderingData(E,M,k){const A=this._lines.getViewLinesData(E,M,k);return new l.MinimapLinesRenderingData(this.getTabSize(),A)}getAllOverviewRulerDecorations(E){const M=this.model.getOverviewRulerDecorations(this._editorId,(0,C.filterValidationDecorations)(this._configuration.options)),k=new _;for(const A of M){const F=A.options,B=F.overviewRuler;if(!B)continue;const T=B.position;if(T===0)continue;const R=B.getColor(E),O=this.coordinatesConverter.getViewLineNumberOfModelPosition(A.range.startLineNumber,A.range.startColumn),P=this.coordinatesConverter.getViewLineNumberOfModelPosition(A.range.endLineNumber,A.range.endColumn);k.accept(R,F.zIndex,O,P,T)}return k.asArray}invalidateOverviewRulerColorCache(){const E=this.model.getOverviewRulerDecorations();for(const M of E){const k=M.options.overviewRuler;k&&k.invalidateCachedColor()}}invalidateMinimapColorCache(){const E=this.model.getAllDecorations();for(const M of E){const k=M.options.minimap;k&&k.invalidateCachedColor()}}getValueInRange(E,M){const k=this.coordinatesConverter.convertViewRangeToModelRange(E);return this.model.getValueInRange(k,M)}getModelLineMaxColumn(E){return this.model.getLineMaxColumn(E)}validateModelPosition(E){return this.model.validatePosition(E)}validateModelRange(E){return this.model.validateRange(E)}deduceModelPositionRelativeToViewPosition(E,M,k){const A=this.coordinatesConverter.convertViewPositionToModelPosition(E);this.model.getEOL().length===2&&(M<0?M-=k:M+=k);const B=this.model.getOffsetAt(A)+M;return this.model.getPositionAt(B)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(E,M,k){const A=k?`\r
`:this.model.getEOL();E=E.slice(0),E.sort(i.Range.compareRangesUsingStarts);let F=!1,B=!1;for(const R of E)R.isEmpty()?F=!0:B=!0;if(!B){if(!M)return"";const R=E.map(P=>P.startLineNumber);let O="";for(let P=0;P<R.length;P++)P>0&&R[P-1]===R[P]||(O+=this.model.getLineContent(R[P])+A);return O}if(F&&M){const R=[];let O=0;for(const P of E){const D=P.startLineNumber;P.isEmpty()?D!==O&&R.push(this.model.getLineContent(D)):R.push(this.model.getValueInRange(P,k?2:0)),O=D}return R.length===1?R[0]:R}const T=[];for(const R of E)R.isEmpty()||T.push(this.model.getValueInRange(R,k?2:0));return T.length===1?T[0]:T}getRichTextToCopy(E,M){const k=this.model.getLanguageId();if(k===d.PLAINTEXT_LANGUAGE_ID||E.length!==1)return null;let A=E[0];if(A.isEmpty()){if(!M)return null;const P=A.startLineNumber;A=new i.Range(P,this.model.getLineMinColumn(P),P,this.model.getLineMaxColumn(P))}const F=this._configuration.options.get(44),B=this._getColorMap(),R=/[:;\\\/<>]/.test(F.fontFamily)||F.fontFamily===C.EDITOR_FONT_DEFAULTS.fontFamily;let O;return R?O=C.EDITOR_FONT_DEFAULTS.fontFamily:(O=F.fontFamily,O=O.replace(/"/g,"'"),/[,']/.test(O)||/[+ ]/.test(O)&&(O=`'${O}'`),O=`${O}, ${C.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:k,html:`<div style="color: ${B[1]};background-color: ${B[2]};font-family: ${O};font-weight: ${F.fontWeight};font-size: ${F.fontSize}px;line-height: ${F.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(A,B)+"</div>"}}_getHTMLToCopy(E,M){const k=E.startLineNumber,A=E.startColumn,F=E.endLineNumber,B=E.endColumn,T=this.getTabSize();let R="";for(let O=k;O<=F;O++){const P=this.model.getLineTokens(O),D=P.getLineContent(),x=O===k?A-1:0,H=O===F?B-1:D.length;D===""?R+="<br>":R+=(0,c.tokenizeLineToHTML)(D,P.inflate(),M,x,H,T,S.isWindows)}return R}_getColorMap(){const E=o.TokenizationRegistry.getColorMap(),M=["#000000"];if(E)for(let k=1,A=E.length;k<A;k++)M[k]=N.Color.Format.CSS.formatHex(E[k]);return M}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(E,M,k){return this._withViewEventsCollector(A=>this._cursor.setStates(A,E,M,k))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(E){this._cursor.setCursorColumnSelectData(E)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(E){this._cursor.setPrevEditOperationType(E)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(E,M,k=0){this._withViewEventsCollector(A=>this._cursor.setSelections(A,E,M,k))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(E){this._withViewEventsCollector(M=>this._cursor.restoreState(M,E))}_executeCursorEdit(E){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new f.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(E)}executeEdits(E,M,k){this._executeCursorEdit(A=>this._cursor.executeEdits(A,E,M,k))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(E=>this._cursor.startComposition(E))}endComposition(E){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(M=>this._cursor.endComposition(M,E))}type(E,M){this._executeCursorEdit(k=>this._cursor.type(k,E,M))}compositionType(E,M,k,A,F){this._executeCursorEdit(B=>this._cursor.compositionType(B,E,M,k,A,F))}paste(E,M,k,A){this._executeCursorEdit(F=>this._cursor.paste(F,E,M,k,A))}cut(E){this._executeCursorEdit(M=>this._cursor.cut(M,E))}executeCommand(E,M){this._executeCursorEdit(k=>this._cursor.executeCommand(k,E,M))}executeCommands(E,M){this._executeCursorEdit(k=>this._cursor.executeCommands(k,E,M))}revealPrimaryCursor(E,M,k=!1){this._withViewEventsCollector(A=>this._cursor.revealPrimary(A,E,k,0,M,0))}revealTopMostCursor(E){const M=this._cursor.getTopMostViewPosition(),k=new i.Range(M.lineNumber,M.column,M.lineNumber,M.column);this._withViewEventsCollector(A=>A.emitViewEvent(new s.ViewRevealRangeRequestEvent(E,!1,k,null,0,!0,0)))}revealBottomMostCursor(E){const M=this._cursor.getBottomMostViewPosition(),k=new i.Range(M.lineNumber,M.column,M.lineNumber,M.column);this._withViewEventsCollector(A=>A.emitViewEvent(new s.ViewRevealRangeRequestEvent(E,!1,k,null,0,!0,0)))}revealRange(E,M,k,A,F){this._withViewEventsCollector(B=>B.emitViewEvent(new s.ViewRevealRangeRequestEvent(E,!1,k,null,A,M,F)))}getVerticalOffsetForLineNumber(E){return this.viewLayout.getVerticalOffsetForLineNumber(E)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(E,M){this.viewLayout.setScrollPosition({scrollTop:E},M)}setScrollPosition(E,M){this.viewLayout.setScrollPosition(E,M)}deltaScrollNow(E,M){this.viewLayout.deltaScrollNow(E,M)}changeWhitespace(E){this.viewLayout.changeWhitespace(E)&&(this._eventDispatcher.emitSingleViewEvent(new s.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new f.ViewZonesChangedEvent))}setMaxLineWidth(E){this.viewLayout.setMaxLineWidth(E)}_withViewEventsCollector(E){try{const M=this._eventDispatcher.beginEmitViewEvents();return E(M)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(E,M){return this._lines.normalizePosition(E,M)}getLineIndentColumn(E){return this._lines.getLineIndentColumn(E)}}e.ViewModel=p;class _{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(E,M,k,A,F){const B=this._asMap[E];if(B){const T=B.data,R=T[T.length-3],O=T[T.length-1];if(R===F&&O+1>=k){A>O&&(T[T.length-1]=A);return}T.push(F,k,A)}else{const T=new l.OverviewRulerDecorationsGroup(E,M,[F,k,A]);this._asMap[E]=T,this.asArray.push(T)}}}}),define(ee[159],te([0,1,487,7,14,4,2,49,600,15,28,697,230,30,287,46,11,3,22,236,144,24,18,53,23,701,26,16,9,152,40,13,63,20,426,495,157,35,62,654,363]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E,M,k,A,F,B,T,R,O,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let x=0;class H{constructor(J,de,q,z,$){this.model=J,this.viewModel=de,this.view=q,this.hasRealView=z,this.listenersToRemove=$}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let j=class Vt extends S.Disposable{constructor(J,de,q,z,$,ie,ce,oe,he,ve,Se){super();this.languageConfigurationService=Se,this._onDidDispose=this._register(new I.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new I.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new I.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new I.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new I.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new I.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new I.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new I.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new I.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new I.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new I.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new I.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Q),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Q),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new I.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new I.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new I.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new I.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new I.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new I.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new I.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new I.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new I.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new I.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new I.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new I.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new I.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new I.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new I.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new I.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new I.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new I.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new I.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new I.Emitter),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const le=Object.assign({},de);this._domElement=J,this._overflowWidgetsDomNode=le.overflowWidgetsDomNode,delete le.overflowWidgetsDomNode,this._id=++x,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=q.telemetryData,this._configuration=this._register(this._createConfiguration(q.isSimpleWidget||!1,le,ve)),this._register(this._configuration.onDidChange(ue=>{this._onDidChangeConfiguration.fire(ue);const be=this._configuration.options;if(ue.hasChanged(131)){const re=be.get(131);this._onDidLayoutChange.fire(re)}})),this._contextKeyService=this._register(ce.createScoped(this._domElement)),this._notificationService=he,this._codeEditorService=$,this._commandService=ie,this._themeService=oe,this._register(new G(this,this._contextKeyService)),this._register(new se(this,this._contextKeyService)),this._instantiationService=z.createChild(new M.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new ne(J),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let ge;Array.isArray(q.contributions)?ge=q.contributions:ge=h.EditorExtensionsRegistry.getEditorContributions();for(const ue of ge){if(this._contributions[ue.id]){(0,N.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${ue.id}`));continue}try{const be=this._instantiationService.createInstance(ue.ctor,this);this._contributions[ue.id]=be}catch(be){(0,N.onUnexpectedError)(be)}}h.EditorExtensionsRegistry.getEditorActions().forEach(ue=>{if(this._actions[ue.id]){(0,N.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${ue.id}`));return}const be=new r.InternalEditorAction(ue.id,ue.label,ue.alias,(0,B.withNullAsUndefined)(ue.precondition),()=>this._instantiationService.invokeFunction(re=>Promise.resolve(ue.runEditorCommand(re,this,null))),this._contextKeyService);this._actions[be.id]=be}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(J,de,q){return new C.EditorConfiguration(J,de,this._domElement,q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return l.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const J=Object.keys(this._contributions);for(let de=0,q=J.length;de<q;de++){const z=J[de];this._contributions[z].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(J){return this._instantiationService.invokeFunction(J)}updateOptions(J){this._configuration.updateOptions(J||{})}getOptions(){return this._configuration.options}getOption(J){return this._configuration.options.get(J)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(J){return this._modelData?O.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),J):null}getValue(J=null){if(!this._modelData)return"";const de=!!(J&&J.preserveBOM);let q=0;return J&&J.lineEnding&&J.lineEnding===`
`?q=1:J&&J.lineEnding&&J.lineEnding===`\r
`&&(q=2),this._modelData.model.getValue(q,de)}setValue(J){!this._modelData||this._modelData.model.setValue(J)}getModel(){return this._modelData?this._modelData.model:null}setModel(J=null){const de=J;if(this._modelData===null&&de===null||this._modelData&&this._modelData.model===de)return;const q=this.hasTextFocus(),z=this._detachModel();this._attachModel(de),q&&this.hasModel()&&this.focus();const $={oldModelUrl:z?z.uri:null,newModelUrl:de?de.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire($),this._postDetachModelCleanup(z)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let J in this._decorationTypeSubtypes){const de=this._decorationTypeSubtypes[J];for(let q in de)this._removeDecorationType(J+"-"+q)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(J,de,q){const z=J.model.validatePosition({lineNumber:de,column:q}),$=J.viewModel.coordinatesConverter.convertModelPositionToViewPosition(z);return J.viewModel.viewLayout.getVerticalOffsetForLineNumber($.lineNumber)}getTopForLineNumber(J){return this._modelData?Vt._getVerticalOffsetForPosition(this._modelData,J,1):-1}getTopForPosition(J,de){return this._modelData?Vt._getVerticalOffsetForPosition(this._modelData,J,de):-1}setHiddenAreas(J){this._modelData&&this._modelData.viewModel.setHiddenAreas(J.map(de=>s.Range.lift(de)))}getVisibleColumnFromPosition(J){if(!this._modelData)return J.column;const de=this._modelData.model.validatePosition(J),q=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(de.lineNumber),de.column,q)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(J){if(!!this._modelData){if(!c.Position.isIPosition(J))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:J.lineNumber,selectionStartColumn:J.column,positionLineNumber:J.lineNumber,positionColumn:J.column}])}}_sendRevealRange(J,de,q,z){if(!this._modelData)return;if(!s.Range.isIRange(J))throw new Error("Invalid arguments");const $=this._modelData.model.validateRange(J),ie=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange($);this._modelData.viewModel.revealRange("api",q,ie,de,z)}revealLine(J,de=0){this._revealLine(J,0,de)}revealLineInCenter(J,de=0){this._revealLine(J,1,de)}revealLineInCenterIfOutsideViewport(J,de=0){this._revealLine(J,2,de)}revealLineNearTop(J,de=0){this._revealLine(J,5,de)}_revealLine(J,de,q){if(typeof J!="number")throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(J,1,J,1),de,!1,q)}revealPosition(J,de=0){this._revealPosition(J,0,!0,de)}revealPositionInCenter(J,de=0){this._revealPosition(J,1,!0,de)}revealPositionInCenterIfOutsideViewport(J,de=0){this._revealPosition(J,2,!0,de)}revealPositionNearTop(J,de=0){this._revealPosition(J,5,!0,de)}_revealPosition(J,de,q,z){if(!c.Position.isIPosition(J))throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(J.lineNumber,J.column,J.lineNumber,J.column),de,q,z)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(J){const de=a.Selection.isISelection(J),q=s.Range.isIRange(J);if(!de&&!q)throw new Error("Invalid arguments");if(de)this._setSelectionImpl(J);else if(q){const z={selectionStartLineNumber:J.startLineNumber,selectionStartColumn:J.startColumn,positionLineNumber:J.endLineNumber,positionColumn:J.endColumn};this._setSelectionImpl(z)}}_setSelectionImpl(J){if(!this._modelData)return;const de=new a.Selection(J.selectionStartLineNumber,J.selectionStartColumn,J.positionLineNumber,J.positionColumn);this._modelData.viewModel.setSelections("api",[de])}revealLines(J,de,q=0){this._revealLines(J,de,0,q)}revealLinesInCenter(J,de,q=0){this._revealLines(J,de,1,q)}revealLinesInCenterIfOutsideViewport(J,de,q=0){this._revealLines(J,de,2,q)}revealLinesNearTop(J,de,q=0){this._revealLines(J,de,5,q)}_revealLines(J,de,q,z){if(typeof J!="number"||typeof de!="number")throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(J,1,de,1),q,!1,z)}revealRange(J,de=0,q=!1,z=!0){this._revealRange(J,q?1:0,z,de)}revealRangeInCenter(J,de=0){this._revealRange(J,1,!0,de)}revealRangeInCenterIfOutsideViewport(J,de=0){this._revealRange(J,2,!0,de)}revealRangeNearTop(J,de=0){this._revealRange(J,5,!0,de)}revealRangeNearTopIfOutsideViewport(J,de=0){this._revealRange(J,6,!0,de)}revealRangeAtTop(J,de=0){this._revealRange(J,3,!0,de)}_revealRange(J,de,q,z){if(!s.Range.isIRange(J))throw new Error("Invalid arguments");this._sendRevealRange(s.Range.lift(J),de,q,z)}setSelections(J,de="api",q=0){if(!!this._modelData){if(!J||J.length===0)throw new Error("Invalid arguments");for(let z=0,$=J.length;z<$;z++)if(!a.Selection.isISelection(J[z]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(de,J,q)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(J,de=1){if(!!this._modelData){if(typeof J!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:J},de)}}setScrollTop(J,de=1){if(!!this._modelData){if(typeof J!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:J},de)}}setScrollPosition(J,de=1){!this._modelData||this._modelData.viewModel.setScrollPosition(J,de)}saveViewState(){if(!this._modelData)return null;const J={},de=Object.keys(this._contributions);for(const $ of de){const ie=this._contributions[$];typeof ie.saveViewState=="function"&&(J[$]=ie.saveViewState())}const q=this._modelData.viewModel.saveCursorState(),z=this._modelData.viewModel.saveState();return{cursorState:q,viewState:z,contributionsState:J}}restoreViewState(J){if(!this._modelData||!this._modelData.hasRealView)return;const de=J;if(de&&de.cursorState&&de.viewState){const q=de.cursorState;Array.isArray(q)?this._modelData.viewModel.restoreCursorState(q):this._modelData.viewModel.restoreCursorState([q]);const z=de.contributionsState||{},$=Object.keys(this._contributions);for(let ce=0,oe=$.length;ce<oe;ce++){const he=$[ce],ve=this._contributions[he];typeof ve.restoreViewState=="function"&&ve.restoreViewState(z[he])}const ie=this._modelData.viewModel.reduceRestoreState(de.viewState);this._modelData.view.restoreState(ie)}}getContribution(J){return this._contributions[J]||null}getActions(){const J=[],de=Object.keys(this._actions);for(let q=0,z=de.length;q<z;q++){const $=de[q];J.push(this._actions[$])}return J}getSupportedActions(){let J=this.getActions();return J=J.filter(de=>de.isSupported()),J}getAction(J){return this._actions[J]||null}trigger(J,de,q){switch(q=q||{},de){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(J);return;case"type":{const $=q;this._type(J,$.text||"");return}case"replacePreviousChar":{const $=q;this._compositionType(J,$.text||"",$.replaceCharCnt||0,0,0);return}case"compositionType":{const $=q;this._compositionType(J,$.text||"",$.replacePrevCharCnt||0,$.replaceNextCharCnt||0,$.positionDelta||0);return}case"paste":{const $=q;this._paste(J,$.text||"",$.pasteOnNewLine||!1,$.multicursorText||null,$.mode||null);return}case"cut":this._cut(J);return}const z=this.getAction(de);if(z){Promise.resolve(z.run()).then(void 0,N.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(J,de,q)||this._triggerCommand(de,q)}_triggerCommand(J,de){this._commandService.executeCommand(J,de)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(J){!this._modelData||(this._modelData.viewModel.endComposition(J),this._onDidCompositionEnd.fire())}_type(J,de){!this._modelData||de.length===0||(J==="keyboard"&&this._onWillType.fire(de),this._modelData.viewModel.type(de,J),J==="keyboard"&&this._onDidType.fire(de))}_compositionType(J,de,q,z,$){!this._modelData||this._modelData.viewModel.compositionType(de,q,z,$,J)}_paste(J,de,q,z,$){if(!this._modelData||de.length===0)return;const ie=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(de,q,z,J);const ce=this._modelData.viewModel.getSelection().getStartPosition();J==="keyboard"&&this._onDidPaste.fire({range:new s.Range(ie.lineNumber,ie.column,ce.lineNumber,ce.column),languageId:$})}_cut(J){!this._modelData||this._modelData.viewModel.cut(J)}_triggerEditorCommand(J,de,q){const z=h.EditorExtensionsRegistry.getEditorCommand(de);return z?(q=q||{},q.source=J,this._instantiationService.invokeFunction($=>{Promise.resolve(z.runEditorCommand($,this,q)).then(void 0,N.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(J,de,q){if(!this._modelData||this._configuration.options.get(81))return!1;let z;return q?Array.isArray(q)?z=()=>q:z=q:z=()=>null,this._modelData.viewModel.executeEdits(J,de,z),!0}executeCommand(J,de){!this._modelData||this._modelData.viewModel.executeCommand(de,J)}executeCommands(J,de){!this._modelData||this._modelData.viewModel.executeCommands(de,J)}changeDecorations(J){return this._modelData?this._modelData.model.changeDecorations(J,this._id):null}getLineDecorations(J){return this._modelData?this._modelData.model.getLineDecorations(J,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(J){return this._modelData?this._modelData.model.getDecorationsInRange(J,this._id,(0,n.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(J,de){return this._modelData?J.length===0&&de.length===0?J:this._modelData.model.deltaDecorations(J,de,this._id):[]}removeDecorations(J){const de=this._decorationTypeKeysToIds[J];de&&this.deltaDecorations(de,[]),this._decorationTypeKeysToIds.hasOwnProperty(J)&&delete this._decorationTypeKeysToIds[J],this._decorationTypeSubtypes.hasOwnProperty(J)&&delete this._decorationTypeSubtypes[J]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(J){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(J)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(J)}layout(J){this._configuration.observeContainer(J),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(J){const de={widget:J,position:J.getPosition()};this._contentWidgets.hasOwnProperty(J.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[J.getId()]=de,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(de)}layoutContentWidget(J){const de=J.getId();if(this._contentWidgets.hasOwnProperty(de)){const q=this._contentWidgets[de];q.position=J.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(q)}}removeContentWidget(J){const de=J.getId();if(this._contentWidgets.hasOwnProperty(de)){const q=this._contentWidgets[de];delete this._contentWidgets[de],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(q)}}addOverlayWidget(J){const de={widget:J,position:J.getPosition()};this._overlayWidgets.hasOwnProperty(J.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[J.getId()]=de,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(de)}layoutOverlayWidget(J){const de=J.getId();if(this._overlayWidgets.hasOwnProperty(de)){const q=this._overlayWidgets[de];q.position=J.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(q)}}removeOverlayWidget(J){const de=J.getId();if(this._overlayWidgets.hasOwnProperty(de)){const q=this._overlayWidgets[de];delete this._overlayWidgets[de],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(q)}}changeViewZones(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(J)}getTargetAtClientPoint(J,de){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(J,de)}getScrolledVisiblePosition(J){if(!this._modelData||!this._modelData.hasRealView)return null;const de=this._modelData.model.validatePosition(J),q=this._configuration.options,z=q.get(131),$=Vt._getVerticalOffsetForPosition(this._modelData,de.lineNumber,de.column)-this.getScrollTop(),ie=this._modelData.view.getOffsetForColumn(de.lineNumber,de.column)+z.glyphMarginWidth+z.lineNumbersWidth+z.decorationsWidth-this.getScrollLeft();return{top:$,left:ie,height:q.get(59)}}getOffsetForColumn(J,de){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(J,de)}render(J=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,J)}setAriaOptions(J){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(J)}applyFontInfo(J){(0,D.applyFontInfo)(J,this._configuration.options.get(44))}setBanner(J,de){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=J,this._configuration.setReservedHeight(J?de:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(J){if(!J){this._modelData=null;return}const de=[];this._domElement.setAttribute("data-mode-id",J.getLanguageId()),this._configuration.setIsDominatedByLongLines(J.isDominatedByLongLines()),this._configuration.setModelLineCount(J.getLineCount()),J.onBeforeAttached();const q=new p.ViewModel(this._id,this._configuration,J,R.DOMLineBreaksComputerFactory.create(),T.MonospaceLineBreaksComputerFactory.create(this._configuration.options),ie=>m.scheduleAtNextAnimationFrame(ie),this.languageConfigurationService);de.push(J.onDidChangeDecorations(ie=>this._onDidChangeModelDecorations.fire(ie))),de.push(J.onDidChangeLanguage(ie=>{this._domElement.setAttribute("data-mode-id",J.getLanguageId()),this._onDidChangeModelLanguage.fire(ie)})),de.push(J.onDidChangeLanguageConfiguration(ie=>this._onDidChangeModelLanguageConfiguration.fire(ie))),de.push(J.onDidChangeContent(ie=>this._onDidChangeModelContent.fire(ie))),de.push(J.onDidChangeOptions(ie=>this._onDidChangeModelOptions.fire(ie))),de.push(J.onWillDispose(()=>this.setModel(null))),de.push(q.onEvent(ie=>{switch(ie.kind){case 0:this._onDidContentSizeChange.fire(ie);break;case 1:this._editorTextFocus.setValue(ie.hasFocus);break;case 2:this._onDidScrollChange.fire(ie);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ie.reachedMaxCursorCount&&this._notificationService.warn(y.localize(0,null,o.CursorsController.MAX_CURSOR_COUNT));const ce=[];for(let ve=0,Se=ie.selections.length;ve<Se;ve++)ce[ve]=ie.selections[ve].getPosition();const oe={position:ce[0],secondaryPositions:ce.slice(1),reason:ie.reason,source:ie.source};this._onDidChangeCursorPosition.fire(oe);const he={selection:ie.selections[0],secondarySelections:ie.selections.slice(1),modelVersionId:ie.modelVersionId,oldSelections:ie.oldSelections,oldModelVersionId:ie.oldModelVersionId,source:ie.source,reason:ie.reason};this._onDidChangeCursorSelection.fire(he);break}}}));const[z,$]=this._createView(q);if($){this._domElement.appendChild(z.domNode.domNode);let ie=Object.keys(this._contentWidgets);for(let ce=0,oe=ie.length;ce<oe;ce++){const he=ie[ce];z.addContentWidget(this._contentWidgets[he])}ie=Object.keys(this._overlayWidgets);for(let ce=0,oe=ie.length;ce<oe;ce++){const he=ie[ce];z.addOverlayWidget(this._overlayWidgets[he])}z.render(!1,!0),z.domNode.domNode.setAttribute("data-uri",J.uri.toString())}this._modelData=new H(J,q,z,$,de)}_createView(J){let de;this.isSimpleWidget?de={paste:($,ie,ce,oe)=>{this._paste("keyboard",$,ie,ce,oe)},type:$=>{this._type("keyboard",$)},compositionType:($,ie,ce,oe)=>{this._compositionType("keyboard",$,ie,ce,oe)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:de={paste:($,ie,ce,oe)=>{const he={text:$,pasteOnNewLine:ie,multicursorText:ce,mode:oe};this._commandService.executeCommand("paste",he)},type:$=>{const ie={text:$};this._commandService.executeCommand("type",ie)},compositionType:($,ie,ce,oe)=>{if(ce||oe){const he={text:$,replacePrevCharCnt:ie,replaceNextCharCnt:ce,positionDelta:oe};this._commandService.executeCommand("compositionType",he)}else{const he={text:$,replaceCharCnt:ie};this._commandService.executeCommand("replacePreviousChar",he)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const q=new i.ViewUserInputEvents(J.coordinatesConverter);return q.onKeyDown=$=>this._onKeyDown.fire($),q.onKeyUp=$=>this._onKeyUp.fire($),q.onContextMenu=$=>this._onContextMenu.fire($),q.onMouseMove=$=>this._onMouseMove.fire($),q.onMouseLeave=$=>this._onMouseLeave.fire($),q.onMouseDown=$=>this._onMouseDown.fire($),q.onMouseUp=$=>this._onMouseUp.fire($),q.onMouseDrag=$=>this._onMouseDrag.fire($),q.onMouseDrop=$=>this._onMouseDrop.fire($),q.onMouseDropCanceled=$=>this._onMouseDropCanceled.fire($),q.onMouseWheel=$=>this._onMouseWheel.fire($),[new t.View(de,this._configuration,this._themeService,J,q,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(J){J&&J.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const J=this._modelData.model,de=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),de&&this._domElement.contains(de)&&this._domElement.removeChild(de),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),J}_removeDecorationType(J){this._codeEditorService.removeDecorationType(J)}hasModel(){return this._modelData!==null}};j=Be([me(3,E.IInstantiationService),me(4,g.ICodeEditorService),me(5,_.ICommandService),me(6,L.IContextKeyService),me(7,A.IThemeService),me(8,k.INotificationService),me(9,F.IAccessibilityService),me(10,P.ILanguageConfigurationService)],j),e.CodeEditorWidget=j;class Q extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new I.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new I.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(J){const de=J?2:1;this._value!==de&&(this._value=de,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=Q;class G extends S.Disposable{constructor(J,de){super();this._editor=J,de.createKey("editorId",J.getId()),this._editorSimpleInput=u.EditorContextKeys.editorSimpleInput.bindTo(de),this._editorFocus=u.EditorContextKeys.focus.bindTo(de),this._textInputFocus=u.EditorContextKeys.textInputFocus.bindTo(de),this._editorTextFocus=u.EditorContextKeys.editorTextFocus.bindTo(de),this._editorTabMovesFocus=u.EditorContextKeys.tabMovesFocus.bindTo(de),this._editorReadonly=u.EditorContextKeys.readOnly.bindTo(de),this._inDiffEditor=u.EditorContextKeys.inDiffEditor.bindTo(de),this._editorColumnSelection=u.EditorContextKeys.columnSelection.bindTo(de),this._hasMultipleSelections=u.EditorContextKeys.hasMultipleSelections.bindTo(de),this._hasNonEmptySelection=u.EditorContextKeys.hasNonEmptySelection.bindTo(de),this._canUndo=u.EditorContextKeys.canUndo.bindTo(de),this._canRedo=u.EditorContextKeys.canRedo.bindTo(de),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const J=this._editor.getOptions();this._editorTabMovesFocus.set(J.get(130)),this._editorReadonly.set(J.get(81)),this._inDiffEditor.set(J.get(54)),this._editorColumnSelection.set(J.get(18))}_updateFromSelection(){const J=this._editor.getSelections();J?(this._hasMultipleSelections.set(J.length>1),this._hasNonEmptySelection.set(J.some(de=>!de.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const J=this._editor.getModel();this._canUndo.set(Boolean(J&&J.canUndo())),this._canRedo.set(Boolean(J&&J.canRedo()))}}class se extends S.Disposable{constructor(J,de){super();this._editor=J,this._contextKeyService=de,this._langId=u.EditorContextKeys.languageId.bindTo(de),this._hasCompletionItemProvider=u.EditorContextKeys.hasCompletionItemProvider.bindTo(de),this._hasCodeActionsProvider=u.EditorContextKeys.hasCodeActionsProvider.bindTo(de),this._hasCodeLensProvider=u.EditorContextKeys.hasCodeLensProvider.bindTo(de),this._hasDefinitionProvider=u.EditorContextKeys.hasDefinitionProvider.bindTo(de),this._hasDeclarationProvider=u.EditorContextKeys.hasDeclarationProvider.bindTo(de),this._hasImplementationProvider=u.EditorContextKeys.hasImplementationProvider.bindTo(de),this._hasTypeDefinitionProvider=u.EditorContextKeys.hasTypeDefinitionProvider.bindTo(de),this._hasHoverProvider=u.EditorContextKeys.hasHoverProvider.bindTo(de),this._hasDocumentHighlightProvider=u.EditorContextKeys.hasDocumentHighlightProvider.bindTo(de),this._hasDocumentSymbolProvider=u.EditorContextKeys.hasDocumentSymbolProvider.bindTo(de),this._hasReferenceProvider=u.EditorContextKeys.hasReferenceProvider.bindTo(de),this._hasRenameProvider=u.EditorContextKeys.hasRenameProvider.bindTo(de),this._hasSignatureHelpProvider=u.EditorContextKeys.hasSignatureHelpProvider.bindTo(de),this._hasInlayHintsProvider=u.EditorContextKeys.hasInlayHintsProvider.bindTo(de),this._hasDocumentFormattingProvider=u.EditorContextKeys.hasDocumentFormattingProvider.bindTo(de),this._hasDocumentSelectionFormattingProvider=u.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(de),this._hasMultipleDocumentFormattingProvider=u.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(de),this._hasMultipleDocumentSelectionFormattingProvider=u.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(de),this._isInWalkThrough=u.EditorContextKeys.isInWalkThroughSnippet.bindTo(de);const q=()=>this._update();this._register(J.onDidChangeModel(q)),this._register(J.onDidChangeModelLanguage(q)),this._register(f.CompletionProviderRegistry.onDidChange(q)),this._register(f.CodeActionProviderRegistry.onDidChange(q)),this._register(f.CodeLensProviderRegistry.onDidChange(q)),this._register(f.DefinitionProviderRegistry.onDidChange(q)),this._register(f.DeclarationProviderRegistry.onDidChange(q)),this._register(f.ImplementationProviderRegistry.onDidChange(q)),this._register(f.TypeDefinitionProviderRegistry.onDidChange(q)),this._register(f.HoverProviderRegistry.onDidChange(q)),this._register(f.DocumentHighlightProviderRegistry.onDidChange(q)),this._register(f.DocumentSymbolProviderRegistry.onDidChange(q)),this._register(f.ReferenceProviderRegistry.onDidChange(q)),this._register(f.RenameProviderRegistry.onDidChange(q)),this._register(f.DocumentFormattingEditProviderRegistry.onDidChange(q)),this._register(f.DocumentRangeFormattingEditProviderRegistry.onDidChange(q)),this._register(f.SignatureHelpProviderRegistry.onDidChange(q)),this._register(f.InlayHintsProviderRegistry.onDidChange(q)),q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const J=this._editor.getModel();if(!J){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(J.getLanguageId()),this._hasCompletionItemProvider.set(f.CompletionProviderRegistry.has(J)),this._hasCodeActionsProvider.set(f.CodeActionProviderRegistry.has(J)),this._hasCodeLensProvider.set(f.CodeLensProviderRegistry.has(J)),this._hasDefinitionProvider.set(f.DefinitionProviderRegistry.has(J)),this._hasDeclarationProvider.set(f.DeclarationProviderRegistry.has(J)),this._hasImplementationProvider.set(f.ImplementationProviderRegistry.has(J)),this._hasTypeDefinitionProvider.set(f.TypeDefinitionProviderRegistry.has(J)),this._hasHoverProvider.set(f.HoverProviderRegistry.has(J)),this._hasDocumentHighlightProvider.set(f.DocumentHighlightProviderRegistry.has(J)),this._hasDocumentSymbolProvider.set(f.DocumentSymbolProviderRegistry.has(J)),this._hasReferenceProvider.set(f.ReferenceProviderRegistry.has(J)),this._hasRenameProvider.set(f.RenameProviderRegistry.has(J)),this._hasSignatureHelpProvider.set(f.SignatureHelpProviderRegistry.has(J)),this._hasInlayHintsProvider.set(f.InlayHintsProviderRegistry.has(J)),this._hasDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.has(J)||f.DocumentRangeFormattingEditProviderRegistry.has(J)),this._hasDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.has(J)),this._hasMultipleDocumentFormattingProvider.set(f.DocumentFormattingEditProviderRegistry.all(J).length+f.DocumentRangeFormattingEditProviderRegistry.all(J).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(f.DocumentRangeFormattingEditProviderRegistry.all(J).length>1),this._isInWalkThrough.set(J.uri.scheme===b.Schemas.walkThroughSnippet)})}}e.EditorModeContext=se;class ne extends S.Disposable{constructor(J){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(m.trackFocus(J)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Z=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),U=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function W(ae){return Z+encodeURIComponent(ae.toString())+U}const V=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Y=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function X(ae){return V+encodeURIComponent(ae.toString())+Y}(0,A.registerThemingParticipant)((ae,J)=>{const de=ae.getColor(v.editorErrorBorder);de&&J.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${de}; }`);const q=ae.getColor(v.editorErrorForeground);q&&J.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${W(q)}") repeat-x bottom left; }`);const z=ae.getColor(v.editorErrorBackground);z&&J.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${z}; }`);const $=ae.getColor(v.editorWarningBorder);$&&J.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${$}; }`);const ie=ae.getColor(v.editorWarningForeground);ie&&J.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${W(ie)}") repeat-x bottom left; }`);const ce=ae.getColor(v.editorWarningBackground);ce&&J.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ce}; }`);const oe=ae.getColor(v.editorInfoBorder);oe&&J.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${oe}; }`);const he=ae.getColor(v.editorInfoForeground);he&&J.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${W(he)}") repeat-x bottom left; }`);const ve=ae.getColor(v.editorInfoBackground);ve&&J.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${ve}; }`);const Se=ae.getColor(v.editorHintBorder);Se&&J.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Se}; }`);const le=ae.getColor(v.editorHintForeground);le&&J.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${X(le)}") no-repeat bottom left; }`);const ge=ae.getColor(w.editorUnnecessaryCodeOpacity);ge&&J.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ge.rgba.a}; }`);const ue=ae.getColor(w.editorUnnecessaryCodeBorder);ue&&J.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${ue}; }`);const be=ae.getColor(v.editorForeground)||"inherit";J.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${be}}`)})}),define(ee[289],te([0,1,488,7,31,111,10,4,2,62,70,28,159,686,30,3,89,144,32,83,243,149,121,67,16,9,152,40,23,13,75,491,100,15,14,69,228,27,140,71,361]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E,M,k,A,F,B,T,R,O,P,D,x){"use strict";var H;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class j{constructor(le,ge){this._contextMenuService=le,this._clipboardService=ge,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(le){return le.filter(ge=>!this._zonesMap[String(ge.id)])}clean(le){this._zones.length>0&&le.changeViewZones(ge=>{for(const ue of this._zones)ge.removeZone(ue)}),this._zones=[],this._zonesMap={},this._decorations=le.deltaDecorations(this._decorations,[])}apply(le,ge,ue,be){const re=be?g.StableEditorScrollState.capture(le):null;le.changeViewZones(fe=>{var ye;for(const Me of this._zones)fe.removeZone(Me);for(const Me of this._inlineDiffMargins)Me.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Me=0,Oe=ue.zones.length;Me<Oe;Me++){const He=ue.zones[Me];He.suppressMouseDown=!0;const Ve=fe.addZone(He);this._zones.push(Ve),this._zonesMap[String(Ve)]=!0,ue.zones[Me].diff&&He.marginDomNode&&(He.suppressMouseDown=!1,((ye=ue.zones[Me].diff)===null||ye===void 0?void 0:ye.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new A.InlineDiffMargin(Ve,He.marginDomNode,le,ue.zones[Me].diff,this._contextMenuService,this._clipboardService)))}}),re&&re.restore(le),this._decorations=le.deltaDecorations(this._decorations,ue.decorations),ge&&ge.setZones(ue.overviewZones)}}let Q=0;const G=(0,x.registerIcon)("diff-insert",P.Codicon.add,y.localize(0,null)),se=(0,x.registerIcon)("diff-remove",P.Codicon.remove,y.localize(1,null)),ne=(H=window.trustedTypes)===null||H===void 0?void 0:H.createPolicy("diffEditorWidget",{createHTML:Se=>Se});let Z=class rt extends C.Disposable{constructor(le,ge,ue,be,re,fe,ye,Me,Oe,He,Ve,Ge){super();this._editorProgressService=Ge,this._onDidDispose=this._register(new b.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new b.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new b.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=re,this._codeEditorService=Me,this._contextKeyService=this._register(fe.createScoped(le)),this._instantiationService=ye.createChild(new _.ServiceCollection([v.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Oe,this._notificationService=He,this._id=++Q,this._state=0,this._updatingDiffProgress=null,this._domElement=le,ge=ge||{},this._options=he(ge,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof ge.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",ge.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,N.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(m.addStandardDisposableListener(this._overviewDomElement,"mousedown",Ze=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Ze)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new j(Ve,be),this._modifiedEditorState=new j(Ve,be),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new O.ElementSizeObserver(this._containerDomElement,ge.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),ge.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(ge,ue.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(ge,ue.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=ye.createInstance(n.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ae(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new de(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Oe.onDidColorThemeChange(Ze=>{this._strategy&&this._strategy.applyColors(Ze)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Je=B.EditorExtensionsRegistry.getDiffEditorContributions();for(const Ze of Je)try{this._register(ye.createInstance(Ze.ctor,this))}catch(et){(0,T.onUnexpectedError)(et)}this._codeEditorService.addDiffEditor(this)}_setState(le){this._state!==le&&(this._state=le,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(le,ge){let ue="monaco-diff-editor monaco-editor-background ";return ge&&(ue+="side-by-side "),ue+=(0,M.getThemeTypeSelector)(le.type),ue}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(le,ge){const ue=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(le),ge);this._register(ue.onDidScrollChange(re=>{this._isHandlingScrollEvent||!re.scrollTopChanged&&!re.scrollLeftChanged&&!re.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:re.scrollLeft,scrollTop:re.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ue.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ue.onDidChangeConfiguration(re=>{!ue.getModel()||(re.hasChanged(44)&&this._updateDecorationsRunner.schedule(),re.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ue.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ue.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const be=this._contextKeyService.createKey("isInDiffLeftEditor",ue.hasWidgetFocus());return this._register(ue.onDidFocusEditorWidget(()=>be.set(!0))),this._register(ue.onDidBlurEditorWidget(()=>be.set(!1))),this._register(ue.onDidContentSizeChange(re=>{const fe=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+rt.ONE_OVERVIEW_WIDTH,ye=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ye,contentWidth:fe,contentHeightChanged:re.contentHeightChanged,contentWidthChanged:re.contentWidthChanged})})),ue}_createRightHandSideEditor(le,ge){const ue=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(le),ge);this._register(ue.onDidScrollChange(re=>{this._isHandlingScrollEvent||!re.scrollTopChanged&&!re.scrollLeftChanged&&!re.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:re.scrollLeft,scrollTop:re.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ue.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ue.onDidChangeConfiguration(re=>{!ue.getModel()||(re.hasChanged(44)&&this._updateDecorationsRunner.schedule(),re.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ue.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ue.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ue.onDidChangeModelOptions(re=>{re.tabSize&&this._updateDecorationsRunner.schedule()}));const be=this._contextKeyService.createKey("isInDiffRightEditor",ue.hasWidgetFocus());return this._register(ue.onDidFocusEditorWidget(()=>be.set(!0))),this._register(ue.onDidBlurEditorWidget(()=>be.set(!1))),this._register(ue.onDidContentSizeChange(re=>{const fe=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+rt.ONE_OVERVIEW_WIDTH,ye=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ye,contentWidth:fe,contentHeightChanged:re.contentHeightChanged,contentWidthChanged:re.contentWidthChanged})})),ue}_createInnerEditor(le,ge,ue,be){return le.createInstance(i.CodeEditorWidget,ge,ue,be)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return s.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(le){const ge=he(le,this._options),ue=ve(this._options,ge);this._options=ge;const be=ue.ignoreTrimWhitespace||ue.renderIndicators,re=this._isVisible&&(ue.maxComputationTime||ue.maxFileSize);be?this._beginUpdateDecorations():re&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(le)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(le)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),ue.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ae(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new de(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),ue.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(le){if(le&&(!le.original||!le.modified))throw new Error(le.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(le?le.original:null),this._modifiedEditor.setModel(le?le.modified:null),this._updateDecorationsRunner.cancel(),le&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),le&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(le){return this._modifiedEditor.getVisibleColumnFromPosition(le)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(le){this._modifiedEditor.setPosition(le)}revealLine(le,ge=0){this._modifiedEditor.revealLine(le,ge)}revealLineInCenter(le,ge=0){this._modifiedEditor.revealLineInCenter(le,ge)}revealLineInCenterIfOutsideViewport(le,ge=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(le,ge)}revealLineNearTop(le,ge=0){this._modifiedEditor.revealLineNearTop(le,ge)}revealPosition(le,ge=0){this._modifiedEditor.revealPosition(le,ge)}revealPositionInCenter(le,ge=0){this._modifiedEditor.revealPositionInCenter(le,ge)}revealPositionInCenterIfOutsideViewport(le,ge=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(le,ge)}revealPositionNearTop(le,ge=0){this._modifiedEditor.revealPositionNearTop(le,ge)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(le){this._modifiedEditor.setSelection(le)}setSelections(le){this._modifiedEditor.setSelections(le)}revealLines(le,ge,ue=0){this._modifiedEditor.revealLines(le,ge,ue)}revealLinesInCenter(le,ge,ue=0){this._modifiedEditor.revealLinesInCenter(le,ge,ue)}revealLinesInCenterIfOutsideViewport(le,ge,ue=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(le,ge,ue)}revealLinesNearTop(le,ge,ue=0){this._modifiedEditor.revealLinesNearTop(le,ge,ue)}revealRange(le,ge=0,ue=!1,be=!0){this._modifiedEditor.revealRange(le,ge,ue,be)}revealRangeInCenter(le,ge=0){this._modifiedEditor.revealRangeInCenter(le,ge)}revealRangeInCenterIfOutsideViewport(le,ge=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(le,ge)}revealRangeNearTop(le,ge=0){this._modifiedEditor.revealRangeNearTop(le,ge)}revealRangeNearTopIfOutsideViewport(le,ge=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(le,ge)}revealRangeAtTop(le,ge=0){this._modifiedEditor.revealRangeAtTop(le,ge)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const le=this._originalEditor.saveViewState(),ge=this._modifiedEditor.saveViewState();return{original:le,modified:ge}}restoreViewState(le){if(le&&le.original&&le.modified){const ge=le;this._originalEditor.restoreViewState(ge.original),this._modifiedEditor.restoreViewState(ge.modified)}}layout(le){this._elementSizeObserver.observe(le)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(le,ge,ue){this._modifiedEditor.trigger(le,ge,ue)}changeDecorations(le){return this._modifiedEditor.changeDecorations(le)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const le=this._elementSizeObserver.getHeight(),ge=this._getReviewHeight(),ue=rt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*rt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:rt.ONE_OVERVIEW_WIDTH,right:ue+rt.ONE_OVERVIEW_WIDTH,height:le-ge}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:rt.ONE_OVERVIEW_WIDTH,height:le-ge}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),rt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(le,ge){return!le&&!ge?!0:!le||!ge?!1:le.toString()===ge.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const le=this._originalEditor.getModel(),ge=this._modifiedEditor.getModel();if(!le||!ge)return;this._diffComputationToken++;const ue=this._diffComputationToken,be=this._options.maxFileSize*1024*1024,re=fe=>{const ye=fe.getValueLength();return be===0||ye<=be};if(!re(le)||!re(ge)){(!rt._equals(le.uri,this._lastOriginalWarning)||!rt._equals(ge.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=le.uri,this._lastModifiedWarning=ge.uri,this._notificationService.warn(y.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(le.uri,ge.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(fe=>{ue===this._diffComputationToken&&le===this._originalEditor.getModel()&&ge===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=fe,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},fe=>{ue===this._diffComputationToken&&le===this._originalEditor.getModel()&&ge===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const le=this._diffComputationResult?this._diffComputationResult.changes:[],ge=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),ue=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),be=this._strategy.getEditorsDiffDecorations(le,this._options.ignoreTrimWhitespace,this._options.renderIndicators,ge,ue);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,be.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,be.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(le){const ge=Object.assign({},le);return ge.inDiffEditor=!0,ge.automaticLayout=!1,ge.scrollbar=Object.assign({},ge.scrollbar||{}),ge.scrollbar.vertical="visible",ge.folding=!1,ge.codeLens=this._options.diffCodeLens,ge.fixedOverflowWidgets=!0,ge.minimap=Object.assign({},ge.minimap||{}),ge.minimap.enabled=!1,ge}_adjustOptionsForLeftHandSide(le){const ge=this._adjustOptionsForSubEditor(le);return this._options.renderSideBySide?ge.wordWrapOverride1=this._options.diffWordWrap:ge.wordWrapOverride1="off",le.originalAriaLabel&&(ge.ariaLabel=le.originalAriaLabel),ge.readOnly=!this._options.originalEditable,ge.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ge),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(le){const ge=this._adjustOptionsForSubEditor(le);return le.modifiedAriaLabel&&(ge.ariaLabel=le.modifiedAriaLabel),ge.wordWrapOverride1=this._options.diffWordWrap,ge.revealHorizontalRightPadding=o.EditorOptions.revealHorizontalRightPadding.defaultValue+rt.ENTIRE_DIFF_OVERVIEW_WIDTH,ge.scrollbar.verticalHasArrows=!1,ge.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ge),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const le=this._elementSizeObserver.getWidth(),ge=this._elementSizeObserver.getHeight(),ue=this._getReviewHeight(),be=this._strategy.layout();this._originalDomNode.style.width=be+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=le-be+"px",this._modifiedDomNode.style.left=be+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=ge-ue+"px",this._overviewDomElement.style.width=rt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=le-rt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(rt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:be,height:ge-ue}),this._modifiedEditor.layout({width:le-be-(this._options.renderOverviewRuler?rt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ge-ue}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(ge-ue,le,ue),this._layoutOverviewViewport()}_layoutOverviewViewport(){const le=this._computeOverviewViewport();le?(this._overviewViewportDomElement.setTop(le.top),this._overviewViewportDomElement.setHeight(le.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const le=this._modifiedEditor.getLayoutInfo();if(!le)return null;const ge=this._modifiedEditor.getScrollTop(),ue=this._modifiedEditor.getScrollHeight(),be=Math.max(0,le.height),re=Math.max(0,be-2*0),fe=ue>0?re/ue:0,ye=Math.max(0,Math.floor(le.height*fe)),Me=Math.floor(ge*fe);return{height:ye,top:Me}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(le){this._strategy&&this._strategy.dispose(),this._strategy=le,le.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(le,ge){const ue=this._diffComputationResult?this._diffComputationResult.changes:[];if(ue.length===0||le<ge(ue[0]))return null;let be=0,re=ue.length-1;for(;be<re;){const fe=Math.floor((be+re)/2),ye=ge(ue[fe]),Me=fe+1<=re?ge(ue[fe+1]):1073741824;le<ye?re=fe-1:le>=Me?be=fe+1:(be=fe,re=fe)}return ue[be]}_getEquivalentLineForOriginalLineNumber(le){const ge=this._getLineChangeAtOrBeforeLineNumber(le,Me=>Me.originalStartLineNumber);if(!ge)return le;const ue=ge.originalStartLineNumber+(ge.originalEndLineNumber>0?-1:0),be=ge.modifiedStartLineNumber+(ge.modifiedEndLineNumber>0?-1:0),re=ge.originalEndLineNumber>0?ge.originalEndLineNumber-ge.originalStartLineNumber+1:0,fe=ge.modifiedEndLineNumber>0?ge.modifiedEndLineNumber-ge.modifiedStartLineNumber+1:0,ye=le-ue;return ye<=re?be+Math.min(ye,fe):be+fe-re+ye}_getEquivalentLineForModifiedLineNumber(le){const ge=this._getLineChangeAtOrBeforeLineNumber(le,Me=>Me.modifiedStartLineNumber);if(!ge)return le;const ue=ge.originalStartLineNumber+(ge.originalEndLineNumber>0?-1:0),be=ge.modifiedStartLineNumber+(ge.modifiedEndLineNumber>0?-1:0),re=ge.originalEndLineNumber>0?ge.originalEndLineNumber-ge.originalStartLineNumber+1:0,fe=ge.modifiedEndLineNumber>0?ge.modifiedEndLineNumber-ge.modifiedStartLineNumber+1:0,ye=le-be;return ye<=fe?ue+Math.min(ye,re):ue+re-fe+ye}getDiffLineInformationForOriginal(le){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(le)}:null}getDiffLineInformationForModified(le){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(le)}:null}};Z.ONE_OVERVIEW_WIDTH=15,Z.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Z.UPDATE_DIFF_DECORATIONS_DELAY=200,Z=Be([me(3,F.IClipboardService),me(4,r.IEditorWorkerService),me(5,v.IContextKeyService),me(6,p.IInstantiationService),me(7,t.ICodeEditorService),me(8,M.IThemeService),me(9,L.INotificationService),me(10,k.IContextMenuService),me(11,R.IEditorProgressService)],Z),e.DiffEditorWidget=Z;class U extends C.Disposable{constructor(le){super();this._dataSource=le,this._insertColor=null,this._removeColor=null}applyColors(le){const ge=(le.getColor(E.diffInserted)||E.defaultInsertColor).transparent(2),ue=(le.getColor(E.diffRemoved)||E.defaultRemoveColor).transparent(2),be=!ge.equals(this._insertColor)||!ue.equals(this._removeColor);return this._insertColor=ge,this._removeColor=ue,be}getEditorsDiffDecorations(le,ge,ue,be,re){re=re.sort((Oe,He)=>Oe.afterLineNumber-He.afterLineNumber),be=be.sort((Oe,He)=>Oe.afterLineNumber-He.afterLineNumber);const fe=this._getViewZones(le,be,re,ue),ye=this._getOriginalEditorDecorations(le,ge,ue),Me=this._getModifiedEditorDecorations(le,ge,ue);return{original:{decorations:ye.decorations,overviewZones:ye.overviewZones,zones:fe.original},modified:{decorations:Me.decorations,overviewZones:Me.overviewZones,zones:fe.modified}}}}class W{constructor(le){this._source=le,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class V{constructor(le,ge,ue,be,re){this._lineChanges=le,this._originalForeignVZ=ge,this._modifiedForeignVZ=ue,this._originalEditor=be,this._modifiedEditor=re}static _getViewLineCount(le,ge,ue){const be=le.getModel(),re=le._getViewModel();if(be&&re){const fe=oe(be,re,ge,ue);return fe.endLineNumber-fe.startLineNumber+1}return ue-ge+1}getViewZones(){const le=this._originalEditor.getOption(59),ge=this._modifiedEditor.getOption(59),ue=this._originalEditor.getOption(132).wrappingColumn!==-1,be=this._modifiedEditor.getOption(132).wrappingColumn!==-1,re=ue||be,fe=this._originalEditor.getModel(),ye=this._originalEditor._getViewModel().coordinatesConverter,Me=this._modifiedEditor._getViewModel().coordinatesConverter,Oe={original:[],modified:[]};let He=0,Ve=0,Ge=0,Je=0,Ze=0,et=0;const Ee=(Te,pe)=>Te.afterLineNumber-pe.afterLineNumber,Ie=(Te,pe)=>{if(pe.domNode===null&&Te.length>0){const Ce=Te[Te.length-1];if(Ce.afterLineNumber===pe.afterLineNumber&&Ce.domNode===null){Ce.heightInLines+=pe.heightInLines;return}}Te.push(pe)},Re=new W(this._modifiedForeignVZ),Ue=new W(this._originalForeignVZ);let Ne=1,ke=1;for(let Te=0,pe=this._lineChanges.length;Te<=pe;Te++){const Ce=Te<pe?this._lineChanges[Te]:null;Ce!==null?(Ge=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),Je=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),Ve=Ce.originalEndLineNumber>0?V._getViewLineCount(this._originalEditor,Ce.originalStartLineNumber,Ce.originalEndLineNumber):0,He=Ce.modifiedEndLineNumber>0?V._getViewLineCount(this._modifiedEditor,Ce.modifiedStartLineNumber,Ce.modifiedEndLineNumber):0,Ze=Math.max(Ce.originalStartLineNumber,Ce.originalEndLineNumber),et=Math.max(Ce.modifiedStartLineNumber,Ce.modifiedEndLineNumber)):(Ge+=1e7+Ve,Je+=1e7+He,Ze=Ge,et=Je);let Le=[],we=[];if(re){let Ae;Ce?Ce.originalEndLineNumber>0?Ae=Ce.originalStartLineNumber-Ne:Ae=Ce.modifiedStartLineNumber-ke:Ae=fe.getLineCount()-Ne;for(let xe=0;xe<Ae;xe++){const je=Ne+xe,qe=ke+xe,ze=ye.getModelLineViewLineCount(je),Fe=Me.getModelLineViewLineCount(qe);ze<Fe?Le.push({afterLineNumber:je,heightInLines:Fe-ze,domNode:null,marginDomNode:null}):ze>Fe&&we.push({afterLineNumber:qe,heightInLines:ze-Fe,domNode:null,marginDomNode:null})}Ce&&(Ne=(Ce.originalEndLineNumber>0?Ce.originalEndLineNumber:Ce.originalStartLineNumber)+1,ke=(Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber:Ce.modifiedStartLineNumber)+1)}for(;Re.current&&Re.current.afterLineNumber<=et;){let Ae;Re.current.afterLineNumber<=Je?Ae=Ge-Je+Re.current.afterLineNumber:Ae=Ze;let xe=null;Ce&&Ce.modifiedStartLineNumber<=Re.current.afterLineNumber&&Re.current.afterLineNumber<=Ce.modifiedEndLineNumber&&(xe=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Le.push({afterLineNumber:Ae,heightInLines:Re.current.height/ge,domNode:null,marginDomNode:xe}),Re.advance()}for(;Ue.current&&Ue.current.afterLineNumber<=Ze;){let Ae;Ue.current.afterLineNumber<=Ge?Ae=Je-Ge+Ue.current.afterLineNumber:Ae=et,we.push({afterLineNumber:Ae,heightInLines:Ue.current.height/le,domNode:null}),Ue.advance()}if(Ce!==null&&$(Ce)){const Ae=this._produceOriginalFromDiff(Ce,Ve,He);Ae&&Le.push(Ae)}if(Ce!==null&&ie(Ce)){const Ae=this._produceModifiedFromDiff(Ce,Ve,He);Ae&&we.push(Ae)}let _e=0,Pe=0;for(Le=Le.sort(Ee),we=we.sort(Ee);_e<Le.length&&Pe<we.length;){const Ae=Le[_e],xe=we[Pe],je=Ae.afterLineNumber-Ge,qe=xe.afterLineNumber-Je;je<qe?(Ie(Oe.original,Ae),_e++):qe<je?(Ie(Oe.modified,xe),Pe++):Ae.shouldNotShrink?(Ie(Oe.original,Ae),_e++):xe.shouldNotShrink?(Ie(Oe.modified,xe),Pe++):Ae.heightInLines>=xe.heightInLines?(Ae.heightInLines-=xe.heightInLines,Pe++):(xe.heightInLines-=Ae.heightInLines,_e++)}for(;_e<Le.length;)Ie(Oe.original,Le[_e]),_e++;for(;Pe<we.length;)Ie(Oe.modified,we[Pe]),Pe++}return{original:V._ensureDomNodes(Oe.original),modified:V._ensureDomNodes(Oe.modified)}}static _ensureDomNodes(le){return le.map(ge=>(ge.domNode||(ge.domNode=ce()),ge))}}function Y(Se,le,ge,ue,be){return{range:new d.Range(Se,le,ge,ue),options:be}}const X={charDelete:a.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:a.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:a.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:a.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:a.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:a.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+M.ThemeIcon.asClassName(G),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:a.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:a.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+M.ThemeIcon.asClassName(se),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:a.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ae extends U{constructor(le,ge){super(le);this._disableSash=ge===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new I.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(ue=>this._onSashDrag(ue)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(le){const ge=le===!1;this._disableSash!==ge&&(this._disableSash=ge,this._sash.state=this._disableSash?0:3)}layout(le=this._sashRatio){const ue=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Z.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let be=Math.floor((le||.5)*ue);const re=Math.floor(.5*ue);return be=this._disableSash?re:be||re,ue>ae.MINIMUM_EDITOR_WIDTH*2?(be<ae.MINIMUM_EDITOR_WIDTH&&(be=ae.MINIMUM_EDITOR_WIDTH),be>ue-ae.MINIMUM_EDITOR_WIDTH&&(be=ue-ae.MINIMUM_EDITOR_WIDTH)):be=re,this._sashPosition!==be&&(this._sashPosition=be,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(le){const ue=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Z.ENTIRE_DIFF_OVERVIEW_WIDTH:0),be=this.layout((this._startSashPosition+(le.currentX-le.startX))/ue);this._sashRatio=be/ue,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(le){return 0}getVerticalSashLeft(le){return this._sashPosition}getVerticalSashHeight(le){return this._dataSource.getHeight()}_getViewZones(le,ge,ue){const be=this._dataSource.getOriginalEditor(),re=this._dataSource.getModifiedEditor();return new J(le,ge,ue,be,re).getViewZones()}_getOriginalEditorDecorations(le,ge,ue){const be=this._dataSource.getOriginalEditor(),re=String(this._removeColor),fe={decorations:[],overviewZones:[]},ye=be.getModel(),Me=be._getViewModel();for(const Oe of le)if(ie(Oe)){fe.decorations.push({range:new d.Range(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824),options:ue?X.lineDeleteWithSign:X.lineDelete}),(!$(Oe)||!Oe.charChanges)&&fe.decorations.push(Y(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824,X.charDeleteWholeLine));const He=oe(ye,Me,Oe.originalStartLineNumber,Oe.originalEndLineNumber);if(fe.overviewZones.push(new l.OverviewRulerZone(He.startLineNumber,He.endLineNumber,re)),Oe.charChanges){for(const Ve of Oe.charChanges)if(ie(Ve))if(ge)for(let Ge=Ve.originalStartLineNumber;Ge<=Ve.originalEndLineNumber;Ge++){let Je,Ze;Ge===Ve.originalStartLineNumber?Je=Ve.originalStartColumn:Je=ye.getLineFirstNonWhitespaceColumn(Ge),Ge===Ve.originalEndLineNumber?Ze=Ve.originalEndColumn:Ze=ye.getLineLastNonWhitespaceColumn(Ge),fe.decorations.push(Y(Ge,Je,Ge,Ze,X.charDelete))}else fe.decorations.push(Y(Ve.originalStartLineNumber,Ve.originalStartColumn,Ve.originalEndLineNumber,Ve.originalEndColumn,X.charDelete))}}return fe}_getModifiedEditorDecorations(le,ge,ue){const be=this._dataSource.getModifiedEditor(),re=String(this._insertColor),fe={decorations:[],overviewZones:[]},ye=be.getModel(),Me=be._getViewModel();for(const Oe of le)if($(Oe)){fe.decorations.push({range:new d.Range(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824),options:ue?X.lineInsertWithSign:X.lineInsert}),(!ie(Oe)||!Oe.charChanges)&&fe.decorations.push(Y(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824,X.charInsertWholeLine));const He=oe(ye,Me,Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber);if(fe.overviewZones.push(new l.OverviewRulerZone(He.startLineNumber,He.endLineNumber,re)),Oe.charChanges){for(const Ve of Oe.charChanges)if($(Ve))if(ge)for(let Ge=Ve.modifiedStartLineNumber;Ge<=Ve.modifiedEndLineNumber;Ge++){let Je,Ze;Ge===Ve.modifiedStartLineNumber?Je=Ve.modifiedStartColumn:Je=ye.getLineFirstNonWhitespaceColumn(Ge),Ge===Ve.modifiedEndLineNumber?Ze=Ve.modifiedEndColumn:Ze=ye.getLineLastNonWhitespaceColumn(Ge),fe.decorations.push(Y(Ge,Je,Ge,Ze,X.charInsert))}else fe.decorations.push(Y(Ve.modifiedStartLineNumber,Ve.modifiedStartColumn,Ve.modifiedEndLineNumber,Ve.modifiedEndColumn,X.charInsert))}}return fe}}ae.MINIMUM_EDITOR_WIDTH=100;class J extends V{constructor(le,ge,ue,be,re){super(le,ge,ue,be,re)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(le,ge,ue){return ue>ge?{afterLineNumber:Math.max(le.originalStartLineNumber,le.originalEndLineNumber),heightInLines:ue-ge,domNode:null}:null}_produceModifiedFromDiff(le,ge,ue){return ge>ue?{afterLineNumber:Math.max(le.modifiedStartLineNumber,le.modifiedEndLineNumber),heightInLines:ge-ue,domNode:null}:null}}class de extends U{constructor(le,ge){super(le);this._decorationsLeft=le.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(le.getOriginalEditor().onDidLayoutChange(ue=>{this._decorationsLeft!==ue.decorationsLeft&&(this._decorationsLeft=ue.decorationsLeft,le.relayoutEditors())}))}setEnableSplitViewResizing(le){}_getViewZones(le,ge,ue,be){const re=this._dataSource.getOriginalEditor(),fe=this._dataSource.getModifiedEditor();return new q(le,ge,ue,re,fe,be).getViewZones()}_getOriginalEditorDecorations(le,ge,ue){const be=String(this._removeColor),re={decorations:[],overviewZones:[]},fe=this._dataSource.getOriginalEditor(),ye=fe.getModel(),Me=fe._getViewModel();for(const Oe of le)if(ie(Oe)){re.decorations.push({range:new d.Range(Oe.originalStartLineNumber,1,Oe.originalEndLineNumber,1073741824),options:X.lineDeleteMargin});const He=oe(ye,Me,Oe.originalStartLineNumber,Oe.originalEndLineNumber);re.overviewZones.push(new l.OverviewRulerZone(He.startLineNumber,He.endLineNumber,be))}return re}_getModifiedEditorDecorations(le,ge,ue){const be=this._dataSource.getModifiedEditor(),re=String(this._insertColor),fe={decorations:[],overviewZones:[]},ye=be.getModel(),Me=be._getViewModel();for(const Oe of le)if($(Oe)){fe.decorations.push({range:new d.Range(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824),options:ue?X.lineInsertWithSign:X.lineInsert});const He=oe(ye,Me,Oe.modifiedStartLineNumber,Oe.modifiedEndLineNumber);if(fe.overviewZones.push(new l.OverviewRulerZone(He.startLineNumber,He.endLineNumber,re)),Oe.charChanges){for(const Ve of Oe.charChanges)if($(Ve))if(ge)for(let Ge=Ve.modifiedStartLineNumber;Ge<=Ve.modifiedEndLineNumber;Ge++){let Je,Ze;Ge===Ve.modifiedStartLineNumber?Je=Ve.modifiedStartColumn:Je=ye.getLineFirstNonWhitespaceColumn(Ge),Ge===Ve.modifiedEndLineNumber?Ze=Ve.modifiedEndColumn:Ze=ye.getLineLastNonWhitespaceColumn(Ge),fe.decorations.push(Y(Ge,Je,Ge,Ze,X.charInsert))}else fe.decorations.push(Y(Ve.modifiedStartLineNumber,Ve.modifiedStartColumn,Ve.modifiedEndLineNumber,Ve.modifiedEndColumn,X.charInsert))}else fe.decorations.push(Y(Oe.modifiedStartLineNumber,1,Oe.modifiedEndLineNumber,1073741824,X.charInsertWholeLine))}return fe}layout(){return Math.max(5,this._decorationsLeft)}}class q extends V{constructor(le,ge,ue,be,re,fe){super(le,ge,ue,be,re);this._originalModel=be.getModel(),this._renderIndicators=fe,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const le=super.getViewZones();return this._finalize(le),le}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const le=document.createElement("div");return le.className="inline-added-margin-view-zone",le}_produceOriginalFromDiff(le,ge,ue){const be=document.createElement("div");return be.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(le.originalStartLineNumber,le.originalEndLineNumber),heightInLines:ue,domNode:document.createElement("div"),marginDomNode:be}}_produceModifiedFromDiff(le,ge,ue){const be=document.createElement("div");be.className=`view-lines line-delete ${D.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const re=document.createElement("div");re.className="inline-deleted-margin-view-zone";const fe={shouldNotShrink:!0,afterLineNumber:le.modifiedEndLineNumber===0?le.modifiedStartLineNumber:le.modifiedStartLineNumber-1,heightInLines:ge,minWidthInPx:0,domNode:be,marginDomNode:re,diff:{originalStartLineNumber:le.originalStartLineNumber,originalEndLineNumber:le.originalEndLineNumber,modifiedStartLineNumber:le.modifiedStartLineNumber,modifiedEndLineNumber:le.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let ye=le.originalStartLineNumber;ye<=le.originalEndLineNumber;ye++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(ye),null,null);return this._pendingLineChange.push(le),this._pendingViewZones.push(fe),fe}_finalize(le){const ge=this._modifiedEditor.getOptions(),ue=this._modifiedEditor.getModel().getOptions().tabSize,be=ge.get(44),re=ge.get(29),fe=be.typicalHalfwidthCharacterWidth,ye=ge.get(93),Me=this._originalModel.mightContainNonBasicASCII(),Oe=this._originalModel.mightContainRTL(),He=ge.get(59),Ge=ge.get(131).decorationsWidth,Je=ge.get(105),Ze=ge.get(88),et=ge.get(83),Ee=ge.get(45),Ie=this._lineBreaksComputer.finalize();let Re=0;for(let Ue=0;Ue<this._pendingLineChange.length;Ue++){const Ne=this._pendingLineChange[Ue],ke=this._pendingViewZones[Ue],Te=ke.domNode;(0,h.applyFontInfo)(Te,be);const pe=ke.marginDomNode;(0,h.applyFontInfo)(pe,be);const Ce=[];if(Ne.charChanges)for(const qe of Ne.charChanges)ie(qe)&&Ce.push(new w.InlineDecoration(new d.Range(qe.originalStartLineNumber,qe.originalStartColumn,qe.originalEndLineNumber,qe.originalEndColumn),"char-delete",0));const Le=Ce.length>0,we=(0,c.createStringBuilder)(1e4);let _e=0,Pe=0,Ae=null;for(let qe=Ne.originalStartLineNumber;qe<=Ne.originalEndLineNumber;qe++){const ze=qe-Ne.originalStartLineNumber,Fe=this._originalModel.getLineTokens(qe),We=Fe.getLineContent(),$e=Ie[Re++],Ke=u.LineDecoration.filter(Ce,qe,1,We.length+1);if($e){let Xe=0;for(const Ye of $e.breakOffsets){const it=Fe.sliceAndInflate(Xe,Ye,0),at=We.substring(Xe,Ye);_e=Math.max(_e,this._renderOriginalLine(Pe++,at,it,u.LineDecoration.extractWrapped(Ke,Xe,Ye),Le,Me,Oe,be,re,He,Ge,Je,Ze,et,Ee,ue,we,pe)),Xe=Ye}for(Ae||(Ae=[]);Ae.length<ze;)Ae[Ae.length]=1;Ae[ze]=$e.breakOffsets.length,ke.heightInLines+=$e.breakOffsets.length-1;const Qe=document.createElement("div");Qe.className="line-delete",le.original.push({afterLineNumber:qe,afterColumn:0,heightInLines:$e.breakOffsets.length-1,domNode:ce(),marginDomNode:Qe})}else _e=Math.max(_e,this._renderOriginalLine(Pe++,We,Fe,Ke,Le,Me,Oe,be,re,He,Ge,Je,Ze,et,Ee,ue,we,pe))}_e+=ye;const xe=we.build(),je=ne?ne.createHTML(xe):xe;if(Te.innerHTML=je,ke.minWidthInPx=_e*fe,Ae){const qe=Ne.originalEndLineNumber-Ne.originalStartLineNumber;for(;Ae.length<=qe;)Ae[Ae.length]=1}ke.diff.viewLineCounts=Ae}le.original.sort((Ue,Ne)=>Ue.afterLineNumber-Ne.afterLineNumber)}_renderOriginalLine(le,ge,ue,be,re,fe,ye,Me,Oe,He,Ve,Ge,Je,Ze,et,Ee,Ie,Re){Ie.appendASCIIString('<div class="view-line'),re||Ie.appendASCIIString(" char-delete"),Ie.appendASCIIString('" style="top:'),Ie.appendASCIIString(String(le*He)),Ie.appendASCIIString('px;width:1000000px;">');const Ue=w.ViewLineRenderingData.isBasicASCII(ge,fe),Ne=w.ViewLineRenderingData.containsRTL(ge,Ue,ye),ke=(0,f.renderViewLine)(new f.RenderLineInput(Me.isMonospace&&!Oe,Me.canUseHalfwidthRightwardsArrow,ge,!1,Ue,Ne,0,ue,be,Ee,0,Me.spaceWidth,Me.middotWidth,Me.wsmiddotWidth,Ge,Je,Ze,et!==o.EditorFontLigatures.OFF,null),Ie);if(Ie.appendASCIIString("</div>"),this._renderIndicators){const Te=document.createElement("div");Te.className=`delete-sign ${M.ThemeIcon.asClassName(se)}`,Te.setAttribute("style",`position:absolute;top:${le*He}px;width:${Ve}px;height:${He}px;right:0;`),Re.appendChild(Te)}return ke.characterMapping.getAbsoluteOffset(ke.characterMapping.length)}}function z(Se,le){return(0,o.stringSet)(Se,le,["off","on","inherit"])}function $(Se){return Se.modifiedEndLineNumber>0}function ie(Se){return Se.originalEndLineNumber>0}function ce(){const Se=document.createElement("div");return Se.className="diagonal-fill",Se}function oe(Se,le,ge,ue){const be=Se.getLineCount();return ge=Math.min(be,Math.max(1,ge)),ue=Math.min(be,Math.max(1,ue)),le.coordinatesConverter.convertModelRangeToViewRange(new d.Range(ge,Se.getLineMinColumn(ge),ue,Se.getLineMaxColumn(ue)))}function he(Se,le){return{enableSplitViewResizing:(0,o.boolean)(Se.enableSplitViewResizing,le.enableSplitViewResizing),renderSideBySide:(0,o.boolean)(Se.renderSideBySide,le.renderSideBySide),maxComputationTime:(0,o.clampedInt)(Se.maxComputationTime,le.maxComputationTime,0,1073741824),maxFileSize:(0,o.clampedInt)(Se.maxFileSize,le.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,o.boolean)(Se.ignoreTrimWhitespace,le.ignoreTrimWhitespace),renderIndicators:(0,o.boolean)(Se.renderIndicators,le.renderIndicators),originalEditable:(0,o.boolean)(Se.originalEditable,le.originalEditable),diffCodeLens:(0,o.boolean)(Se.diffCodeLens,le.diffCodeLens),renderOverviewRuler:(0,o.boolean)(Se.renderOverviewRuler,le.renderOverviewRuler),diffWordWrap:z(Se.diffWordWrap,le.diffWordWrap)}}function ve(Se,le){return{enableSplitViewResizing:Se.enableSplitViewResizing!==le.enableSplitViewResizing,renderSideBySide:Se.renderSideBySide!==le.renderSideBySide,maxComputationTime:Se.maxComputationTime!==le.maxComputationTime,maxFileSize:Se.maxFileSize!==le.maxFileSize,ignoreTrimWhitespace:Se.ignoreTrimWhitespace!==le.ignoreTrimWhitespace,renderIndicators:Se.renderIndicators!==le.renderIndicators,originalEditable:Se.originalEditable!==le.originalEditable,diffCodeLens:Se.diffCodeLens!==le.diffCodeLens,renderOverviewRuler:Se.renderOverviewRuler!==le.renderOverviewRuler,diffWordWrap:Se.diffWordWrap!==le.diffWordWrap}}(0,M.registerThemingParticipant)((Se,le)=>{const ge=Se.getColor(E.diffInserted);ge&&(le.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${ge}; }`),le.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${ge}; }`),le.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${ge}; }`));const ue=Se.getColor(E.diffRemoved);ue&&(le.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${ue}; }`),le.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${ue}; }`),le.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${ue}; }`));const be=Se.getColor(E.diffInsertedOutline);be&&le.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${Se.type==="hc"?"dashed":"solid"} ${be}; }`);const re=Se.getColor(E.diffRemovedOutline);re&&le.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${Se.type==="hc"?"dashed":"solid"} ${re}; }`);const fe=Se.getColor(E.scrollbarShadow);fe&&le.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${fe}; }`);const ye=Se.getColor(E.diffBorder);ye&&le.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${ye}; }`);const Me=Se.getColor(E.scrollbarSliderBackground);Me&&le.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Me};
			}
		`);const Oe=Se.getColor(E.scrollbarSliderHoverBackground);Oe&&le.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Oe};
			}
		`);const He=Se.getColor(E.scrollbarSliderActiveBackground);He&&le.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${He};
			}
		`);const Ve=Se.getColor(E.diffDiagonalFill);le.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Ve} 12.5%,
			#0000 12.5%, #0000 50%,
			${Ve} 50%, ${Ve} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ee[160],te([0,1,38,28,159,26,16,9,40,13,63,35]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends N.CodeEditorWidget{constructor(o,d,c,s,a,r,l,u,f,w,v){super(o,Object.assign(Object.assign({},c.getRawOptions()),{overflowWidgetsDomNode:c.getOverflowWidgetsDomNode()}),{},s,a,r,l,u,f,w,v);this._parentEditor=c,this._overwriteOptions=d,super.updateOptions(this._overwriteOptions),this._register(c.onDidChangeConfiguration(p=>this._onParentConfigurationChanged(p)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(o){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(o){y.mixin(this._overwriteOptions,o,!0),super.updateOptions(this._overwriteOptions)}};i=Be([me(3,b.IInstantiationService),me(4,m.ICodeEditorService),me(5,I.ICommandService),me(6,S.IContextKeyService),me(7,h.IThemeService),me(8,C.INotificationService),me(9,g.IAccessibilityService),me(10,t.ILanguageConfigurationService)],i),e.EmbeddedCodeEditorWidget=i}),define(ee[702],te([0,1,10,2,15,11,3,22,24,50,32,53,504,37,23,13,365]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const c=(0,o.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},i.localize(0,null));class s extends N.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:i.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(f,w){var v;(v=l.get(w))===null||v===void 0||v.jumpToBracket()}}class a extends N.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:i.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(f,w,v){var p;let _=!0;v&&v.selectBrackets===!1&&(_=!1),(p=l.get(w))===null||p===void 0||p.selectToBracket(_)}}class r{constructor(f,w,v){this.position=f,this.brackets=w,this.options=v}}class l extends m.Disposable{constructor(f){super();this._editor=f,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new y.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(f.onDidChangeCursorPosition(w=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModelContent(w=>{this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModel(w=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeModelLanguageConfiguration(w=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(f.onDidChangeConfiguration(w=>{w.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(f.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(f.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(f){return f.getContribution(l.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const f=this._editor.getModel(),w=this._editor.getSelections().map(v=>{const p=v.getStartPosition(),_=f.bracketPairs.matchBracket(p);let L=null;if(_)_[0].containsPosition(p)?L=_[1].getStartPosition():_[1].containsPosition(p)&&(L=_[0].getStartPosition());else{const E=f.bracketPairs.findEnclosingBrackets(p);if(E)L=E[0].getStartPosition();else{const M=f.bracketPairs.findNextBracket(p);M&&M.range&&(L=M.range.getStartPosition())}}return L?new b.Selection(L.lineNumber,L.column,L.lineNumber,L.column):new b.Selection(p.lineNumber,p.column,p.lineNumber,p.column)});this._editor.setSelections(w),this._editor.revealRange(w[0])}selectToBracket(f){if(!this._editor.hasModel())return;const w=this._editor.getModel(),v=[];this._editor.getSelections().forEach(p=>{const _=p.getStartPosition();let L=w.bracketPairs.matchBracket(_);if(!L&&(L=w.bracketPairs.findEnclosingBrackets(_),!L)){const k=w.bracketPairs.findNextBracket(_);k&&k.range&&(L=w.bracketPairs.matchBracket(k.range.getStartPosition()))}let E=null,M=null;if(L){L.sort(S.Range.compareRangesUsingStarts);const[k,A]=L;if(E=f?k.getStartPosition():k.getEndPosition(),M=f?A.getEndPosition():A.getStartPosition(),A.containsPosition(_)){const F=E;E=M,M=F}}E&&M&&v.push(new b.Selection(E.lineNumber,E.column,M.lineNumber,M.column))}),v.length>0&&(this._editor.setSelections(v),this._editor.revealRange(v[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let f=[],w=0;for(const v of this._lastBracketsData){let p=v.brackets;p&&(f[w++]={range:p[0],options:v.options},f[w++]={range:p[1],options:v.options})}this._decorations=this._editor.deltaDecorations(this._decorations,f)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const f=this._editor.getSelections();if(f.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const w=this._editor.getModel(),v=w.getVersionId();let p=[];this._lastVersionId===v&&(p=this._lastBracketsData);let _=[],L=0;for(let F=0,B=f.length;F<B;F++){let T=f[F];T.isEmpty()&&(_[L++]=T.getStartPosition())}_.length>1&&_.sort(I.Position.compare);let E=[],M=0,k=0,A=p.length;for(let F=0,B=_.length;F<B;F++){let T=_[F];for(;k<A&&p[k].position.isBefore(T);)k++;if(k<A&&p[k].position.equals(T))E[M++]=p[k];else{let R=w.bracketPairs.matchBracket(T),O=l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!R&&this._matchBrackets==="always"&&(R=w.bracketPairs.findEnclosingBrackets(T,20),O=l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[M++]=new r(T,R,O)}}this._lastBracketsData=E,this._lastVersionId=v}}e.BracketMatchingController=l,l.ID="editor.contrib.bracketMatchingController",l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,d.themeColorFromId)(c),position:h.OverviewRulerLane.Center}}),l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,N.registerEditorContribution)(l.ID,l),(0,N.registerEditorAction)(a),(0,N.registerEditorAction)(s),(0,d.registerThemingParticipant)((u,f)=>{const w=u.getColor(t.editorBracketMatchBackground);w&&f.addRule(`.monaco-editor .bracket-match { background-color: ${w}; }`);const v=u.getColor(t.editorBracketMatchBorder);v&&f.addRule(`.monaco-editor .bracket-match { border: 1px solid ${v}; }`)}),n.MenuRegistry.appendMenuItem(n.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:i.localize(3,null)},order:2})}),define(ee[703],te([0,1,15,97,201,3,24,506]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends y.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:b.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(g,t){if(!t.hasModel())return;let i=t.getModel(),n=[],o=t.getSelections();for(let d of o){if(!d.isEmpty())continue;let c=d.startLineNumber,s=d.startColumn,a=i.getLineMaxColumn(c);if(c===1&&(s===1||s===2&&a===2))continue;let r=s===a?d.getPosition():N.MoveOperations.rightPosition(i,d.getPosition().lineNumber,d.getPosition().column),l=N.MoveOperations.leftPosition(i,r),u=N.MoveOperations.leftPosition(i,l),f=i.getValueInRange(I.Range.fromPositions(u,l)),w=i.getValueInRange(I.Range.fromPositions(l,r)),v=I.Range.fromPositions(u,r);n.push(new m.ReplaceCommand(v,w+f))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}}(0,y.registerEditorAction)(C)}),define(ee[704],te([0,1,7,110,3,32,367]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class S{constructor(t,i,n){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=i,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){this._lastHeight===void 0?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class b{constructor(t,i,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id=`codelens.widget-${b._idPool++}`,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${i}`}withCommands(t,i){this._commands.clear();let n=[],o=!1;for(let d=0;d<t.length;d++){const c=t[d];if(!!c&&(o=!0,c.command)){const s=(0,m.renderLabelWithIcons)(c.command.title.trim());c.command.id?(n.push(y.$("a",{id:String(d),title:c.command.tooltip},...s)),this._commands.set(String(d),c.command)):n.push(y.$("span",{title:c.command.tooltip},...s)),d+1<t.length&&n.push(y.$("span",void 0,"\xA0|\xA0"))}}o?(y.reset(this._domNode,...n),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):y.reset(this._domNode,y.$("span",void 0,"no commands"))}getCommand(t){return t.parentElement===this._domNode?this._commands.get(t.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(t){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}b._idPool=0;class C{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,i){this._addDecorations.push(t),this._addDecorationsCallbacks.push(i)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){let i=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,o=i.length;n<o;n++)this._addDecorationsCallbacks[n](i[n])}}e.CodeLensHelper=C;class h{constructor(t,i,n,o,d,c,s){this._isDisposed=!1,this._editor=i,this._className=n,this._data=t,this._decorationIds=[];let a,r=[];this._data.forEach((l,u)=>{l.symbol.command&&r.push(l.symbol),o.addDecoration({range:l.symbol.range,options:I.ModelDecorationOptions.EMPTY},f=>this._decorationIds[u]=f),a?a=N.Range.plusRange(a,l.symbol.range):a=N.Range.lift(l.symbol.range)}),this._viewZone=new S(a.startLineNumber-1,c,s),this._viewZoneId=d.addZone(this._viewZone),r.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(r,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new b(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,i){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],i&&i.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,i)=>{const n=this._editor.getModel().getDecorationRange(t),o=this._data[i].symbol;return!!(n&&N.Range.isEmpty(o.range)===n.isEmpty())})}updateCodeLensSymbols(t,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=t,this._data.forEach((n,o)=>{i.addDecoration({range:n.symbol.range,options:I.ModelDecorationOptions.EMPTY},d=>this._decorationIds[o]=d)})}updateHeight(t,i){this._viewZone.heightInPx=t,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const n=t.getDecorationRange(this._decorationIds[i]);n&&(this._data[i].symbol.range=n)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let i=0;i<this._data.length;i++){const n=t[i];if(n){const{symbol:o}=this._data[i];o.command=n.command||o.command}}}getCommand(t){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(t)}getLineNumber(){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=h}),define(ee[705],te([0,1,7,10,14,109,2,70,15,30,24,18,267,626,704,510,26,40,77,195]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let l=class{constructor(f,w,v,p,_){this._editor=f,this._commandService=v,this._notificationService=p,this._codeLensCache=_,this._disposables=new S.DisposableStore,this._localToDispose=new S.DisposableStore,this._lenses=[],this._oldCodeLensModels=new S.DisposableStore,this._provideCodeLensDebounce=w.for(t.CodeLensProviderRegistry,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=w.for(t.CodeLensProviderRegistry,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new m.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(L=>{(L.hasChanged(44)||L.hasChanged(16)||L.hasChanged(15))&&this._updateLensStyle(),L.hasChanged(14)&&this._onModelChange()})),this._disposables.add(t.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,I.hash)(this._editor.getId()).toString(16),this._styleElement=y.createStyleSheet(y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var f;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(f=this._currentCodeLensModel)===null||f===void 0||f.dispose(),this._styleElement.remove()}_getLayoutInfo(){let f=this._editor.getOption(16),w;return!f||f<5?(f=this._editor.getOption(46)*.9|0,w=this._editor.getOption(59)):w=f*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:w,fontSize:f}}_updateLensStyle(){const{codeLensHeight:f,fontSize:w}=this._getLayoutInfo(),v=this._editor.getOption(15),p=this._editor.getOption(44),_=`--codelens-font-family${this._styleClassName}`,L=`--codelens-font-features${this._styleClassName}`;let E=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${f}px; font-size: ${w}px; padding-right: ${Math.round(w*.5)}px; font-feature-settings: var(${L}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${f}px; font-size: ${w}px; }
		`;v&&(E+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${_}), ${h.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=E,this._editor.getContainerDomNode().style.setProperty(_,v??"inherit"),this._editor.getContainerDomNode().style.setProperty(L,p.fontFeatureSettings),this._editor.changeViewZones(M=>{for(let k of this._lenses)k.updateHeight(f,M)})}_localDispose(){var f,w,v;(f=this._getCodeLensModelPromise)===null||f===void 0||f.cancel(),this._getCodeLensModelPromise=void 0,(w=this._resolveCodeLensesPromise)===null||w===void 0||w.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(v=this._currentCodeLensModel)===null||v===void 0||v.dispose()}_onModelChange(){this._localDispose();const f=this._editor.getModel();if(!f||!this._editor.getOption(14))return;const w=this._codeLensCache.get(f);if(w&&this._renderCodeLensSymbols(w),!t.CodeLensProviderRegistry.has(f)){w&&this._localToDispose.add((0,m.disposableTimeout)(()=>{const p=this._codeLensCache.get(f);w===p&&(this._codeLensCache.delete(f),this._onModelChange())},30*1e3));return}for(const p of t.CodeLensProviderRegistry.all(f))if(typeof p.onDidChange=="function"){let _=p.onDidChange(()=>v.schedule());this._localToDispose.add(_)}const v=new m.RunOnceScheduler(()=>{var p;const _=Date.now();(p=this._getCodeLensModelPromise)===null||p===void 0||p.cancel(),this._getCodeLensModelPromise=(0,m.createCancelablePromise)(L=>(0,i.getCodeLensModel)(f,L)),this._getCodeLensModelPromise.then(L=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=L,this._codeLensCache.put(f,L);const E=this._provideCodeLensDebounce.update(f,Date.now()-_);v.delay=E,this._renderCodeLensSymbols(L),this._resolveCodeLensesInViewportSoon()},N.onUnexpectedError)},this._provideCodeLensDebounce.get(f));this._localToDispose.add(v),this._localToDispose.add((0,S.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(p=>{this._editor.changeViewZones(_=>{let L=[],E=-1;this._lenses.forEach(k=>{!k.isValid()||E===k.getLineNumber()?L.push(k):(k.update(_),E=k.getLineNumber())});let M=new o.CodeLensHelper;L.forEach(k=>{k.dispose(M,_),this._lenses.splice(this._lenses.indexOf(k),1)}),M.commit(p)})}),v.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{v.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(p=>{p.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,S.toDisposable)(()=>{if(this._editor.getModel()){const p=b.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(_=>{this._editor.changeViewZones(L=>{this._disposeAllLenses(_,L)})}),p.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(p=>{if(p.target.type!==9)return;let _=p.target.element;if((_==null?void 0:_.tagName)==="SPAN"&&(_=_.parentElement),(_==null?void 0:_.tagName)==="A")for(const L of this._lenses){let E=L.getCommand(_);if(E){this._commandService.executeCommand(E.id,...E.arguments||[]).catch(M=>this._notificationService.error(M));break}}})),v.schedule()}_disposeAllLenses(f,w){const v=new o.CodeLensHelper;for(const p of this._lenses)p.dispose(v,w);f&&v.commit(f),this._lenses.length=0}_renderCodeLensSymbols(f){if(!this._editor.hasModel())return;let w=this._editor.getModel().getLineCount(),v=[],p;for(let E of f.lenses){let M=E.symbol.range.startLineNumber;M<1||M>w||(p&&p[p.length-1].symbol.range.startLineNumber===M?p.push(E):(p=[E],v.push(p)))}const _=b.StableEditorScrollState.capture(this._editor),L=this._getLayoutInfo();this._editor.changeDecorations(E=>{this._editor.changeViewZones(M=>{const k=new o.CodeLensHelper;let A=0,F=0;for(;F<v.length&&A<this._lenses.length;){let B=v[F][0].symbol.range.startLineNumber,T=this._lenses[A].getLineNumber();T<B?(this._lenses[A].dispose(k,M),this._lenses.splice(A,1)):T===B?(this._lenses[A].updateCodeLensSymbols(v[F],k),F++,A++):(this._lenses.splice(A,0,new o.CodeLensWidget(v[F],this._editor,this._styleClassName,k,M,L.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),A++,F++)}for(;A<this._lenses.length;)this._lenses[A].dispose(k,M),this._lenses.splice(A,1);for(;F<v.length;)this._lenses.push(new o.CodeLensWidget(v[F],this._editor,this._styleClassName,k,M,L.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),F++;k.commit(E)})}),_.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var f;(f=this._resolveCodeLensesPromise)===null||f===void 0||f.cancel(),this._resolveCodeLensesPromise=void 0;const w=this._editor.getModel();if(!w)return;const v=[],p=[];if(this._lenses.forEach(E=>{const M=E.computeIfNecessary(w);M&&(v.push(M),p.push(E))}),v.length===0)return;const _=Date.now(),L=(0,m.createCancelablePromise)(E=>{const M=v.map((k,A)=>{const F=new Array(k.length),B=k.map((T,R)=>!T.symbol.command&&typeof T.provider.resolveCodeLens=="function"?Promise.resolve(T.provider.resolveCodeLens(w,T.symbol,E)).then(O=>{F[R]=O},N.onUnexpectedExternalError):(F[R]=T.symbol,Promise.resolve(void 0)));return Promise.all(B).then(()=>{!E.isCancellationRequested&&!p[A].isDisposed()&&p[A].updateCommands(F)})});return Promise.all(M)});this._resolveCodeLensesPromise=L,this._resolveCodeLensesPromise.then(()=>{const E=this._resolveCodeLensesDebounce.update(w,Date.now()-_);this._resolveCodeLensesScheduler.delay=E,this._currentCodeLensModel&&this._codeLensCache.put(w,this._currentCodeLensModel),this._oldCodeLensModels.clear(),L===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},E=>{(0,N.onUnexpectedError)(E),L===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};l.ID="css.editor.codeLens",l=Be([me(1,r.ILanguageFeatureDebounceService),me(2,c.ICommandService),me(3,s.INotificationService),me(4,n.ICodeLensCache)],l),e.CodeLensContribution=l,(0,C.registerEditorContribution)(l.ID,l),(0,C.registerEditorAction)(class extends C.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:g.EditorContextKeys.hasCodeLensProvider,label:(0,d.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(f,w){return De(this,void 0,void 0,function*(){if(!w.hasModel())return;const v=f.get(a.IQuickInputService),p=f.get(c.ICommandService),_=f.get(s.INotificationService),L=w.getSelection().positionLineNumber,E=w.getContribution(l.ID);if(!E)return;const M=E.getModel();if(!M)return;const k=[];for(const F of M.lenses)F.symbol.command&&F.symbol.range.startLineNumber===L&&k.push({label:F.symbol.command.title,command:F.symbol.command});if(k.length===0)return;const A=yield v.pick(k,{canPickMany:!1});if(!!A){if(M.isDisposed)return yield p.executeCommand(this.id);try{yield p.executeCommand(A.command.id,...A.command.arguments||[])}catch(F){_.error(F)}}})}})}),define(ee[290],te([0,1,10,29,14,2,8,129,15,3,32,18,268,39]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});const o=500;let d=class Ai extends I.Disposable{constructor(s,a){super();this._editor=s,this._configurationService=a,this._localToDispose=this._register(new I.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new b.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new I.DisposableStore),this._register(s.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(s.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(t.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(s.onDidChangeConfiguration(()=>{let r=this._isEnabled;this._isEnabled=this.isEnabled(),r!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const s=this._editor.getModel();if(!s)return!1;const a=s.getLanguageId(),r=this._configurationService.getValue(a);if(r&&typeof r=="object"){const l=r.colorDecorators;if(l&&l.enable!==void 0&&!l.enable)return l.enable}return this._editor.getOption(17)}static get(s){return s.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const s=this._editor.getModel();!s||!t.ColorProviderRegistry.has(s)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new y.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Ai.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,y.createCancelablePromise)(s=>{const a=this._editor.getModel();return a?(0,i.getColors)(a,s):Promise.resolve([])}),this._computePromise.then(s=>{this.updateDecorations(s),this.updateColorDecorators(s),this._computePromise=null},N.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(s){const a=s.map(r=>({range:{startLineNumber:r.colorInfo.range.startLineNumber,startColumn:r.colorInfo.range.startColumn,endLineNumber:r.colorInfo.range.endLineNumber,endColumn:r.colorInfo.range.endColumn},options:g.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,a),this._colorDatas=new Map,this._decorationsIds.forEach((r,l)=>this._colorDatas.set(r,s[l]))}updateColorDecorators(s){this._colorDecorationClassRefs.clear();let a=[];for(let r=0;r<s.length&&a.length<o;r++){const{red:l,green:u,blue:f,alpha:w}=s[r].colorInfo.color,v=new m.RGBA(Math.round(l*255),Math.round(u*255),Math.round(f*255),w);let p=`rgba(${v.r}, ${v.g}, ${v.b}, ${v.a})`;const _=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:p}));a.push({range:{startLineNumber:s[r].colorInfo.range.startLineNumber,startColumn:s[r].colorInfo.range.startColumn,endLineNumber:s[r].colorInfo.range.endLineNumber,endColumn:s[r].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:S.noBreakWhitespace,inlineClassName:`${_.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],a))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(s){const a=this._editor.getModel();if(!a)return null;const r=a.getDecorationsInRange(h.Range.fromPositions(s,s)).filter(l=>this._colorDatas.has(l.id));return r.length===0?null:this._colorDatas.get(r[0].id)}isColorDecorationId(s){return this._colorDecoratorIds.has(s)}};d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,d=Be([me(1,n.IConfigurationService)],d),e.ColorDetector=d,(0,C.registerEditorContribution)(d.ID,d)}),define(ee[706],te([0,1,2,17,15,11,3,22,32,439,369]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function g(i){return m.isMacintosh?i.altKey:i.ctrlKey}class t extends y.Disposable{constructor(n){super();this._editor=n,this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(o))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(o))),this._register(this._editor.onMouseDrag(o=>this._onEditorMouseDrag(o))),this._register(this._editor.onMouseDrop(o=>this._onEditorMouseDrop(o))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(o=>this.onEditorKeyDown(o))),this._register(this._editor.onKeyUp(o=>this.onEditorKeyUp(o))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(n){!this._editor.getOption(31)||this._editor.getOption(18)||(g(n)&&(this._modifierPressed=!0),this._mouseDown&&g(n)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(n){!this._editor.getOption(31)||this._editor.getOption(18)||(g(n)&&(this._modifierPressed=!1),this._mouseDown&&n.keyCode===t.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(n){this._mouseDown=!0}_onEditorMouseUp(n){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(n){let o=n.target;if(this._dragSelection===null){let c=(this._editor.getSelections()||[]).filter(s=>o.position&&s.containsPosition(o.position));if(c.length===1)this._dragSelection=c[0];else return}g(n.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),o.position&&(this._dragSelection.containsPosition(o.position)?this._removeDecoration():this.showAt(o.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(n){if(n.target&&(this._hitContent(n.target)||this._hitMargin(n.target))&&n.target.position){let o=new I.Position(n.target.position.lineNumber,n.target.position.column);if(this._dragSelection===null){let d=null;if(n.event.shiftKey){let c=this._editor.getSelection();if(c){const{selectionStartLineNumber:s,selectionStartColumn:a}=c;d=[new b.Selection(s,a,o.lineNumber,o.column)]}}else d=(this._editor.getSelections()||[]).map(c=>c.containsPosition(o)?new b.Selection(o.lineNumber,o.column,o.lineNumber,o.column):c);this._editor.setSelections(d||[],"mouse",3)}else(!this._dragSelection.containsPosition(o)||(g(n.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(o)||this._dragSelection.getStartPosition().equals(o)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(t.ID,new h.DragAndDropCommand(this._dragSelection,o,g(n.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(n){let o=[{range:new S.Range(n.lineNumber,n.column,n.lineNumber,n.column),options:t._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,o),this._editor.revealPosition(n,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(n){return n.type===6||n.type===7}_hitMargin(n){return n.type===2||n.type===3||n.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=t,t.ID="editor.contrib.dragAndDrop",t.TRIGGER_KEY_VALUE=m.isMacintosh?6:5,t._DECORATION_OPTIONS=C.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,N.registerEditorContribution)(t.ID,t)}),define(ee[707],te([0,1,3,50,32,23,13]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class b{constructor(h){this._editor=h,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const h=this._findScopeDecorationIds.map(g=>this._editor.getModel().getDecorationRange(g)).filter(g=>!!g);if(h.length)return h}return null}getStartPosition(){return this._startPosition}setStartPosition(h){this._startPosition=h,this.setCurrentFindMatch(null)}_getDecorationIndex(h){const g=this._decorations.indexOf(h);return g>=0?g+1:1}getCurrentMatchesPosition(h){let g=this._editor.getModel().getDecorationsInRange(h);for(const t of g){const i=t.options;if(i===b._FIND_MATCH_DECORATION||i===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(t.id)}return 0}setCurrentFindMatch(h){let g=null,t=0;if(h)for(let i=0,n=this._decorations.length;i<n;i++){let o=this._editor.getModel().getDecorationRange(this._decorations[i]);if(h.equalsRange(o)){g=this._decorations[i],t=i+1;break}}return(this._highlightedDecorationId!==null||g!==null)&&this._editor.changeDecorations(i=>{if(this._highlightedDecorationId!==null&&(i.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),g!==null&&(this._highlightedDecorationId=g,i.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),g!==null){let n=this._editor.getModel().getDecorationRange(g);if(n.startLineNumber!==n.endLineNumber&&n.endColumn===1){let o=n.endLineNumber-1,d=this._editor.getModel().getLineMaxColumn(o);n=new y.Range(n.startLineNumber,n.startColumn,o,d)}this._rangeHighlightDecorationId=i.addDecoration(n,b._RANGE_HIGHLIGHT_DECORATION)}}),t}set(h,g){this._editor.changeDecorations(t=>{let i=b._FIND_MATCH_DECORATION,n=[];if(h.length>1e3){i=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const d=this._editor.getModel().getLineCount(),s=this._editor.getLayoutInfo().height/d,a=Math.max(2,Math.ceil(3/s));let r=h[0].range.startLineNumber,l=h[0].range.endLineNumber;for(let u=1,f=h.length;u<f;u++){const w=h[u].range;l+a>=w.startLineNumber?w.endLineNumber>l&&(l=w.endLineNumber):(n.push({range:new y.Range(r,1,l,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=w.startLineNumber,l=w.endLineNumber)}n.push({range:new y.Range(r,1,l,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let o=new Array(h.length);for(let d=0,c=h.length;d<c;d++)o[d]={range:h[d].range,options:i};this._decorations=t.deltaDecorations(this._decorations,o),this._overviewRulerApproximateDecorations=t.deltaDecorations(this._overviewRulerApproximateDecorations,n),this._rangeHighlightDecorationId&&(t.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(d=>t.removeDecoration(d)),this._findScopeDecorationIds=[]),(g==null?void 0:g.length)&&(this._findScopeDecorationIds=g.map(d=>t.addDecoration(d,b._FIND_SCOPE_DECORATION)))})}matchBeforePosition(h){if(this._decorations.length===0)return null;for(let g=this._decorations.length-1;g>=0;g--){let t=this._decorations[g],i=this._editor.getModel().getDecorationRange(t);if(!(!i||i.endLineNumber>h.lineNumber)){if(i.endLineNumber<h.lineNumber)return i;if(!(i.endColumn>h.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(h){if(this._decorations.length===0)return null;for(let g=0,t=this._decorations.length;g<t;g++){let i=this._decorations[g],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.startLineNumber<h.lineNumber)){if(n.startLineNumber>h.lineNumber)return n;if(!(n.startColumn<h.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let h=[];return h=h.concat(this._decorations),h=h.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&h.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&h.push(this._rangeHighlightDecorationId),h}}e.FindDecorations=b,b._CURRENT_FIND_MATCH_DECORATION=N.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(I.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(I.minimapFindMatch),position:m.MinimapPosition.Inline}}),b._FIND_MATCH_DECORATION=N.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(I.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(I.minimapFindMatch),position:m.MinimapPosition.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=N.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=N.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(I.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center}}),b._RANGE_HIGHLIGHT_DECORATION=N.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=N.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ee[161],te([0,1,19,10,2,97,11,3,22,147,707,440,441,16]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new n.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new n.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new n.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const o=240;class d{constructor(s,a){this._toDispose=new N.DisposableStore,this._editor=s,this._state=a,this._isDisposed=!1,this._startSearchingTimer=new m.TimeoutTimer,this._decorations=new g.FindDecorations(s),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new m.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(r=>{(r.reason===3||r.reason===5||r.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(r=>{this._ignoreModelContentChanged||(r.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(r=>this._onStateChanged(r))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,N.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(s){this._isDisposed||!this._editor.hasModel()||(s.searchString||s.isReplaceRevealed||s.isRegex||s.wholeWord||s.matchCase||s.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{s.searchScope?this.research(s.moveCursor,this._state.searchScope):this.research(s.moveCursor)},o)):s.searchScope?this.research(s.moveCursor,this._state.searchScope):this.research(s.moveCursor))}static _getSearchRange(s,a){return a||s.getFullModelRange()}research(s,a){let r=null;typeof a!="undefined"?a!==null&&(Array.isArray(a)?r=a:r=[a]):r=this._decorations.getFindScopes(),r!==null&&(r=r.map(w=>{if(w.startLineNumber!==w.endLineNumber){let v=w.endLineNumber;return w.endColumn===1&&(v=v-1),new b.Range(w.startLineNumber,1,v,this._editor.getModel().getLineMaxColumn(v))}return w}));let l=this._findMatches(r,!1,e.MATCHES_LIMIT);this._decorations.set(l,r);const u=this._editor.getSelection();let f=this._decorations.getCurrentMatchesPosition(u);if(f===0&&l.length>0){const w=(0,y.findFirstInSorted)(l.map(v=>v.range),v=>b.Range.compareRangesUsingStarts(v,u)>=0);f=w>0?w-1+1:f}this._state.changeMatchInfo(f,this._decorations.getCount(),void 0),s&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let s=this._decorations.getFindScope();return s&&this._editor.revealRangeInCenterIfOutsideViewport(s,0),!0}return!1}_setCurrentFindMatch(s){let a=this._decorations.setCurrentFindMatch(s);this._state.changeMatchInfo(a,this._decorations.getCount(),s),this._editor.setSelection(s),this._editor.revealRangeInCenterIfOutsideViewport(s,0)}_prevSearchPosition(s){let a=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:r,column:l}=s,u=this._editor.getModel();return a||l===1?(r===1?r=u.getLineCount():r--,l=u.getLineMaxColumn(r)):l--,new S.Position(r,l)}_moveToPrevMatch(s,a=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(s);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(s);_&&_.isEmpty()&&_.getStartPosition().equals(s)&&(s=this._prevSearchPosition(s),_=this._decorations.matchBeforePosition(s)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;let r=this._decorations.getFindScope(),l=d._getSearchRange(this._editor.getModel(),r);l.getEndPosition().isBefore(s)&&(s=l.getEndPosition()),s.isBefore(l.getStartPosition())&&(s=l.getEndPosition());let{lineNumber:u,column:f}=s,w=this._editor.getModel(),v=new S.Position(u,f),p=w.findPreviousMatch(this._state.searchString,v,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(p&&p.range.isEmpty()&&p.range.getStartPosition().equals(v)&&(v=this._prevSearchPosition(v),p=w.findPreviousMatch(this._state.searchString,v,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),!!p){if(!a&&!l.containsRange(p.range))return this._moveToPrevMatch(p.range.getStartPosition(),!0);this._setCurrentFindMatch(p.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(s){let a=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:r,column:l}=s,u=this._editor.getModel();return a||l===u.getLineMaxColumn(r)?(r===u.getLineCount()?r=1:r++,l=1):l++,new S.Position(r,l)}_moveToNextMatch(s){if(!this._state.canNavigateForward()){const r=this._decorations.matchBeforePosition(s);r&&this._setCurrentFindMatch(r);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let r=this._decorations.matchAfterPosition(s);r&&r.isEmpty()&&r.getStartPosition().equals(s)&&(s=this._nextSearchPosition(s),r=this._decorations.matchAfterPosition(s)),r&&this._setCurrentFindMatch(r);return}let a=this._getNextMatch(s,!1,!0);a&&this._setCurrentFindMatch(a.range)}_getNextMatch(s,a,r,l=!1){if(this._cannotFind())return null;let u=this._decorations.getFindScope(),f=d._getSearchRange(this._editor.getModel(),u);f.getEndPosition().isBefore(s)&&(s=f.getStartPosition()),s.isBefore(f.getStartPosition())&&(s=f.getStartPosition());let{lineNumber:w,column:v}=s,p=this._editor.getModel(),_=new S.Position(w,v),L=p.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,a);return r&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),L=p.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,a)),L?!l&&!f.containsRange(L.range)?this._getNextMatch(L.range.getEndPosition(),a,r,!0):L:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,i.parseReplaceString)(this._state.replaceString):i.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let s=this._getReplacePattern(),a=this._editor.getSelection(),r=this._getNextMatch(a.getStartPosition(),!0,!1);if(r)if(a.equalsRange(r.range)){let l=s.buildReplaceString(r.matches,this._state.preserveCase),u=new I.ReplaceCommand(a,l);this._executeEditorCommand("replace",u),this._decorations.setStartPosition(new S.Position(a.startLineNumber,a.startColumn+l.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(r.range)}_findMatches(s,a,r){const l=(s||[null]).map(u=>d._getSearchRange(this._editor.getModel(),u));return this._editor.getModel().findMatches(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,a,r)}replaceAll(){if(!this._hasMatches())return;const s=this._decorations.getFindScopes();s===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(s),this.research(!1)}_largeReplaceAll(){const a=new h.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!a)return;let r=a.regex;if(!r.multiline){let L="mu";r.ignoreCase&&(L+="i"),r.global&&(L+="g"),r=new RegExp(r.source,L)}const l=this._editor.getModel(),u=l.getValue(1),f=l.getFullModelRange(),w=this._getReplacePattern();let v;const p=this._state.preserveCase;w.hasReplacementPatterns||p?v=u.replace(r,function(){return w.buildReplaceString(arguments,p)}):v=u.replace(r,w.buildReplaceString(null,p));let _=new I.ReplaceCommandThatPreservesSelection(f,v,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(s){const a=this._getReplacePattern();let r=this._findMatches(s,a.hasReplacementPatterns||this._state.preserveCase,1073741824),l=[];for(let f=0,w=r.length;f<w;f++)l[f]=a.buildReplaceString(r[f].matches,this._state.preserveCase);let u=new t.ReplaceAllCommand(this._editor.getSelection(),r.map(f=>f.range),l);this._executeEditorCommand("replaceAll",u)}selectAllMatches(){if(!this._hasMatches())return;let s=this._decorations.getFindScopes(),r=this._findMatches(s,!1,1073741824).map(u=>new C.Selection(u.range.startLineNumber,u.range.startColumn,u.range.endLineNumber,u.range.endColumn)),l=this._editor.getSelection();for(let u=0,f=r.length;u<f;u++)if(r[u].equalsRange(l)){r=[l].concat(r.slice(0,u)).concat(r.slice(u+1));break}this._editor.setSelections(r)}_executeEditorCommand(s,a){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(s,a),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=d}),define(ee[708],te([0,1,7,256,60,10,161,23,13]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class h extends N.Widget{constructor(t,i,n,o){super();this._hideSoon=this._register(new I.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=t,this._state=i,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=o.getColorTheme().getColor(b.inputActiveOptionBorder),c=o.getColorTheme().getColor(b.inputActiveOptionForeground),s=o.getColorTheme().getColor(b.inputActiveOptionBackground);this.caseSensitive=this._register(new m.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:c,inputActiveOptionBackground:s})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new m.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:c,inputActiveOptionBackground:s})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new m.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:c,inputActiveOptionBackground:s})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(a=>{let r=!1;a.isRegex&&(this.regex.checked=this._state.isRegex,r=!0),a.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,r=!0),a.matchCase&&(this.caseSensitive.checked=this._state.matchCase,r=!0),!this._state.isRevealed&&r&&this._revealTemporarily()})),this._register(y.addDisposableNonBubblingMouseOutListener(this._domNode,a=>this._onMouseOut())),this._register(y.addDisposableListener(this._domNode,"mouseover",a=>this._onMouseOver())),this._applyTheme(o.getColorTheme()),this._register(o.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(t){let i=this._keybindingService.lookupKeybinding(t);return i?` (${i.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return h.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(t){let i={inputActiveOptionBorder:t.getColor(b.inputActiveOptionBorder),inputActiveOptionForeground:t.getColor(b.inputActiveOptionForeground),inputActiveOptionBackground:t.getColor(b.inputActiveOptionBackground)};this.caseSensitive.style(i),this.wholeWords.style(i),this.regex.style(i)}}e.FindOptionsWidget=h,h.ID="editor.contrib.findOptionsWidget",(0,C.registerThemingParticipant)((g,t)=>{const i=g.getColor(b.editorWidgetBackground);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const n=g.getColor(b.editorWidgetForeground);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=g.getColor(b.widgetShadow);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const d=g.getColor(b.contrastBorder);d&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${d}; }`)})}),define(ee[709],te([0,1,4,2,3,161]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(C,h){return C===1?!0:C===2?!1:h}class b extends m.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new y.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(h,g,t){let i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},n=!1;g===0&&(h=0),h>g&&(h=g),this._matchesPosition!==h&&(this._matchesPosition=h,i.matchesPosition=!0,n=!0),this._matchesCount!==g&&(this._matchesCount=g,i.matchesCount=!0,n=!0),typeof t!="undefined"&&(N.Range.equalsRange(this._currentMatch,t)||(this._currentMatch=t,i.currentMatch=!0,n=!0)),n&&this._onFindReplaceStateChange.fire(i)}change(h,g,t=!0){var i;let n={moveCursor:g,updateHistory:t,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},o=!1;const d=this.isRegex,c=this.wholeWord,s=this.matchCase,a=this.preserveCase;typeof h.searchString!="undefined"&&this._searchString!==h.searchString&&(this._searchString=h.searchString,n.searchString=!0,o=!0),typeof h.replaceString!="undefined"&&this._replaceString!==h.replaceString&&(this._replaceString=h.replaceString,n.replaceString=!0,o=!0),typeof h.isRevealed!="undefined"&&this._isRevealed!==h.isRevealed&&(this._isRevealed=h.isRevealed,n.isRevealed=!0,o=!0),typeof h.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==h.isReplaceRevealed&&(this._isReplaceRevealed=h.isReplaceRevealed,n.isReplaceRevealed=!0,o=!0),typeof h.isRegex!="undefined"&&(this._isRegex=h.isRegex),typeof h.wholeWord!="undefined"&&(this._wholeWord=h.wholeWord),typeof h.matchCase!="undefined"&&(this._matchCase=h.matchCase),typeof h.preserveCase!="undefined"&&(this._preserveCase=h.preserveCase),typeof h.searchScope!="undefined"&&(((i=h.searchScope)===null||i===void 0?void 0:i.every(r=>{var l;return(l=this._searchScope)===null||l===void 0?void 0:l.some(u=>!N.Range.equalsRange(u,r))}))||(this._searchScope=h.searchScope,n.searchScope=!0,o=!0)),typeof h.loop!="undefined"&&this._loop!==h.loop&&(this._loop=h.loop,n.loop=!0,o=!0),typeof h.isSearching!="undefined"&&this._isSearching!==h.isSearching&&(this._isSearching=h.isSearching,n.isSearching=!0,o=!0),typeof h.filters!="undefined"&&(this._filters?this._filters.update(h.filters):this._filters=h.filters,n.filters=!0,o=!0),this._isRegexOverride=typeof h.isRegexOverride!="undefined"?h.isRegexOverride:0,this._wholeWordOverride=typeof h.wholeWordOverride!="undefined"?h.wholeWordOverride:0,this._matchCaseOverride=typeof h.matchCaseOverride!="undefined"?h.matchCaseOverride:0,this._preserveCaseOverride=typeof h.preserveCaseOverride!="undefined"?h.preserveCaseOverride:0,d!==this.isRegex&&(o=!0,n.isRegex=!0),c!==this.wholeWord&&(o=!0,n.wholeWord=!0),s!==this.matchCase&&(o=!0,n.matchCase=!0),a!==this.preserveCase&&(o=!0,n.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(n)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=I.MATCHES_LIMIT}}e.FindReplaceState=b}),define(ee[710],te([0,1,7,43,170,111,60,10,27,14,2,17,8,3,161,516,622,582,23,71,13,370]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const u=(0,r.registerIcon)("find-selection",C.Codicon.selection,d.localize(0,null)),f=(0,r.registerIcon)("find-collapsed",C.Codicon.chevronRight,d.localize(1,null)),w=(0,r.registerIcon)("find-expanded",C.Codicon.chevronDown,d.localize(2,null));e.findReplaceIcon=(0,r.registerIcon)("find-replace",C.Codicon.replace,d.localize(3,null)),e.findReplaceAllIcon=(0,r.registerIcon)("find-replace-all",C.Codicon.replaceAll,d.localize(4,null)),e.findPreviousMatchIcon=(0,r.registerIcon)("find-previous-match",C.Codicon.arrowUp,d.localize(5,null)),e.findNextMatchIcon=(0,r.registerIcon)("find-next-match",C.Codicon.arrowDown,d.localize(6,null));const v=d.localize(7,null),p=d.localize(8,null),_=d.localize(9,null),L=d.localize(10,null),E=d.localize(11,null),M=d.localize(12,null),k=d.localize(13,null),A=d.localize(14,null),F=d.localize(15,null),B=d.localize(16,null),T=d.localize(17,null),R=d.localize(18,null,o.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=d.localize(19,null),e.NLS_NO_RESULTS=d.localize(20,null);const O=419,D=275-54;let x=69;const H=33,j="ctrlEnterReplaceAll.windows.donotask",Q=t.isMacintosh?256:2048;class G{constructor(V){this.afterLineNumber=V,this.heightInPx=H,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=G;function se(W,V,Y){const X=!!V.match(/\n/);if(Y&&X&&Y.selectionStart>0){W.stopPropagation();return}}function ne(W,V,Y){const X=!!V.match(/\n/);if(Y&&X&&Y.selectionEnd<Y.value.length){W.stopPropagation();return}}class Z extends S.Widget{constructor(V,Y,X,ae,J,de,q,z,$){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=V,this._controller=Y,this._state=X,this._contextViewProvider=ae,this._keybindingService=J,this._contextKeyService=de,this._storageService=z,this._notificationService=$,this._ctrlEnterReplaceAllWarningPrompted=!!z.getBoolean(j,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.Delayer(500),this._register((0,g.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ie=>this._onStateChanged(ie))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ie=>{if(ie.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ie.hasChanged(131)&&this._tryUpdateWidgetWidth(),ie.hasChanged(2)&&this.updateAccessibilitySupport(),ie.hasChanged(35)){const ce=this._codeEditor.getOption(35).addExtraSpaceOnTop;ce&&!this._viewZone&&(this._viewZone=new G(0),this._showViewZone()),!ce&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>De(this,void 0,void 0,function*(){if(this._isVisible){let ie=yield this._controller.getGlobalBufferTerm();ie&&ie!==this._state.searchString&&(this._state.change({searchString:ie},!1),this._findInput.select())}}))),this._findInputFocused=o.CONTEXT_FIND_INPUT_FOCUSED.bindTo(de),this._findFocusTracker=this._register(y.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=o.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(de),this._replaceFocusTracker=this._register(y.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new G(0)),this._applyTheme(q.getColorTheme()),this._register(q.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ie=>{if(ie.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Z.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(V){if(V.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(V.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),V.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),V.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(V.isRevealed||V.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),V.isRegex&&this._findInput.setRegex(this._state.isRegex),V.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),V.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),V.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),V.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),V.searchString||V.matchesCount||V.matchesPosition){let Y=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",Y),this._updateMatchesCount(),this._updateButtons()}(V.searchString||V.currentMatch)&&this._layoutViewZone(),V.updateHistory&&this._delayedUpdateHistory(),V.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,h.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=x+"px",this._state.matchesCount>=o.MATCHES_LIMIT?this._matchesCount.title=R:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let V;if(this._state.matchesCount>0){let Y=String(this._state.matchesCount);this._state.matchesCount>=o.MATCHES_LIMIT&&(Y+="+");let X=String(this._state.matchesPosition);X==="0"&&(X="?"),V=i.format(e.NLS_MATCHES_LOCATION,X,Y)}else V=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(V)),(0,m.alert)(this._getAriaLabel(V,this._state.currentMatch,this._state.searchString)),x=Math.max(x,this._matchesCount.clientWidth)}_getAriaLabel(V,Y,X){if(V===e.NLS_NO_RESULTS)return X===""?d.localize(21,null,V):d.localize(22,null,V,X);if(Y){const ae=d.localize(23,null,V,X,Y.startLineNumber+":"+Y.startColumn),J=this._codeEditor.getModel();return J&&Y.startLineNumber<=J.getLineCount()&&Y.startLineNumber>=1?`${J.getLineContent(Y.startLineNumber)}, ${ae}`:ae}return d.localize(24,null,V,X)}_updateToggleSelectionFindButton(){let V=this._codeEditor.getSelection(),Y=V?V.startLineNumber!==V.endLineNumber||V.startColumn!==V.endColumn:!1,X=this._toggleSelectionFind.checked;this._isVisible&&(X||Y)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let V=this._state.searchString.length>0,Y=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&V&&Y&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&V&&Y&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&V),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&V),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let X=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&X)}_reveal(){if(this._revealTimeouts.forEach(V=>{clearTimeout(V)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const V=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const X=!!V&&V.startLineNumber!==V.endLineNumber;this._toggleSelectionFind.checked=X;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Y=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&V){const X=this._codeEditor.getDomNode();if(X){const ae=y.getDomNodePagePosition(X),J=this._codeEditor.getScrolledVisiblePosition(V.getStartPosition()),de=ae.left+(J?J.left:0),q=J?J.top:0;if(this._viewZone&&q<this._viewZone.heightInPx){V.endLineNumber>V.startLineNumber&&(Y=!1);const z=y.getTopLeftOffset(this._domNode).left;de>z&&(Y=!1);const $=this._codeEditor.getScrolledVisiblePosition(V.getEndPosition());ae.left+($?$.left:0)>z&&(Y=!1)}}}this._showViewZone(Y)}}_hide(V){this._revealTimeouts.forEach(Y=>{clearTimeout(Y)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),V&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(V){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const X=this._viewZone;this._viewZoneId!==void 0||!X||this._codeEditor.changeViewZones(ae=>{X.heightInPx=this._getHeight(),this._viewZoneId=ae.addZone(X),this._codeEditor.setScrollTop(V||this._codeEditor.getScrollTop()+X.heightInPx)})}_showViewZone(V=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new G(0));const X=this._viewZone;this._codeEditor.changeViewZones(ae=>{if(this._viewZoneId!==void 0){const J=this._getHeight();if(J===X.heightInPx)return;let de=J-X.heightInPx;X.heightInPx=J,ae.layoutZone(this._viewZoneId),V&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+de);return}else{let J=this._getHeight();if(J-=this._codeEditor.getOption(75).top,J<=0)return;X.heightInPx=J,this._viewZoneId=ae.addZone(X),V&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+J)}})}_removeViewZone(){this._codeEditor.changeViewZones(V=>{this._viewZoneId!==void 0&&(V.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(V){let Y={inputActiveOptionBorder:V.getColor(a.inputActiveOptionBorder),inputActiveOptionBackground:V.getColor(a.inputActiveOptionBackground),inputActiveOptionForeground:V.getColor(a.inputActiveOptionForeground),inputBackground:V.getColor(a.inputBackground),inputForeground:V.getColor(a.inputForeground),inputBorder:V.getColor(a.inputBorder),inputValidationInfoBackground:V.getColor(a.inputValidationInfoBackground),inputValidationInfoForeground:V.getColor(a.inputValidationInfoForeground),inputValidationInfoBorder:V.getColor(a.inputValidationInfoBorder),inputValidationWarningBackground:V.getColor(a.inputValidationWarningBackground),inputValidationWarningForeground:V.getColor(a.inputValidationWarningForeground),inputValidationWarningBorder:V.getColor(a.inputValidationWarningBorder),inputValidationErrorBackground:V.getColor(a.inputValidationErrorBackground),inputValidationErrorForeground:V.getColor(a.inputValidationErrorForeground),inputValidationErrorBorder:V.getColor(a.inputValidationErrorBorder)};this._findInput.style(Y),this._replaceInput.style(Y),this._toggleSelectionFind.style(Y)}_tryUpdateWidgetWidth(){if(!this._isVisible||!y.isInDOM(this._domNode))return;const V=this._codeEditor.getLayoutInfo();if(V.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const X=V.width,ae=V.minimap.minimapWidth;let J=!1,de=!1,q=!1;if(this._resized&&y.getTotalWidth(this._domNode)>O){this._domNode.style.maxWidth=`${X-28-ae-15}px`,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode);return}if(O+28+ae>=X&&(de=!0),O+28+ae-x>=X&&(q=!0),O+28+ae-x>=X+50&&(J=!0),this._domNode.classList.toggle("collapsed-find-widget",J),this._domNode.classList.toggle("narrow-find-widget",q),this._domNode.classList.toggle("reduced-find-widget",de),!q&&!J&&(this._domNode.style.maxWidth=`${X-28-ae-15}px`),this._resized){this._findInput.inputBox.layout();let z=this._findInput.inputBox.element.clientWidth;z>0&&(this._replaceInput.width=z)}else this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode))}_getHeight(){let V=0;return V+=4,V+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(V+=4,V+=this._replaceInput.inputBox.height+2),V+=4,V}_tryUpdateHeight(){const V=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===V?!1:(this._cachedHeight=V,this._domNode.style.height=`${V}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let V=this._codeEditor.getSelections();V.map(Y=>{Y.endColumn===1&&Y.endLineNumber>Y.startLineNumber&&(Y=Y.setEndPosition(Y.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Y.endLineNumber-1)));const X=this._state.currentMatch;return Y.startLineNumber!==Y.endLineNumber&&!n.Range.equalsRange(Y,X)?Y:null}).filter(Y=>!!Y),V.length&&this._state.change({searchScope:V},!0)}}_onFindInputMouseDown(V){V.middleButton&&V.stopPropagation()}_onFindInputKeyDown(V){if(V.equals(Q|3))if(this._keybindingService.dispatchEvent(V,V.target)){V.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),V.preventDefault();return}if(V.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),V.preventDefault();return}if(V.equals(2048|18)){this._codeEditor.focus(),V.preventDefault();return}if(V.equals(16))return se(V,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(V.equals(18))return ne(V,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(V){if(V.equals(Q|3))if(this._keybindingService.dispatchEvent(V,V.target)){V.preventDefault();return}else{t.isWindows&&t.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(d.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(j,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),V.preventDefault();return}if(V.equals(2)){this._findInput.focusOnCaseSensitive(),V.preventDefault();return}if(V.equals(1024|2)){this._findInput.focus(),V.preventDefault();return}if(V.equals(2048|18)){this._codeEditor.focus(),V.preventDefault();return}if(V.equals(16))return se(V,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(V.equals(18))return ne(V,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(V){return 0}_keybindingLabelFor(V){let Y=this._keybindingService.lookupKeybinding(V);return Y?` (${Y.getLabel()})`:""}_buildDomNode(){const V=!0,Y=!0;this._findInput=this._register(new c.ContextScopedFindInput(null,this._contextViewProvider,{width:D,label:v,placeholder:p,appendCaseSensitiveLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleRegexCommand),validation:z=>{if(z.length===0||!this._findInput.getRegex())return null;try{return new RegExp(z,"gu"),null}catch($){return{content:$.message}}},flexibleHeight:V,flexibleWidth:Y,flexibleMaxHeight:118,showHistoryHint:()=>(0,s.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(z=>this._onFindInputKeyDown(z))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(z=>{z.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),z.preventDefault())})),this._register(this._findInput.onRegexKeyDown(z=>{z.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),z.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(z=>{this._tryUpdateHeight()&&this._showViewZone()})),t.isLinux&&this._register(this._findInput.onMouseDown(z=>this._onFindInputMouseDown(z))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new U({label:_+this._keybindingLabelFor(o.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(o.FIND_IDS.PreviousMatchFindAction).run().then(void 0,h.onUnexpectedError)}})),this._nextBtn=this._register(new U({label:L+this._keybindingLabelFor(o.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(o.FIND_IDS.NextMatchFindAction).run().then(void 0,h.onUnexpectedError)}}));let X=document.createElement("div");X.className="find-part",X.appendChild(this._findInput.domNode);const ae=document.createElement("div");ae.className="find-actions",X.appendChild(ae),ae.appendChild(this._matchesCount),ae.appendChild(this._prevBtn.domNode),ae.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new N.Checkbox({icon:u,title:E+this._keybindingLabelFor(o.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let z=this._codeEditor.getSelections();z.map($=>($.endColumn===1&&$.endLineNumber>$.startLineNumber&&($=$.setEndPosition($.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn($.endLineNumber-1))),$.isEmpty()?null:$)).filter($=>!!$),z.length&&this._state.change({searchScope:z},!0)}}else this._state.change({searchScope:null},!0)})),ae.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new U({label:M+this._keybindingLabelFor(o.FIND_IDS.CloseFindWidgetCommand),icon:r.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:z=>{z.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),z.preventDefault())}})),ae.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new c.ContextScopedReplaceInput(null,void 0,{label:k,placeholder:A,appendPreserveCaseLabel:this._keybindingLabelFor(o.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:V,flexibleWidth:Y,flexibleMaxHeight:118,showHistoryHint:()=>(0,s.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(z=>this._onReplaceInputKeyDown(z))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(z=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(z=>{z.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),z.preventDefault())})),this._replaceBtn=this._register(new U({label:F+this._keybindingLabelFor(o.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:z=>{z.equals(1024|2)&&(this._closeBtn.focus(),z.preventDefault())}})),this._replaceAllBtn=this._register(new U({label:B+this._keybindingLabelFor(o.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let J=document.createElement("div");J.className="replace-part",J.appendChild(this._replaceInput.domNode);const de=document.createElement("div");de.className="replace-actions",J.appendChild(de),de.appendChild(this._replaceBtn.domNode),de.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new U({label:T,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${O}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(X),this._domNode.appendChild(J),this._resizeSash=new I.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let q=O;this._register(this._resizeSash.onDidStart(()=>{q=y.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(z=>{this._resized=!0;let $=q+z.startX-z.currentX;if($<O)return;const ie=parseFloat(y.getComputedStyle(this._domNode).maxWidth)||0;$>ie||(this._domNode.style.width=`${$}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const z=y.getTotalWidth(this._domNode);if(z<O)return;let $=O;if(!this._resized||z===O){const ie=this._codeEditor.getLayoutInfo();$=ie.width-28-ie.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${$}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const V=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(V!==2)}}e.FindWidget=Z,Z.ID="editor.contrib.findWidget";class U extends S.Widget{constructor(V){super();this._opts=V;let Y="button";this._opts.className&&(Y=Y+" "+this._opts.className),this._opts.icon&&(Y=Y+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=Y,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,X=>{this._opts.onTrigger(),X.preventDefault()}),this.onkeydown(this._domNode,X=>{if(X.equals(10)||X.equals(3)){this._opts.onTrigger(),X.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(X)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(V){this._domNode.classList.toggle("disabled",!V),this._domNode.setAttribute("aria-disabled",String(!V)),this._domNode.tabIndex=V?0:-1}setExpanded(V){this._domNode.setAttribute("aria-expanded",String(!!V)),V?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(f)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(w))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(w)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(f)))}}e.SimpleButton=U,(0,l.registerThemingParticipant)((W,V)=>{const Y=(ve,Se)=>{Se&&V.addRule(`.monaco-editor ${ve} { background-color: ${Se}; }`)};Y(".findMatch",W.getColor(a.editorFindMatchHighlight)),Y(".currentFindMatch",W.getColor(a.editorFindMatch)),Y(".findScope",W.getColor(a.editorFindRangeHighlight));const X=W.getColor(a.editorWidgetBackground);Y(".find-widget",X);const ae=W.getColor(a.widgetShadow);ae&&V.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${ae}; }`);const J=W.getColor(a.editorFindMatchHighlightBorder);J&&V.addRule(`.monaco-editor .findMatch { border: 1px ${W.type==="hc"?"dotted":"solid"} ${J}; box-sizing: border-box; }`);const de=W.getColor(a.editorFindMatchBorder);de&&V.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${de}; padding: 1px; box-sizing: border-box; }`);const q=W.getColor(a.editorFindRangeHighlightBorder);q&&V.addRule(`.monaco-editor .findScope { border: 1px ${W.type==="hc"?"dashed":"solid"} ${q}; }`);const z=W.getColor(a.contrastBorder);z&&V.addRule(`.monaco-editor .find-widget { border: 1px solid ${z}; }`);const $=W.getColor(a.editorWidgetForeground);$&&V.addRule(`.monaco-editor .find-widget { color: ${$}; }`);const ie=W.getColor(a.errorForeground);ie&&V.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ie}; }`);const ce=W.getColor(a.editorWidgetResizeBorder);if(ce)V.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ce}; }`);else{const ve=W.getColor(a.editorWidgetBorder);ve&&V.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ve}; }`)}const oe=W.getColor(a.toolbarHoverBackground);oe&&V.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${oe} !important;
		}
	`);const he=W.getColor(a.focusBorder);he&&V.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${he}; }`)})}),define(ee[291],te([0,1,10,2,8,15,24,161,708,709,710,515,37,100,16,75,42,40,79,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const l=524288;function u(T,R="single",O=!1){if(!T.hasModel())return null;const P=T.getSelection();if(R==="single"&&P.startLineNumber===P.endLineNumber||R==="multiple"){if(P.isEmpty()){const D=T.getConfiguredWordAtPosition(P.getStartPosition());if(D&&O===!1)return D.word}else if(T.getModel().getValueLengthInRange(P)<l)return T.getModel().getValueInRange(P)}return null}e.getSelectionSearchString=u;let f=class Ri extends m.Disposable{constructor(R,O,P,D){super();this._editor=R,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(O),this._contextKeyService=O,this._storageService=P,this._clipboardService=D,this._updateHistoryDelayer=new y.Delayer(500),this._state=this._register(new h.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(x=>this._onStateChanged(x))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let x=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),x&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(R){return R.getContribution(Ri.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(R){this.saveQueryState(R),R.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),R.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(R){R.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),R.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),R.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),R.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let R=this._editor.getSelections();R.map(O=>(O.endColumn===1&&O.endLineNumber>O.startLineNumber&&(O=O.setEndPosition(O.endLineNumber-1,this._editor.getModel().getLineMaxColumn(O.endLineNumber-1))),O.isEmpty()?null:O)).filter(O=>!!O),R.length&&this._state.change({searchScope:R},!0)}}setSearchString(R){this._state.isRegex&&(R=N.escapeRegExpCharacters(R)),this._state.change({searchString:R},!1)}highlightFindOptions(R=!1){}_start(R,O){return De(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let P=Object.assign(Object.assign({},O),{isRevealed:!0});if(R.seedSearchStringFromSelection==="single"){let D=u(this._editor,R.seedSearchStringFromSelection,R.seedSearchStringFromNonEmptySelection);D&&(this._state.isRegex?P.searchString=N.escapeRegExpCharacters(D):P.searchString=D)}else if(R.seedSearchStringFromSelection==="multiple"&&!R.updateSearchScope){let D=u(this._editor,R.seedSearchStringFromSelection);D&&(P.searchString=D)}if(!P.searchString&&R.seedSearchStringFromGlobalClipboard){let D=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;D&&(P.searchString=D)}if(R.forceRevealReplace||P.isReplaceRevealed?P.isReplaceRevealed=!0:this._findWidgetVisible.get()||(P.isReplaceRevealed=!1),R.updateSearchScope){let D=this._editor.getSelections();D.some(x=>!x.isEmpty())&&(P.searchScope=D)}P.loop=R.loop,this._state.change(P,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))})}start(R,O){return this._start(R,O)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return De(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(R){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(R)}};f.ID="editor.contrib.findController",f=Be([me(1,o.IContextKeyService),me(2,a.IStorageService),me(3,n.IClipboardService)],f),e.CommonFindController=f;let w=class extends f{constructor(R,O,P,D,x,H,j,Q){super(R,P,j,Q);this._contextViewService=O,this._keybindingService=D,this._themeService=x,this._notificationService=H,this._widget=null,this._findOptionsWidget=null}_start(R,O){const P=Object.create(null,{_start:{get:()=>super._start}});return De(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const D=this._editor.getSelection();let x=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":x=!0;break;case"never":x=!1;break;case"multiline":{x=!!D&&D.startLineNumber!==D.endLineNumber;break}default:break}R.updateSearchScope=R.updateSearchScope||x,yield P._start.call(this,R,O),this._widget&&(R.shouldFocus===2?this._widget.focusReplaceInput():R.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(R=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!R?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new g.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new C.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};w=Be([me(1,d.IContextViewService),me(2,o.IContextKeyService),me(3,c.IKeybindingService),me(4,r.IThemeService),me(5,s.INotificationService),me(6,a.IStorageService),me(7,n.IClipboardService)],w),e.FindController=w,e.StartFindAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:t.localize(0,null),alias:"Find",precondition:o.ContextKeyExpr.or(S.EditorContextKeys.focus,o.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(T,R,O)=>{const P=f.get(R);return P?P.start({forceRevealReplace:!1,seedSearchStringFromSelection:R.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:R.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:R.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(35).loop}):!1});const v={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:t.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:t.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:t.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:t.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class p extends I.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:t.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:v})}run(R,O,P){return De(this,void 0,void 0,function*(){const D=f.get(O);if(D){const x=P?{searchString:P.searchString,replaceString:P.replaceString,isReplaceRevealed:P.replaceString!==void 0,isRegex:P.isRegex,wholeWord:P.matchWholeWord,matchCase:P.isCaseSensitive,preserveCase:P.preserveCase}:{};yield D.start({forceRevealReplace:!1,seedSearchStringFromSelection:D.getState().searchString.length===0&&O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(P==null?void 0:P.findInSelection)||!1,loop:O.getOption(35).loop},x),D.setGlobalBufferTerm(D.getState().searchString)}})}}e.StartFindWithArgsAction=p;class _ extends I.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:t.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(R,O){return De(this,void 0,void 0,function*(){const P=f.get(O);P&&(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),P.setGlobalBufferTerm(P.getState().searchString))})}}e.StartFindWithSelectionAction=_;class L extends I.EditorAction{run(R,O){return De(this,void 0,void 0,function*(){const P=f.get(O);P&&!this._run(P)&&(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:P.getState().searchString.length===0&&O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:O.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),this._run(P))})}}e.MatchFindAction=L;class E extends L{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:t.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:S.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:o.ContextKeyExpr.and(S.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(R){return R.moveToNextMatch()?(R.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=E;class M extends L{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:t.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:S.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:o.ContextKeyExpr.and(S.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(R){return R.moveToPrevMatch()}}e.PreviousMatchFindAction=M;class k extends I.EditorAction{run(R,O){return De(this,void 0,void 0,function*(){const P=f.get(O);if(!P)return;const D=O.getOption(35).seedSearchStringFromSelection==="selection";let x=null;O.getOption(35).seedSearchStringFromSelection!=="never"&&(x=u(O,"single",D)),x&&P.setSearchString(x),this._run(P)||(yield P.start({forceRevealReplace:!1,seedSearchStringFromSelection:O.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:D,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:O.getOption(35).loop}),this._run(P))})}}e.SelectionMatchFindAction=k;class A extends k{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:t.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(R){return R.moveToNextMatch()}}e.NextSelectionMatchFindAction=A;class F extends k{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:t.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(R){return R.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=F,e.StartFindReplaceAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:t.localize(12,null),alias:"Replace",precondition:o.ContextKeyExpr.or(S.EditorContextKeys.focus,o.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(T,R,O)=>{if(!R.hasModel()||R.getOption(81))return!1;const P=f.get(R);if(!P)return!1;const D=R.getSelection(),x=P.isFindInputFocused(),H=!D.isEmpty()&&D.startLineNumber===D.endLineNumber&&R.getOption(35).seedSearchStringFromSelection!=="never"&&!x,j=x||H?2:1;return P.start({forceRevealReplace:!0,seedSearchStringFromSelection:H?"single":"none",seedSearchStringFromNonEmptySelection:R.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:R.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:j,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(35).loop})}),(0,I.registerEditorContribution)(f.ID,w),(0,I.registerEditorAction)(p),(0,I.registerEditorAction)(_),(0,I.registerEditorAction)(E),(0,I.registerEditorAction)(M),(0,I.registerEditorAction)(A),(0,I.registerEditorAction)(F);const B=I.EditorCommand.bindToContribution(f.get);(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:T=>T.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(S.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:T=>T.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:T=>T.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:T=>T.toggleRegex(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:T=>T.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:T=>T.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:T=>T.replace(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:2048|1024|22}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:T=>T.replace(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(S.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:T=>T.replaceAll(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:2048|512|3}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:T=>T.replaceAll(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(S.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,I.registerEditorCommand)(new B({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:T=>T.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:S.EditorContextKeys.focus,primary:512|3}}))}),define(ee[711],te([0,1,27,32,518,71,13]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,I.registerIcon)("folding-expanded",y.Codicon.chevronDown,(0,N.localize)(0,null)),e.foldingCollapsedIcon=(0,I.registerIcon)("folding-collapsed",y.Codicon.chevronRight,(0,N.localize)(1,null));class b{constructor(h){this.editor=h,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(h,g){return g?b.HIDDEN_RANGE_DECORATION:h?this.showFoldingHighlights?b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:b.EXPANDED_VISUAL_DECORATION}deltaDecorations(h,g){return this.editor.deltaDecorations(h,g)}changeDecorations(h){return this.editor.changeDecorations(h)}}e.FoldingDecorationProvider=b,b.COLLAPSED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.EXPANDED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.HIDDEN_RANGE_DECORATION=m.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ee[712],te([0,1,10,14,56,2,8,20,70,15,24,18,35,442,443,444,445,517,16,23,13,711,248,40,73,371]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const p=new a.RawContextKey("foldingEnabled",!1);let _=class Pi extends I.Disposable{constructor(Z,U,W,V){super();this.contextKeyService=U,this.languageConfigurationService=W,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new I.DisposableStore),this.editor=Z;const Y=this.editor.getOptions();this._isEnabled=Y.get(37),this._useFoldingProviders=Y.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=Y.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Y.get(40),this._maxFoldingRegions=Y.get(41),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new u.FoldingDecorationProvider(Z),this.foldingDecorationProvider.autoHideFoldingControls=Y.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Y.get(39),this.foldingEnabled=p.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=X=>{this._tooManyRegionsNotified||(V.notify({severity:v.default.Warning,sticky:!0,message:s.localize(0,null,X)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(X=>{if(X.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),X.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),X.hasChanged(99)||X.hasChanged(39)){const ae=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=ae.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ae.get(39),this.triggerFoldingModelChanged()}X.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),X.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),X.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(Z){return Z.getContribution(Pi.ID)}saveViewState(){let Z=this.editor.getModel();if(!Z||!this._isEnabled||Z.isTooLargeForTokenization())return{};if(this.foldingModel){let U=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),W=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:U,lineCount:Z.getLineCount(),provider:W,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Z){let U=this.editor.getModel();if(!U||!this._isEnabled||U.isTooLargeForTokenization()||!this.hiddenRangeModel||!Z||Z.lineCount!==U.getLineCount()||(this._currentModelHasFoldedImports=!!Z.foldedImports,!Z.collapsedRegions))return;(Z.provider===f.ID_SYNTAX_PROVIDER||Z.provider===c.ID_INIT_PROVIDER)&&(this.foldingStateMemento=Z);const W=Z.collapsedRegions;if(this.hiddenRangeModel.applyMemento(W)){const V=this.getFoldingModel();V&&V.then(Y=>{if(Y){this._restoringViewState=!0;try{Y.applyMemento(W)}finally{this._restoringViewState=!1}}}).then(void 0,m.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let Z=this.editor.getModel();!this._isEnabled||!Z||Z.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new n.FoldingModel(Z,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new o.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(U=>this.onHiddenRangesChanges(U))),this.updateScheduler=new y.Delayer(200),this.cursorChangedScheduler=new y.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(t.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(U=>this.onDidChangeModelContent(U))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(U=>this.onEditorMouseDown(U))),this.localToDispose.add(this.editor.onMouseUp(U=>this.onEditorMouseUp(U))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(Z){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new d.IndentRangeProvider(Z,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let U=t.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(U.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new c.InitializingRangeProvider(Z,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);U.length>0&&(this.rangeProvider=new f.SyntaxRangeProvider(Z,U,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(Z){var U;(U=this.hiddenRangeModel)===null||U===void 0||U.notifyChangeModelContent(Z),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Z=this.foldingModel;if(!Z)return null;const U=this.getRangeProvider(Z.textModel);let W=this.foldingRegionPromise=(0,y.createCancelablePromise)(V=>U.compute(V,this._notifyTooManyRegions));return W.then(V=>{if(V&&W===this.foldingRegionPromise){let Y;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const J=V.setCollapsedAllOfType(t.FoldingRangeKind.Imports.value,!0);J&&(Y=C.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=J)}let X=this.editor.getSelections(),ae=X?X.map(J=>J.startLineNumber):[];Z.update(V,ae),Y&&Y.restore(this.editor)}return Z})}).then(void 0,Z=>((0,m.onUnexpectedError)(Z),null)))}onHiddenRangesChanges(Z){if(this.hiddenRangeModel&&Z.length&&!this._restoringViewState){let U=this.editor.getSelections();U&&this.hiddenRangeModel.adjustSelections(U)&&this.editor.setSelections(U)}this.editor.setHiddenAreas(Z)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Z=this.getFoldingModel();!Z||Z.then(U=>{if(U){let W=this.editor.getSelections();if(W&&W.length>0){let V=[];for(let Y of W){let X=Y.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(X)&&V.push(...U.getAllRegionsAtLine(X,ae=>ae.isCollapsed&&X>ae.startLineNumber))}V.length&&(U.toggleCollapseState(V),this.reveal(W[0].getPosition()))}}}).then(void 0,m.onUnexpectedError)}onEditorMouseDown(Z){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Z.target||!Z.target.range||!Z.event.leftButton&&!Z.event.middleButton)return;const U=Z.target.range;let W=!1;switch(Z.target.type){case 4:{const V=Z.target.detail,Y=Z.target.element.offsetLeft;if(V.offsetX-Y<5)return;W=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Z.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let V=this.editor.getModel();if(V&&U.startColumn===V.getLineMaxColumn(U.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:U.startLineNumber,iconClicked:W}}onEditorMouseUp(Z){const U=this.getFoldingModel();if(!U||!this.mouseDownInfo||!Z.target)return;let W=this.mouseDownInfo.lineNumber,V=this.mouseDownInfo.iconClicked,Y=Z.target.range;if(!(!Y||Y.startLineNumber!==W)){if(V){if(Z.target.type!==4)return}else{let X=this.editor.getModel();if(!X||Y.startColumn!==X.getLineMaxColumn(W))return}U.then(X=>{if(X){let ae=X.getRegionAtLine(W);if(ae&&ae.startLineNumber===W){let J=ae.isCollapsed;if(V||J){let de=Z.event.altKey,q=[];if(de){let z=ie=>!ie.containedBy(ae)&&!ae.containedBy(ie),$=X.getRegionsInside(null,z);for(const ie of $)ie.isCollapsed&&q.push(ie);q.length===0&&(q=$)}else{let z=Z.event.middleButton||Z.event.shiftKey;if(z)for(const $ of X.getRegionsInside(ae))$.isCollapsed===J&&q.push($);(J||!z||q.length===0)&&q.push(ae)}X.toggleCollapseState(q),this.reveal({lineNumber:W,column:1})}}}}).then(void 0,m.onUnexpectedError)}}reveal(Z){this.editor.revealPositionInCenterIfOutsideViewport(Z,0)}};_.ID="editor.contrib.folding",_=Be([me(1,a.IContextKeyService),me(2,i.ILanguageConfigurationService),me(3,w.INotificationService)],_),e.FoldingController=_;class L extends h.EditorAction{runEditorCommand(Z,U,W){const V=Z.get(i.ILanguageConfigurationService),Y=_.get(U);if(!Y)return;const X=Y.getFoldingModel();if(X)return this.reportTelemetry(Z,U),X.then(ae=>{if(ae){this.invoke(Y,ae,U,W,V);const J=U.getSelection();J&&Y.reveal(J.getStartPosition())}})}getSelectedLines(Z){let U=Z.getSelections();return U?U.map(W=>W.startLineNumber):[]}getLineNumbers(Z,U){return Z&&Z.selectionLines?Z.selectionLines.map(W=>W+1):this.getSelectedLines(U)}run(Z,U){}}function E(ne){if(!b.isUndefined(ne)){if(!b.isObject(ne))return!1;const Z=ne;if(!b.isUndefined(Z.levels)&&!b.isNumber(Z.levels)||!b.isUndefined(Z.direction)&&!b.isString(Z.direction)||!b.isUndefined(Z.selectionLines)&&(!b.isArray(Z.selectionLines)||!Z.selectionLines.every(b.isNumber)))return!1}return!0}class M extends L{constructor(){super({id:"editor.unfold",label:s.localize(1,null),alias:"Unfold",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:E,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Z,U,W,V){let Y=V&&V.levels||1,X=this.getLineNumbers(V,W);V&&V.direction==="up"?(0,n.setCollapseStateLevelsUp)(U,!1,Y,X):(0,n.setCollapseStateLevelsDown)(U,!1,Y,X)}}class k extends L{constructor(){super({id:"editor.unfoldRecursively",label:s.localize(2,null),alias:"Unfold Recursively",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|89),weight:100}})}invoke(Z,U,W,V){(0,n.setCollapseStateLevelsDown)(U,!1,Number.MAX_VALUE,this.getSelectedLines(W))}}class A extends L{constructor(){super({id:"editor.fold",label:s.localize(3,null),alias:"Fold",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:E,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Z,U,W,V){let Y=this.getLineNumbers(V,W);const X=V&&V.levels,ae=V&&V.direction;typeof X!="number"&&typeof ae!="string"?(0,n.setCollapseStateUp)(U,!0,Y):ae==="up"?(0,n.setCollapseStateLevelsUp)(U,!0,X||1,Y):(0,n.setCollapseStateLevelsDown)(U,!0,X||1,Y)}}class F extends L{constructor(){super({id:"editor.toggleFold",label:s.localize(4,null),alias:"Toggle Fold",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|42),weight:100}})}invoke(Z,U,W){let V=this.getSelectedLines(W);(0,n.toggleCollapseState)(U,1,V)}}class B extends L{constructor(){super({id:"editor.foldRecursively",label:s.localize(5,null),alias:"Fold Recursively",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|87),weight:100}})}invoke(Z,U,W){let V=this.getSelectedLines(W);(0,n.setCollapseStateLevelsDown)(U,!0,Number.MAX_VALUE,V)}}class T extends L{constructor(){super({id:"editor.foldAllBlockComments",label:s.localize(6,null),alias:"Fold All Block Comments",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|85),weight:100}})}invoke(Z,U,W,V,Y){if(U.regions.hasTypes())(0,n.setCollapseStateForType)(U,t.FoldingRangeKind.Comment.value,!0);else{const X=W.getModel();if(!X)return;const ae=Y.getLanguageConfiguration(X.getLanguageId()).comments;if(ae&&ae.blockCommentStartToken){let J=new RegExp("^\\s*"+(0,S.escapeRegExpCharacters)(ae.blockCommentStartToken));(0,n.setCollapseStateForMatchingLines)(U,J,!0)}}}}class R extends L{constructor(){super({id:"editor.foldAllMarkerRegions",label:s.localize(7,null),alias:"Fold All Regions",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|29),weight:100}})}invoke(Z,U,W,V,Y){if(U.regions.hasTypes())(0,n.setCollapseStateForType)(U,t.FoldingRangeKind.Region.value,!0);else{const X=W.getModel();if(!X)return;const ae=Y.getLanguageConfiguration(X.getLanguageId()).foldingRules;if(ae&&ae.markers&&ae.markers.start){let J=new RegExp(ae.markers.start);(0,n.setCollapseStateForMatchingLines)(U,J,!0)}}}}class O extends L{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:s.localize(8,null),alias:"Unfold All Regions",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|30),weight:100}})}invoke(Z,U,W,V,Y){if(U.regions.hasTypes())(0,n.setCollapseStateForType)(U,t.FoldingRangeKind.Region.value,!1);else{const X=W.getModel();if(!X)return;const ae=Y.getLanguageConfiguration(X.getLanguageId()).foldingRules;if(ae&&ae.markers&&ae.markers.start){let J=new RegExp(ae.markers.start);(0,n.setCollapseStateForMatchingLines)(U,J,!1)}}}}class P extends L{constructor(){super({id:"editor.foldAllExcept",label:s.localize(9,null),alias:"Fold All Regions Except Selected",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|83),weight:100}})}invoke(Z,U,W){let V=this.getSelectedLines(W);(0,n.setCollapseStateForRest)(U,!0,V)}}class D extends L{constructor(){super({id:"editor.unfoldAllExcept",label:s.localize(10,null),alias:"Unfold All Regions Except Selected",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|81),weight:100}})}invoke(Z,U,W){let V=this.getSelectedLines(W);(0,n.setCollapseStateForRest)(U,!1,V)}}class x extends L{constructor(){super({id:"editor.foldAll",label:s.localize(11,null),alias:"Fold All",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|21),weight:100}})}invoke(Z,U,W){(0,n.setCollapseStateLevelsDown)(U,!0)}}class H extends L{constructor(){super({id:"editor.unfoldAll",label:s.localize(12,null),alias:"Unfold All",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|40),weight:100}})}invoke(Z,U,W){(0,n.setCollapseStateLevelsDown)(U,!1)}}class j extends L{getFoldingLevel(){return parseInt(this.id.substr(j.ID_PREFIX.length))}invoke(Z,U,W){(0,n.setCollapseStateAtLevel)(U,this.getFoldingLevel(),!0,this.getSelectedLines(W))}}j.ID_PREFIX="editor.foldLevel",j.ID=ne=>j.ID_PREFIX+ne;class Q extends L{constructor(){super({id:"editor.gotoParentFold",label:s.localize(13,null),alias:"Go to Parent Fold",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,U,W){let V=this.getSelectedLines(W);if(V.length>0){let Y=(0,n.getParentFoldLine)(V[0],U);Y!==null&&W.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class G extends L{constructor(){super({id:"editor.gotoPreviousFold",label:s.localize(14,null),alias:"Go to Previous Folding Range",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,U,W){let V=this.getSelectedLines(W);if(V.length>0){let Y=(0,n.getPreviousFoldLine)(V[0],U);Y!==null&&W.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class se extends L{constructor(){super({id:"editor.gotoNextFold",label:s.localize(15,null),alias:"Go to Next Folding Range",precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,U,W){let V=this.getSelectedLines(W);if(V.length>0){let Y=(0,n.getNextFoldLine)(V[0],U);Y!==null&&W.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}(0,h.registerEditorContribution)(_.ID,_),(0,h.registerEditorAction)(M),(0,h.registerEditorAction)(k),(0,h.registerEditorAction)(A),(0,h.registerEditorAction)(B),(0,h.registerEditorAction)(x),(0,h.registerEditorAction)(H),(0,h.registerEditorAction)(T),(0,h.registerEditorAction)(R),(0,h.registerEditorAction)(O),(0,h.registerEditorAction)(P),(0,h.registerEditorAction)(D),(0,h.registerEditorAction)(F),(0,h.registerEditorAction)(Q),(0,h.registerEditorAction)(G),(0,h.registerEditorAction)(se);for(let ne=1;ne<=7;ne++)(0,h.registerInstantiatedEditorAction)(new j({id:j.ID(ne),label:s.localize(16,null,ne),alias:`Fold Level ${ne}`,precondition:p,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,N.KeyChord)(2048|41,2048|21+ne),weight:100}}));e.foldBackgroundBackground=(0,r.registerColor)("editor.foldBackground",{light:(0,r.transparent)(r.editorSelectionBackground,.3),dark:(0,r.transparent)(r.editorSelectionBackground,.3),hc:null},s.localize(17,null),!0),e.editorFoldForeground=(0,r.registerColor)("editorGutter.foldingControlForeground",{dark:r.iconForeground,light:r.iconForeground,hc:r.iconForeground},s.localize(18,null)),(0,l.registerThemingParticipant)((ne,Z)=>{const U=ne.getColor(e.foldBackgroundBackground);U&&Z.addRule(`.monaco-editor .folded-background { background-color: ${U}; }`);const W=ne.getColor(e.editorFoldForeground);W&&Z.addRule(`
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(u.foldingExpandedIcon)},
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(u.foldingCollapsedIcon)} {
			color: ${W} !important;
		}
		`)})}),define(ee[713],te([0,1,10,21,29,2,3,268,290,438,646,13]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(d,c,s,a){this.owner=d,this.range=c,this.model=s,this.provider=a,this.forceShowAtRange=!0}isValidForHoverAnchor(d){return d.type===1&&this.range.startColumn<=d.range.startColumn&&this.range.endColumn>=d.range.endColumn}}e.ColorHover=i;let n=class{constructor(d,c){this._editor=d,this._themeService=c}computeSync(d,c){return[]}computeAsync(d,c,s){return y.AsyncIterableObject.fromPromise(this._computeAsync(d,c,s))}_computeAsync(d,c,s){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const a=C.ColorDetector.get(this._editor);if(!a)return[];for(const r of c){if(!a.isColorDecorationId(r.id))continue;const l=a.getColorData(r.range.getStartPosition());if(l)return[yield this._createColorHover(this._editor.getModel(),l.colorInfo,l.provider)]}return[]})}_createColorHover(d,c,s){return De(this,void 0,void 0,function*(){const a=d.getValueInRange(c.range),{red:r,green:l,blue:u,alpha:f}=c.color,w=new N.RGBA(Math.round(r*255),Math.round(l*255),Math.round(u*255),f),v=new N.Color(w),p=yield(0,b.getColorPresentations)(d,c,s,m.CancellationToken.None),_=new h.ColorPickerModel(v,[],0);return _.colorPresentations=p||[],_.guessColorPresentation(v,a),new i(this,S.Range.lift(c.range),_,s)})}renderHoverParts(d,c){if(c.length===0||!this._editor.hasModel())return I.Disposable.None;const s=new I.DisposableStore,a=c[0],r=this._editor.getModel(),l=a.model,u=s.add(new g.ColorPickerWidget(d.fragment,l,this._editor.getOption(129),this._themeService));d.setColorPicker(u);let f=new S.Range(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn);const w=()=>{let p,_;if(l.presentation.textEdit){p=[l.presentation.textEdit],_=new S.Range(l.presentation.textEdit.range.startLineNumber,l.presentation.textEdit.range.startColumn,l.presentation.textEdit.range.endLineNumber,l.presentation.textEdit.range.endColumn);const L=this._editor.getModel()._setTrackedRange(null,_,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",p),_=this._editor.getModel()._getTrackedRange(L)||_}else p=[{identifier:null,range:f,text:l.presentation.label,forceMoveMarkers:!1}],_=f.setEndPosition(f.endLineNumber,f.startColumn+l.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",p);l.presentation.additionalTextEdits&&(p=[...l.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",p),d.hide()),this._editor.pushUndoStop(),f=_},v=p=>(0,b.getColorPresentations)(r,{range:f,color:{red:p.rgba.r/255,green:p.rgba.g/255,blue:p.rgba.b/255,alpha:p.rgba.a}},a.provider,m.CancellationToken.None).then(_=>{l.colorPresentations=_||[]});return s.add(l.onColorFlushed(p=>{v(p).then(w)})),s.add(l.onDidChangeColor(v)),s}};n=Be([me(1,t.IThemeService)],n),e.ColorHoverParticipant=n}),define(ee[714],te([0,1,10,14,70,15,3,22,24,32,83,53,534,13,446]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class Qt{constructor(r,l){this.decorationIds=[],this.editor=r,this.editorWorkerService=l}static get(r){return r.getContribution(Qt.ID)}dispose(){}run(r,l){this.currentRequest&&this.currentRequest.cancel();const u=this.editor.getSelection(),f=this.editor.getModel();if(!f||!u)return;let w=u;if(w.startLineNumber!==w.endLineNumber)return;const v=new N.EditorState(this.editor,1|4),p=f.uri;return this.editorWorkerService.canNavigateValueSet(p)?(this.currentRequest=(0,y.createCancelablePromise)(_=>this.editorWorkerService.navigateValueSet(p,w,l)),this.currentRequest.then(_=>{if(!_||!_.range||!_.value||!v.validate(this.editor))return;let L=S.Range.lift(_.range),E=_.range,M=_.value.length-(w.endColumn-w.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+_.value.length},M>1&&(w=new b.Selection(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn+M-1));const k=new o.InPlaceReplaceCommand(L,w,_.value);this.editor.pushUndoStop(),this.editor.executeCommand(r,k),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:E,options:Qt.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,y.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(m.onUnexpectedError)}).catch(m.onUnexpectedError)):Promise.resolve(void 0)}};d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=h.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),d=Be([me(1,g.IEditorWorkerService)],d);class c extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:i.localize(0,null),alias:"Replace with Previous Value",precondition:C.EditorContextKeys.writable,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(r,l){const u=d.get(l);return u?u.run(this.id,!0):Promise.resolve(void 0)}}class s extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:i.localize(1,null),alias:"Replace with Next Value",precondition:C.EditorContextKeys.writable,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(r,l){const u=d.get(l);return u?u.run(this.id,!1):Promise.resolve(void 0)}}(0,I.registerEditorContribution)(d.ID,d),(0,I.registerEditorAction)(c),(0,I.registerEditorAction)(s),(0,n.registerThemingParticipant)((a,r)=>{const l=a.getColor(t.editorBracketMatchBorder);l&&r.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${l}; }`)})}),define(ee[715],te([0,1,2,8,15,200,61,3,22,24,32,35,45,251,535,77]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function c(k,A,F,B,T){if(k.getLineCount()===1&&k.getLineMaxColumn(1)===1)return[];const R=A.getLanguageConfiguration(k.getLanguageId()).indentationRules;if(!R)return[];for(B=Math.min(B,k.getLineCount());F<=B&&R.unIndentedLinePattern;){let Z=k.getLineContent(F);if(!R.unIndentedLinePattern.test(Z))break;F++}if(F>B-1)return[];const{tabSize:O,indentSize:P,insertSpaces:D}=k.getOptions(),x=(Z,U)=>(U=U||1,I.ShiftCommand.shiftIndent(Z,Z.length+U,O,P,D)),H=(Z,U)=>(U=U||1,I.ShiftCommand.unshiftIndent(Z,Z.length+U,O,P,D));let j=[],Q,G=k.getLineContent(F),se=G;if(T!=null){Q=T;let Z=m.getLeadingWhitespace(G);se=Q+G.substring(Z.length),R.decreaseIndentPattern&&R.decreaseIndentPattern.test(se)&&(Q=H(Q),se=Q+G.substring(Z.length)),G!==se&&j.push(S.EditOperation.replaceMove(new C.Selection(F,1,F,Z.length+1),g.TextModel.normalizeIndentation(Q,P,D)))}else Q=m.getLeadingWhitespace(G);let ne=Q;R.increaseIndentPattern&&R.increaseIndentPattern.test(se)?(ne=x(ne),Q=x(Q)):R.indentNextLinePattern&&R.indentNextLinePattern.test(se)&&(ne=x(ne)),F++;for(let Z=F;Z<=B;Z++){let U=k.getLineContent(Z),W=m.getLeadingWhitespace(U),V=ne+U.substring(W.length);R.decreaseIndentPattern&&R.decreaseIndentPattern.test(V)&&(ne=H(ne),Q=H(Q)),W!==ne&&j.push(S.EditOperation.replaceMove(new C.Selection(Z,1,Z,W.length+1),g.TextModel.normalizeIndentation(ne,P,D))),!(R.unIndentedLinePattern&&R.unIndentedLinePattern.test(U))&&(R.increaseIndentPattern&&R.increaseIndentPattern.test(V)?(Q=x(Q),ne=Q):R.indentNextLinePattern&&R.indentNextLinePattern.test(V)?ne=x(ne):ne=Q)}return j}e.getReindentEditOperations=c;class s extends N.EditorAction{constructor(){super({id:s.ID,label:o.localize(0,null),alias:"Convert Indentation to Spaces",precondition:h.EditorContextKeys.writable})}run(A,F){let B=F.getModel();if(!B)return;let T=B.getOptions(),R=F.getSelection();if(!R)return;const O=new E(R,T.tabSize);F.pushUndoStop(),F.executeCommands(this.id,[O]),F.pushUndoStop(),B.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=s,s.ID="editor.action.indentationToSpaces";class a extends N.EditorAction{constructor(){super({id:a.ID,label:o.localize(1,null),alias:"Convert Indentation to Tabs",precondition:h.EditorContextKeys.writable})}run(A,F){let B=F.getModel();if(!B)return;let T=B.getOptions(),R=F.getSelection();if(!R)return;const O=new M(R,T.tabSize);F.pushUndoStop(),F.executeCommands(this.id,[O]),F.pushUndoStop(),B.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=a,a.ID="editor.action.indentationToTabs";class r extends N.EditorAction{constructor(A,F){super(F);this.insertSpaces=A}run(A,F){const B=A.get(d.IQuickInputService),T=A.get(i.IModelService);let R=F.getModel();if(!R)return;const O=T.getCreationOptions(R.getLanguageId(),R.uri,R.isForSimpleWidget),P=[1,2,3,4,5,6,7,8].map(x=>({id:x.toString(),label:x.toString(),description:x===O.tabSize?o.localize(2,null):void 0})),D=Math.min(R.getOptions().tabSize-1,7);setTimeout(()=>{B.pick(P,{placeHolder:o.localize(3,null),activeItem:P[D]}).then(x=>{x&&R&&!R.isDisposed()&&R.updateOptions({tabSize:parseInt(x.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=r;class l extends r{constructor(){super(!1,{id:l.ID,label:o.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=l,l.ID="editor.action.indentUsingTabs";class u extends r{constructor(){super(!0,{id:u.ID,label:o.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=u,u.ID="editor.action.indentUsingSpaces";class f extends N.EditorAction{constructor(){super({id:f.ID,label:o.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(A,F){const B=A.get(i.IModelService);let T=F.getModel();if(!T)return;const R=B.getCreationOptions(T.getLanguageId(),T.uri,T.isForSimpleWidget);T.detectIndentation(R.insertSpaces,R.tabSize)}}e.DetectIndentation=f,f.ID="editor.action.detectIndentation";class w extends N.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:o.localize(7,null),alias:"Reindent Lines",precondition:h.EditorContextKeys.writable})}run(A,F){const B=A.get(t.ILanguageConfigurationService);let T=F.getModel();if(!T)return;let R=c(T,B,1,T.getLineCount());R.length>0&&(F.pushUndoStop(),F.executeEdits(this.id,R),F.pushUndoStop())}}e.ReindentLinesAction=w;class v extends N.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:o.localize(8,null),alias:"Reindent Selected Lines",precondition:h.EditorContextKeys.writable})}run(A,F){const B=A.get(t.ILanguageConfigurationService);let T=F.getModel();if(!T)return;let R=F.getSelections();if(R===null)return;let O=[];for(let P of R){let D=P.startLineNumber,x=P.endLineNumber;if(D!==x&&P.endColumn===1&&x--,D===1){if(D===x)continue}else D--;let H=c(T,B,D,x);O.push(...H)}O.length>0&&(F.pushUndoStop(),F.executeEdits(this.id,O),F.pushUndoStop())}}e.ReindentSelectedLinesAction=v;class p{constructor(A,F){this._initialSelection=F,this._edits=[],this._selectionId=null;for(let B of A)B.range&&typeof B.text=="string"&&this._edits.push(B)}getEditOperations(A,F){for(let T of this._edits)F.addEditOperation(b.Range.lift(T.range),T.text);let B=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(B=!0,this._selectionId=F.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(B=!0,this._selectionId=F.trackSelection(this._initialSelection,!1))),B||(this._selectionId=F.trackSelection(this._initialSelection))}computeCursorState(A,F){return F.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=p;class _{constructor(A){this.callOnDispose=new y.DisposableStore,this.callOnModel=new y.DisposableStore,this.editor=A,this.callOnDispose.add(A.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(A.onDidChangeModel(()=>this.update())),this.callOnDispose.add(A.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:A})=>{this.trigger(A)})))}trigger(A){let F=this.editor.getSelections();if(F===null||F.length>1)return;const B=this.editor.getModel();if(!B||!B.isCheapToTokenize(A.getStartPosition().lineNumber))return;const T=this.editor.getOption(9),{tabSize:R,indentSize:O,insertSpaces:P}=B.getOptions();let D=[],x={shiftIndent:G=>I.ShiftCommand.shiftIndent(G,G.length+1,R,O,P),unshiftIndent:G=>I.ShiftCommand.unshiftIndent(G,G.length+1,R,O,P)},H=A.startLineNumber;for(;H<=A.endLineNumber;){if(this.shouldIgnoreLine(B,H)){H++;continue}break}if(H>A.endLineNumber)return;let j=B.getLineContent(H);if(!/\S/.test(j.substring(0,A.startColumn-1))){const G=t.LanguageConfigurationRegistry.getGoodIndentForLine(T,B,B.getLanguageId(),H,x);if(G!==null){let se=m.getLeadingWhitespace(j),ne=n.getSpaceCnt(G,R),Z=n.getSpaceCnt(se,R);if(ne!==Z){let U=n.generateIndent(ne,R,P);D.push({range:new b.Range(H,1,H,se.length+1),text:U}),j=U+j.substr(se.length)}else{let U=t.LanguageConfigurationRegistry.getIndentMetadata(B,H);if(U===0||U===8)return}}}const Q=H;for(;H<A.endLineNumber;){if(!/\S/.test(B.getLineContent(H+1))){H++;continue}break}if(H!==A.endLineNumber){let G={getLineTokens:ne=>B.getLineTokens(ne),getLanguageId:()=>B.getLanguageId(),getLanguageIdAtPosition:(ne,Z)=>B.getLanguageIdAtPosition(ne,Z),getLineContent:ne=>ne===Q?j:B.getLineContent(ne)},se=t.LanguageConfigurationRegistry.getGoodIndentForLine(T,G,B.getLanguageId(),H+1,x);if(se!==null){let ne=n.getSpaceCnt(se,R),Z=n.getSpaceCnt(m.getLeadingWhitespace(B.getLineContent(H+1)),R);if(ne!==Z){let U=ne-Z;for(let W=H+1;W<=A.endLineNumber;W++){let V=B.getLineContent(W),Y=m.getLeadingWhitespace(V),ae=n.getSpaceCnt(Y,R)+U,J=n.generateIndent(ae,R,P);J!==Y&&D.push({range:new b.Range(W,1,W,Y.length+1),text:J})}}}}if(D.length>0){this.editor.pushUndoStop();let G=new p(D,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",G),this.editor.pushUndoStop()}}shouldIgnoreLine(A,F){A.forceTokenization(F);let B=A.getLineFirstNonWhitespaceColumn(F);if(B===0)return!0;let T=A.getLineTokens(F);if(T.getCount()>0){let R=T.findTokenIndexAtOffset(B);if(R>=0&&T.getStandardTokenType(R)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=_,_.ID="editor.contrib.autoIndentOnPaste";function L(k,A,F,B){if(k.getLineCount()===1&&k.getLineMaxColumn(1)===1)return;let T="";for(let O=0;O<F;O++)T+=" ";let R=new RegExp(T,"gi");for(let O=1,P=k.getLineCount();O<=P;O++){let D=k.getLineFirstNonWhitespaceColumn(O);if(D===0&&(D=k.getLineMaxColumn(O)),D===1)continue;const x=new b.Range(O,1,O,D),H=k.getValueInRange(x),j=B?H.replace(/\t/ig,T):H.replace(R,"	");A.addEditOperation(x,j)}}class E{constructor(A,F){this.selection=A,this.tabSize=F,this.selectionId=null}getEditOperations(A,F){this.selectionId=F.trackSelection(this.selection),L(A,F,this.tabSize,!0)}computeCursorState(A,F){return F.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=E;class M{constructor(A,F){this.selection=A,this.tabSize=F,this.selectionId=null}getEditOperations(A,F){this.selectionId=F.trackSelection(this.selection),L(A,F,this.tabSize,!1)}computeCursorState(A,F){return F.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=M,(0,N.registerEditorContribution)(_.ID,_),(0,N.registerEditorAction)(s),(0,N.registerEditorAction)(a),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(u),(0,N.registerEditorAction)(f),(0,N.registerEditorAction)(w),(0,N.registerEditorAction)(v)}),define(ee[205],te([0,1,10,21,14,4,2,8,158,61,3,18,185,26,252,186]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimizeInlineCompletion=e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let c=class extends S.Disposable{constructor(p,_,L){super();this.editor=p,this.cache=_,this.commandService=L,this.onDidChangeEmitter=new I.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new S.MutableDisposable),this.active=!1,this.disposed=!1,this._register(L.onDidExecuteCommand(E=>{new Set([C.CoreEditingCommands.Tab.id,C.CoreEditingCommands.DeleteLeft.id,C.CoreEditingCommands.DeleteRight.id,o.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(E.commandId)&&p.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(E=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(E=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,S.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var p;return(p=this.session)===null||p===void 0?void 0:p.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(p){var _;(_=this.session)===null||_===void 0||_.setExpanded(p)}setActive(p){var _;this.active=p,p&&((_=this.session)===null||_===void 0||_.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(t.InlineCompletionTriggerKind.Automatic)}trigger(p){if(this.completionSession.value){p===t.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new s(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,p),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var p;(p=this.session)===null||p===void 0||p.commitCurrentCompletion()}showNext(){var p;(p=this.session)===null||p===void 0||p.showNextInlineCompletion()}showPrevious(){var p;(p=this.session)===null||p===void 0||p.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var p;return De(this,void 0,void 0,function*(){const _=yield(p=this.session)===null||p===void 0?void 0:p.hasMultipleInlineCompletions();return _!==void 0?_:!1})}};c=Be([me(2,n.ICommandService)],c),e.InlineCompletionsModel=c;class s extends i.BaseGhostTextWidgetModel{constructor(p,_,L,E,M,k){super(p);this.triggerPosition=_,this.shouldUpdate=L,this.commandService=E,this.cache=M,this.initialTriggerKind=k,this.minReservedLineCount=0,this.updateOperation=this._register(new S.MutableDisposable),this.updateSoon=this._register(new y.RunOnceScheduler(()=>{let F=this.initialTriggerKind;return this.initialTriggerKind=t.InlineCompletionTriggerKind.Automatic,this.update(F)},50)),this.currentlySelectedCompletionId=void 0;let A;this._register(this.onDidChange(()=>{const F=this.currentCompletion;if(F&&F.sourceInlineCompletion!==A){A=F.sourceInlineCompletion;const B=F.sourceProvider;B.handleItemDidShow&&B.handleItemDidShow(F.sourceInlineCompletions,A)}})),this._register((0,S.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(F=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(F=>{this.scheduleAutomaticUpdate()})),this._register(t.InlineCompletionsProviderRegistry.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const p=this.cache.value.completions.findIndex(_=>_.semanticId===this.currentlySelectedCompletionId);return p===-1?(this.currentlySelectedCompletionId=void 0,0):p}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var p;return De(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const _=((p=this.cache.value)===null||p===void 0?void 0:p.completions)||[];if(_.length>0){const L=(this.fixAndGetIndexOfCurrentSelection()+1)%_.length;this.currentlySelectedCompletionId=_[L].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var p;return De(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const _=((p=this.cache.value)===null||p===void 0?void 0:p.completions)||[];if(_.length>0){const L=(this.fixAndGetIndexOfCurrentSelection()+_.length-1)%_.length;this.currentlySelectedCompletionId=_[L].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var p;return De(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===t.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(t.InlineCompletionTriggerKind.Explicit):((p=this.cache.value)===null||p===void 0?void 0:p.triggerKind)!==t.InlineCompletionTriggerKind.Explicit&&(yield this.update(t.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var p;return De(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((p=this.cache.value)===null||p===void 0?void 0:p.completions.length)||0)>1})}get ghostText(){const p=this.currentCompletion,_=this.editor.getOptions().get(55).mode;return p?(0,d.inlineCompletionToGhostText)(p,this.editor.getModel(),_,this.editor.getPosition()):void 0}get currentCompletion(){const p=this.currentCachedCompletion;if(!!p)return p.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(p){return De(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const _=this.editor.getPosition(),L=(0,y.createCancelablePromise)(M=>De(this,void 0,void 0,function*(){let k;try{k=yield f(_,this.editor.getModel(),{triggerKind:p,selectedSuggestionInfo:void 0},M)}catch(A){(0,N.onUnexpectedError)(A);return}M.isCancellationRequested||(this.cache.setValue(this.editor,k,p),this.onDidChangeEmitter.fire())})),E=new a(L,p);this.updateOperation.value=E,yield L,this.updateOperation.value===E&&this.updateOperation.clear()})}takeOwnership(p){this._register(p)}commitCurrentCompletion(){if(!this.ghostText)return;const p=this.currentCompletion;p&&this.commit(p)}commit(p){const _=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[h.EditOperation.replaceMove(p.range,p.text)]),p.command?this.commandService.executeCommand(p.command.id,...p.command.arguments||[]).finally(()=>{_==null||_.dispose()}).then(void 0,N.onUnexpectedExternalError):_==null||_.dispose(),this.onDidChangeEmitter.fire()}}e.InlineCompletionsSession=s;class a{constructor(p,_){this.promise=p,this.triggerKind=_}dispose(){this.promise.cancel()}}e.UpdateOperation=a;class r extends S.Disposable{constructor(p,_,L,E){super();this.triggerKind=E;const M=p.deltaDecorations([],_.items.map(k=>({range:k.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,S.toDisposable)(()=>{p.deltaDecorations(M,[])})),this.completions=_.items.map((k,A)=>new l(k,M[A])),this._register(p.onDidChangeModelContent(()=>{let k=!1;const A=p.getModel();for(const F of this.completions){const B=A.getDecorationRange(F.decorationId);if(!B){(0,N.onUnexpectedError)(new Error("Decoration has no range"));continue}F.synchronizedRange.equalsRange(B)||(k=!0,F.synchronizedRange=B)}k&&L()})),this._register(_)}}e.SynchronizedInlineCompletionsCache=r;class l{constructor(p,_){this.inlineCompletion=p,this.decorationId=_,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=p.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function u(v,p){const _=p.getWordAtPosition(v),L=p.getLineMaxColumn(v.lineNumber);return _?new g.Range(v.lineNumber,_.startColumn,v.lineNumber,L):g.Range.fromPositions(v,v.with(void 0,L))}function f(v,p,_,L=m.CancellationToken.None){return De(this,void 0,void 0,function*(){const E=u(v,p),M=t.InlineCompletionsProviderRegistry.all(p),k=yield Promise.all(M.map(F=>De(this,void 0,void 0,function*(){const B=yield F.provideInlineCompletions(p,v,_,L);return{completions:B,provider:F,dispose:()=>{B&&F.freeInlineCompletions(B)}}}))),A=new Map;for(const F of k){const B=F.completions;if(B)for(const T of B.items.map(R=>({text:R.text,range:R.range?g.Range.lift(R.range):E,command:R.command,sourceProvider:F.provider,sourceInlineCompletions:B,sourceInlineCompletion:R})))T.range.startLineNumber===T.range.endLineNumber&&A.set(JSON.stringify({text:T.text,range:T.range}),T)}return{items:[...A.values()],dispose:()=>{for(const F of k)F.dispose()}}})}e.provideInlineCompletions=f;function w(v,p){if(!p)return p;const _=v.getValueInRange(p.range),L=(0,b.commonPrefixLength)(_,p.text),E=v.getOffsetAt(p.range.getStartPosition())+L,M=v.getPositionAt(E),k=_.substr(L),A=(0,b.commonSuffixLength)(k,p.text),F=v.getPositionAt(Math.max(E,v.getOffsetAt(p.range.getEndPosition())-A));return{range:g.Range.fromPositions(M,F),text:p.text.substr(L,p.text.length-L-A)}}e.minimizeInlineCompletion=w}),define(ee[716],te([0,1,15,204,24,538]),function(K,e,y,m,N,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class S extends y.EditorAction{constructor(){super({id:"expandLineSelection",label:I.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:N.EditorContextKeys.textInputFocus,primary:2048|42}})}run(C,h,g){if(g=g||{},!h.hasModel())return;const t=h._getViewModel();t.model.pushStackElement(),t.setCursorStates(g.source,3,m.CursorMoveCommands.expandLineSelection(t,t.getCursorStates())),t.revealPrimaryCursor(g.source,!0)}}e.ExpandLineSelectionAction=S,(0,y.registerEditorAction)(S)}),define(ee[717],te([0,1,8,200,3,22,115,35,251]),function(K,e,y,m,N,I,S,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class h{constructor(t,i,n){this._selection=t,this._isMovingDown=i,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,i){let n=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n){this._selectionId=i.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=i.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let o=this._selection;o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,t.getLineMaxColumn(o.endLineNumber-1)));const{tabSize:d,indentSize:c,insertSpaces:s}=t.getOptions();let a=this.buildIndentConverter(d,c,s),r={getLineTokens:l=>t.getLineTokens(l),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(l,u)=>t.getLanguageIdAtPosition(l,u),getLineContent:null};if(o.startLineNumber===o.endLineNumber&&t.getLineMaxColumn(o.startLineNumber)===1){let l=o.startLineNumber,u=this._isMovingDown?l+1:l-1;t.getLineMaxColumn(u)===1?i.addEditOperation(new N.Range(1,1,1,1),null):(i.addEditOperation(new N.Range(l,1,l,1),t.getLineContent(u)),i.addEditOperation(new N.Range(u,1,u,t.getLineMaxColumn(u)),null)),o=new I.Selection(u,1,u,1)}else{let l,u;if(this._isMovingDown){l=o.endLineNumber+1,u=t.getLineContent(l),i.addEditOperation(new N.Range(l-1,t.getLineMaxColumn(l-1),l,t.getLineMaxColumn(l)),null);let f=u;if(this.shouldAutoIndent(t,o)){let w=this.matchEnterRule(t,a,d,l,o.startLineNumber-1);if(w!==null){let p=y.getLeadingWhitespace(t.getLineContent(l)),_=w+C.getSpaceCnt(p,d);f=C.generateIndent(_,d,s)+this.trimLeft(u)}else{r.getLineContent=_=>_===o.startLineNumber?t.getLineContent(l):t.getLineContent(_);let p=b.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,r,t.getLanguageIdAtPosition(l,1),o.startLineNumber,a);if(p!==null){let _=y.getLeadingWhitespace(t.getLineContent(l)),L=C.getSpaceCnt(p,d),E=C.getSpaceCnt(_,d);L!==E&&(f=C.generateIndent(L,d,s)+this.trimLeft(u))}}i.addEditOperation(new N.Range(o.startLineNumber,1,o.startLineNumber,1),f+`
`);let v=this.matchEnterRuleMovingDown(t,a,d,o.startLineNumber,l,f);if(v!==null)v!==0&&this.getIndentEditsOfMovingBlock(t,i,o,d,s,v);else{r.getLineContent=_=>_===o.startLineNumber?f:_>=o.startLineNumber+1&&_<=o.endLineNumber+1?t.getLineContent(_-1):t.getLineContent(_);let p=b.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,r,t.getLanguageIdAtPosition(l,1),o.startLineNumber+1,a);if(p!==null){const _=y.getLeadingWhitespace(t.getLineContent(o.startLineNumber)),L=C.getSpaceCnt(p,d),E=C.getSpaceCnt(_,d);if(L!==E){const M=L-E;this.getIndentEditsOfMovingBlock(t,i,o,d,s,M)}}}}else i.addEditOperation(new N.Range(o.startLineNumber,1,o.startLineNumber,1),f+`
`)}else if(l=o.startLineNumber-1,u=t.getLineContent(l),i.addEditOperation(new N.Range(l,1,l+1,1),null),i.addEditOperation(new N.Range(o.endLineNumber,t.getLineMaxColumn(o.endLineNumber),o.endLineNumber,t.getLineMaxColumn(o.endLineNumber)),`
`+u),this.shouldAutoIndent(t,o)){r.getLineContent=w=>w===l?t.getLineContent(o.startLineNumber):t.getLineContent(w);let f=this.matchEnterRule(t,a,d,o.startLineNumber,o.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(t,i,o,d,s,f);else{let w=b.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,r,t.getLanguageIdAtPosition(o.startLineNumber,1),l,a);if(w!==null){let v=y.getLeadingWhitespace(t.getLineContent(o.startLineNumber)),p=C.getSpaceCnt(w,d),_=C.getSpaceCnt(v,d);if(p!==_){let L=p-_;this.getIndentEditsOfMovingBlock(t,i,o,d,s,L)}}}}}this._selectionId=i.trackSelection(o)}buildIndentConverter(t,i,n){return{shiftIndent:o=>m.ShiftCommand.shiftIndent(o,o.length+1,t,i,n),unshiftIndent:o=>m.ShiftCommand.unshiftIndent(o,o.length+1,t,i,n)}}parseEnterResult(t,i,n,o,d){if(d){let c=d.indentation;d.indentAction===S.IndentAction.None||d.indentAction===S.IndentAction.Indent?c=d.indentation+d.appendText:d.indentAction===S.IndentAction.IndentOutdent?c=d.indentation:d.indentAction===S.IndentAction.Outdent&&(c=i.unshiftIndent(d.indentation)+d.appendText);let s=t.getLineContent(o);if(this.trimLeft(s).indexOf(this.trimLeft(c))>=0){let a=y.getLeadingWhitespace(t.getLineContent(o)),r=y.getLeadingWhitespace(c),l=b.LanguageConfigurationRegistry.getIndentMetadata(t,o);l!==null&&l&2&&(r=i.unshiftIndent(r));let u=C.getSpaceCnt(r,n),f=C.getSpaceCnt(a,n);return u-f}}return null}matchEnterRuleMovingDown(t,i,n,o,d,c){if(y.lastNonWhitespaceIndex(c)>=0){let s=t.getLineMaxColumn(d),a=b.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,t,new N.Range(d,s,d,s));return this.parseEnterResult(t,i,n,o,a)}else{let s=o-1;for(;s>=1;){let l=t.getLineContent(s);if(y.lastNonWhitespaceIndex(l)>=0)break;s--}if(s<1||o>t.getLineCount())return null;let a=t.getLineMaxColumn(s),r=b.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,t,new N.Range(s,a,s,a));return this.parseEnterResult(t,i,n,o,r)}}matchEnterRule(t,i,n,o,d,c){let s=d;for(;s>=1;){let l;if(s===d&&c!==void 0?l=c:l=t.getLineContent(s),y.lastNonWhitespaceIndex(l)>=0)break;s--}if(s<1||o>t.getLineCount())return null;let a=t.getLineMaxColumn(s),r=b.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,t,new N.Range(s,a,s,a));return this.parseEnterResult(t,i,n,o,r)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,i){if(this._autoIndent<4||!t.isCheapToTokenize(i.startLineNumber))return!1;let n=t.getLanguageIdAtPosition(i.startLineNumber,1),o=t.getLanguageIdAtPosition(i.endLineNumber,1);return!(n!==o||b.LanguageConfigurationRegistry.getIndentRulesSupport(n)===null)}getIndentEditsOfMovingBlock(t,i,n,o,d,c){for(let s=n.startLineNumber;s<=n.endLineNumber;s++){let a=t.getLineContent(s),r=y.getLeadingWhitespace(a),u=C.getSpaceCnt(r,o)+c,f=C.generateIndent(u,o,d);f!==r&&(i.addEditOperation(new N.Range(s,1,s,r.length+1),f),s===n.endLineNumber&&n.endColumn<=r.length+1&&f===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,i){let n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}e.MoveLinesCommand=h}),define(ee[718],te([0,1,56,158,15,97,397,203,61,11,3,22,24,448,717,449,539,37]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class a extends N.EditorAction{constructor(U,W){super(W);this.down=U}run(U,W){if(!W.hasModel())return;const V=W.getSelections().map((ae,J)=>({selection:ae,index:J,ignore:!1}));V.sort((ae,J)=>g.Range.compareRangesUsingStarts(ae.selection,J.selection));let Y=V[0];for(let ae=1;ae<V.length;ae++){const J=V[ae];Y.selection.endLineNumber===J.selection.startLineNumber&&(Y.index<J.index?J.ignore=!0:(Y.ignore=!0,Y=J))}const X=[];for(const ae of V)X.push(new n.CopyLinesCommand(ae.selection,this.down,ae.ignore));W.pushUndoStop(),W.executeCommands(this.id,X),W.pushUndoStop()}}class r extends a{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:c.localize(0,null),alias:"Copy Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(1,null),order:1}})}}class l extends a{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:c.localize(2,null),alias:"Copy Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(3,null),order:2}})}}class u extends N.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:c.localize(4,null),alias:"Duplicate Selection",precondition:i.EditorContextKeys.writable,menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(5,null),order:5}})}run(U,W,V){if(!W.hasModel())return;const Y=[],X=W.getSelections(),ae=W.getModel();for(const J of X)if(J.isEmpty())Y.push(new n.CopyLinesCommand(J,!0));else{const de=new t.Selection(J.endLineNumber,J.endColumn,J.endLineNumber,J.endColumn);Y.push(new I.ReplaceCommandThatSelectsText(de,ae.getValueInRange(J)))}W.pushUndoStop(),W.executeCommands(this.id,Y),W.pushUndoStop()}}e.DuplicateSelectionAction=u;class f extends N.EditorAction{constructor(U,W){super(W);this.down=U}run(U,W){let V=[],Y=W.getSelections()||[];const X=W.getOption(9);for(const ae of Y)V.push(new o.MoveLinesCommand(ae,this.down,X));W.pushUndoStop(),W.executeCommands(this.id,V),W.pushUndoStop()}}class w extends f{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:c.localize(6,null),alias:"Move Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(7,null),order:3}})}}class v extends f{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:c.localize(8,null),alias:"Move Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(9,null),order:4}})}}class p extends N.EditorAction{constructor(U,W){super(W);this.descending=U}run(U,W){const V=W.getSelections()||[];for(const X of V)if(!d.SortLinesCommand.canRun(W.getModel(),X,this.descending))return;let Y=[];for(let X=0,ae=V.length;X<ae;X++)Y[X]=new d.SortLinesCommand(V[X],this.descending);W.pushUndoStop(),W.executeCommands(this.id,Y),W.pushUndoStop()}}e.AbstractSortLinesAction=p;class _ extends p{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:c.localize(10,null),alias:"Sort Lines Ascending",precondition:i.EditorContextKeys.writable})}}e.SortLinesAscendingAction=_;class L extends p{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:c.localize(11,null),alias:"Sort Lines Descending",precondition:i.EditorContextKeys.writable})}}e.SortLinesDescendingAction=L;class E extends N.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:c.localize(12,null),alias:"Delete Duplicate Lines",precondition:i.EditorContextKeys.writable})}run(U,W){if(!W.hasModel())return;let V=W.getModel();if(V.getLineCount()===1&&V.getLineMaxColumn(1)===1)return;let Y=[],X=[],ae=0;for(let J of W.getSelections()){let de=new Set,q=[];for(let ce=J.startLineNumber;ce<=J.endLineNumber;ce++){let oe=V.getLineContent(ce);de.has(oe)||(q.push(oe),de.add(oe))}let z=new t.Selection(J.startLineNumber,1,J.endLineNumber,V.getLineMaxColumn(J.endLineNumber)),$=J.startLineNumber-ae,ie=new t.Selection($,1,$+q.length-1,q[q.length-1].length);Y.push(C.EditOperation.replace(z,q.join(`
`))),X.push(ie),ae+=J.endLineNumber-J.startLineNumber+1-q.length}W.pushUndoStop(),W.executeEdits(this.id,Y,X),W.pushUndoStop()}}e.DeleteDuplicateLinesAction=E;class M extends N.EditorAction{constructor(){super({id:M.ID,label:c.localize(13,null),alias:"Trim Trailing Whitespace",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|54),weight:100}})}run(U,W,V){let Y=[];V.reason==="auto-save"&&(Y=(W.getSelections()||[]).map(J=>new h.Position(J.positionLineNumber,J.positionColumn)));let X=W.getSelection();if(X===null)return;let ae=new S.TrimTrailingWhitespaceCommand(X,Y);W.pushUndoStop(),W.executeCommands(this.id,[ae]),W.pushUndoStop()}}e.TrimTrailingWhitespaceAction=M,M.ID="editor.action.trimTrailingWhitespace";class k extends N.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:c.localize(14,null),alias:"Delete Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(U,W){if(!W.hasModel())return;let V=this._getLinesToRemove(W),Y=W.getModel();if(Y.getLineCount()===1&&Y.getLineMaxColumn(1)===1)return;let X=0,ae=[],J=[];for(let de=0,q=V.length;de<q;de++){const z=V[de];let $=z.startLineNumber,ie=z.endLineNumber,ce=1,oe=Y.getLineMaxColumn(ie);ie<Y.getLineCount()?(ie+=1,oe=1):$>1&&($-=1,ce=Y.getLineMaxColumn($)),ae.push(C.EditOperation.replace(new t.Selection($,ce,ie,oe),"")),J.push(new t.Selection($-X,z.positionColumn,$-X,z.positionColumn)),X+=z.endLineNumber-z.startLineNumber+1}W.pushUndoStop(),W.executeEdits(this.id,ae,J),W.pushUndoStop()}_getLinesToRemove(U){let W=U.getSelections().map(X=>{let ae=X.endLineNumber;return X.startLineNumber<X.endLineNumber&&X.endColumn===1&&(ae-=1),{startLineNumber:X.startLineNumber,selectionStartColumn:X.selectionStartColumn,endLineNumber:ae,positionColumn:X.positionColumn}});W.sort((X,ae)=>X.startLineNumber===ae.startLineNumber?X.endLineNumber-ae.endLineNumber:X.startLineNumber-ae.startLineNumber);let V=[],Y=W[0];for(let X=1;X<W.length;X++)Y.endLineNumber+1>=W[X].startLineNumber?Y.endLineNumber=W[X].endLineNumber:(V.push(Y),Y=W[X]);return V.push(Y),V}}e.DeleteLinesAction=k;class A extends N.EditorAction{constructor(){super({id:"editor.action.indentLines",label:c.localize(15,null),alias:"Indent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(U,W){const V=W._getViewModel();!V||(W.pushUndoStop(),W.executeCommands(this.id,b.TypeOperations.indent(V.cursorConfig,W.getModel(),W.getSelections())),W.pushUndoStop())}}e.IndentLinesAction=A;class F extends N.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:c.localize(16,null),alias:"Outdent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(U,W){m.CoreEditingCommands.Outdent.runEditorCommand(U,W,null)}}class B extends N.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:c.localize(17,null),alias:"Insert Line Above",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(U,W){const V=W._getViewModel();!V||(W.pushUndoStop(),W.executeCommands(this.id,b.TypeOperations.lineInsertBefore(V.cursorConfig,W.getModel(),W.getSelections())))}}e.InsertLineBeforeAction=B;class T extends N.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:c.localize(18,null),alias:"Insert Line Below",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(U,W){const V=W._getViewModel();!V||(W.pushUndoStop(),W.executeCommands(this.id,b.TypeOperations.lineInsertAfter(V.cursorConfig,W.getModel(),W.getSelections())))}}e.InsertLineAfterAction=T;class R extends N.EditorAction{run(U,W){if(!W.hasModel())return;const V=W.getSelection();let Y=this._getRangesToDelete(W),X=[];for(let de=0,q=Y.length-1;de<q;de++){let z=Y[de],$=Y[de+1];g.Range.intersectRanges(z,$)===null?X.push(z):Y[de+1]=g.Range.plusRange(z,$)}X.push(Y[Y.length-1]);let ae=this._getEndCursorState(V,X),J=X.map(de=>C.EditOperation.replace(de,""));W.pushUndoStop(),W.executeEdits(this.id,J,ae),W.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=R;class O extends R{constructor(){super({id:"deleteAllLeft",label:c.localize(19,null),alias:"Delete All Left",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(U,W){let V=null,Y=[],X=0;return W.forEach(ae=>{let J;if(ae.endColumn===1&&X>0){let de=ae.startLineNumber-X;J=new t.Selection(de,ae.startColumn,de,ae.startColumn)}else J=new t.Selection(ae.startLineNumber,ae.startColumn,ae.startLineNumber,ae.startColumn);X+=ae.endLineNumber-ae.startLineNumber,ae.intersectRanges(U)?V=J:Y.push(J)}),V&&Y.unshift(V),Y}_getRangesToDelete(U){let W=U.getSelections();if(W===null)return[];let V=W,Y=U.getModel();return Y===null?[]:(V.sort(g.Range.compareRangesUsingStarts),V=V.map(X=>{if(X.isEmpty())if(X.startColumn===1){let ae=Math.max(1,X.startLineNumber-1),J=X.startLineNumber===1?1:Y.getLineContent(ae).length+1;return new g.Range(ae,J,X.startLineNumber,1)}else return new g.Range(X.startLineNumber,1,X.startLineNumber,X.startColumn);else return new g.Range(X.startLineNumber,1,X.endLineNumber,X.endColumn)}),V)}}e.DeleteAllLeftAction=O;class P extends R{constructor(){super({id:"deleteAllRight",label:c.localize(20,null),alias:"Delete All Right",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(U,W){let V=null,Y=[];for(let X=0,ae=W.length,J=0;X<ae;X++){let de=W[X],q=new t.Selection(de.startLineNumber-J,de.startColumn,de.startLineNumber-J,de.startColumn);de.intersectRanges(U)?V=q:Y.push(q)}return V&&Y.unshift(V),Y}_getRangesToDelete(U){let W=U.getModel();if(W===null)return[];let V=U.getSelections();if(V===null)return[];let Y=V.map(X=>{if(X.isEmpty()){const ae=W.getLineMaxColumn(X.startLineNumber);return X.startColumn===ae?new g.Range(X.startLineNumber,X.startColumn,X.startLineNumber+1,1):new g.Range(X.startLineNumber,X.startColumn,X.startLineNumber,ae)}return X});return Y.sort(g.Range.compareRangesUsingStarts),Y}}e.DeleteAllRightAction=P;class D extends N.EditorAction{constructor(){super({id:"editor.action.joinLines",label:c.localize(21,null),alias:"Join Lines",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(U,W){let V=W.getSelections();if(V===null)return;let Y=W.getSelection();if(Y===null)return;V.sort(g.Range.compareRangesUsingStarts);let X=[],ae=V.reduce((ie,ce)=>ie.isEmpty()?ie.endLineNumber===ce.startLineNumber?(Y.equalsSelection(ie)&&(Y=ce),ce):ce.startLineNumber>ie.endLineNumber+1?(X.push(ie),ce):new t.Selection(ie.startLineNumber,ie.startColumn,ce.endLineNumber,ce.endColumn):ce.startLineNumber>ie.endLineNumber?(X.push(ie),ce):new t.Selection(ie.startLineNumber,ie.startColumn,ce.endLineNumber,ce.endColumn));X.push(ae);let J=W.getModel();if(J===null)return;let de=[],q=[],z=Y,$=0;for(let ie=0,ce=X.length;ie<ce;ie++){let oe=X[ie],he=oe.startLineNumber,ve=1,Se=0,le,ge,ue=J.getLineContent(oe.endLineNumber).length-oe.endColumn;if(oe.isEmpty()||oe.startLineNumber===oe.endLineNumber){let fe=oe.getStartPosition();fe.lineNumber<J.getLineCount()?(le=he+1,ge=J.getLineMaxColumn(le)):(le=fe.lineNumber,ge=J.getLineMaxColumn(fe.lineNumber))}else le=oe.endLineNumber,ge=J.getLineMaxColumn(le);let be=J.getLineContent(he);for(let fe=he+1;fe<=le;fe++){let ye=J.getLineContent(fe),Me=J.getLineFirstNonWhitespaceColumn(fe);if(Me>=1){let Oe=!0;be===""&&(Oe=!1),Oe&&(be.charAt(be.length-1)===" "||be.charAt(be.length-1)==="	")&&(Oe=!1,be=be.replace(/[\s\uFEFF\xA0]+$/g," "));let He=ye.substr(Me-1);be+=(Oe?" ":"")+He,Oe?Se=He.length+1:Se=He.length}else Se=0}let re=new g.Range(he,ve,le,ge);if(!re.isEmpty()){let fe;oe.isEmpty()?(de.push(C.EditOperation.replace(re,be)),fe=new t.Selection(re.startLineNumber-$,be.length-Se+1,he-$,be.length-Se+1)):oe.startLineNumber===oe.endLineNumber?(de.push(C.EditOperation.replace(re,be)),fe=new t.Selection(oe.startLineNumber-$,oe.startColumn,oe.endLineNumber-$,oe.endColumn)):(de.push(C.EditOperation.replace(re,be)),fe=new t.Selection(oe.startLineNumber-$,oe.startColumn,oe.startLineNumber-$,be.length-ue)),g.Range.intersectRanges(re,Y)!==null?z=fe:q.push(fe)}$+=re.endLineNumber-re.startLineNumber}q.unshift(z),W.pushUndoStop(),W.executeEdits(this.id,de,q),W.pushUndoStop()}}e.JoinLinesAction=D;class x extends N.EditorAction{constructor(){super({id:"editor.action.transpose",label:c.localize(22,null),alias:"Transpose characters around the cursor",precondition:i.EditorContextKeys.writable})}run(U,W){let V=W.getSelections();if(V===null)return;let Y=W.getModel();if(Y===null)return;let X=[];for(let ae=0,J=V.length;ae<J;ae++){let de=V[ae];if(!de.isEmpty())continue;let q=de.getStartPosition(),z=Y.getLineMaxColumn(q.lineNumber);if(q.column>=z){if(q.lineNumber===Y.getLineCount())continue;let $=new g.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),ie=Y.getValueInRange($).split("").reverse().join("");X.push(new I.ReplaceCommand(new t.Selection(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),ie))}else{let $=new g.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber,q.column+1),ie=Y.getValueInRange($).split("").reverse().join("");X.push(new I.ReplaceCommandThatPreservesSelection($,ie,new t.Selection(q.lineNumber,q.column+1,q.lineNumber,q.column+1)))}}W.pushUndoStop(),W.executeCommands(this.id,X),W.pushUndoStop()}}e.TransposeAction=x;class H extends N.EditorAction{run(U,W){const V=W.getSelections();if(V===null)return;const Y=W.getModel();if(Y===null)return;const X=W.getOption(117),ae=[];for(const J of V)if(J.isEmpty()){const de=J.getStartPosition(),q=W.getConfiguredWordAtPosition(de);if(!q)continue;const z=new g.Range(de.lineNumber,q.startColumn,de.lineNumber,q.endColumn),$=Y.getValueInRange(z);ae.push(C.EditOperation.replace(z,this._modifyText($,X)))}else{const de=Y.getValueInRange(J);ae.push(C.EditOperation.replace(J,this._modifyText(de,X)))}W.pushUndoStop(),W.executeEdits(this.id,ae),W.pushUndoStop()}}e.AbstractCaseAction=H;class j extends H{constructor(){super({id:"editor.action.transformToUppercase",label:c.localize(23,null),alias:"Transform to Uppercase",precondition:i.EditorContextKeys.writable})}_modifyText(U,W){return U.toLocaleUpperCase()}}e.UpperCaseAction=j;class Q extends H{constructor(){super({id:"editor.action.transformToLowercase",label:c.localize(24,null),alias:"Transform to Lowercase",precondition:i.EditorContextKeys.writable})}_modifyText(U,W){return U.toLocaleLowerCase()}}e.LowerCaseAction=Q;class G{constructor(U,W){this._pattern=U,this._flags=W,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class se extends H{constructor(){super({id:"editor.action.transformToTitlecase",label:c.localize(25,null),alias:"Transform to Title Case",precondition:i.EditorContextKeys.writable})}_modifyText(U,W){const V=se.titleBoundary.get();return V?U.toLocaleLowerCase().replace(V,Y=>Y.toLocaleUpperCase()):U}}e.TitleCaseAction=se,se.titleBoundary=new G("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ne extends H{constructor(){super({id:"editor.action.transformToSnakecase",label:c.localize(26,null),alias:"Transform to Snake Case",precondition:i.EditorContextKeys.writable})}_modifyText(U,W){const V=ne.caseBoundary.get(),Y=ne.singleLetters.get();return!V||!Y?U:U.replace(V,"$1_$2").replace(Y,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ne,ne.caseBoundary=new G("(\\p{Ll})(\\p{Lu})","gmu"),ne.singleLetters=new G("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(u),(0,N.registerEditorAction)(w),(0,N.registerEditorAction)(v),(0,N.registerEditorAction)(_),(0,N.registerEditorAction)(L),(0,N.registerEditorAction)(E),(0,N.registerEditorAction)(M),(0,N.registerEditorAction)(k),(0,N.registerEditorAction)(A),(0,N.registerEditorAction)(F),(0,N.registerEditorAction)(B),(0,N.registerEditorAction)(T),(0,N.registerEditorAction)(O),(0,N.registerEditorAction)(P),(0,N.registerEditorAction)(D),(0,N.registerEditorAction)(x),(0,N.registerEditorAction)(j),(0,N.registerEditorAction)(Q),ne.caseBoundary.isSupported()&&ne.singleLetters.isSupported()&&(0,N.registerEditorAction)(ne),se.titleBoundary.isSupported()&&(0,N.registerEditorAction)(se)}),define(ee[719],te([0,1,19,10,21,29,14,4,2,8,25,15,28,11,3,24,32,18,35,540,16,23,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new l.RawContextKey("LinkedEditingInputVisible",!1);const w="linked-editing-decoration";let v=class Jt extends C.Disposable{constructor(M,k,A){super();this.languageConfigurationService=A,this._debounceDuration=200,this._localToDispose=this._register(new C.DisposableStore),this._editor=M,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(k),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new C.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(62)||F.hasChanged(82))&&this.reinitialize(!1)})),this._register(s.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(M){return M.getContribution(Jt.ID)}reinitialize(M){const k=this._editor.getModel(),A=k!==null&&(this._editor.getOption(62)||this._editor.getOption(82))&&s.LinkedEditingRangeProviderRegistry.has(k);if(A===this._enabled&&!M||(this._enabled=A,this.clearRanges(),this._localToDispose.clear(),!A||k===null))return;this._localToDispose.add(b.Event.runAndSubscribe(k.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(k.getLanguageId()).getWordDefinition()}));const F=new m.Delayer(this._debounceDuration),B=()=>{this._rangeUpdateTriggerPromise=F.trigger(()=>this.updateRanges(),this._debounceDuration)},T=new m.Delayer(0),R=O=>{this._rangeSyncTriggerPromise=T.trigger(()=>this._syncRanges(O))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{B()})),this._localToDispose.add(this._editor.onDidChangeModelContent(O=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const P=k.getDecorationRange(this._currentDecorations[0]);if(P&&O.changes.every(D=>P.intersectRanges(D.range))){R(this._currentDecorations);return}}B()})),this._localToDispose.add({dispose:()=>{F.cancel(),T.cancel()}}),this.updateRanges()}_syncRanges(M){if(!this._editor.hasModel()||M!==this._currentDecorations||M.length===0)return;const k=this._editor.getModel(),A=k.getDecorationRange(M[0]);if(!A||A.startLineNumber!==A.endLineNumber)return this.clearRanges();const F=k.getValueInRange(A);if(this._currentWordPattern){const T=F.match(this._currentWordPattern);if((T?T[0].length:0)!==F.length)return this.clearRanges()}let B=[];for(let T=1,R=M.length;T<R;T++){const O=k.getDecorationRange(M[T]);if(!!O)if(O.startLineNumber!==O.endLineNumber)B.push({range:O,text:F});else{let P=k.getValueInRange(O),D=F,x=O.startColumn,H=O.endColumn;const j=h.commonPrefixLength(P,D);x+=j,P=P.substr(j),D=D.substr(j);const Q=h.commonSuffixLength(P,D);H-=Q,P=P.substr(0,P.length-Q),D=D.substr(0,D.length-Q),(x!==H||D.length!==0)&&B.push({range:new o.Range(O.startLineNumber,x,O.endLineNumber,H),text:D})}}if(B.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const T=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",B),this._editor._getViewModel().setPrevEditOperationType(T)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(M=!1){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const k=this._editor.getPosition();if(!this._enabled&&!M||this._editor.getSelections().length>1){this.clearRanges();return}const A=this._editor.getModel(),F=A.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===F){if(k.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const T=A.getDecorationRange(this._currentDecorations[0]);if(T&&T.containsPosition(k))return}}this._currentRequestPosition=k,this._currentRequestModelVersion=F;const B=(0,m.createCancelablePromise)(T=>De(this,void 0,void 0,function*(){try{const R=yield L(A,k,T);if(B!==this._currentRequest||(this._currentRequest=null,F!==A.getVersionId()))return;let O=[];(R==null?void 0:R.ranges)&&(O=R.ranges),this._currentWordPattern=(R==null?void 0:R.wordPattern)||this._languageWordPattern;let P=!1;for(let x=0,H=O.length;x<H;x++)if(o.Range.containsPosition(O[x],k)){if(P=!0,x!==0){const j=O[x];O.splice(x,1),O.unshift(j)}break}if(!P){this.clearRanges();return}const D=O.map(x=>({range:x,options:Jt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,D)}catch(R){(0,S.isCancellationError)(R)||(0,S.onUnexpectedError)(R),(this._currentRequest===B||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=B,B})}};v.ID="editor.contrib.linkedEditing",v.DECORATION=c.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:w}),v=Be([me(1,l.IContextKeyService),me(2,a.ILanguageConfigurationService)],v),e.LinkedEditingContribution=v;class p extends t.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:r.localize(0,null),alias:"Start Linked Editing",precondition:l.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(M,k){const A=M.get(i.ICodeEditorService),[F,B]=Array.isArray(k)&&k||[void 0,void 0];return g.URI.isUri(F)&&n.Position.isIPosition(B)?A.openCodeEditor({resource:F},A.getActiveCodeEditor()).then(T=>{!T||(T.setPosition(B),T.invokeWithinContext(R=>(this.reportTelemetry(R,T),this.run(R,T))))},S.onUnexpectedError):super.runCommand(M,k)}run(M,k){const A=v.get(k);return A?Promise.resolve(A.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=p;const _=t.EditorCommand.bindToContribution(v.get);(0,t.registerEditorCommand)(new _({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:E=>E.clearRanges(),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function L(E,M,k){const A=s.LinkedEditingRangeProviderRegistry.ordered(E);return(0,m.first)(A.map(F=>()=>De(this,void 0,void 0,function*(){try{return yield F.provideLinkedEditingRanges(E,M,k)}catch(B){(0,S.onUnexpectedExternalError)(B);return}})),F=>!!F&&y.isNonEmptyArray(F==null?void 0:F.ranges))}e.editorLinkedEditingBackground=(0,u.registerColor)("editor.linkedEditingBackground",{dark:I.Color.fromHex("#f00").transparent(.3),light:I.Color.fromHex("#f00").transparent(.3),hc:I.Color.fromHex("#f00").transparent(.3)},r.localize(1,null)),(0,f.registerThemingParticipant)((E,M)=>{const k=E.getColor(e.editorLinkedEditingBackground);k&&M.addRule(`.monaco-editor .${w} { background: ${k}; border-left-color: ${k}; }`)}),(0,t.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(E,M)=>L(E,M,N.CancellationToken.None)),(0,t.registerEditorContribution)(v.ID,v),(0,t.registerEditorAction)(p)}),define(ee[720],te([0,1,10,21,14,65,2,49,17,41,25,15,32,18,183,595,541,40,52,23,13,376]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function u(_,L){const E=_.url&&/^command:/i.test(_.url.toString()),M=_.tooltip?_.tooltip:E?c.localize(0,null):c.localize(1,null),k=L?C.isMacintosh?c.localize(2,null):c.localize(3,null):C.isMacintosh?c.localize(4,null):c.localize(5,null);if(_.url){let A="";if(/^command:/i.test(_.url.toString())){const B=_.url.toString().match(/^command:([^?#]+)/);if(B){const T=B[1];A=` "${c.localize(6,null,T)}"`}}return new I.MarkdownString("",!0).appendMarkdown(`[${M}](${_.url.toString(!0).replace(/ /g,"%20")}${A}) (${k})`)}else return new I.MarkdownString().appendText(`${M} (${k})`)}const f={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class w{constructor(L,E){this.link=L,this.decorationId=E}static decoration(L,E){return{range:L.range,options:w._getOptions(L,E,!1)}}static _getOptions(L,E,M){const k=Object.assign({},M?f.active:f.general);return k.hoverMessage=u(L,E),k}activate(L,E){L.changeDecorationOptions(this.decorationId,w._getOptions(this.link,E,!0))}deactivate(L,E){L.changeDecorationOptions(this.decorationId,w._getOptions(this.link,E,!1))}}let v=class ei{constructor(L,E,M){this.listenersToRemove=new S.DisposableStore,this.editor=L,this.openerService=E,this.notificationService=M;let k=new o.ClickLinkGesture(L);this.listenersToRemove.add(k),this.listenersToRemove.add(k.onMouseMoveOrRelevantKeyDown(([A,F])=>{this._onEditorMouseMove(A,F)})),this.listenersToRemove.add(k.onExecute(A=>{this.onEditorMouseUp(A)})),this.listenersToRemove.add(k.onCancel(A=>{this.cleanUpActiveLinkDecoration()})),this.enabled=L.getOption(63),this.listenersToRemove.add(L.onDidChangeConfiguration(A=>{const F=L.getOption(63);this.enabled!==F&&(this.enabled=F,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(L.onDidChangeModelContent(A=>this.onChange())),this.listenersToRemove.add(L.onDidChangeModel(A=>this.onModelChanged())),this.listenersToRemove.add(L.onDidChangeModelLanguage(A=>this.onModelLanguageChanged())),this.listenersToRemove.add(n.LinkProviderRegistry.onDidChange(A=>this.onModelLanguageChanged())),this.timeout=new y.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(L){return L.getContribution(ei.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelLanguageChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),ei.RECOMPUTE_TIME)}beginCompute(){return De(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const L=this.editor.getModel();if(!!n.LinkProviderRegistry.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=y.createCancelablePromise(E=>(0,d.getLinks)(L,E));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(E){(0,N.onUnexpectedError)(E)}finally{this.computePromise=null}}})}updateDecorations(L){const E=this.editor.getOption(70)==="altKey";let M=[],k=Object.keys(this.currentOccurrences);for(let B=0,T=k.length;B<T;B++){let R=k[B],O=this.currentOccurrences[R];M.push(O.decorationId)}let A=[];if(L)for(const B of L)A.push(w.decoration(B,E));let F=this.editor.deltaDecorations(M,A);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let B=0,T=F.length;B<T;B++){let R=new w(L[B],F[B]);this.currentOccurrences[R.decorationId]=R}}_onEditorMouseMove(L,E){const M=this.editor.getOption(70)==="altKey";if(this.isEnabled(L,E)){this.cleanUpActiveLinkDecoration();const k=this.getLinkOccurrence(L.target.position);k&&this.editor.changeDecorations(A=>{k.activate(A,M),this.activeLinkDecorationId=k.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(70)==="altKey";if(this.activeLinkDecorationId){const E=this.currentOccurrences[this.activeLinkDecorationId];E&&this.editor.changeDecorations(M=>{E.deactivate(M,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!this.isEnabled(L))return;const E=this.getLinkOccurrence(L.target.position);!E||this.openLinkOccurrence(E,L.hasSideBySideModifier,!0)}openLinkOccurrence(L,E,M=!1){if(!this.openerService)return;const{link:k}=L;k.resolve(m.CancellationToken.None).then(A=>{if(typeof A=="string"&&this.editor.hasModel()){const F=this.editor.getModel().uri;if(F.scheme===b.Schemas.file&&A.startsWith(`${b.Schemas.file}:`)){const B=g.URI.parse(A);if(B.scheme===b.Schemas.file){const T=h.originalFSPath(B);let R=null;T.startsWith("/./")?R=`.${T.substr(1)}`:T.startsWith("//./")&&(R=`.${T.substr(2)}`),R&&(A=h.joinPath(F,R))}}}return this.openerService.open(A,{openToSide:E,fromUserGesture:M,allowContributedOpeners:!0,allowCommands:!0})},A=>{const F=A instanceof Error?A.message:A;F==="invalid"?this.notificationService.warn(c.localize(7,null,k.url.toString())):F==="missing"?this.notificationService.warn(c.localize(8,null)):(0,N.onUnexpectedError)(A)})}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const E=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const M of E){const k=this.currentOccurrences[M.id];if(k)return k}return null}isEnabled(L,E){return Boolean(L.target.type===6&&(L.hasTriggerModifier||E&&E.keyCodeIsTriggerKey))}stop(){var L;this.timeout.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};v.ID="editor.linkDetector",v.RECOMPUTE_TIME=1e3,v=Be([me(1,a.IOpenerService),me(2,s.INotificationService)],v),e.LinkDetector=v;class p extends t.EditorAction{constructor(){super({id:"editor.action.openLink",label:c.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,E){const M=v.get(E);if(!M||!E.hasModel())return;let k=E.getSelections();for(let A of k){let F=M.getLinkOccurrence(A.getEndPosition());F&&M.openLinkOccurrence(F,!1)}}}(0,t.registerEditorContribution)(v.ID,v),(0,t.registerEditorAction)(p),(0,l.registerThemingParticipant)((_,L)=>{const E=_.getColor(r.editorActiveLinkForeground);E&&L.addRule(`.monaco-editor .detected-link-active { color: ${E} !important; }`)})}),define(ee[721],te([0,1,43,10,56,2,15,204,3,22,24,50,32,18,291,543,37,16,23,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function l(H,j){const Q=j.filter(G=>!H.find(se=>se.equals(G)));if(Q.length>=1){const G=Q.map(ne=>`line ${ne.viewState.position.lineNumber} column ${ne.viewState.position.column}`).join(", "),se=Q.length===1?d.localize(0,null,G):d.localize(1,null,G);(0,y.status)(se)}}class u extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:d.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"3_multi",title:d.localize(3,null),order:2}})}run(j,Q,G){if(!Q.hasModel())return;let se=!0;G&&G.logicalLine===!1&&(se=!1);const ne=Q._getViewModel();if(ne.cursorConfig.readOnly)return;ne.pushStackElement();const Z=ne.getCursorStates();ne.setCursorStates(G.source,3,b.CursorMoveCommands.addCursorUp(ne,Z,se)),ne.revealTopMostCursor(G.source),l(Z,ne.getCursorStates())}}e.InsertCursorAbove=u;class f extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:d.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"3_multi",title:d.localize(5,null),order:3}})}run(j,Q,G){if(!Q.hasModel())return;let se=!0;G&&G.logicalLine===!1&&(se=!1);const ne=Q._getViewModel();if(ne.cursorConfig.readOnly)return;ne.pushStackElement();const Z=ne.getCursorStates();ne.setCursorStates(G.source,3,b.CursorMoveCommands.addCursorDown(ne,Z,se)),ne.revealBottomMostCursor(G.source),l(Z,ne.getCursorStates())}}e.InsertCursorBelow=f;class w extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:d.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"3_multi",title:d.localize(7,null),order:4}})}getCursorsForSelection(j,Q,G){if(!j.isEmpty()){for(let se=j.startLineNumber;se<j.endLineNumber;se++){let ne=Q.getLineMaxColumn(se);G.push(new h.Selection(se,ne,se,ne))}j.endColumn>1&&G.push(new h.Selection(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn))}}run(j,Q){if(!Q.hasModel())return;const G=Q.getModel(),se=Q.getSelections(),ne=Q._getViewModel(),Z=ne.getCursorStates();let U=[];se.forEach(W=>this.getCursorsForSelection(W,G,U)),U.length>0&&Q.setSelections(U),l(Z,ne.getCursorStates())}}class v extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:d.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(j,Q){if(!Q.hasModel())return;const G=Q.getSelections(),se=Q.getModel().getLineCount();let ne=[];for(let W=G[0].startLineNumber;W<=se;W++)ne.push(new h.Selection(W,G[0].startColumn,W,G[0].endColumn));const Z=Q._getViewModel(),U=Z.getCursorStates();ne.length>0&&Q.setSelections(ne),l(U,Z.getCursorStates())}}class p extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:d.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(j,Q){if(!Q.hasModel())return;const G=Q.getSelections();let se=[];for(let U=G[0].startLineNumber;U>=1;U--)se.push(new h.Selection(U,G[0].startColumn,U,G[0].endColumn));const ne=Q._getViewModel(),Z=ne.getCursorStates();se.length>0&&Q.setSelections(se),l(Z,ne.getCursorStates())}}class _{constructor(j,Q,G){this.selections=j,this.revealRange=Q,this.revealScrollType=G}}e.MultiCursorSessionResult=_;class L{constructor(j,Q,G,se,ne,Z,U){this._editor=j,this.findController=Q,this.isDisconnectedFromFindController=G,this.searchText=se,this.wholeWord=ne,this.matchCase=Z,this.currentMatch=U}static create(j,Q){if(!j.hasModel())return null;const G=Q.getState();if(!j.hasTextFocus()&&G.isRevealed&&G.searchString.length>0)return new L(j,Q,!1,G.searchString,G.wholeWord,G.matchCase,null);let se=!1,ne,Z;const U=j.getSelections();U.length===1&&U[0].isEmpty()?(se=!0,ne=!0,Z=!0):(ne=G.wholeWord,Z=G.matchCase);const W=j.getSelection();let V,Y=null;if(W.isEmpty()){const X=j.getConfiguredWordAtPosition(W.getStartPosition());if(!X)return null;V=X.word,Y=new h.Selection(W.startLineNumber,X.startColumn,W.startLineNumber,X.endColumn)}else V=j.getModel().getValueInRange(W).replace(/\r\n/g,`
`);return new L(j,Q,se,V,ne,Z,Y)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const j=this._getNextMatch();if(!j)return null;const Q=this._editor.getSelections();return new _(Q.concat(j),j,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const j=this._getNextMatch();if(!j)return null;const Q=this._editor.getSelections();return new _(Q.slice(0,Q.length-1).concat(j),j,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const se=this.currentMatch;return this.currentMatch=null,se}this.findController.highlightFindOptions();const j=this._editor.getSelections(),Q=j[j.length-1],G=this._editor.getModel().findNextMatch(this.searchText,Q.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return G?new h.Selection(G.range.startLineNumber,G.range.startColumn,G.range.endLineNumber,G.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const j=this._getPreviousMatch();if(!j)return null;const Q=this._editor.getSelections();return new _(Q.concat(j),j,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const j=this._getPreviousMatch();if(!j)return null;const Q=this._editor.getSelections();return new _(Q.slice(0,Q.length-1).concat(j),j,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const se=this.currentMatch;return this.currentMatch=null,se}this.findController.highlightFindOptions();const j=this._editor.getSelections(),Q=j[j.length-1],G=this._editor.getModel().findPreviousMatch(this.searchText,Q.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return G?new h.Selection(G.range.startLineNumber,G.range.startColumn,G.range.endLineNumber,G.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}e.MultiCursorSession=L;class E extends I.Disposable{constructor(j){super();this._sessionDispose=this._register(new I.DisposableStore),this._editor=j,this._ignoreSelectionChange=!1,this._session=null}static get(j){return j.getContribution(E.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(j){if(!this._session){const Q=L.create(this._editor,j);if(!Q)return;this._session=Q;const G={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(G.wholeWordOverride=1,G.matchCaseOverride=1,G.isRegexOverride=2),j.getState().change(G,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(se=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(j.getState().onFindReplaceStateChange(se=>{(se.matchCase||se.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const j={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(j,!1)}this._session=null}_setSelections(j){this._ignoreSelectionChange=!0,this._editor.setSelections(j),this._ignoreSelectionChange=!1}_expandEmptyToWord(j,Q){if(!Q.isEmpty())return Q;const G=this._editor.getConfiguredWordAtPosition(Q.getStartPosition());return G?new h.Selection(Q.startLineNumber,G.startColumn,Q.startLineNumber,G.endColumn):Q}_applySessionResult(j){!j||(this._setSelections(j.selections),j.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(j.revealRange,j.revealScrollType))}getSession(j){return this._session}addSelectionToNextFindMatch(j){if(!!this._editor.hasModel()){if(!this._session){const Q=this._editor.getSelections();if(Q.length>1){const se=j.getState().matchCase;if(!D(this._editor.getModel(),Q,se)){const Z=this._editor.getModel();let U=[];for(let W=0,V=Q.length;W<V;W++)U[W]=this._expandEmptyToWord(Z,Q[W]);this._editor.setSelections(U);return}}}this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(j){if(!this._editor.hasModel())return;let Q=null;const G=j.getState();if(G.isRevealed&&G.searchString.length>0&&G.isRegex)Q=this._editor.getModel().findMatches(G.searchString,!0,G.isRegex,G.matchCase,G.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(j),!this._session)return;Q=this._session.selectAll()}if(G.searchScope){const se=G.searchScope;let ne=[];Q.forEach(Z=>{se.forEach(U=>{Z.range.endLineNumber<=U.endLineNumber&&Z.range.startLineNumber>=U.startLineNumber&&ne.push(Z)})}),Q=ne}if(Q.length>0){const se=this._editor.getSelection();for(let ne=0,Z=Q.length;ne<Z;ne++){const U=Q[ne];if(U.range.intersectRanges(se)){Q[ne]=Q[0],Q[0]=U;break}}this._setSelections(Q.map(ne=>new h.Selection(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn)))}}}e.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class M extends S.EditorAction{run(j,Q){const G=E.get(Q);if(!G)return;const se=o.CommonFindController.get(Q);if(!se)return;const ne=Q._getViewModel();if(ne){const Z=ne.getCursorStates();this._run(G,se),l(Z,ne.getCursorStates())}}}e.MultiCursorSelectionControllerAction=M;class k extends M{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:d.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"3_multi",title:d.localize(11,null),order:5}})}_run(j,Q){j.addSelectionToNextFindMatch(Q)}}e.AddSelectionToNextFindMatchAction=k;class A extends M{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:d.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"3_multi",title:d.localize(13,null),order:6}})}_run(j,Q){j.addSelectionToPreviousFindMatch(Q)}}e.AddSelectionToPreviousFindMatchAction=A;class F extends M{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:d.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:(0,N.KeyChord)(2048|41,2048|34),weight:100}})}_run(j,Q){j.moveSelectionToNextFindMatch(Q)}}e.MoveSelectionToNextFindMatchAction=F;class B extends M{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:d.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(j,Q){j.moveSelectionToPreviousFindMatch(Q)}}e.MoveSelectionToPreviousFindMatchAction=B;class T extends M{constructor(){super({id:"editor.action.selectHighlights",label:d.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"3_multi",title:d.localize(17,null),order:7}})}_run(j,Q){j.selectAll(Q)}}e.SelectHighlightsAction=T;class R extends M{constructor(){super({id:"editor.action.changeAll",label:d.localize(18,null),alias:"Change All Occurrences",precondition:s.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(j,Q){j.selectAll(Q)}}e.CompatChangeAll=R;class O{constructor(j,Q,G,se,ne){this._model=j,this._searchText=Q,this._matchCase=G,this._wordSeparators=se,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,ne&&this._model===ne._model&&this._searchText===ne._searchText&&this._matchCase===ne._matchCase&&this._wordSeparators===ne._wordSeparators&&this._modelVersionId===ne._modelVersionId&&(this._cachedFindMatches=ne._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(j=>j.range),this._cachedFindMatches.sort(C.Range.compareRangesUsingStarts)),this._cachedFindMatches}}class P extends I.Disposable{constructor(j){super();this.editor=j,this._isEnabled=j.getOption(97),this.decorations=[],this.updateSoon=this._register(new m.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(j.onDidChangeConfiguration(G=>{this._isEnabled=j.getOption(97)})),this._register(j.onDidChangeCursorSelection(G=>{!this._isEnabled||(G.selection.isEmpty()?G.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(j.onDidChangeModel(G=>{this._setState(null)})),this._register(j.onDidChangeModelContent(G=>{this._isEnabled&&this.updateSoon.schedule()}));const Q=o.CommonFindController.get(j);Q&&this._register(Q.getState().onFindReplaceStateChange(G=>{this._update()}))}_update(){this._setState(P._createState(this.state,this._isEnabled,this.editor))}static _createState(j,Q,G){if(!Q||!G.hasModel())return null;const se=G.getSelection();if(se.startLineNumber!==se.endLineNumber)return null;const ne=E.get(G);if(!ne)return null;const Z=o.CommonFindController.get(G);if(!Z)return null;let U=ne.getSession(Z);if(!U){const Y=G.getSelections();if(Y.length>1){const ae=Z.getState().matchCase;if(!D(G.getModel(),Y,ae))return null}U=L.create(G,Z)}if(!U||U.currentMatch||/^[ \t]+$/.test(U.searchText)||U.searchText.length>200)return null;const W=Z.getState(),V=W.matchCase;if(W.isRevealed){let Y=W.searchString;V||(Y=Y.toLowerCase());let X=U.searchText;if(V||(X=X.toLowerCase()),Y===X&&U.matchCase===W.matchCase&&U.wholeWord===W.wholeWord&&!W.isRegex)return null}return new O(G.getModel(),U.searchText,U.matchCase,U.wholeWord?G.getOption(117):null,j)}_setState(j){if(this.state=j,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const Q=this.editor.getModel();if(Q.isTooLargeForTokenization())return;const G=this.state.findMatches(),se=this.editor.getSelections();se.sort(C.Range.compareRangesUsingStarts);const ne=[];for(let W=0,V=0,Y=G.length,X=se.length;W<Y;){const ae=G[W];if(V>=X)ne.push(ae),W++;else{const J=C.Range.compareRangesUsingStarts(ae,se[V]);J<0?((se[V].isEmpty()||!C.Range.areIntersecting(ae,se[V]))&&ne.push(ae),W++):(J>0||W++,V++)}}const Z=n.DocumentHighlightProviderRegistry.has(Q)&&this.editor.getOption(72),U=ne.map(W=>({range:W,options:Z?P._SELECTION_HIGHLIGHT:P._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,U)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=P,P.ID="editor.contrib.selectionHighlighter",P._SELECTION_HIGHLIGHT_OVERVIEW=i.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,r.themeColorFromId)(a.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline},overviewRuler:{color:(0,r.themeColorFromId)(a.overviewRulerSelectionHighlightForeground),position:t.OverviewRulerLane.Center}}),P._SELECTION_HIGHLIGHT=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function D(H,j,Q){const G=x(H,j[0],!Q);for(let se=1,ne=j.length;se<ne;se++){const Z=j[se];if(Z.isEmpty())return!1;const U=x(H,Z,!Q);if(G!==U)return!1}return!0}function x(H,j,Q){const G=H.getValueInRange(j);return Q?G.toLowerCase():G}(0,S.registerEditorContribution)(E.ID,E),(0,S.registerEditorContribution)(P.ID,P),(0,S.registerEditorAction)(u),(0,S.registerEditorAction)(f),(0,S.registerEditorAction)(w),(0,S.registerEditorAction)(k),(0,S.registerEditorAction)(A),(0,S.registerEditorAction)(F),(0,S.registerEditorAction)(B),(0,S.registerEditorAction)(T),(0,S.registerEditorAction)(R),(0,S.registerEditorAction)(v),(0,S.registerEditorAction)(p)}),define(ee[722],te([0,1,7,112,10,14,4,2,108,8,160,679,556,16,9,79,23,130,13,254,104,273,689,139,382,278]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,c.registerColor)("editorSuggestWidget.background",{dark:c.editorWidgetBackground,light:c.editorWidgetBackground,hc:c.editorWidgetBackground},i.localize(0,null)),e.editorSuggestWidgetBorder=(0,c.registerColor)("editorSuggestWidget.border",{dark:c.editorWidgetBorder,light:c.editorWidgetBorder,hc:c.editorWidgetBorder},i.localize(1,null)),e.editorSuggestWidgetForeground=(0,c.registerColor)("editorSuggestWidget.foreground",{dark:c.editorForeground,light:c.editorForeground,hc:c.editorForeground},i.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,c.registerColor)("editorSuggestWidget.selectedForeground",{dark:c.quickInputListFocusForeground,light:c.quickInputListFocusForeground,hc:c.quickInputListFocusForeground},i.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,c.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:c.quickInputListFocusIconForeground,light:c.quickInputListFocusIconForeground,hc:c.quickInputListFocusIconForeground},i.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,c.registerColor)("editorSuggestWidget.selectedBackground",{dark:c.quickInputListFocusBackground,light:c.quickInputListFocusBackground,hc:c.quickInputListFocusBackground},i.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,c.registerColor)("editorSuggestWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hc:c.listHighlightForeground},i.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,c.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:c.listFocusHighlightForeground,light:c.listFocusHighlightForeground,hc:c.listFocusHighlightForeground},i.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,c.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,c.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,c.transparent)(e.editorSuggestWidgetForeground,.5),hc:(0,c.transparent)(e.editorSuggestWidgetForeground,.5)},i.localize(8,null));class w{constructor(L,E){this._service=L,this._key=`suggestWidget.size/${E.getEditorType()}/${E instanceof g.EmbeddedCodeEditorWidget}`}restore(){var L;const E=(L=this._service.get(this._key,0))!==null&&L!==void 0?L:"";try{const M=JSON.parse(E);if(y.Dimension.is(M))return y.Dimension.lift(M)}catch{}}store(L){this._service.store(this._key,JSON.stringify(L),0,1)}reset(){this._service.remove(this._key,0)}}let v=class ti{constructor(L,E,M,k,A){this.editor=L,this._storageService=E,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new N.TimeoutTimer,this._disposables=new b.DisposableStore,this._onDidSelect=new S.Emitter,this._onDidFocus=new S.Emitter,this._onDidHide=new S.Emitter,this._onDidShow=new S.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new r.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new p(this,L),this._persistedSize=new w(E,L);class F{constructor(x,H,j=!1,Q=!1){this.persistedSize=x,this.currentSize=H,this.persistHeight=j,this.persistWidth=Q}}let B;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),B=new F(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(D=>{var x,H,j,Q;if(this._resize(D.dimension.width,D.dimension.height),B&&(B.persistHeight=B.persistHeight||!!D.north||!!D.south,B.persistWidth=B.persistWidth||!!D.east||!!D.west),!!D.done){if(B){const{itemHeight:G,defaultSize:se}=this.getLayoutInfo(),ne=Math.round(G/2);let{width:Z,height:U}=this.element.size;(!B.persistHeight||Math.abs(B.currentSize.height-U)<=ne)&&(U=(H=(x=B.persistedSize)===null||x===void 0?void 0:x.height)!==null&&H!==void 0?H:se.height),(!B.persistWidth||Math.abs(B.currentSize.width-Z)<=ne)&&(Z=(Q=(j=B.persistedSize)===null||j===void 0?void 0:j.width)!==null&&Q!==void 0?Q:se.width),this._persistedSize.store(new y.Dimension(Z,U))}this._contentWidget.unlockPreference(),B=void 0}})),this._messageElement=y.append(this.element.domNode,y.$(".message")),this._listElement=y.append(this.element.domNode,y.$(".tree"));const T=A.createInstance(u.SuggestDetailsWidget,this.editor);T.onDidClose(this.toggleDetails,this,this._disposables),this._details=new u.SuggestDetailsOverlay(T,this.editor);const R=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);R();const O=A.createInstance(f.ItemRenderer,this.editor);this._disposables.add(O),this._disposables.add(O.onDidToggleDetails(()=>this.toggleDetails())),this._list=new m.List("SuggestWidget",this._listElement,{getHeight:D=>this.getLayoutInfo().itemHeight,getTemplateId:D=>"suggestion"},[O],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:D=>{if(D.isResolved&&this._isDetailsVisible()){const{documentation:x,detail:H}=D.completion,j=h.format("{0}{1}",H||"",x?typeof x=="string"?x:x.value:"");return i.localize(11,null,D.textLabel,j)}else return D.textLabel},getWidgetAriaLabel:()=>i.localize(12,null),getWidgetRole:()=>"listbox"}}),this._status=A.createInstance(t.SuggestWidgetStatus,this.element.domNode);const P=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);P(),this._disposables.add((0,s.attachListStyler)(this._list,k,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:c.activeContrastBorder})),this._disposables.add(k.onDidColorThemeChange(D=>this._onThemeChange(D))),this._onThemeChange(k.getColorTheme()),this._disposables.add(this._list.onMouseDown(D=>this._onListMouseDownOrTap(D))),this._disposables.add(this._list.onTap(D=>this._onListMouseDownOrTap(D))),this._disposables.add(this._list.onDidChangeSelection(D=>this._onListSelection(D))),this._disposables.add(this._list.onDidChangeFocus(D=>this._onListFocus(D))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(D=>{D.hasChanged(106)&&(P(),R())})),this._ctxSuggestWidgetVisible=l.Context.Visible.bindTo(M),this._ctxSuggestWidgetDetailsVisible=l.Context.DetailsVisible.bindTo(M),this._ctxSuggestWidgetMultipleSuggestions=l.Context.MultipleSuggestions.bindTo(M),this._disposables.add(y.addStandardDisposableListener(this._details.widget.domNode,"keydown",D=>{this._onDetailsKeydown.fire(D)})),this._disposables.add(this.editor.onMouseDown(D=>this._onEditorMouseDown(D)))}dispose(){var L;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(L){this._details.widget.domNode.contains(L.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(L.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(L){typeof L.element=="undefined"||typeof L.index=="undefined"||(L.browserEvent.preventDefault(),L.browserEvent.stopPropagation(),this._select(L.element,L.index))}_onListSelection(L){L.elements.length&&this._select(L.elements[0],L.indexes[0])}_select(L,E){const M=this._completionModel;M&&(this._onDidSelect.fire({item:L,index:E,model:M}),this.editor.focus())}_onThemeChange(L){this._details.widget.borderWidth=L.type==="hc"?2:1}_onListFocus(L){var E;if(this._ignoreFocusEvents)return;if(!L.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const M=L.elements[0],k=L.indexes[0];M!==this._focusedItem&&((E=this._currentSuggestionDetails)===null||E===void 0||E.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=M,this._list.reveal(k),this._currentSuggestionDetails=(0,N.createCancelablePromise)(A=>De(this,void 0,void 0,function*(){const F=(0,N.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);A.onCancellationRequested(()=>F.dispose());const B=yield M.resolve(A);return F.dispose(),B})),this._currentSuggestionDetails.then(()=>{k>=this._list.length||M!==this._list.element(k)||(this._ignoreFocusEvents=!0,this._list.splice(k,1,[M]),this._list.setFocus([k]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,f.getAriaId)(k)}))}).catch(I.onUnexpectedError)),this._onDidFocus.fire({item:M,index:k,model:this._completionModel})}_setState(L){if(this._state!==L)switch(this._state=L,this.element.domNode.classList.toggle("frozen",L===4),this.element.domNode.classList.remove("message"),L){case 0:y.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ti.LOADING_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ti.NO_SUGGESTIONS_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 4:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 5:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(L,E){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!L,this._isAuto||(this._loadingTimeout=(0,N.disposableTimeout)(()=>this._setState(1),E)))}showSuggestions(L,E,M,k){var A,F;if(this._contentWidget.setPosition(this.editor.getPosition()),(A=this._loadingTimeout)===null||A===void 0||A.dispose(),(F=this._currentSuggestionDetails)===null||F===void 0||F.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==L&&(this._completionModel=L),M&&this._state!==2&&this._state!==0){this._setState(4);return}const B=this._completionModel.items.length,T=B===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(B>1),T){this._setState(k?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(M?4:3),this._list.reveal(E,0),this._list.setFocus([E]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,u.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(L){this._details.show(),L?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var L;(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const E=this._persistedSize.restore(),M=Math.ceil(this.getLayoutInfo().itemHeight*4.3);E&&E.height<M&&this._persistedSize.store(E.with(void 0,M))}isFrozen(){return this._state===4}_afterRender(L){if(L===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(L){var E,M,k;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const A=y.getClientArea(document.body),F=this.getLayoutInfo();L||(L=F.defaultSize);let B=L.height,T=L.width;if(this._status.element.style.lineHeight=`${F.itemHeight}px`,this._state===2||this._state===1)B=F.itemHeight+F.borderHeight,T=F.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new y.Dimension(T,B),this._contentWidget.setPreference(2);else{const R=A.width-F.borderHeight-2*F.horizontalPadding;T>R&&(T=R);const O=this._completionModel?this._completionModel.stats.pLabelLen*F.typicalHalfwidthCharacterWidth:T,P=F.statusBarHeight+this._list.contentHeight+F.borderHeight,D=F.itemHeight+F.statusBarHeight,x=y.getDomNodePagePosition(this.editor.getDomNode()),H=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),j=x.top+H.top+H.height,Q=Math.min(A.height-j-F.verticalPadding,P),G=x.top+H.top-F.verticalPadding,se=Math.min(G,P);let ne=Math.min(Math.max(se,Q)+F.borderHeight,P);B===((E=this._cappedHeight)===null||E===void 0?void 0:E.capped)&&(B=this._cappedHeight.wanted),B<D&&(B=D),B>ne&&(B=ne);const Z=150;B>Q||this._forceRenderingAbove&&G>Z?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ne=se):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ne=Q),this.element.preferredSize=new y.Dimension(O,F.defaultSize.height),this.element.maxSize=new y.Dimension(R,ne),this.element.minSize=new y.Dimension(220,D),this._cappedHeight=B===P?{wanted:(k=(M=this._cappedHeight)===null||M===void 0?void 0:M.wanted)!==null&&k!==void 0?k:L.height,capped:B}:void 0}this._resize(T,B)}_resize(L,E){const{width:M,height:k}=this.element.maxSize;L=Math.min(M,L),E=Math.min(k,E);const{statusBarHeight:A}=this.getLayoutInfo();this._list.layout(E-A,L),this._listElement.style.height=`${E-A}px`,this.element.layout(E,L),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var L;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((L=this._contentWidget.getPosition())===null||L===void 0?void 0:L.preference[0])===2)}getLayoutInfo(){const L=this.editor.getOption(44),E=(0,C.clamp)(this.editor.getOption(108)||L.lineHeight,8,1e3),M=!this.editor.getOption(106).showStatusBar||this._state===2||this._state===1?0:E,k=this._details.widget.borderWidth,A=2*k;return{itemHeight:E,statusBarHeight:M,borderWidth:k,borderHeight:A,typicalHalfwidthCharacterWidth:L.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new y.Dimension(430,M+12*E+A)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(L){this._storageService.store("expandSuggestionDocs",L,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};v.LOADING_MESSAGE=i.localize(9,null),v.NO_SUGGESTIONS_MESSAGE=i.localize(10,null),v=Be([me(1,d.IStorageService),me(2,n.IContextKeyService),me(3,a.IThemeService),me(4,o.IInstantiationService)],v),e.SuggestWidget=v;class p{constructor(L,E){this._widget=L,this._editor=E,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:L,width:E}=this._widget.element.size,{borderWidth:M,horizontalPadding:k}=this._widget.getLayoutInfo();return new y.Dimension(E+2*M+k,L+2*M)}afterRender(L){this._widget._afterRender(L)}setPreference(L){this._preferenceLocked||(this._preference=L)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(L){this._position=L}}e.SuggestContentWidget=p}),define(ee[723],te([0,1,10,2,15,18,266,45,288,275,39,13]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=class extends m.Disposable{constructor(o,d,c,s){super();this._modelService=d,this._themeService=c,this._configurationService=s,this._editor=o,this._tokenizeViewport=new y.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(a=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(I.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration(C.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const o of this._outstandingRequests)o.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(o){for(let d=0,c=this._outstandingRequests.length;d<c;d++)if(this._outstandingRequests[d]===o){this._outstandingRequests.splice(d,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const o=this._editor.getModel();if(o.hasCompleteSemanticTokens())return;if(!(0,C.isSemanticColoringEnabled)(o,this._themeService,this._configurationService)){o.hasSomeSemanticTokens()&&o.setSemanticTokens(null,!1);return}if(!(0,S.hasDocumentRangeSemanticTokensProvider)(o)){o.hasSomeSemanticTokens()&&o.setSemanticTokens(null,!1);return}const d=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(d.map(c=>this._requestRange(o,c)))}_requestRange(o,d){const c=o.getVersionId(),s=(0,y.createCancelablePromise)(a=>Promise.resolve((0,S.getDocumentRangeSemanticTokens)(o,d,a)));return s.then(a=>{if(!a||!a.tokens||o.isDisposed()||o.getVersionId()!==c)return;const{provider:r,tokens:l}=a,u=this._modelService.getSemanticTokensProviderStyling(r);o.setPartialSemanticTokens(d,(0,h.toMultilineTokens2)(l,u,o.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};i.ID="editor.contrib.viewportSemanticTokens",i=Be([me(1,b.IModelService),me(2,t.IThemeService),me(3,g.IConfigurationService)],i),(0,N.registerEditorContribution)(i.ID,i)}),define(ee[724],te([0,1,43,19,10,21,14,2,15,3,24,50,32,18,565,16,23,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const a=(0,c.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},o.localize(0,null),!0),r=(0,c.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},o.localize(1,null),!0),l=(0,c.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:c.activeContrastBorder},o.localize(2,null)),u=(0,c.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:c.activeContrastBorder},o.localize(3,null)),f=(0,c.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},o.localize(4,null),!0),w=(0,c.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},o.localize(5,null),!0),v=new d.RawContextKey("hasWordHighlights",!1);function p(O,P,D){const x=n.DocumentHighlightProviderRegistry.ordered(O);return(0,N.first)(x.map(H=>()=>Promise.resolve(H.provideDocumentHighlights(O,P,D)).then(void 0,S.onUnexpectedExternalError)),m.isNonEmptyArray)}e.getOccurrencesAtPosition=p;class _{constructor(P,D,x){this._wordRange=this._getCurrentWordRange(P,D),this.result=(0,N.createCancelablePromise)(H=>this._compute(P,D,x,H))}_getCurrentWordRange(P,D){const x=P.getWordAtPosition(D.getPosition());return x?new h.Range(D.startLineNumber,x.startColumn,D.startLineNumber,x.endColumn):null}isValid(P,D,x){const H=D.startLineNumber,j=D.startColumn,Q=D.endColumn,G=this._getCurrentWordRange(P,D);let se=Boolean(this._wordRange&&this._wordRange.equalsRange(G));for(let ne=0,Z=x.length;!se&&ne<Z;ne++){let U=P.getDecorationRange(x[ne]);U&&U.startLineNumber===H&&U.startColumn<=j&&U.endColumn>=Q&&(se=!0)}return se}cancel(){this.result.cancel()}}class L extends _{_compute(P,D,x,H){return p(P,D.getPosition(),H).then(j=>j||[])}}class E extends _{constructor(P,D,x){super(P,D,x);this._selectionIsEmpty=D.isEmpty()}_compute(P,D,x,H){return(0,N.timeout)(250,H).then(()=>{if(!D.isEmpty())return[];const j=P.getWordAtPosition(D.getPosition());return!j||j.word.length>1e3?[]:P.findMatches(j.word,!0,!1,!0,x,!1).map(G=>({range:G.range,kind:n.DocumentHighlightKind.Text}))})}isValid(P,D,x){const H=D.isEmpty();return this._selectionIsEmpty!==H?!1:super.isValid(P,D,x)}}function M(O,P,D){return n.DocumentHighlightProviderRegistry.has(O)?new L(O,P,D):new E(O,P,D)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",(O,P)=>p(O,P,I.CancellationToken.None));class k{constructor(P,D){this.toUnhook=new b.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=P,this._hasWordHighlights=v.bindTo(D),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(P.onDidChangeCursorPosition(x=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(x)})),this.toUnhook.add(P.onDidChangeModelContent(x=>{this._stopAll()})),this.toUnhook.add(P.onDidChangeConfiguration(x=>{let H=this.editor.getOption(72);this.occurrencesHighlight!==H&&(this.occurrencesHighlight=H,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return m.coalesce(this._decorationIds.map(P=>this.model.getDecorationRange(P)).sort(h.Range.compareRangesUsingStarts))}moveNext(){let P=this._getSortedHighlights(),x=(P.findIndex(j=>j.containsPosition(this.editor.getPosition()))+1)%P.length,H=P[x];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(H.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(H);const j=this._getWord();if(j){const Q=this.editor.getModel().getLineContent(H.startLineNumber);(0,y.alert)(`${Q}, ${x+1} of ${P.length} for '${j.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let P=this._getSortedHighlights(),x=(P.findIndex(j=>j.containsPosition(this.editor.getPosition()))-1+P.length)%P.length,H=P[x];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(H.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(H);const j=this._getWord();if(j){const Q=this.editor.getModel().getLineContent(H.startLineNumber);(0,y.alert)(`${Q}, ${x+1} of ${P.length} for '${j.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(P){if(!this.occurrencesHighlight){this._stopAll();return}if(P.reason!==3){this._stopAll();return}this._run()}_getWord(){let P=this.editor.getSelection(),D=P.startLineNumber,x=P.startColumn;return this.model.getWordAtPosition({lineNumber:D,column:x})}_run(){let P=this.editor.getSelection();if(P.startLineNumber!==P.endLineNumber){this._stopAll();return}let D=P.startColumn,x=P.endColumn;const H=this._getWord();if(!H||H.startColumn>D||H.endColumn<x){this._stopAll();return}const j=this.workerRequest&&this.workerRequest.isValid(this.model,P,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),j)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let Q=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=M(this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(G=>{Q===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=G||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let P=new Date().getTime(),D=this.lastCursorPositionChangeTime+250;P>=D?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},D-P)}renderDecorations(){this.renderDecorationsTimer=-1;let P=[];for(const D of this.workerRequestValue)D.range&&P.push({range:D.range,options:k._getDecorationOptions(D.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,P),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(P){return P===n.DocumentHighlightKind.Write?this._WRITE_OPTIONS:P===n.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}k._WRITE_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,s.themeColorFromId)(w),position:t.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}}),k._TEXT_OPTIONS=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,s.themeColorFromId)(c.overviewRulerSelectionHighlightForeground),position:t.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}}),k._REGULAR_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,s.themeColorFromId)(f),position:t.OverviewRulerLane.Center},minimap:{color:(0,s.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:t.MinimapPosition.Inline}});let A=class Oi extends b.Disposable{constructor(P,D){super();this.wordHighlighter=null;const x=()=>{P.hasModel()&&(this.wordHighlighter=new k(P,D))};this._register(P.onDidChangeModel(H=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),x()})),x()}static get(P){return P.getContribution(Oi.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(P){this.wordHighlighter&&P&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};A.ID="editor.contrib.wordHighlighter",A=Be([me(1,d.IContextKeyService)],A);class F extends C.EditorAction{constructor(P,D){super(D);this._isNext=P}run(P,D){const x=A.get(D);!x||(this._isNext?x.moveNext():x.moveBack())}}class B extends F{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:o.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:v,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class T extends F{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:o.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:v,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class R extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:o.localize(8,null),alias:"Trigger Symbol Highlight",precondition:v.toNegated(),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(P,D,x){const H=A.get(D);!H||H.restoreViewState(!0)}}(0,C.registerEditorContribution)(A.ID,A),(0,C.registerEditorAction)(B),(0,C.registerEditorAction)(T),(0,C.registerEditorAction)(R),(0,s.registerThemingParticipant)((O,P)=>{const D=O.getColor(c.editorSelectionHighlight);D&&(P.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${D}; }`),P.addRule(`.monaco-editor .selectionHighlight { background-color: ${D.transparent(.5)}; }`));const x=O.getColor(a);x&&P.addRule(`.monaco-editor .wordHighlight { background-color: ${x}; }`);const H=O.getColor(r);H&&P.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${H}; }`);const j=O.getColor(c.editorSelectionHighlightBorder);j&&P.addRule(`.monaco-editor .selectionHighlight { border: 1px ${O.type==="hc"?"dotted":"solid"} ${j}; box-sizing: border-box; }`);const Q=O.getColor(l);Q&&P.addRule(`.monaco-editor .wordHighlight { border: 1px ${O.type==="hc"?"dashed":"solid"} ${Q}; box-sizing: border-box; }`);const G=O.getColor(u);G&&P.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${O.type==="hc"?"dashed":"solid"} ${G}; box-sizing: border-box; }`)})}),define(ee[292],te([0,1,15,97,30,46,157,114,11,3,22,24,35,566,63,16,269]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class s extends y.EditorCommand{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode,this._wordNavigationType=U.wordNavigationType}runEditorCommand(U,W,V){if(!W.hasModel())return;const Y=(0,b.getMapForWordSeparators)(W.getOption(117)),X=W.getModel(),J=W.getSelections().map(de=>{const q=new C.Position(de.positionLineNumber,de.positionColumn),z=this._move(Y,X,q,this._wordNavigationType);return this._moveTo(de,z,this._inSelectionMode)});if(X.pushStackElement(),W._getViewModel().setCursorStates("moveWordCommand",3,J.map(de=>I.CursorState.fromModelSelection(de))),J.length===1){const de=new C.Position(J[0].positionLineNumber,J[0].positionColumn);W.revealPosition(de,0)}}_moveTo(U,W,V){return V?new g.Selection(U.selectionStartLineNumber,U.selectionStartColumn,W.lineNumber,W.column):new g.Selection(W.lineNumber,W.column,W.lineNumber,W.column)}}e.MoveWordCommand=s;class a extends s{_move(U,W,V,Y){return S.WordOperations.moveWordLeft(U,W,V,Y)}}e.WordLeftCommand=a;class r extends s{_move(U,W,V,Y){return S.WordOperations.moveWordRight(U,W,V,Y)}}e.WordRightCommand=r;class l extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=l;class u extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=u;class f extends a{constructor(){var U;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(U=d.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=f;class w extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=w;class v extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=v;class p extends a{constructor(){var U;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(U=d.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=p;class _ extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(U,W,V,Y){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),W,V,Y)}}e.CursorWordAccessibilityLeft=_;class L extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(U,W,V,Y){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),W,V,Y)}}e.CursorWordAccessibilityLeftSelect=L;class E extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class M extends r{constructor(){var U;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(U=d.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=M;class k extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=k;class A extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=A;class F extends r{constructor(){var U;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(t.EditorContextKeys.textInputFocus,(U=d.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=F;class B extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=B;class T extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(U,W,V,Y){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),W,V,Y)}}e.CursorWordAccessibilityRight=T;class R extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(U,W,V,Y){return super._move((0,b.getMapForWordSeparators)(N.EditorOptions.wordSeparators.defaultValue),W,V,Y)}}e.CursorWordAccessibilityRightSelect=R;class O extends y.EditorCommand{constructor(U){super(U);this._whitespaceHeuristics=U.whitespaceHeuristics,this._wordNavigationType=U.wordNavigationType}runEditorCommand(U,W,V){const Y=U.get(i.ILanguageConfigurationService);if(!W.hasModel())return;const X=(0,b.getMapForWordSeparators)(W.getOption(117)),ae=W.getModel(),J=W.getSelections(),de=W.getOption(5),q=W.getOption(8),z=Y.getLanguageConfiguration(ae.getLanguageId()).getAutoClosingPairs(),$=W._getViewModel(),ie=J.map(ce=>{const oe=this._delete({wordSeparators:X,model:ae,selection:ce,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:W.getOption(6),autoClosingBrackets:de,autoClosingQuotes:q,autoClosingPairs:z,autoClosedCharacters:$.getCursorAutoClosedCharacters()},this._wordNavigationType);return new m.ReplaceCommand(oe,"")});W.pushUndoStop(),W.executeCommands(this.id,ie),W.pushUndoStop()}}e.DeleteWordCommand=O;class P extends O{_delete(U,W){let V=S.WordOperations.deleteWordLeft(U,W);return V||new h.Range(1,1,1,1)}}e.DeleteWordLeftCommand=P;class D extends O{_delete(U,W){let V=S.WordOperations.deleteWordRight(U,W);if(V)return V;const Y=U.model.getLineCount(),X=U.model.getLineMaxColumn(Y);return new h.Range(Y,X,Y,X)}}e.DeleteWordRightCommand=D;class x extends P{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:t.EditorContextKeys.writable})}}e.DeleteWordStartLeft=x;class H extends P{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:t.EditorContextKeys.writable})}}e.DeleteWordEndLeft=H;class j extends P{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=j;class Q extends D{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:t.EditorContextKeys.writable})}}e.DeleteWordStartRight=Q;class G extends D{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:t.EditorContextKeys.writable})}}e.DeleteWordEndRight=G;class se extends D{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:t.EditorContextKeys.writable,kbOpts:{kbExpr:t.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=se;class ne extends y.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:t.EditorContextKeys.writable,label:n.localize(0,null),alias:"Delete Word"})}run(U,W,V){if(!W.hasModel())return;const Y=(0,b.getMapForWordSeparators)(W.getOption(117)),X=W.getModel(),J=W.getSelections().map(de=>{const q=S.WordOperations.deleteInsideWord(Y,X,de);return new m.ReplaceCommand(q,"")});W.pushUndoStop(),W.executeCommands(this.id,J),W.pushUndoStop()}}e.DeleteInsideWord=ne,(0,y.registerEditorCommand)(new l),(0,y.registerEditorCommand)(new u),(0,y.registerEditorCommand)(new f),(0,y.registerEditorCommand)(new w),(0,y.registerEditorCommand)(new v),(0,y.registerEditorCommand)(new p),(0,y.registerEditorCommand)(new E),(0,y.registerEditorCommand)(new M),(0,y.registerEditorCommand)(new k),(0,y.registerEditorCommand)(new A),(0,y.registerEditorCommand)(new F),(0,y.registerEditorCommand)(new B),(0,y.registerEditorCommand)(new _),(0,y.registerEditorCommand)(new L),(0,y.registerEditorCommand)(new T),(0,y.registerEditorCommand)(new R),(0,y.registerEditorCommand)(new x),(0,y.registerEditorCommand)(new H),(0,y.registerEditorCommand)(new j),(0,y.registerEditorCommand)(new Q),(0,y.registerEditorCommand)(new G),(0,y.registerEditorCommand)(new se),(0,y.registerEditorAction)(ne)}),define(ee[725],te([0,1,15,157,3,24,292,26]),function(K,e,y,m,N,I,S,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class C extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(s,a){let r=m.WordPartOperations.deleteWordPartLeft(s);return r||new N.Range(1,1,1,1)}}e.DeleteWordPartLeft=C;class h extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(s,a){let r=m.WordPartOperations.deleteWordPartRight(s);if(r)return r;const l=s.model.getLineCount(),u=s.model.getLineMaxColumn(l);return new N.Range(l,u,l,u)}}e.DeleteWordPartRight=h;class g extends S.MoveWordCommand{_move(s,a,r,l){return m.WordPartOperations.moveWordPartLeft(s,a,r)}}e.WordPartLeftCommand=g;class t extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=t,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=i,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class n extends S.MoveWordCommand{_move(s,a,r,l){return m.WordPartOperations.moveWordPartRight(s,a,r)}}e.WordPartRightCommand=n;class o extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=o;class d extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=d,(0,y.registerEditorCommand)(new C),(0,y.registerEditorCommand)(new h),(0,y.registerEditorCommand)(new t),(0,y.registerEditorCommand)(new i),(0,y.registerEditorCommand)(new o),(0,y.registerEditorCommand)(new d)}),define(ee[726],te([0,1,7,111,29,132,2,38,3,32,385]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const g=new N.Color(new N.RGBA(0,122,204)),t={showArrow:!0,showFrame:!0,className:"",frameColor:g,arrowColor:g,keepEditorSelection:!1},i="vs.editor.contrib.zoneWidget";class n{constructor(a,r,l,u,f,w){this.id="",this.domNode=a,this.afterLineNumber=r,this.afterColumn=l,this.heightInLines=u,this._onDomNodeTop=f,this._onComputedHeight=w}onDomNodeTop(a){this._onDomNodeTop(a)}onComputedHeight(a){this._onComputedHeight(a)}}e.ViewZoneDelegate=n;class o{constructor(a,r){this._id=a,this._domNode=r}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=o;class d{constructor(a){this._editor=a,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),y.removeCSSRulesContainingSelector(this._ruleName)}set color(a){this._color!==a&&(this._color=a,this._updateStyle())}set height(a){this._height!==a&&(this._height=a,this._updateStyle())}_updateStyle(){y.removeCSSRulesContainingSelector(this._ruleName),y.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(a){a.column===1&&(a={lineNumber:a.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:C.Range.fromPositions(a),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}d._IdGenerator=new I.IdGenerator(".arrow-decoration-");class c{constructor(a,r={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=a,this.options=b.deepClone(r),b.mixin(this.options,t,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(l=>{const u=this._getWidth(l);this.domNode.style.width=u+"px",this.domNode.style.left=this._getLeft(l)+"px",this._onWidth(u)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new d(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(a){a.frameColor&&(this.options.frameColor=a.frameColor),a.arrowColor&&(this.options.arrowColor=a.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let a=this.options.frameColor.toString();this.container.style.borderTopColor=a,this.container.style.borderBottomColor=a}if(this._arrow&&this.options.arrowColor){let a=this.options.arrowColor.toString();this._arrow.color=a}}_getWidth(a){return a.width-a.minimap.minimapWidth-a.verticalScrollbarWidth}_getLeft(a){return a.minimap.minimapWidth>0&&a.minimap.minimapLeft===0?a.minimap.minimapWidth:0}_onViewZoneTop(a){this.domNode.style.top=a+"px"}_onViewZoneHeight(a){if(this.domNode.style.height=`${a}px`,this.container){let r=a-this._decoratingElementsHeight();this.container.style.height=`${r}px`;const l=this.editor.getLayoutInfo();this._doLayout(r,this._getWidth(l))}this._resizeSash&&this._resizeSash.layout()}get position(){const[a]=this._positionMarkerId;if(!a)return;const r=this.editor.getModel();if(!r)return;const l=r.getDecorationRange(a);if(!!l)return l.getStartPosition()}show(a,r){const l=C.Range.isIRange(a)?C.Range.lift(a):C.Range.fromPositions(a);this._isShowing=!0,this._showImpl(l,r),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:l,options:h.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(a=>{this._viewZone&&a.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let a=this.editor.getOption(59),r=0;if(this.options.showArrow){let l=Math.round(a/3);r+=2*l}if(this.options.showFrame){let l=Math.round(a/9);r+=2*l}return r}_showImpl(a,r){const l=a.getStartPosition(),u=this.editor.getLayoutInfo(),f=this._getWidth(u);this.domNode.style.width=`${f}px`,this.domNode.style.left=this._getLeft(u)+"px";const w=document.createElement("div");w.style.overflow="hidden";const v=this.editor.getOption(59),p=Math.max(12,this.editor.getLayoutInfo().height/v*.8);r=Math.min(r,p);let _=0,L=0;if(this._arrow&&this.options.showArrow&&(_=Math.round(v/3),this._arrow.height=_,this._arrow.show(l)),this.options.showFrame&&(L=Math.round(v/9)),this.editor.changeViewZones(k=>{this._viewZone&&k.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new n(w,l.lineNumber,l.column,r,A=>this._onViewZoneTop(A),A=>this._onViewZoneHeight(A)),this._viewZone.id=k.addZone(this._viewZone),this._overlayWidget=new o(i+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const k=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=k+"px",this.container.style.borderBottomWidth=k+"px"}let E=r*v-this._decoratingElementsHeight();this.container&&(this.container.style.top=_+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,f),this.options.keepEditorSelection||this.editor.setSelection(a);const M=this.editor.getModel();if(M){const k=a.endLineNumber+1;k<=M.getLineCount()?this.revealLine(k,!1):this.revealLine(M.getLineCount(),!0)}}revealLine(a,r){r?this.editor.revealLineInCenter(a,0):this.editor.revealLine(a,0)}setCssClass(a,r){!this.container||(r&&this.container.classList.remove(r),this.container.classList.add(a))}_onWidth(a){}_doLayout(a,r){}_relayout(a){this._viewZone&&this._viewZone.heightInLines!==a&&this.editor.changeViewZones(r=>{this._viewZone&&(this._viewZone.heightInLines=a,r.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new m.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let a;this._disposables.add(this._resizeSash.onDidStart(r=>{this._viewZone&&(a={startY:r.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{a=void 0})),this._disposables.add(this._resizeSash.onDidChange(r=>{if(a){let l=(r.currentY-a.startY)/this.editor.getOption(59),u=l<0?Math.ceil(l):Math.floor(l),f=a.heightInLines+u;f>5&&f<35&&this._relayout(f)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const a=this.editor.getLayoutInfo();return a.width-a.minimap.minimapWidth}}e.ZoneWidget=c}),define(ee[105],te([0,1,7,82,44,27,29,4,38,15,28,160,726,546,199,16,54,9,23,379]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,s.createDecorator)("IPeekViewService"),(0,c.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(v,p){const _=this._widgets.get(v);_&&(_.listener.dispose(),_.widget.dispose());const L=()=>{const E=this._widgets.get(v);E&&E.widget===p&&(E.listener.dispose(),this._widgets.delete(v))};this._widgets.set(v,{widget:p,listener:p.onDidClose(L)})}});var r;(function(v){v.inPeekEditor=new d.RawContextKey("inReferenceSearchEditor",!0,n.localize(0,null)),v.notInPeekEditor=v.inPeekEditor.toNegated()})(r=e.PeekContext||(e.PeekContext={}));let l=class{constructor(p,_){p instanceof t.EmbeddedCodeEditorWidget&&r.inPeekEditor.bindTo(_)}dispose(){}};l.ID="editor.contrib.referenceController",l=Be([me(1,d.IContextKeyService)],l),(0,h.registerEditorContribution)(l.ID,l);function u(v){let p=v.get(g.ICodeEditorService).getFocusedCodeEditor();return p instanceof t.EmbeddedCodeEditorWidget?p.getParentEditor():p}e.getOuterEditor=u;const f={headerBackgroundColor:S.Color.white,primaryHeadingColor:S.Color.fromHex("#333333"),secondaryHeadingColor:S.Color.fromHex("#6c6c6cb3")};let w=class extends i.ZoneWidget{constructor(p,_,L){super(p,_);this.instantiationService=L,this._onDidClose=new b.Emitter,this.onDidClose=this._onDidClose.event,C.mixin(this.options,f,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(p){let _=this.options;p.headerBackgroundColor&&(_.headerBackgroundColor=p.headerBackgroundColor),p.primaryHeadingColor&&(_.primaryHeadingColor=p.primaryHeadingColor),p.secondaryHeadingColor&&(_.secondaryHeadingColor=p.secondaryHeadingColor),super.style(p)}_applyStyles(){super._applyStyles();let p=this.options;this._headElement&&p.headerBackgroundColor&&(this._headElement.style.backgroundColor=p.headerBackgroundColor.toString()),this._primaryHeading&&p.primaryHeadingColor&&(this._primaryHeading.style.color=p.primaryHeadingColor.toString()),this._secondaryHeading&&p.secondaryHeadingColor&&(this._secondaryHeading.style.color=p.secondaryHeadingColor.toString()),this._bodyElement&&p.frameColor&&(this._bodyElement.style.borderColor=p.frameColor.toString())}_fillContainer(p){this.setCssClass("peekview-widget"),this._headElement=y.$(".head"),this._bodyElement=y.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),p.appendChild(this._headElement),p.appendChild(this._bodyElement)}_fillHead(p,_){const L=y.$(".peekview-title");this.options.supportOnTitleClick&&(L.classList.add("clickable"),y.addStandardDisposableListener(L,"click",k=>this._onTitleClick(k))),y.append(this._headElement,L),this._fillTitleIcon(L),this._primaryHeading=y.$("span.filename"),this._secondaryHeading=y.$("span.dirname"),this._metaHeading=y.$("span.meta"),y.append(L,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=y.$(".peekview-actions");y.append(this._headElement,E);const M=this._getActionBarOptions();this._actionbarWidget=new m.ActionBar(E,M),this._disposables.add(this._actionbarWidget),_||this._actionbarWidget.push(new N.Action("peekview.close",n.localize(1,null),I.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(p){}_getActionBarOptions(){return{actionViewItemProvider:o.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(p){}setTitle(p,_){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=p,this._primaryHeading.setAttribute("title",p),_?this._secondaryHeading.innerText=_:y.clearNode(this._secondaryHeading))}setMetaTitle(p){this._metaHeading&&(p?(this._metaHeading.innerText=p,y.show(this._metaHeading)):y.hide(this._metaHeading))}_doLayout(p,_){if(!this._isShowing&&p<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(59)*1.2),E=Math.round(p-(L+2));this._doLayoutHead(L,_),this._doLayoutBody(E,_)}_doLayoutHead(p,_){this._headElement&&(this._headElement.style.height=`${p}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(p,_){this._bodyElement&&(this._bodyElement.style.height=`${p}px`)}};w=Be([me(2,s.IInstantiationService)],w),e.PeekViewWidget=w,e.peekViewTitleBackground=(0,a.registerColor)("peekViewTitle.background",{dark:(0,a.transparent)(a.editorInfoForeground,.1),light:(0,a.transparent)(a.editorInfoForeground,.1),hc:null},n.localize(2,null)),e.peekViewTitleForeground=(0,a.registerColor)("peekViewTitleLabel.foreground",{dark:S.Color.white,light:S.Color.black,hc:S.Color.white},n.localize(3,null)),e.peekViewTitleInfoForeground=(0,a.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},n.localize(4,null)),e.peekViewBorder=(0,a.registerColor)("peekView.border",{dark:a.editorInfoForeground,light:a.editorInfoForeground,hc:a.contrastBorder},n.localize(5,null)),e.peekViewResultsBackground=(0,a.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:S.Color.black},n.localize(6,null)),e.peekViewResultsMatchForeground=(0,a.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:S.Color.white},n.localize(7,null)),e.peekViewResultsFileForeground=(0,a.registerColor)("peekViewResult.fileForeground",{dark:S.Color.white,light:"#1E1E1E",hc:S.Color.white},n.localize(8,null)),e.peekViewResultsSelectionBackground=(0,a.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},n.localize(9,null)),e.peekViewResultsSelectionForeground=(0,a.registerColor)("peekViewResult.selectionForeground",{dark:S.Color.white,light:"#6C6C6C",hc:S.Color.white},n.localize(10,null)),e.peekViewEditorBackground=(0,a.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:S.Color.black},n.localize(11,null)),e.peekViewEditorGutterBackground=(0,a.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},n.localize(12,null)),e.peekViewResultsMatchHighlight=(0,a.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},n.localize(13,null)),e.peekViewEditorMatchHighlight=(0,a.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},n.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,a.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:a.activeContrastBorder},n.localize(15,null))}),define(ee[727],te([0,1,7,66,19,29,4,169,2,41,8,3,105,523,199,37,16,9,127,76,52,685,23,13,372]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class v{constructor(k,A,F,B,T){this._openerService=B,this._labelService=T,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new C.DisposableStore,this._editor=A;const R=document.createElement("div");R.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),R.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),R.appendChild(this._relatedBlock),this._disposables.add(y.addStandardDisposableListener(this._relatedBlock,"click",O=>{O.preventDefault();const P=this._relatedDiagnostics.get(O.target);P&&F(P)})),this._scrollable=new m.ScrollableElement(R,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),k.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(O=>{R.style.left=`-${O.scrollLeft}px`,R.style.top=`-${O.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,C.dispose)(this._disposables)}update(k){const{source:A,message:F,relatedInformation:B,code:T}=k;let R=((A==null?void 0:A.length)||0)+"()".length;T&&(typeof T=="string"?R+=T.length:R+=T.value.length);const O=(0,g.splitLines)(F);this._lines=O.length,this._longestLineLength=0;for(const j of O)this._longestLineLength=Math.max(j.length+R,this._longestLineLength);y.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(k)),this._editor.applyFontInfo(this._messageBlock);let P=this._messageBlock;for(const j of O)P=document.createElement("div"),P.innerText=j,j===""&&(P.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(P);if(A||T){const j=document.createElement("span");if(j.classList.add("details"),P.appendChild(j),A){const Q=document.createElement("span");Q.innerText=A,Q.classList.add("source"),j.appendChild(Q)}if(T)if(typeof T=="string"){const Q=document.createElement("span");Q.innerText=`(${T})`,Q.classList.add("code"),j.appendChild(Q)}else{this._codeLink=y.$("a.code-link"),this._codeLink.setAttribute("href",`${T.target.toString()}`),this._codeLink.onclick=G=>{this._openerService.open(T.target,{allowCommands:!0}),G.preventDefault(),G.stopPropagation()};const Q=y.append(this._codeLink,y.$("span"));Q.innerText=T.value,j.appendChild(this._codeLink)}}if(y.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,N.isNonEmptyArray)(B)){const j=this._relatedBlock.appendChild(document.createElement("div"));j.style.paddingTop=`${Math.floor(this._editor.getOption(59)*.66)}px`,this._lines+=1;for(const Q of B){let G=document.createElement("div"),se=document.createElement("a");se.classList.add("filename"),se.innerText=`${(0,b.getBaseLabel)(Q.resource)}(${Q.startLineNumber}, ${Q.startColumn}): `,se.title=this._labelService.getUriLabel(Q.resource),this._relatedDiagnostics.set(se,Q);let ne=document.createElement("span");ne.innerText=Q.message,G.appendChild(se),G.appendChild(ne),this._lines+=1,j.appendChild(G)}}const D=this._editor.getOption(44),x=Math.ceil(D.typicalFullwidthCharacterWidth*this._longestLineLength*.75),H=D.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:x,scrollHeight:H})}layout(k,A){this._scrollable.getDomNode().style.height=`${k}px`,this._scrollable.getDomNode().style.width=`${A}px`,this._scrollable.setScrollDimensions({width:A,height:k})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(k){let A="";switch(k.severity){case r.MarkerSeverity.Error:A=n.localize(0,null);break;case r.MarkerSeverity.Warning:A=n.localize(1,null);break;case r.MarkerSeverity.Info:A=n.localize(2,null);break;case r.MarkerSeverity.Hint:A=n.localize(3,null);break}let F=n.localize(4,null,A,k.startLineNumber+":"+k.startColumn);const B=this._editor.getModel();return B&&k.startLineNumber<=B.getLineCount()&&k.startLineNumber>=1&&(F=`${B.getLineContent(k.startLineNumber)}, ${F}`),F}}let p=class Fi extends i.PeekViewWidget{constructor(k,A,F,B,T,R,O){super(k,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},T);this._themeService=A,this._openerService=F,this._menuService=B,this._contextKeyService=R,this._labelService=O,this._callOnDispose=new C.DisposableStore,this._onDidSelectRelatedInformation=new S.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=r.MarkerSeverity.Warning,this._backgroundColor=I.Color.white,this._applyTheme(A.getColorTheme()),this._callOnDispose.add(A.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(k){this._backgroundColor=k.getColor(e.editorMarkerNavigationBackground);let A=e.editorMarkerNavigationError,F=e.editorMarkerNavigationErrorHeader;this._severity===r.MarkerSeverity.Warning?(A=e.editorMarkerNavigationWarning,F=e.editorMarkerNavigationWarningHeader):this._severity===r.MarkerSeverity.Info&&(A=e.editorMarkerNavigationInfo,F=e.editorMarkerNavigationInfoHeader);const B=k.getColor(A),T=k.getColor(F);this.style({arrowColor:B,frameColor:B,headerBackgroundColor:T,primaryHeadingColor:k.getColor(i.peekViewTitleForeground),secondaryHeadingColor:k.getColor(i.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(k){super._fillHead(k),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(B=>this.editor.focus()));const A=[],F=this._menuService.createMenu(Fi.TitleMenu,this._contextKeyService);(0,o.createAndFillInActionBarActions)(F,void 0,A),this._actionbarWidget.push(A,{label:!1,icon:!0,index:0}),F.dispose()}_fillTitleIcon(k){this._icon=y.append(k,y.$(""))}_fillBody(k){this._parentContainer=k,k.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),k.appendChild(this._container),this._message=new v(this._container,this.editor,A=>this._onDidSelectRelatedInformation.fire(A),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(k,A,F){this._container.classList.remove("stale"),this._message.update(k),this._severity=k.severity,this._applyTheme(this._themeService.getColorTheme());let B=t.Range.lift(k);const T=this.editor.getPosition();let R=T&&B.containsPosition(T)?T:B.getStartPosition();super.show(R,this.computeRequiredHeight());const O=this.editor.getModel();if(O){const P=F>1?n.localize(5,null,A,F):n.localize(6,null,A,F);this.setTitle((0,h.basename)(O.uri),P)}this._icon.className=`codicon ${u.SeverityIcon.className(r.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(R,0),this.editor.focus()}updateMarker(k){this._container.classList.remove("stale"),this._message.update(k)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(k,A){super._doLayoutBody(k,A),this._heightInPixel=k,this._message.layout(k,A),this._container.style.height=`${k}px`}_onWidth(k){this._message.layout(this._heightInPixel,k)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};p.TitleMenu=new d.MenuId("gotoErrorTitleMenu"),p=Be([me(1,w.IThemeService),me(2,l.IOpenerService),me(3,d.IMenuService),me(4,s.IInstantiationService),me(5,c.IContextKeyService),me(6,a.ILabelService)],p),e.MarkerNavigationWidget=p;let _=(0,f.oneOf)(f.editorErrorForeground,f.editorErrorBorder),L=(0,f.oneOf)(f.editorWarningForeground,f.editorWarningBorder),E=(0,f.oneOf)(f.editorInfoForeground,f.editorInfoBorder);e.editorMarkerNavigationError=(0,f.registerColor)("editorMarkerNavigationError.background",{dark:_,light:_,hc:f.contrastBorder},n.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,f.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationError,.1),light:(0,f.transparent)(e.editorMarkerNavigationError,.1),hc:null},n.localize(8,null)),e.editorMarkerNavigationWarning=(0,f.registerColor)("editorMarkerNavigationWarning.background",{dark:L,light:L,hc:f.contrastBorder},n.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,f.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,f.transparent)(e.editorMarkerNavigationWarning,.1),hc:"#0C141F"},n.localize(10,null)),e.editorMarkerNavigationInfo=(0,f.registerColor)("editorMarkerNavigationInfo.background",{dark:E,light:E,hc:f.contrastBorder},n.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,f.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,f.transparent)(e.editorMarkerNavigationInfo,.1),hc:null},n.localize(12,null)),e.editorMarkerNavigationBackground=(0,f.registerColor)("editorMarkerNavigation.background",{dark:f.editorBackground,light:f.editorBackground,hc:f.editorBackground},n.localize(13,null))}),define(ee[293],te([0,1,27,2,15,28,11,3,24,612,522,37,16,9,71,727]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let c=class zt{constructor(p,_,L,E,M){this._markerNavigationService=_,this._contextKeyService=L,this._editorService=E,this._instantiationService=M,this._sessionDispoables=new m.DisposableStore,this._editor=p,this._widgetVisible=f.bindTo(this._contextKeyService)}static get(p){return p.getContribution(zt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(p){if(this._model&&this._model.matches(p))return this._model;let _=!1;return this._model&&(_=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(p),_&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(d.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var E,M,k;(!((E=this._model)===null||E===void 0?void 0:E.selected)||!b.Range.containsPosition((M=this._model)===null||M===void 0?void 0:M.selected.marker,L.position))&&((k=this._model)===null||k===void 0||k.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:b.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(p=!0){this._cleanUp(),p&&this._editor.focus()}showAtMarker(p){if(this._editor.hasModel()){const _=this._getOrCreateModel(this._editor.getModel().uri);_.resetIndex(),_.move(!0,this._editor.getModel(),new S.Position(p.startLineNumber,p.startColumn)),_.selected&&this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}}nagivate(p,_){var L,E;return De(this,void 0,void 0,function*(){if(this._editor.hasModel()){const M=this._getOrCreateModel(_?void 0:this._editor.getModel().uri);if(M.move(p,this._editor.getModel(),this._editor.getPosition()),!M.selected)return;if(M.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const k=yield this._editorService.openCodeEditor({resource:M.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:M.selected.marker}},this._editor);k&&((L=zt.get(k))===null||L===void 0||L.close(),(E=zt.get(k))===null||E===void 0||E.nagivate(p,_))}else this._widget.showAtMarker(M.selected.marker,M.selected.index,M.selected.total)}})}};c.ID="editor.contrib.markerController",c=Be([me(1,h.IMarkerNavigationService),me(2,i.IContextKeyService),me(3,I.ICodeEditorService),me(4,n.IInstantiationService)],c),e.MarkerController=c;class s extends N.EditorAction{constructor(p,_,L){super(L);this._next=p,this._multiFile=_}run(p,_){var L;return De(this,void 0,void 0,function*(){_.hasModel()&&((L=c.get(_))===null||L===void 0||L.nagivate(this._next,this._multiFile))})}}class a extends s{constructor(){super(!0,!1,{id:a.ID,label:a.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:d.MarkerNavigationWidget.TitleMenu,title:a.LABEL,icon:(0,o.registerIcon)("marker-navigation-next",y.Codicon.arrowDown,g.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=a,a.ID="editor.action.marker.next",a.LABEL=g.localize(0,null);class r extends s{constructor(){super(!1,!1,{id:r.ID,label:r.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:d.MarkerNavigationWidget.TitleMenu,title:a.LABEL,icon:(0,o.registerIcon)("marker-navigation-previous",y.Codicon.arrowUp,g.localize(3,null)),group:"navigation",order:2}})}}r.ID="editor.action.marker.prev",r.LABEL=g.localize(2,null);class l extends s{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:t.MenuId.MenubarGoMenu,title:g.localize(5,null),group:"6_problem_nav",order:1}})}}class u extends s{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:t.MenuId.MenubarGoMenu,title:g.localize(7,null),group:"6_problem_nav",order:2}})}}(0,N.registerEditorContribution)(c.ID,c),(0,N.registerEditorAction)(a),(0,N.registerEditorAction)(r),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(u);const f=new i.RawContextKey("markersNavigationVisible",!1),w=N.EditorCommand.bindToContribution(c.get);(0,N.registerEditorCommand)(new w({id:"closeMarkersNavigation",precondition:f,handler:v=>v.close(),kbOpts:{weight:100+50,kbExpr:C.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(ee[728],te([0,1,7,226,29,4,2,49,41,160,3,32,35,78,34,59,647,105,528,9,42,127,155,13,156,125,374]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(A,F){this._editor=A,this._model=F,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.DisposableStore,this._callOnModelChange=new S.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const A=this._editor.getModel();if(!!A){for(let F of this._model.references)if(F.uri.toString()===A.uri.toString()){this._addDecorations(F.parent);return}}}_addDecorations(A){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const F=[],B=[];for(let R=0,O=A.children.length;R<O;R++){let P=A.children[R];this._decorationIgnoreSet.has(P.id)||P.uri.toString()===this._editor.getModel().uri.toString()&&(F.push({range:P.range,options:_.DecorationOptions}),B.push(R))}const T=this._editor.deltaDecorations([],F);for(let R=0;R<T.length;R++)this._decorations.set(T[R],A.children[B[R]])}_onDecorationChanged(){const A=[],F=this._editor.getModel();if(!!F){for(let[B,T]of this._decorations){const R=F.getDecorationRange(B);if(!R)continue;let O=!1;if(!g.Range.equalsRange(R,T.range)){if(g.Range.spansMultipleLines(R))O=!0;else{const P=T.range.endColumn-T.range.startColumn,D=R.endColumn-R.startColumn;P!==D&&(O=!0)}O?(this._decorationIgnoreSet.add(T.id),A.push(B)):T.range=R}}for(let B=0,T=A.length;B<T;B++)this._decorations.delete(A[B]);this._editor.deltaDecorations(A,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}_.DecorationOptions=t.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class L{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(A){let F,B;try{const T=JSON.parse(A);F=T.ratio,B=T.heightInLines}catch{}return{ratio:F||.7,heightInLines:B||18}}}e.LayoutData=L;class E extends f.WorkbenchAsyncDataTree{}let M=class extends s.PeekViewWidget{constructor(A,F,B,T,R,O,P,D,x,H,j,Q){super(A,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},O);this._defaultTreeKeyboardSupport=F,this.layoutData=B,this._textModelResolverService=R,this._instantiationService=O,this._peekViewService=P,this._uriLabel=D,this._undoRedoService=x,this._keybindingService=H,this._languageService=j,this._languageConfigurationService=Q,this._disposeOnNewModel=new S.DisposableStore,this._callOnDispose=new S.DisposableStore,this._onDidSelectReference=new I.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new y.Dimension(0,0),this._applyTheme(T.getColorTheme()),this._callOnDispose.add(T.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(A,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.dispose)(this._preview),(0,S.dispose)(this._previewNotAvailableMessage),(0,S.dispose)(this._tree),(0,S.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(A){const F=A.getColor(s.peekViewBorder)||N.Color.transparent;this.style({arrowColor:F,frameColor:F,headerBackgroundColor:A.getColor(s.peekViewTitleBackground)||N.Color.transparent,primaryHeadingColor:A.getColor(s.peekViewTitleForeground),secondaryHeadingColor:A.getColor(s.peekViewTitleInfoForeground)})}show(A){this.editor.revealRangeInCenterIfOutsideViewport(A,0),super.show(A,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(A){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"title"})}_fillBody(A){this.setCssClass("reference-zone-widget"),this._messageContainer=y.append(A,y.$("div.messages")),y.hide(this._messageContainer),this._splitView=new m.SplitView(A,{orientation:1}),this._previewContainer=y.append(A,y.$("div.preview.inline"));let F={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(h.EmbeddedCodeEditorWidget,this._previewContainer,F,this.editor),y.hide(this._previewContainer),this._previewNotAvailableMessage=new t.TextModel(a.localize(0,null),n.PLAINTEXT_LANGUAGE_ID,t.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=y.append(A,y.$("div.ref-tree.inline"));const B={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new c.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(c.StringRepresentationProvider),identityProvider:new c.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:s.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(y.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new c.Delegate,[this._instantiationService.createInstance(c.FileReferencesRenderer),this._instantiationService.createInstance(c.OneReferenceRenderer)],this._instantiationService.createInstance(c.DataSource),B),this._splitView.addView({onDidChange:I.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},m.Sizing.Distribute),this._splitView.addView({onDidChange:I.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},m.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let T=(R,O)=>{R instanceof p.OneReference&&(O==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:O,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?T(R.element,"side"):R.editorOptions.pinned?T(R.element,"goto"):T(R.element,"show")}),y.hide(this._treeContainer)}_onWidth(A){this._dim&&this._doLayoutBody(this._dim.height,A)}_doLayoutBody(A,F){super._doLayoutBody(A,F),this._dim=new y.Dimension(F,A),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(F),this._splitView.resizeView(0,F*this.layoutData.ratio)}setSelection(A){return this._revealReference(A,!0).then(()=>{!this._model||(this._tree.setSelection([A]),this._tree.setFocus([A]))})}setModel(A){return this._disposeOnNewModel.clear(),this._model=A,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=a.localize(1,null),y.show(this._messageContainer),Promise.resolve(void 0)):(y.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(A=>this._tree.rerender(A))),this._disposeOnNewModel.add(this._preview.onMouseDown(A=>{const{event:F,target:B}=A;if(F.detail!==2)return;const T=this._getFocusedReference();!T||this._onDidSelectReference.fire({element:{uri:T.uri,range:B.range},kind:F.ctrlKey||F.metaKey||F.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),y.show(this._treeContainer),y.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[A]=this._tree.getFocus();if(A instanceof p.OneReference)return A;if(A instanceof p.FileReferences&&A.children.length>0)return A.children[0]}revealReference(A){return De(this,void 0,void 0,function*(){yield this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:"goto",source:"tree"})})}_revealReference(A,F){return De(this,void 0,void 0,function*(){if(this._revealedReference===A)return;this._revealedReference=A,A.uri.scheme!==b.Schemas.inMemory?this.setTitle((0,C.basenameOrAuthority)(A.uri),this._uriLabel.getUriLabel((0,C.dirname)(A.uri))):this.setTitle(a.localize(2,null));const B=this._textModelResolverService.createModelReference(A.uri);this._tree.getInput()===A.parent?this._tree.reveal(A):(F&&this._tree.reveal(A.parent),yield this._tree.expand(A.parent),this._tree.reveal(A));const T=yield B;if(!this._model){T.dispose();return}(0,S.dispose)(this._previewModelReference);const R=T.object;if(R){const O=this._preview.getModel()===R.textEditorModel?0:1,P=g.Range.lift(A.range).collapseToStart();this._previewModelReference=T,this._preview.setModel(R.textEditorModel),this._preview.setSelection(P),this._preview.revealRangeInCenter(P,O)}else this._preview.setModel(this._previewNotAvailableMessage),T.dispose()})}};M=Be([me(3,w.IThemeService),me(4,d.ITextModelService),me(5,r.IInstantiationService),me(6,s.IPeekViewService),me(7,u.ILabelService),me(8,v.IUndoRedoService),me(9,l.IKeybindingService),me(10,o.ILanguageService),me(11,i.ILanguageConfigurationService)],M),e.ReferenceWidget=M}),define(ee[294],te([0,1,10,14,56,2,28,11,3,105,526,26,39,16,9,84,155,40,79,125,728]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new n.RawContextKey("referenceSearchVisible",!1,g.localize(0,null));let u=class ii{constructor(v,p,_,L,E,M,k,A){this._defaultTreeKeyboardSupport=v,this._editor=p,this._editorService=L,this._notificationService=E,this._instantiationService=M,this._storageService=k,this._configurationService=A,this._disposables=new I.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(_)}static get(v){return v.getContribution(ii.ID)}dispose(){var v,p;this._referenceSearchVisible.reset(),this._disposables.dispose(),(v=this._widget)===null||v===void 0||v.dispose(),(p=this._model)===null||p===void 0||p.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(v,p,_){let L;if(this._widget&&(L=this._widget.position),this.closeWidget(),!!L&&v.containsPosition(L))return;this._peekMode=_,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",M=l.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(l.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,M),this._widget.setTitle(g.localize(1,null)),this._widget.show(v),this._disposables.add(this._widget.onDidClose(()=>{p.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(A=>{let{element:F,kind:B}=A;if(!!F)switch(B){case"open":(A.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(F,!1,!1);break;case"side":this.openReference(F,!0,!1);break;case"goto":_?this._gotoReference(F):this.openReference(F,!1,!0);break}}));const k=++this._requestIdPool;p.then(A=>{var F;if(k!==this._requestIdPool||!this._widget){A.dispose();return}return(F=this._model)===null||F===void 0||F.dispose(),this._model=A,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g.localize(2,null,this._model.title,this._model.references.length));let B=this._editor.getModel().uri,T=new b.Position(v.startLineNumber,v.startColumn),R=this._model.nearestReference(B,T);if(R)return this._widget.setSelection(R).then(()=>{this._widget&&this._editor.getOption(77)==="editor"&&this._widget.focusOnPreviewEditor()})}})},A=>{this._notificationService.error(A)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(v){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const p=this._widget.position;if(!p)return;const _=this._model.nearestReference(this._editor.getModel().uri,p);if(!_)return;const L=this._model.nextOrPreviousReference(_,v),E=this._editor.hasTextFocus(),M=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(L),yield this._gotoReference(L),E?this._editor.focus():this._widget&&M&&this._widget.focusOnPreviewEditor()})}revealReference(v){return De(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(v))})}closeWidget(v=!0){var p,_;(p=this._widget)===null||p===void 0||p.dispose(),(_=this._model)===null||_===void 0||_.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,v&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(v){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const p=C.Range.lift(v.range).collapseToStart();return this._editorService.openCodeEditor({resource:v.uri,options:{selection:p}},this._editor).then(_=>{var L;if(this._ignoreModelChangeEvent=!1,!_||!this._widget){this.closeWidget();return}if(this._editor===_)this._widget.show(p),this._widget.focusOnReferenceTree();else{const E=ii.get(_),M=this._model.clone();this.closeWidget(),_.focus(),E==null||E.toggleWidget(p,(0,y.createCancelablePromise)(k=>Promise.resolve(M)),(L=this._peekMode)!==null&&L!==void 0?L:!1)}},_=>{this._ignoreModelChangeEvent=!1,(0,m.onUnexpectedError)(_)})}openReference(v,p,_){p||this.closeWidget();const{uri:L,range:E}=v;this._editorService.openCodeEditor({resource:L,options:{selection:E,pinned:_}},this._editor,p)}};u.ID="editor.contrib.referencesController",u=Be([me(2,n.IContextKeyService),me(3,S.ICodeEditorService),me(4,s.INotificationService),me(5,o.IInstantiationService),me(6,a.IStorageService),me(7,i.IConfigurationService)],u),e.ReferencesController=u;function f(w,v){const p=(0,h.getOuterEditor)(w);if(!p)return;const _=u.get(p);_&&v(_)}d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,N.KeyChord)(2048|41,60),when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(w){f(w,v=>{v.changeFocusBetweenPreviewAndReferences()})}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(w){f(w,v=>{v.goToNextOrPreviousReference(!0)})}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:n.ContextKeyExpr.or(e.ctxReferenceSearchVisible,h.PeekContext.inPeekEditor),handler(w){f(w,v=>{v.goToNextOrPreviousReference(!1)})}}),t.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),t.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),t.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),t.CommandsRegistry.registerCommand("closeReferenceSearch",w=>f(w,v=>v.closeWidget())),d.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:n.ContextKeyExpr.and(h.PeekContext.inPeekEditor,n.ContextKeyExpr.not("config.editor.stablePeek"))}),d.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.ContextKeyExpr.not("config.editor.stablePeek"))}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey),handler(w){var v;const _=(v=w.get(c.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(_)&&_[0]instanceof r.OneReference&&f(w,L=>L.revealReference(_[0]))}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:n.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey),handler(w){var v;const _=(v=w.get(c.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(_)&&_[0]instanceof r.OneReference&&f(w,L=>L.openReference(_[0],!0,!0))}}),t.CommandsRegistry.registerCommand("openReference",w=>{var v;const _=(v=w.get(c.IListService).lastFocusedList)===null||v===void 0?void 0:v.getFocus();Array.isArray(_)&&_[0]instanceof r.OneReference&&f(w,L=>L.openReference(_[0],!1,!0))})}),define(ee[206],te([0,1,33,43,10,56,17,20,25,70,145,15,28,160,11,3,24,18,294,125,665,154,105,524,37,26,16,9,40,69,281]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E,M,k){"use strict";var A,F,B,T,R,O,P,D;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,{submenu:v.MenuId.EditorContextPeek,title:w.localize(0,null),group:"navigation",order:100});const x=new Set;function H(Y){const X=new Y;return(0,t.registerInstantiatedEditorAction)(X),x.add(X.id),X}class j{constructor(X,ae){this.model=X,this.position=ae}static is(X){return!X||typeof X!="object"?!1:!!(X instanceof j||o.Position.isIPosition(X.position)&&X.model)}}e.SymbolNavigationAnchor=j;class Q extends t.EditorAction{constructor(X,ae){super(ae);this.configuration=X}run(X,ae,J){if(!ae.hasModel())return Promise.resolve(void 0);const de=X.get(E.INotificationService),q=X.get(i.ICodeEditorService),z=X.get(M.IEditorProgressService),$=X.get(l.ISymbolNavigationService),ie=ae.getModel(),ce=ae.getPosition(),oe=j.is(J)?J:new j(ie,ce),he=new h.EditorStateCancellationTokenSource(ae,1|4),ve=(0,N.raceCancellation)(this._getLocationModel(oe.model,oe.position,he.token),he.token).then(Se=>De(this,void 0,void 0,function*(){var le;if(!Se||he.token.isCancellationRequested)return;(0,m.alert)(Se.ariaMessage);let ge;if(Se.referenceAt(ie.uri,ce)){const be=this._getAlternativeCommand(ae);be!==this.id&&x.has(be)&&(ge=ae.getAction(be))}const ue=Se.references.length;if(ue===0){if(!this.configuration.muteMessage){const be=ie.getWordAtPosition(ce);(le=u.MessageController.get(ae))===null||le===void 0||le.showMessage(this._getNoResultFoundMessage(be),ce)}}else if(ue===1&&ge)ge.run();else return this._onResult(q,$,ae,Se)}),Se=>{de.error(Se)}).finally(()=>{he.dispose()});return z.showWhile(ve,250),ve}_onResult(X,ae,J,de){return De(this,void 0,void 0,function*(){const q=this._getGoToPreference(J);if(!(J instanceof n.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||q==="peek"&&de.references.length>1))this._openInPeek(J,de);else{const z=de.firstReference(),$=de.references.length>1&&q==="gotoAndPeek",ie=yield this._openReference(J,X,z,this.configuration.openToSide,!$);$&&ie?this._openInPeek(ie,de):de.dispose(),q==="goto"&&ae.put(z)}})}_openReference(X,ae,J,de,q){return De(this,void 0,void 0,function*(){let z;if((0,s.isLocationLink)(J)&&(z=J.targetSelectionRange),z||(z=J.range),!z)return;const $=yield ae.openCodeEditor({resource:J.uri,options:{selection:d.Range.collapseToStart(z),selectionRevealType:3}},X,de);if(!!$){if(q){const ie=$.getModel(),ce=$.deltaDecorations([],[{range:z,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{$.getModel()===ie&&$.deltaDecorations(ce,[])},350)}return $}})}_openInPeek(X,ae){const J=a.ReferencesController.get(X);J&&X.hasModel()?J.toggleWidget(X.getSelection(),(0,N.createCancelablePromise)(de=>Promise.resolve(ae)),this.configuration.openInPeek):ae.dispose()}}e.SymbolNavigationAction=Q;class G extends Q{_getLocationModel(X,ae,J){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,k.getDefinitionsAtPosition)(X,ae,J),w.localize(1,null))})}_getNoResultFoundMessage(X){return X&&X.word?w.localize(2,null,X.word):w.localize(3,null)}_getAlternativeCommand(X){return X.getOption(51).alternativeDefinitionCommand}_getGoToPreference(X){return X.getOption(51).multipleDefinitions}}e.DefinitionAction=G;const se=S.isWeb&&!y.isStandalone?2048|70:70;H((A=class ni extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ni.id,label:w.localize(4,null),alias:"Go to Definition",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:se,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});p.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",ni.id)}},A.id="editor.action.revealDefinition",A)),H((F=class si extends G{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:si.id,label:w.localize(5,null),alias:"Open Definition to the Side",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,se),weight:100}});p.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",si.id)}},F.id="editor.action.revealDefinitionAside",F)),H((B=class oi extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:oi.id,label:w.localize(6,null),alias:"Peek Definition",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:2}});p.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",oi.id)}},B.id="editor.action.peekDefinition",B));class ne extends Q{_getLocationModel(X,ae,J){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,k.getDeclarationsAtPosition)(X,ae,J),w.localize(7,null))})}_getNoResultFoundMessage(X){return X&&X.word?w.localize(8,null,X.word):w.localize(9,null)}_getAlternativeCommand(X){return X.getOption(51).alternativeDeclarationCommand}_getGoToPreference(X){return X.getOption(51).multipleDeclarations}}H((T=class Bi extends ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Bi.id,label:w.localize(10,null),alias:"Go to Declaration",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(X){return X&&X.word?w.localize(11,null,X.word):w.localize(12,null)}},T.id="editor.action.revealDeclaration",T)),H(class extends ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:w.localize(13,null),alias:"Peek Declaration",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:3}})}});class Z extends Q{_getLocationModel(X,ae,J){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,k.getTypeDefinitionsAtPosition)(X,ae,J),w.localize(14,null))})}_getNoResultFoundMessage(X){return X&&X.word?w.localize(15,null,X.word):w.localize(16,null)}_getAlternativeCommand(X){return X.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(X){return X.getOption(51).multipleTypeDefinitions}}H((R=class Wi extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Wi.ID,label:w.localize(17,null),alias:"Go to Type Definition",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},R.ID="editor.action.goToTypeDefinition",R)),H((O=class xi extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:xi.ID,label:w.localize(18,null),alias:"Peek Type Definition",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class U extends Q{_getLocationModel(X,ae,J){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,k.getImplementationsAtPosition)(X,ae,J),w.localize(19,null))})}_getNoResultFoundMessage(X){return X&&X.word?w.localize(20,null,X.word):w.localize(21,null)}_getAlternativeCommand(X){return X.getOption(51).alternativeImplementationCommand}_getGoToPreference(X){return X.getOption(51).multipleImplementations}}H((P=class Vi extends U{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Vi.ID,label:w.localize(22,null),alias:"Go to Implementations",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},P.ID="editor.action.goToImplementation",P)),H((D=class zi extends U{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:zi.ID,label:w.localize(23,null),alias:"Peek Implementations",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:5}})}},D.ID="editor.action.peekImplementation",D));class W extends Q{_getNoResultFoundMessage(X){return X?w.localize(24,null,X.word):w.localize(25,null)}_getAlternativeCommand(X){return X.getOption(51).alternativeReferenceCommand}_getGoToPreference(X){return X.getOption(51).multipleReferences}}H(class extends W{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:w.localize(26,null),alias:"Go to References",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(X,ae,J){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,k.getReferencesAtPosition)(X,ae,!0,J),w.localize(27,null))})}}),H(class extends W{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:w.localize(28,null),alias:"Peek References",precondition:_.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:v.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(X,ae,J){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,k.getReferencesAtPosition)(X,ae,!1,J),w.localize(29,null))})}});class V extends Q{constructor(X,ae,J){super(X,{id:"editor.action.goToLocation",label:w.localize(30,null),alias:"Go to Any Symbol",precondition:_.ContextKeyExpr.and(f.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=ae,this._gotoMultipleBehaviour=J}_getLocationModel(X,ae,J){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,w.localize(31,null))})}_getNoResultFoundMessage(X){return X&&w.localize(32,null,X.word)||""}_getGoToPreference(X){var ae;return(ae=this._gotoMultipleBehaviour)!==null&&ae!==void 0?ae:X.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}p.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Y,X,ae,J,de,q,z)=>De(void 0,void 0,void 0,function*(){(0,b.assertType)(C.URI.isUri(X)),(0,b.assertType)(o.Position.isIPosition(ae)),(0,b.assertType)(Array.isArray(J)),(0,b.assertType)(typeof de=="undefined"||typeof de=="string"),(0,b.assertType)(typeof z=="undefined"||typeof z=="boolean");const $=Y.get(i.ICodeEditorService),ie=yield $.openCodeEditor({resource:X},$.getFocusedCodeEditor());if((0,g.isCodeEditor)(ie))return ie.setPosition(ae),ie.revealPositionInCenterIfOutsideViewport(ae,0),ie.invokeWithinContext(ce=>{const oe=new class extends V{_getNoResultFoundMessage(he){return q||super._getNoResultFoundMessage(he)}}({muteMessage:!Boolean(q),openInPeek:Boolean(z),openToSide:!1},J,de);ce.get(L.IInstantiationService).invokeFunction(oe.run.bind(oe),ie)})})}),p.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Y,X,ae,J,de)=>De(void 0,void 0,void 0,function*(){Y.get(p.ICommandService).executeCommand("editor.action.goToLocations",X,ae,J,de,void 0,!0)})}),p.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(Y,X,ae)=>{(0,b.assertType)(C.URI.isUri(X)),(0,b.assertType)(o.Position.isIPosition(ae));const J=Y.get(i.ICodeEditorService);return J.openCodeEditor({resource:X},J.getFocusedCodeEditor()).then(de=>{if(!(0,g.isCodeEditor)(de)||!de.hasModel())return;const q=a.ReferencesController.get(de);if(!q)return;const z=(0,N.createCancelablePromise)(ie=>(0,k.getReferencesAtPosition)(de.getModel(),o.Position.lift(ae),!1,ie).then(ce=>new r.ReferencesModel(ce,w.localize(33,null)))),$=new d.Range(ae.lineNumber,ae.column,ae.lineNumber,ae.column);return Promise.resolve(q.toggleWidget($,z,!1))})}}),p.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),v.MenuRegistry.appendMenuItems([{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:w.localize(34,null)},group:"4_symbol_nav",order:2}},{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:w.localize(35,null)},group:"4_symbol_nav",order:3}},{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:w.localize(36,null)},group:"4_symbol_nav",order:3}},{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:w.localize(37,null)},group:"4_symbol_nav",order:4}},{id:v.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:w.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(ee[295],te([0,1,10,14,65,2,20,70,15,11,3,18,34,59,183,105,525,16,23,13,206,281,373]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let f=class Nt{constructor(v,p,_){this.textModelResolverService=p,this.languageService=_,this.toUnhook=new I.DisposableStore,this.toUnhookForKeyboard=new I.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=v;let L=new o.ClickLinkGesture(v);this.toUnhook.add(L),this.toUnhook.add(L.onMouseMoveOrRelevantKeyDown(([E,M])=>{this.startFindDefinitionFromMouse(E,(0,S.withNullAsUndefined)(M))})),this.toUnhook.add(L.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},M=>{this.removeLinkDecorations(),(0,m.onUnexpectedError)(M)})})),this.toUnhook.add(L.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(v){return v.getContribution(Nt.ID)}startFindDefinitionFromCursor(v){return this.startFindDefinition(v).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(p=>{p&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(v,p){if(v.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(v,p)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const _=v.target.position;this.startFindDefinition(_)}startFindDefinition(v){var p;this.toUnhookForKeyboard.clear();const _=v?(p=this.editor.getModel())===null||p===void 0?void 0:p.getWordAtPosition(v):null;if(!_)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===_.startColumn&&this.currentWordAtPosition.endColumn===_.endColumn&&this.currentWordAtPosition.word===_.word)return Promise.resolve(0);this.currentWordAtPosition=_;let L=new b.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,y.createCancelablePromise)(E=>this.findDefinition(v,E)),this.previousPromise.then(E=>{if(!E||!E.length||!L.validate(this.editor)){this.removeLinkDecorations();return}if(E.length>1)this.addDecoration(new g.Range(v.lineNumber,_.startColumn,v.lineNumber,_.endColumn),new N.MarkdownString().appendText(c.localize(0,null,E.length)));else{let M=E[0];if(!M.uri)return;this.textModelResolverService.createModelReference(M.uri).then(k=>{if(!k.object||!k.object.textEditorModel){k.dispose();return}const{object:{textEditorModel:A}}=k,{startLineNumber:F}=M.range;if(F<1||F>A.getLineCount()){k.dispose();return}const B=this.getPreviewValue(A,F,M);let T;M.originSelectionRange?T=g.Range.lift(M.originSelectionRange):T=new g.Range(v.lineNumber,_.startColumn,v.lineNumber,_.endColumn);const R=this.languageService.guessLanguageIdByFilepathOrFirstLine(A.uri);this.addDecoration(T,new N.MarkdownString().appendCodeblock(R||"",B)),k.dispose()})}}).then(void 0,m.onUnexpectedError)}getPreviewValue(v,p,_){let L=_.targetSelectionRange?_.range:this.getPreviewRangeBasedOnBrackets(v,p);return L.endLineNumber-L.startLineNumber>=Nt.MAX_SOURCE_PREVIEW_LINES&&(L=this.getPreviewRangeBasedOnIndentation(v,p)),this.stripIndentationFromPreviewRange(v,p,L)}stripIndentationFromPreviewRange(v,p,_){let E=v.getLineFirstNonWhitespaceColumn(p);for(let k=p+1;k<_.endLineNumber;k++){const A=v.getLineFirstNonWhitespaceColumn(k);E=Math.min(E,A)}return v.getValueInRange(_).replace(new RegExp(`^\\s{${E-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(v,p){const _=v.getLineFirstNonWhitespaceColumn(p),L=Math.min(v.getLineCount(),p+Nt.MAX_SOURCE_PREVIEW_LINES);let E=p+1;for(;E<L;E++){let M=v.getLineFirstNonWhitespaceColumn(E);if(_===M)break}return new g.Range(p,1,E+1,1)}getPreviewRangeBasedOnBrackets(v,p){const _=Math.min(v.getLineCount(),p+Nt.MAX_SOURCE_PREVIEW_LINES),L=[];let E=!0,M=v.bracketPairs.findNextBracket(new h.Position(p,1));for(;M!==null;){if(L.length===0)L.push(M);else{const B=L[L.length-1];if(B.open[0]===M.open[0]&&B.isOpen&&!M.isOpen?L.pop():L.push(M),L.length===0)if(E)E=!1;else return new g.Range(p,1,M.range.endLineNumber+1,1)}const k=v.getLineMaxColumn(p);let A=M.range.endLineNumber,F=M.range.endColumn;if(k===M.range.endColumn&&(A++,F=1),A>_)return new g.Range(p,1,_+1,1);M=v.bracketPairs.findNextBracket(new h.Position(A,F))}return new g.Range(p,1,_+1,1)}addDecoration(v,p){const _={range:v,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:p}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[_])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(v,p){return this.editor.hasModel()&&v.isNoneOrSingleMouseDown&&v.target.type===6&&(v.hasTriggerModifier||(p?p.keyCodeIsTriggerKey:!1))&&t.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(v,p){const _=this.editor.getModel();return _?(0,u.getDefinitionsAtPosition)(_,v,p):Promise.resolve(null)}gotoDefinition(v,p){return this.editor.setPosition(v),this.editor.invokeWithinContext(_=>{const L=!p&&this.editor.getOption(78)&&!this.isInPeekEditor(_);return new l.DefinitionAction({openToSide:p,openInPeek:L,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(_,this.editor)})}isInPeekEditor(v){const p=v.get(s.IContextKeyService);return d.PeekContext.inPeekEditor.getValue(p)}dispose(){this.toUnhook.dispose()}};f.ID="editor.contrib.gotodefinitionatposition",f.MAX_SOURCE_PREVIEW_LINES=8,f=Be([me(1,n.ITextModelService),me(2,i.ILanguageService)],f),e.GotoDefinitionAtPositionEditorContribution=f,(0,C.registerEditorContribution)(f.ID,f),(0,r.registerThemingParticipant)((w,v)=>{const p=w.getColor(a.editorActiveLinkForeground);p&&v.addRule(`.monaco-editor .goto-definition-link { color: ${p} !important; }`)})}),define(ee[729],te([0,1,7,19,10,14,2,41,3,193,153,283,150,293,533,76,52,69,23,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const l=y.$;class u{constructor(p,_,L){this.owner=p,this.range=_,this.marker=L}isValidForHoverAnchor(p){return p.type===1&&this.range.startColumn<=p.range.startColumn&&this.range.endColumn>=p.range.endColumn}}e.MarkerHover=u;const f={type:1,filter:{include:i.CodeActionKind.QuickFix}};let w=class{constructor(p,_,L){this._editor=p,this._markerDecorationsService=_,this._openerService=L,this.recentMarkerCodeActionsInfo=void 0}computeSync(p,_){if(!this._editor.hasModel()||p.type!==1)return[];const L=this._editor.getModel(),E=p.range.startLineNumber,M=L.getLineMaxColumn(E),k=[];for(const A of _){const F=A.range.startLineNumber===E?A.range.startColumn:1,B=A.range.endLineNumber===E?A.range.endColumn:M,T=this._markerDecorationsService.getMarker(L.uri,A);if(!T)continue;const R=new C.Range(p.range.startLineNumber,F,p.range.startLineNumber,B);k.push(new u(this,R,T))}return k}renderHoverParts(p,_){if(!_.length)return S.Disposable.None;const L=new S.DisposableStore;_.forEach(M=>p.fragment.appendChild(this.renderMarkerHover(M,L)));const E=_.length===1?_[0]:_.sort((M,k)=>d.MarkerSeverity.compare(M.marker.severity,k.marker.severity))[0];return this.renderMarkerStatusbar(p,E,L),L}renderMarkerHover(p,_){const L=l("div.hover-row"),E=y.append(L,l("div.marker.hover-contents")),{source:M,message:k,code:A,relatedInformation:F}=p.marker;this._editor.applyFontInfo(E);const B=y.append(E,l("span"));if(B.style.whiteSpace="pre-wrap",B.innerText=k,M||A)if(A&&typeof A!="string"){const T=l("span");if(M){const D=y.append(T,l("span"));D.innerText=M}const R=y.append(T,l("a.code-link"));R.setAttribute("href",A.target.toString()),_.add(y.addDisposableListener(R,"click",D=>{this._openerService.open(A.target,{allowCommands:!0}),D.preventDefault(),D.stopPropagation()}));const O=y.append(R,l("span"));O.innerText=A.value;const P=y.append(E,T);P.style.opacity="0.6",P.style.paddingLeft="6px"}else{const T=y.append(E,l("span"));T.style.opacity="0.6",T.style.paddingLeft="6px",T.innerText=M&&A?`${M}(${A})`:M||`(${A})`}if((0,m.isNonEmptyArray)(F))for(const{message:T,resource:R,startLineNumber:O,startColumn:P}of F){const D=y.append(E,l("div"));D.style.marginTop="8px";const x=y.append(D,l("a"));x.innerText=`${(0,b.basename)(R)}(${O}, ${P}): `,x.style.cursor="pointer",_.add(y.addDisposableListener(x,"click",j=>{j.stopPropagation(),j.preventDefault(),this._openerService&&this._openerService.open(R,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:O,startColumn:P}}}).catch(I.onUnexpectedError)}));const H=y.append(D,l("span"));H.innerText=T,this._editor.applyFontInfo(H)}return L}renderMarkerStatusbar(p,_,L){if((_.marker.severity===d.MarkerSeverity.Error||_.marker.severity===d.MarkerSeverity.Warning||_.marker.severity===d.MarkerSeverity.Info)&&p.statusBar.addAction({label:o.localize(0,null),commandId:n.NextMarkerAction.ID,run:()=>{var E;p.hide(),(E=n.MarkerController.get(this._editor))===null||E===void 0||E.showAtMarker(_.marker),this._editor.focus()}}),!this._editor.getOption(81)){const E=p.statusBar.append(l("div"));this.recentMarkerCodeActionsInfo&&(d.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===d.IMarkerData.makeKey(_.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(E.textContent=o.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const M=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?S.Disposable.None:L.add((0,N.disposableTimeout)(()=>E.textContent=o.localize(2,null),200));E.textContent||(E.textContent=String.fromCharCode(160));const k=this.getCodeActions(_.marker);L.add((0,S.toDisposable)(()=>k.cancel())),k.then(A=>{if(M.dispose(),this.recentMarkerCodeActionsInfo={marker:_.marker,hasCodeActions:A.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){A.dispose(),E.textContent=o.localize(3,null);return}E.style.display="none";let F=!1;L.add((0,S.toDisposable)(()=>{F||A.dispose()})),p.statusBar.addAction({label:o.localize(4,null),commandId:t.QuickFixAction.Id,run:B=>{F=!0;const T=t.QuickFixController.get(this._editor),R=y.getDomNodePagePosition(B);p.hide(),T==null||T.showCodeActions(f,A,{x:R.left+6,y:R.top+R.height+6})}})},I.onUnexpectedError)}}getCodeActions(p){return(0,N.createCancelablePromise)(_=>(0,g.getCodeActions)(this._editor.getModel(),new C.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn),f,s.Progress.None,_))}};w=Be([me(1,h.IMarkerDecorationsService),me(2,c.IOpenerService)],w),e.MarkerHoverParticipant=w,(0,r.registerThemingParticipant)((v,p)=>{const _=v.getColor(a.textLinkForeground);_&&p.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${_}; }`);const L=v.getColor(a.textLinkActiveForeground);L&&p.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${L}; }`)})}),define(ee[730],te([0,1,7,44,21,15,3,59,206,105,37,26,16,75,9]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function d(s,a,r,l){var u;return De(this,void 0,void 0,function*(){const f=s.get(b.ITextModelService),w=s.get(n.IContextMenuService),v=s.get(t.ICommandService),p=s.get(o.IInstantiationService);if(yield l.item.resolve(N.CancellationToken.None),!l.part.location)return;const _=l.part.location,L=[],E=new Set(g.MenuRegistry.getMenuItems(g.MenuId.EditorContext).map(k=>(0,g.isIMenuItem)(k)?k.command.id:""));for(const k of I.EditorExtensionsRegistry.getEditorActions())k instanceof C.SymbolNavigationAction&&E.has(k.id)&&L.push(new m.Action(k.id,k.label,void 0,!0,()=>De(this,void 0,void 0,function*(){const A=yield f.createModelReference(_.uri);try{yield p.invokeFunction(k.run.bind(k),a,new C.SymbolNavigationAnchor(A.object.textEditorModel,S.Range.getStartPosition(_.range)))}finally{A.dispose()}})));if(l.part.command){const{command:k}=l.part;L.push(new m.Separator),L.push(new m.Action(k.id,k.title,void 0,!0,()=>{var A;v.executeCommand(k.id,...(A=k.arguments)!==null&&A!==void 0?A:[])}))}const M=a.getOption(115);w.showContextMenu({domForShadowRoot:M&&(u=a.getDomNode())!==null&&u!==void 0?u:void 0,getAnchor:()=>{const k=y.getDomNodePagePosition(r);return{x:k.left,y:k.top+k.height+8}},getActions:()=>L,onHide:()=>{a.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=d;function c(s,a,r,l){return De(this,void 0,void 0,function*(){const f=yield s.get(b.ITextModelService).createModelReference(l.uri);yield r.invokeWithinContext(w=>De(this,void 0,void 0,function*(){const v=a.hasSideBySideModifier,p=w.get(i.IContextKeyService),_=h.PeekContext.inPeekEditor.getValue(p),L=!v&&r.getOption(78)&&!_;return new C.DefinitionAction({openToSide:v,openInPeek:L,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(w,r,{model:f.object.textEditorModel,position:S.Range.getStartPosition(l.range)})})),f.dispose()})}e.goToDefinitionWithLocation=c}),define(ee[296],te([0,1,10,21,14,2,48,20,25,129,15,30,3,18,50,32,195,59,183,593,730,26,54,9,40,23,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class L{constructor(){this._entries=new S.LRUCache(50)}get(B){const T=L._key(B);return this._entries.get(T)}set(B,T){const R=L._key(B);this._entries.set(R,T)}static _key(B){return`${B.uri.toString()}/${B.getVersionId()}`}}const E=(0,w.createDecorator)("IInlayHintsCache");(0,f.registerSingleton)(E,L,!0);class M{constructor(B,T){this.item=B,this.index=T}get part(){const B=this.item.hint.label;return typeof B=="string"?{label:B}:B[this.index]}}e.RenderedInlayHintLabelPart=M;let k=class ri{constructor(B,T,R,O,P,D){this._editor=B,this._inlayHintsCache=R,this._commandService=O,this._notificationService=P,this._instaService=D,this._disposables=new I.DisposableStore,this._sessionDisposables=new I.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new h.DynamicCssRules(this._editor),this._debounceInfo=T.for(n.InlayHintsProviderRegistry,"InlayHint",{min:25}),this._disposables.add(n.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(B.onDidChangeModel(()=>this._update())),this._disposables.add(B.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(B.onDidChangeConfiguration(x=>{x.hasChanged(127)&&this._update()})),this._update()}static get(B){var T;return(T=B.getContribution(ri.ID))!==null&&T!==void 0?T:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const B=this._editor.getModel();if(!B||!n.InlayHintsProviderRegistry.has(B))return;const T=this._inlayHintsCache.get(B);T&&this._updateHintsDecorators([B.getFullModelRange()],T),this._sessionDisposables.add((0,I.toDisposable)(()=>{B.isDisposed()||this._cacheHintsForFastRestore(B)}));let R,O=new Set;const P=new y.RunOnceScheduler(()=>De(this,void 0,void 0,function*(){const D=Date.now();R==null||R.dispose(!0),R=new m.CancellationTokenSource;const x=B.onWillDispose(()=>R==null?void 0:R.cancel());try{const H=R.token,j=yield r.InlayHintsFragments.create(B,this._getHintsRanges(),H);if(P.delay=this._debounceInfo.update(B,Date.now()-D),H.isCancellationRequested){j.dispose();return}for(const Q of j.provider)typeof Q.onDidChangeInlayHints=="function"&&!O.has(Q)&&(O.add(Q),this._sessionDisposables.add(Q.onDidChangeInlayHints(()=>{P.isScheduled()||P.schedule()})));this._sessionDisposables.add(j),this._updateHintsDecorators(j.ranges,j.items),this._cacheHintsForFastRestore(B)}catch(H){(0,N.onUnexpectedError)(H)}finally{R.dispose(),x.dispose()}}),this._debounceInfo.get(B));this._sessionDisposables.add(P),this._sessionDisposables.add((0,I.toDisposable)(()=>R==null?void 0:R.dispose(!0))),P.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(D=>{(D.scrollTopChanged||!P.isScheduled())&&P.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(D=>{const x=Math.max(P.delay,1250);P.schedule(x)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){let B=()=>{};const T=new a.ClickLinkGesture(this._editor);return T.onMouseMoveOrRelevantKeyDown(R=>{const[O]=R,P=this._getInlayHintLabelPart(O),D=this._editor.getModel();if(!P||!O.hasTriggerModifier||!D){B();return}if(O.hasTriggerModifier&&(P.part.command||P.part.location)){const x=new m.CancellationTokenSource;P.item.resolve(x.token),this._activeInlayHintPart=P;const H=this._activeInlayHintPart.item.hint.position.lineNumber,j=new i.Range(H,1,H,D.getLineMaxColumn(H)),Q=new Set;for(const G of this._decorationsMetadata.values())j.containsRange(G.item.anchor.range)&&Q.add(G.item);this._updateHintsDecorators([j],Array.from(Q)),B=()=>{x.dispose(!0),this._activeInlayHintPart=void 0,this._updateHintsDecorators([j],Array.from(Q))}}}),T.onCancel(B),T.onExecute(R=>{var O;const P=this._getInlayHintLabelPart(R);if(P){const D=P.part;D.location?this._instaService.invokeFunction(l.goToDefinitionWithLocation,R,this._editor,D.location):n.Command.is(D.command)&&this._commandService.executeCommand(D.command.id,...(O=D.command.arguments)!==null&&O!==void 0?O:[]).catch(x=>this._notificationService.error(x))}}),T}_installContextMenu(){return this._editor.onContextMenu(B=>De(this,void 0,void 0,function*(){if(!(B.event.target instanceof HTMLElement))return;const T=this._getInlayHintLabelPart(B);T&&(yield this._instaService.invokeFunction(l.showGoToContextMenu,this._editor,B.event.target,T))}))}_getInlayHintLabelPart(B){var T;if(B.target.type!==6)return;const R=(T=B.target.detail.injectedText)===null||T===void 0?void 0:T.options;if(R instanceof d.ModelDecorationInjectedTextOptions&&(R==null?void 0:R.attachedData)instanceof M)return R.attachedData}_cacheHintsForFastRestore(B){const T=new Map;for(const[R,O]of this._decorationsMetadata){if(T.has(O.item))continue;let P=O.item;const D=B.getDecorationRange(R);if(D){const x=new r.InlayHintAnchor(D,O.item.anchor.direction);P=O.item.with({anchor:x})}T.set(O.item,P)}this._inlayHintsCache.set(B,Array.from(T.values()))}_getHintsRanges(){const B=30,T=this._editor.getModel(),R=this._editor.getVisibleRangesPlusViewportAboveBelow(),O=[];for(const P of R.sort(i.Range.compareRangesUsingStarts)){const D=T.validateRange(new i.Range(P.startLineNumber-B,P.startColumn,P.endLineNumber+B,P.endColumn));O.length===0||!i.Range.areIntersectingOrTouching(O[O.length-1],D)?O.push(D):O[O.length-1]=i.Range.plusRange(O[O.length-1],D)}return O}_updateHintsDecorators(B,T){var R,O;const P=[],D=(ne,Z,U,W,V)=>{P.push({item:ne,classNameRef:Z,decoration:{range:ne.anchor.range,options:{description:"InlayHint",showIfCollapsed:ne.anchor.range.isEmpty(),collapseOnReplaceEdit:!ne.anchor.range.isEmpty(),stickiness:0,[ne.anchor.direction]:{content:U,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Z.className,cursorStops:W,attachedData:V}}}})},x=(ne,Z)=>{const U=this._ruleFactory.createClassNameRef({width:`${H/3|0}px`,display:"inline-block"});D(ne,U,"\u200A",Z?o.InjectedTextCursorStops.Right:o.InjectedTextCursorStops.None)},{fontSize:H,fontFamily:j}=this._getLayoutInfo(),Q="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Q,j);for(const ne of T){ne.hint.paddingLeft&&x(ne,!1);const Z=typeof ne.hint.label=="string"?[{label:ne.hint.label}]:ne.hint.label;for(let U=0;U<Z.length;U++){const W=Z[U],V=U===0,Y=U===Z.length-1,X={fontSize:`${H}px`,fontFamily:`var(${Q}), ${t.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:"middle"};this._fillInColors(X,ne.hint),(W.command||W.location)&&((R=this._activeInlayHintPart)===null||R===void 0?void 0:R.item)===ne&&this._activeInlayHintPart.index===U&&(X.textDecoration="underline",X.cursor="pointer",X.color=(0,_.themeColorFromId)(p.editorActiveLinkForeground)),V&&Y?(X.padding=`1px ${Math.max(1,H/4)|0}px`,X.borderRadius=`${H/4|0}px`):V?(X.padding=`1px 0 1px ${Math.max(1,H/4)|0}px`,X.borderRadius=`${H/4|0}px 0 0 ${H/4|0}px`):Y?(X.padding=`1px ${Math.max(1,H/4)|0}px 1px 0`,X.borderRadius=`0 ${H/4|0}px ${H/4|0}px 0`):X.padding="1px 0 1px 0",D(ne,this._ruleFactory.createClassNameRef(X),A(W.label),Y&&!ne.hint.paddingRight?o.InjectedTextCursorStops.Right:o.InjectedTextCursorStops.None,new M(ne,U))}if(ne.hint.paddingRight&&x(ne,!0),P.length>ri._MAX_DECORATORS)break}const G=[];for(const ne of B)for(const{id:Z}of(O=this._editor.getDecorationsInRange(ne))!==null&&O!==void 0?O:[]){const U=this._decorationsMetadata.get(Z);U&&(G.push(Z),U.classNameRef.dispose(),this._decorationsMetadata.delete(Z))}const se=this._editor.deltaDecorations(G,P.map(ne=>ne.decoration));for(let ne=0;ne<se.length;ne++){const Z=P[ne];this._decorationsMetadata.set(se[ne],{item:Z.item,classNameRef:Z.classNameRef})}}_fillInColors(B,T){T.kind===n.InlayHintKind.Parameter?(B.backgroundColor=(0,_.themeColorFromId)(p.editorInlayHintParameterBackground),B.color=(0,_.themeColorFromId)(p.editorInlayHintParameterForeground)):T.kind===n.InlayHintKind.Type?(B.backgroundColor=(0,_.themeColorFromId)(p.editorInlayHintTypeBackground),B.color=(0,_.themeColorFromId)(p.editorInlayHintTypeForeground)):(B.backgroundColor=(0,_.themeColorFromId)(p.editorInlayHintBackground),B.color=(0,_.themeColorFromId)(p.editorInlayHintForeground))}_getLayoutInfo(){const B=this._editor.getOption(127),T=this._editor.getOption(46);let R=B.fontSize;(!R||R<5||R>T)&&(R=T*.9|0);const O=B.fontFamily||this._editor.getOption(43);return{fontSize:R,fontFamily:O}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let B of this._decorationsMetadata.values())B.classNameRef.dispose();this._decorationsMetadata.clear()}};k.ID="editor.contrib.InlayHints",k._MAX_DECORATORS=1500,k=Be([me(1,c.ILanguageFeatureDebounceService),me(2,E),me(3,u.ICommandService),me(4,v.INotificationService),me(5,w.IInstantiationService)],k),e.InlayHintsController=k;function A(F){const B="\xA0";return F.replace(/[ \t]/g,B)}(0,g.registerEditorContribution)(k.ID,k),u.CommandsRegistry.registerCommand("_executeInlayHintProvider",(F,...B)=>De(void 0,void 0,void 0,function*(){const[T,R]=B;(0,b.assertType)(C.URI.isUri(T)),(0,b.assertType)(i.Range.isIRange(R));const O=yield F.get(s.ITextModelService).createModelReference(T);try{const P=yield r.InlayHintsFragments.create(O.object.textEditorModel,[i.Range.lift(R)],m.CancellationToken.None),D=P.items.map(x=>x.hint);return setTimeout(()=>P.dispose(),0),D}finally{O.dispose()}}))});var Ct=this&&this.__asyncValues||function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=K[Symbol.asyncIterator],y;return e?e.call(K):(K=typeof __values=="function"?__values(K):K[Symbol.iterator](),y={},m("next"),m("throw"),m("return"),y[Symbol.asyncIterator]=function(){return this},y);function m(I){y[I]=K[I]&&function(S){return new Promise(function(b,C){S=K[I](S),N(b,C,S.done,S.value)})}}function N(I,S,b,C){Promise.resolve(C).then(function(h){I({value:h,done:b})},S)}};define(ee[731],te([0,1,10,65,11,18,32,184,34,59,282,198,296,39,52]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class d extends b.HoverForeignElementAnchor{constructor(a,r){super(10,r,a.item.anchor.range);this.part=a}}let c=class extends t.MarkdownHoverParticipant{constructor(a,r,l,u,f){super(a,r,l,u);this._resolverService=f}suggestHoverAnchor(a){var r;if(!i.InlayHintsController.get(this._editor)||a.target.type!==6)return null;const u=(r=a.target.detail.injectedText)===null||r===void 0?void 0:r.options;return u instanceof S.ModelDecorationInjectedTextOptions&&u.attachedData instanceof i.RenderedInlayHintLabelPart?new d(u.attachedData,this):null}computeSync(){return[]}computeAsync(a,r,l){return a instanceof d?new y.AsyncIterableObject(u=>De(this,void 0,void 0,function*(){var f,w;const{part:v}=a;if(yield v.item.resolve(l),l.isCancellationRequested)return;let p;typeof v.item.hint.tooltip=="string"?p=new m.MarkdownString().appendText(v.item.hint.tooltip):v.item.hint.tooltip&&(p=v.item.hint.tooltip),p&&u.emitOne(new t.MarkdownHover(this,a.range,[p],0));let _;typeof v.part.tooltip=="string"?_=new m.MarkdownString().appendText(v.part.tooltip):v.part.tooltip&&(_=v.part.tooltip),_&&u.emitOne(new t.MarkdownHover(this,a.range,[_],1));const L=yield this._resolveInlayHintLabelPartHover(v,l);try{for(var E=Ct(L),M;M=yield E.next(),!M.done;){let k=M.value;u.emitOne(k)}}catch(k){f={error:k}}finally{try{M&&!M.done&&(w=E.return)&&(yield w.call(E))}finally{if(f)throw f.error}}})):y.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(a,r){return De(this,void 0,void 0,function*(){if(!a.part.location)return y.AsyncIterableObject.EMPTY;const{uri:l,range:u}=a.part.location,f=yield this._resolverService.createModelReference(l);try{const w=f.object.textEditorModel;return I.HoverProviderRegistry.has(w)?(0,g.getHover)(w,new N.Position(u.startLineNumber,u.startColumn),r).filter(v=>!(0,m.isEmptyMarkdownString)(v.hover.contents)).map(v=>new t.MarkdownHover(this,a.item.anchor.range,v.hover.contents,2+v.ordinal)):y.AsyncIterableObject.EMPTY}finally{f.dispose()}})}};c=Be([me(1,C.ILanguageService),me(2,o.IOpenerService),me(3,n.IConfigurationService),me(4,h.ITextModelService)],c),e.InlayHintsHover=c}),define(ee[732],te([0,1,15,28,294,39,16,9,40,79]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let g=class extends N.ReferencesController{constructor(i,n,o,d,c,s,a){super(!0,i,n,o,d,c,s,a)}};g=Be([me(1,S.IContextKeyService),me(2,m.ICodeEditorService),me(3,C.INotificationService),me(4,b.IInstantiationService),me(5,h.IStorageService),me(6,I.IConfigurationService)],g),e.StandaloneReferencesController=g,(0,y.registerEditorContribution)(N.ReferencesController.ID,g)}),define(ee[733],te([0,1,14,2,49,73,578,126,54,40,156]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const t=!1;function i(w){return w.scheme===N.Schemas.file?w.fsPath:w.path}let n=0;class o{constructor(v,p,_,L,E,M,k){this.id=++n,this.type=0,this.actual=v,this.label=v.label,this.confirmBeforeUndo=v.confirmBeforeUndo||!1,this.resourceLabel=p,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=E,this.sourceId=M,this.sourceOrder=k,this.isValid=!0}setValid(v){this.isValid=v}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(v,p){this.resourceLabel=v,this.reason=p}}class c{constructor(){this.elements=new Map}createMessage(){const v=[],p=[];for(const[,L]of this.elements)(L.reason===0?v:p).push(L.resourceLabel);let _=[];return v.length>0&&_.push(S.localize(0,null,v.join(", "))),p.length>0&&_.push(S.localize(1,null,p.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(v){return this.elements.has(v)}set(v,p){this.elements.set(v,p)}delete(v){return this.elements.delete(v)}}class s{constructor(v,p,_,L,E,M,k){this.id=++n,this.type=1,this.actual=v,this.label=v.label,this.confirmBeforeUndo=v.confirmBeforeUndo||!1,this.resourceLabels=p,this.strResources=_,this.groupId=L,this.groupOrder=E,this.sourceId=M,this.sourceOrder=k,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(v,p,_){this.removedResources||(this.removedResources=new c),this.removedResources.has(p)||this.removedResources.set(p,new d(v,_))}setValid(v,p,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(p),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new c),this.invalidatedResources.has(p)||this.invalidatedResources.set(p,new d(v,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class a{constructor(v,p){this.resourceLabel=v,this.strResource=p,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const v of this._past)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,0);for(const v of this._future)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let v=[];v.push(`* ${this.strResource}:`);for(let p=0;p<this._past.length;p++)v.push(`   * [UNDO] ${this._past[p]}`);for(let p=this._future.length-1;p>=0;p--)v.push(`   * [REDO] ${this._future[p]}`);return v.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(v,p){v.type===1?v.setValid(this.resourceLabel,this.strResource,p):v.setValid(p)}setElementsValidFlag(v,p){for(const _ of this._past)p(_.actual)&&this._setElementValidFlag(_,v);for(const _ of this._future)p(_.actual)&&this._setElementValidFlag(_,v)}pushElement(v){for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(v),this.versionId++}createSnapshot(v){const p=[];for(let _=0,L=this._past.length;_<L;_++)p.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)p.push(this._future[_].id);return new g.ResourceEditStackSnapshot(v,p)}restoreSnapshot(v){const p=v.elements.length;let _=!0,L=0,E=-1;for(let k=0,A=this._past.length;k<A;k++,L++){const F=this._past[k];_&&(L>=p||F.id!==v.elements[L])&&(_=!1,E=0),!_&&F.type===1&&F.removeResource(this.resourceLabel,this.strResource,0)}let M=-1;for(let k=this._future.length-1;k>=0;k--,L++){const A=this._future[k];_&&(L>=p||A.id!==v.elements[L])&&(_=!1,M=k),!_&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),M!==-1&&(this._future=this._future.slice(M+1)),this.versionId++}getElements(){const v=[],p=[];for(const _ of this._past)v.push(_.actual);for(const _ of this._future)p.push(_.actual);return{past:v,future:p}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(v,p){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===v){p.has(this.strResource)?this._past[_]=p.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(v,p){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===v){p.has(this.strResource)?this._future[_]=p.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(v){this._past.pop(),this._future.push(v),this.versionId++}moveForward(v){this._future.pop(),this._past.push(v),this.versionId++}}class r{constructor(v){this.editStacks=v,this._versionIds=[];for(let p=0,_=this.editStacks.length;p<_;p++)this._versionIds[p]=this.editStacks[p].versionId}isValid(){for(let v=0,p=this.editStacks.length;v<p;v++)if(this._versionIds[v]!==this.editStacks[v].versionId)return!1;return!0}}const l=new a("","");l.locked=!0;let u=class{constructor(v,p){this._dialogService=v,this._notificationService=p,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(v){for(const p of this._uriComparisonKeyComputers)if(p[0]===v.scheme)return p[1].getComparisonKey(v);return v.toString()}_print(v){console.log("------------------------------------"),console.log(`AFTER ${v}: `);let p=[];for(const _ of this._editStacks)p.push(_[1].toString());console.log(p.join(`
`))}pushElement(v,p=g.UndoRedoGroup.None,_=g.UndoRedoSource.None){if(v.type===0){const L=i(v.resource),E=this.getUriComparisonKey(v.resource);this._pushElement(new o(v,L,E,p.id,p.nextOrder(),_.id,_.nextOrder()))}else{const L=new Set,E=[],M=[];for(const k of v.resources){const A=i(k),F=this.getUriComparisonKey(k);L.has(F)||(L.add(F),E.push(A),M.push(F))}E.length===1?this._pushElement(new o(v,E[0],M[0],p.id,p.nextOrder(),_.id,_.nextOrder())):this._pushElement(new s(v,E,M,p.id,p.nextOrder(),_.id,_.nextOrder()))}t&&this._print("pushElement")}_pushElement(v){for(let p=0,_=v.strResources.length;p<_;p++){const L=v.resourceLabels[p],E=v.strResources[p];let M;this._editStacks.has(E)?M=this._editStacks.get(E):(M=new a(L,E),this._editStacks.set(E,M)),M.pushElement(v)}}getLastElement(v){const p=this.getUriComparisonKey(v);if(this._editStacks.has(p)){const _=this._editStacks.get(p);if(_.hasFutureElements())return null;const L=_.getClosestPastElement();return L?L.actual:null}return null}_splitPastWorkspaceElement(v,p){const _=v.actual.split(),L=new Map;for(const E of _){const M=i(E.resource),k=this.getUriComparisonKey(E.resource),A=new o(E,M,k,0,0,0,0);L.set(A.strResource,A)}for(const E of v.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(v,L)}}_splitFutureWorkspaceElement(v,p){const _=v.actual.split(),L=new Map;for(const E of _){const M=i(E.resource),k=this.getUriComparisonKey(E.resource),A=new o(E,M,k,0,0,0,0);L.set(A.strResource,A)}for(const E of v.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(v,L)}}removeElements(v){const p=typeof v=="string"?v:this.getUriComparisonKey(v);this._editStacks.has(p)&&(this._editStacks.get(p).dispose(),this._editStacks.delete(p)),t&&this._print("removeElements")}setElementsValidFlag(v,p,_){const L=this.getUriComparisonKey(v);this._editStacks.has(L)&&this._editStacks.get(L).setElementsValidFlag(p,_),t&&this._print("setElementsValidFlag")}createSnapshot(v){const p=this.getUriComparisonKey(v);return this._editStacks.has(p)?this._editStacks.get(p).createSnapshot(v):new g.ResourceEditStackSnapshot(v,[])}restoreSnapshot(v){const p=this.getUriComparisonKey(v.resource);if(this._editStacks.has(p)){const _=this._editStacks.get(p);_.restoreSnapshot(v),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(p))}t&&this._print("restoreSnapshot")}getElements(v){const p=this.getUriComparisonKey(v);return this._editStacks.has(p)?this._editStacks.get(p).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(v){if(!v)return[null,null];let p=null,_=null;for(const[L,E]of this._editStacks){const M=E.getClosestPastElement();!M||M.sourceId===v&&(!p||M.sourceOrder>p.sourceOrder)&&(p=M,_=L)}return[p,_]}canUndo(v){if(v instanceof g.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(v.id);return!!_}const p=this.getUriComparisonKey(v);return this._editStacks.has(p)?this._editStacks.get(p).hasPastElements():!1}_onError(v,p){(0,y.onUnexpectedError)(v);for(const _ of p.strResources)this.removeElements(_);this._notificationService.error(v)}_acquireLocks(v){for(const p of v.editStacks)if(p.locked)throw new Error("Cannot acquire edit stack lock");for(const p of v.editStacks)p.locked=!0;return()=>{for(const p of v.editStacks)p.locked=!1}}_safeInvokeWithLocks(v,p,_,L,E){const M=this._acquireLocks(_);let k;try{k=p()}catch(A){return M(),L.dispose(),this._onError(A,v)}return k?k.then(()=>(M(),L.dispose(),E()),A=>(M(),L.dispose(),this._onError(A,v))):(M(),L.dispose(),E())}_invokeWorkspacePrepare(v){return De(this,void 0,void 0,function*(){if(typeof v.actual.prepareUndoRedo=="undefined")return m.Disposable.None;const p=v.actual.prepareUndoRedo();return typeof p=="undefined"?m.Disposable.None:p})}_invokeResourcePrepare(v,p){if(v.actual.type!==1||typeof v.actual.prepareUndoRedo=="undefined")return p(m.Disposable.None);const _=v.actual.prepareUndoRedo();return _?(0,m.isDisposable)(_)?p(_):_.then(L=>p(L)):p(m.Disposable.None)}_getAffectedEditStacks(v){const p=[];for(const _ of v.strResources)p.push(this._editStacks.get(_)||l);return new r(p)}_tryToSplitAndUndo(v,p,_,L){if(p.canSplit())return this._splitPastWorkspaceElement(p,_),this._notificationService.warn(L),new f(this._undo(v,0,!0));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(L),new f}_checkWorkspaceUndo(v,p,_,L){if(p.removedResources)return this._tryToSplitAndUndo(v,p,p.removedResources,S.localize(2,null,p.label,p.removedResources.createMessage()));if(L&&p.invalidatedResources)return this._tryToSplitAndUndo(v,p,p.invalidatedResources,S.localize(3,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const k of _.editStacks)k.getClosestPastElement()!==p&&E.push(k.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(v,p,null,S.localize(4,null,p.label,E.join(", ")));const M=[];for(const k of _.editStacks)k.locked&&M.push(k.resourceLabel);return M.length>0?this._tryToSplitAndUndo(v,p,null,S.localize(5,null,p.label,M.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(v,p,null,S.localize(6,null,p.label))}_workspaceUndo(v,p,_){const L=this._getAffectedEditStacks(p),E=this._checkWorkspaceUndo(v,p,L,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(v,p,L,_)}_isPartOfUndoGroup(v){if(!v.groupId)return!1;for(const[,p]of this._editStacks){const _=p.getClosestPastElement();if(!!_){if(_===v){const L=p.getSecondClosestPastElement();if(L&&L.groupId===v.groupId)return!0}if(_.groupId===v.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(v,p,_,L){return De(this,void 0,void 0,function*(){if(p.canSplit()&&!this._isPartOfUndoGroup(p)){const k=yield this._dialogService.show(I.default.Info,S.localize(7,null,p.label),[S.localize(8,null,_.editStacks.length),S.localize(9,null),S.localize(10,null)],{cancelId:2});if(k.choice===2)return;if(k.choice===1)return this._splitPastWorkspaceElement(p,null),this._undo(v,0,!0);const A=this._checkWorkspaceUndo(v,p,_,!1);if(A)return A.returnValue;L=!0}let E;try{E=yield this._invokeWorkspacePrepare(p)}catch(k){return this._onError(k,p)}const M=this._checkWorkspaceUndo(v,p,_,!0);if(M)return E.dispose(),M.returnValue;for(const k of _.editStacks)k.moveBackward(p);return this._safeInvokeWithLocks(p,()=>p.actual.undo(),_,E,()=>this._continueUndoInGroup(p.groupId,L))})}_resourceUndo(v,p,_){if(!p.isValid){v.flushAllElements();return}if(v.locked){const L=S.localize(11,null,p.label);this._notificationService.warn(L);return}return this._invokeResourcePrepare(p,L=>(v.moveBackward(p),this._safeInvokeWithLocks(p,()=>p.actual.undo(),new r([v]),L,()=>this._continueUndoInGroup(p.groupId,_))))}_findClosestUndoElementInGroup(v){if(!v)return[null,null];let p=null,_=null;for(const[L,E]of this._editStacks){const M=E.getClosestPastElement();!M||M.groupId===v&&(!p||M.groupOrder>p.groupOrder)&&(p=M,_=L)}return[p,_]}_continueUndoInGroup(v,p){if(!v)return;const[,_]=this._findClosestUndoElementInGroup(v);if(_)return this._undo(_,0,p)}undo(v){if(v instanceof g.UndoRedoSource){const[,p]=this._findClosestUndoElementWithSource(v.id);return p?this._undo(p,v.id,!1):void 0}return typeof v=="string"?this._undo(v,0,!1):this._undo(this.getUriComparisonKey(v),0,!1)}_undo(v,p=0,_){if(!this._editStacks.has(v))return;const L=this._editStacks.get(v),E=L.getClosestPastElement();if(!E)return;if(E.groupId){const[k,A]=this._findClosestUndoElementInGroup(E.groupId);if(E!==k&&A)return this._undo(A,p,_)}if((E.sourceId!==p||E.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(v,p,E);try{return E.type===1?this._workspaceUndo(v,E,_):this._resourceUndo(L,E,_)}finally{t&&this._print("undo")}}_confirmAndContinueUndo(v,p,_){return De(this,void 0,void 0,function*(){if((yield this._dialogService.show(I.default.Info,S.localize(12,null,_.label),[S.localize(13,null),S.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(v,p,!0)})}_findClosestRedoElementWithSource(v){if(!v)return[null,null];let p=null,_=null;for(const[L,E]of this._editStacks){const M=E.getClosestFutureElement();!M||M.sourceId===v&&(!p||M.sourceOrder<p.sourceOrder)&&(p=M,_=L)}return[p,_]}canRedo(v){if(v instanceof g.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(v.id);return!!_}const p=this.getUriComparisonKey(v);return this._editStacks.has(p)?this._editStacks.get(p).hasFutureElements():!1}_tryToSplitAndRedo(v,p,_,L){if(p.canSplit())return this._splitFutureWorkspaceElement(p,_),this._notificationService.warn(L),new f(this._redo(v));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(L),new f}_checkWorkspaceRedo(v,p,_,L){if(p.removedResources)return this._tryToSplitAndRedo(v,p,p.removedResources,S.localize(15,null,p.label,p.removedResources.createMessage()));if(L&&p.invalidatedResources)return this._tryToSplitAndRedo(v,p,p.invalidatedResources,S.localize(16,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const k of _.editStacks)k.getClosestFutureElement()!==p&&E.push(k.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(v,p,null,S.localize(17,null,p.label,E.join(", ")));const M=[];for(const k of _.editStacks)k.locked&&M.push(k.resourceLabel);return M.length>0?this._tryToSplitAndRedo(v,p,null,S.localize(18,null,p.label,M.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(v,p,null,S.localize(19,null,p.label))}_workspaceRedo(v,p){const _=this._getAffectedEditStacks(p),L=this._checkWorkspaceRedo(v,p,_,!1);return L?L.returnValue:this._executeWorkspaceRedo(v,p,_)}_executeWorkspaceRedo(v,p,_){return De(this,void 0,void 0,function*(){let L;try{L=yield this._invokeWorkspacePrepare(p)}catch(M){return this._onError(M,p)}const E=this._checkWorkspaceRedo(v,p,_,!0);if(E)return L.dispose(),E.returnValue;for(const M of _.editStacks)M.moveForward(p);return this._safeInvokeWithLocks(p,()=>p.actual.redo(),_,L,()=>this._continueRedoInGroup(p.groupId))})}_resourceRedo(v,p){if(!p.isValid){v.flushAllElements();return}if(v.locked){const _=S.localize(20,null,p.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(p,_=>(v.moveForward(p),this._safeInvokeWithLocks(p,()=>p.actual.redo(),new r([v]),_,()=>this._continueRedoInGroup(p.groupId))))}_findClosestRedoElementInGroup(v){if(!v)return[null,null];let p=null,_=null;for(const[L,E]of this._editStacks){const M=E.getClosestFutureElement();!M||M.groupId===v&&(!p||M.groupOrder<p.groupOrder)&&(p=M,_=L)}return[p,_]}_continueRedoInGroup(v){if(!v)return;const[,p]=this._findClosestRedoElementInGroup(v);if(p)return this._redo(p)}redo(v){if(v instanceof g.UndoRedoSource){const[,p]=this._findClosestRedoElementWithSource(v.id);return p?this._redo(p):void 0}return typeof v=="string"?this._redo(v):this._redo(this.getUriComparisonKey(v))}_redo(v){if(!this._editStacks.has(v))return;const p=this._editStacks.get(v),_=p.getClosestFutureElement();if(!!_){if(_.groupId){const[L,E]=this._findClosestRedoElementInGroup(_.groupId);if(_!==L&&E)return this._redo(E)}try{return _.type===1?this._workspaceRedo(v,_):this._resourceRedo(p,_)}finally{t&&this._print("redo")}}}};u=Be([me(0,b.IDialogService),me(1,h.INotificationService)],u),e.UndoRedoService=u;class f{constructor(v){this.returnValue=v}}(0,C.registerSingleton)(g.IUndoRedoService,u)}),define(ee[297],te([0,1,48,9]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,m.createDecorator)("contextService");class N{constructor(b,C,h,g,t){this._id=b,this._transient=h,this._configuration=g,this._ignorePathCasing=t,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=C}get folders(){return this._folders}set folders(b){this._folders=b,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(b){this._configuration=b}getFolder(b){return b&&this._foldersMap.findSubstr(b.with({scheme:b.scheme,authority:b.authority,path:b.path}))||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing);for(const b of this.folders)this._foldersMap.set(b.uri,b)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=N;class I{constructor(b,C){this.raw=C,this.uri=b.uri,this.index=b.index,this.name=b.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=I}),define(ee[298],te([0,1,9]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,y.createDecorator)("workspaceTrustManagementService")}),define(ee[299],te([0,1,10,27,2,17,8,15,30,50,32,239,83,34,259,198,690,563,39,9,52,77,23,71,13,298,384]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,w.registerIcon)("extensions-warning-message",m.Codicon.warning,s.localize(0,null));let _=class extends N.Disposable{constructor(Z,U,W,V){super();this._editor=Z,this._editorWorkerService=U,this._workspaceTrustService=W,this._highlighter=null,this._bannerClosed=!1,this._updateState=Y=>{if(Y&&Y.hasMore){if(this._bannerClosed)return;const X=Math.max(Y.ambiguousCharacterCount,Y.nonBasicAsciiCharacterCount,Y.invisibleCharacterCount);let ae;if(Y.nonBasicAsciiCharacterCount>=X)ae={message:s.localize(1,null),command:new H};else if(Y.ambiguousCharacterCount>=X)ae={message:s.localize(2,null),command:new D};else if(Y.invisibleCharacterCount>=X)ae={message:s.localize(3,null),command:new x};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ae.message,icon:e.warningIcon,actions:[{label:ae.command.shortLabel,href:`command:${ae.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(V.createInstance(c.BannerController,Z)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=Z.getOption(113),this._register(W.onDidChangeTrust(Y=>{this._updateHighlighter()})),this._register(Z.onDidChangeConfiguration(Y=>{Y.hasChanged(113)&&(this._options=Z.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const Z=L(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([Z.nonBasicASCII,Z.ambiguousCharacters,Z.invisibleCharacters].every(W=>W===!1))return;const U={nonBasicASCII:Z.nonBasicASCII,ambiguousCharacters:Z.ambiguousCharacters,invisibleCharacters:Z.invisibleCharacters,includeComments:Z.includeComments,includeStrings:Z.includeStrings,allowedCodePoints:Object.keys(Z.allowedCharacters).map(W=>W.codePointAt(0)),allowedLocales:Object.keys(Z.allowedLocales).map(W=>W==="_os"?new Intl.NumberFormat().resolvedOptions().locale:W==="_vscode"?I.language:W)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new E(this._editor,U,this._updateState,this._editorWorkerService):this._highlighter=new M(this._editor,U,this._updateState)}getDecorationInfo(Z){return this._highlighter?this._highlighter.getDecorationInfo(Z):null}};_.ID="editor.contrib.unicodeHighlighter",_=Be([me(1,i.IEditorWorkerService),me(2,p.IWorkspaceTrustManagementService),me(3,r.IInstantiationService)],_),e.UnicodeHighlighter=_;function L(ne,Z){return{nonBasicASCII:Z.nonBasicASCII===C.inUntrustedWorkspace?!ne:Z.nonBasicASCII,ambiguousCharacters:Z.ambiguousCharacters,invisibleCharacters:Z.invisibleCharacters,includeComments:Z.includeComments===C.inUntrustedWorkspace?!ne:Z.includeComments,includeStrings:Z.includeStrings===C.inUntrustedWorkspace?!ne:Z.includeStrings,allowedCharacters:Z.allowedCharacters,allowedLocales:Z.allowedLocales}}let E=class extends N.Disposable{constructor(Z,U,W,V){super();this._editor=Z,this._options=U,this._updateState=W,this._editorWorkerService=V,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const Z=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(U=>{if(this._model.getVersionId()!==Z)return;this._updateState(U);const W=[];if(!U.hasMore)for(const V of U.ranges)W.push({range:V,options:R.instance.getDecoration(!this._options.includeComments,!this._options.includeStrings)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),W))})}getDecorationInfo(Z){if(!this._decorationIds.has(Z))return null;const U=this._editor.getModel(),W=U.getDecorationRange(Z),V={range:W,options:R.instance.getDecoration(!this._options.includeComments,!this._options.includeStrings),id:Z,ownerId:0};if(!(0,o.isModelDecorationVisible)(U,V))return null;const Y=U.getValueInRange(W);return{reason:T(Y,this._options),inComment:(0,o.isModelDecorationInComment)(U,V),inString:(0,o.isModelDecorationInString)(U,V)}}};E=Be([me(3,i.IEditorWorkerService)],E);class M extends N.Disposable{constructor(Z,U,W){super();this._editor=Z,this._options=U,this._updateState=W,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const Z=this._editor.getVisibleRanges(),U=[],W={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const V of Z){const Y=t.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,V);for(const X of Y.ranges)W.ranges.push(X);W.ambiguousCharacterCount+=W.ambiguousCharacterCount,W.invisibleCharacterCount+=W.invisibleCharacterCount,W.nonBasicAsciiCharacterCount+=W.nonBasicAsciiCharacterCount,W.hasMore=W.hasMore||Y.hasMore}if(!W.hasMore)for(const V of W.ranges)U.push({range:V,options:R.instance.getDecoration(!this._options.includeComments,!this._options.includeStrings)});this._updateState(W),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),U))}getDecorationInfo(Z){if(!this._decorationIds.has(Z))return null;const U=this._editor.getModel(),W=U.getDecorationRange(Z),V=U.getValueInRange(W),Y={range:W,options:R.instance.getDecoration(!this._options.includeComments,!this._options.includeStrings),id:Z,ownerId:0};return(0,o.isModelDecorationVisible)(U,Y)?{reason:T(V,this._options),inComment:(0,o.isModelDecorationInComment)(U,Y),inString:(0,o.isModelDecorationInString)(U,Y)}:null}}let k=class{constructor(Z,U,W){this._editor=Z,this._languageService=U,this._openerService=W}computeSync(Z,U){if(!this._editor.hasModel()||Z.type!==1)return[];const W=this._editor.getModel(),V=this._editor.getContribution(_.ID);if(!V)return[];const Y=[];let X=300;for(const ae of U){const J=V.getDecorationInfo(ae.id);if(!J)continue;const q=W.getValueInRange(ae.range).codePointAt(0),z=F(q);let $;switch(J.reason.kind){case 0:$=s.localize(4,null,z,F(J.reason.confusableWith.codePointAt(0)));break;case 1:$=s.localize(5,null,z);break;case 2:$=s.localize(6,null,z);break}const ie={codePoint:q,reason:J.reason,inComment:J.inComment,inString:J.inString},ce=s.localize(7,null),oe=[{value:`${$} [${ce}](command:${j.ID}?${encodeURIComponent(JSON.stringify(ie))})`,isTrusted:!0}];Y.push(new d.MarkdownHover(this,ae.range,oe,X++))}return Y}renderHoverParts(Z,U){return(0,d.renderMarkdownHovers)(Z,U,this._editor,this._languageService,this._openerService)}};k=Be([me(1,n.ILanguageService),me(2,l.IOpenerService)],k),e.UnicodeHighlighterHoverParticipant=k;function A(ne){return`U+${ne.toString(16).padStart(4,"0")}`}function F(ne){let Z=`\`${A(ne)}\``;return S.InvisibleCharacters.isInvisibleCharacter(ne)||(Z+=` "${`${B(ne)}`}"`),Z}function B(ne){return ne===96?"`` ` ``":"`"+String.fromCodePoint(ne)+"`"}function T(ne,Z){return t.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(ne,Z)}class R{constructor(){this.map=new Map}getDecoration(Z,U){const W=`${Z}${U}`;let V=this.map.get(W);return V||(V=g.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:(0,v.themeColorFromId)(f.overviewRulerUnicodeHighlightForeground),position:h.OverviewRulerLane.Center},minimap:{color:(0,v.themeColorFromId)(f.minimapUnicodeHighlight),position:h.MinimapPosition.Inline},hideInCommentTokens:Z,hideInStringTokens:U}),this.map.set(W,V)),V}}R.instance=new R;class O extends b.EditorAction{constructor(){super({id:D.ID,label:s.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=s.localize(8,null)}run(Z,U,W){return De(this,void 0,void 0,function*(){let V=Z==null?void 0:Z.get(a.IConfigurationService);V&&this.runAction(V)})}runAction(Z){return De(this,void 0,void 0,function*(){yield Z.updateValue(C.unicodeHighlightConfigKeys.includeComments,!1,1)})}}e.DisableHighlightingInCommentsAction=O;class P extends b.EditorAction{constructor(){super({id:D.ID,label:s.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=s.localize(10,null)}run(Z,U,W){return De(this,void 0,void 0,function*(){let V=Z==null?void 0:Z.get(a.IConfigurationService);V&&this.runAction(V)})}runAction(Z){return De(this,void 0,void 0,function*(){yield Z.updateValue(C.unicodeHighlightConfigKeys.includeStrings,!1,1)})}}e.DisableHighlightingInStringsAction=P;class D extends b.EditorAction{constructor(){super({id:D.ID,label:s.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=s.localize(12,null)}run(Z,U,W){return De(this,void 0,void 0,function*(){let V=Z==null?void 0:Z.get(a.IConfigurationService);V&&this.runAction(V)})}runAction(Z){return De(this,void 0,void 0,function*(){yield Z.updateValue(C.unicodeHighlightConfigKeys.ambiguousCharacters,!1,1)})}}e.DisableHighlightingOfAmbiguousCharactersAction=D,D.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class x extends b.EditorAction{constructor(){super({id:x.ID,label:s.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=s.localize(14,null)}run(Z,U,W){return De(this,void 0,void 0,function*(){let V=Z==null?void 0:Z.get(a.IConfigurationService);V&&this.runAction(V)})}runAction(Z){return De(this,void 0,void 0,function*(){yield Z.updateValue(C.unicodeHighlightConfigKeys.invisibleCharacters,!1,1)})}}e.DisableHighlightingOfInvisibleCharactersAction=x,x.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class H extends b.EditorAction{constructor(){super({id:H.ID,label:s.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=s.localize(16,null)}run(Z,U,W){return De(this,void 0,void 0,function*(){let V=Z==null?void 0:Z.get(a.IConfigurationService);V&&this.runAction(V)})}runAction(Z){return De(this,void 0,void 0,function*(){yield Z.updateValue(C.unicodeHighlightConfigKeys.nonBasicASCII,!1,1)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=H,H.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class j extends b.EditorAction{constructor(){super({id:j.ID,label:s.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(Z,U,W){return De(this,void 0,void 0,function*(){const{codePoint:V,reason:Y,inString:X,inComment:ae}=W,J=String.fromCodePoint(V),de=Z.get(u.IQuickInputService),q=Z.get(a.IConfigurationService);function z(ce){return S.InvisibleCharacters.isInvisibleCharacter(ce)?s.localize(19,null,A(ce)):s.localize(20,null,`${A(ce)} "${J}"`)}const $=[];if(Y.kind===0)for(const ce of Y.notAmbiguousInLocales)$.push({label:s.localize(21,null,ce),run:()=>De(this,void 0,void 0,function*(){G(q,[ce])})});if($.push({label:z(V),run:()=>Q(q,[V])}),ae){const ce=new O;$.push({label:ce.label,run:()=>De(this,void 0,void 0,function*(){return ce.runAction(q)})})}else if(X){const ce=new P;$.push({label:ce.label,run:()=>De(this,void 0,void 0,function*(){return ce.runAction(q)})})}if(Y.kind===0){const ce=new D;$.push({label:ce.label,run:()=>De(this,void 0,void 0,function*(){return ce.runAction(q)})})}else if(Y.kind===1){const ce=new x;$.push({label:ce.label,run:()=>De(this,void 0,void 0,function*(){return ce.runAction(q)})})}else if(Y.kind===2){const ce=new H;$.push({label:ce.label,run:()=>De(this,void 0,void 0,function*(){return ce.runAction(q)})})}else se(Y);const ie=yield de.pick($,{title:s.localize(22,null)});ie&&(yield ie.run())})}}e.ShowExcludeOptions=j,j.ID="editor.action.unicodeHighlight.showExcludeOptions";function Q(ne,Z){return De(this,void 0,void 0,function*(){const U=ne.getValue(C.unicodeHighlightConfigKeys.allowedCharacters);let W;typeof U=="object"&&U?W=U:W={};for(const V of Z)W[String.fromCodePoint(V)]=!0;yield ne.updateValue(C.unicodeHighlightConfigKeys.allowedCharacters,W,1)})}function G(ne,Z){var U;return De(this,void 0,void 0,function*(){const W=(U=ne.inspect(C.unicodeHighlightConfigKeys.allowedLocales).user)===null||U===void 0?void 0:U.value;let V;typeof W=="object"&&W?V=Object.assign({},W):V={};for(const Y of Z)V[Y]=!0;yield ne.updateValue(C.unicodeHighlightConfigKeys.allowedLocales,V,1)})}function se(ne){throw new Error(`Unexpected value: ${ne}`)}(0,b.registerEditorAction)(D),(0,b.registerEditorAction)(x),(0,b.registerEditorAction)(H),(0,b.registerEditorAction)(j),(0,b.registerEditorContribution)(_.ID,_)}),define(ee[207],te([0,1,8,7,47,4,93,2,17,73,25,192,616,61,11,3,45,59,151,26,39,621,16,126,9,604,42,606,84,270,607,127,40,69,85,297,128,68,28,64,298,75,608,619,681,13,54,614,83,272,34,644,193,288,684,692,99,601,63,37,680,611,100,602,191,603,152,155,76,613,52,77,79,35,279,271,733]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E,M,k,A,F,B,T,R,O,P,D,x,H,j,Q,G,se,ne,Z,U,W,V,Y,X,ae,J,de,q,z,$,ie,ce,oe,he,ve,Se,le,ge,ue,be,re,fe,ye,Me,Oe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class He{constructor(Fe){this.disposed=!1,this.model=Fe,this._onWillDispose=new I.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ve=class{constructor(Fe){this.modelService=Fe}createModelReference(Fe){const We=this.modelService.getModel(Fe);return We?Promise.resolve(new b.ImmortalReference(new He(We))):Promise.reject(new Error("Model not found"))}};Ve=Be([me(0,c.IModelService)],Ve);class Ge{show(){return Ge.NULL_PROGRESS_RUNNER}showWhile(Fe,We){return De(this,void 0,void 0,function*(){yield Fe})}}Ge.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Je{confirm(Fe){return this.doConfirm(Fe).then(We=>({confirmed:We,checkboxChecked:!1}))}doConfirm(Fe){let We=Fe.message;return Fe.detail&&(We=We+`

`+Fe.detail),Promise.resolve(window.confirm(We))}show(Fe,We,$e,Ke){return Promise.resolve({choice:0})}}class Ze{info(Fe){return this.notify({severity:h.default.Info,message:Fe})}warn(Fe){return this.notify({severity:h.default.Warning,message:Fe})}error(Fe){return this.notify({severity:h.default.Error,message:Fe})}notify(Fe){switch(Fe.severity){case h.default.Error:console.error(Fe.message);break;case h.default.Warning:console.warn(Fe.message);break;default:console.log(Fe.message);break}return Ze.NO_OP}status(Fe,We){return b.Disposable.None}}e.StandaloneNotificationService=Ze,Ze.NO_OP=new F.NoOpNotification;let et=class{constructor(Fe){this._onWillExecuteCommand=new I.Emitter,this._onDidExecuteCommand=new I.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Fe}executeCommand(Fe,...We){const $e=r.CommandsRegistry.getCommand(Fe);if(!$e)return Promise.reject(new Error(`command '${Fe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Fe,args:We});const Ke=this._instantiationService.invokeFunction.apply(this._instantiationService,[$e.handler,...We]);return this._onDidExecuteCommand.fire({commandId:Fe,args:We}),Promise.resolve(Ke)}catch(Ke){return Promise.reject(Ke)}}};et=Be([me(0,v.IInstantiationService)],et),e.StandaloneCommandService=et;let Ee=class extends p.AbstractKeybindingService{constructor(Fe,We,$e,Ke,Xe,Qe){super(Fe,We,$e,Ke,Xe);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ye=st=>{const ht=new b.DisposableStore;ht.add(m.addDisposableListener(st,m.EventType.KEY_DOWN,ft=>{const _t=new N.StandardKeyboardEvent(ft);this._dispatch(_t,_t.target)&&(_t.preventDefault(),_t.stopPropagation())})),ht.add(m.addDisposableListener(st,m.EventType.KEY_UP,ft=>{const _t=new N.StandardKeyboardEvent(ft);this._singleModifierDispatch(_t,_t.target)&&_t.preventDefault()})),this._domNodeListeners.push(new Ie(st,ht))},it=st=>{for(let ht=0;ht<this._domNodeListeners.length;ht++){const ft=this._domNodeListeners[ht];ft.domNode===st&&(this._domNodeListeners.splice(ht,1),ft.dispose())}},at=st=>{st.getOption(54)||Ye(st.getContainerDomNode())},lt=st=>{st.getOption(54)||it(st.getContainerDomNode())};this._register(Qe.onCodeEditorAdd(at)),this._register(Qe.onCodeEditorRemove(lt)),Qe.listCodeEditors().forEach(at);const ot=st=>{Ye(st.getContainerDomNode())},ct=st=>{it(st.getContainerDomNode())};this._register(Qe.onDiffEditorAdd(ot)),this._register(Qe.onDiffEditorRemove(ct)),Qe.listDiffEditors().forEach(ot)}addDynamicKeybinding(Fe,We,$e,Ke){const Xe=(0,S.createKeybinding)(We,C.OS),Qe=new b.DisposableStore;return Xe&&(this._dynamicKeybindings.push({keybinding:Xe.parts,command:Fe,when:Ke,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),Qe.add((0,b.toDisposable)(()=>{for(let Ye=0;Ye<this._dynamicKeybindings.length;Ye++)if(this._dynamicKeybindings[Ye].command===Fe){this._dynamicKeybindings.splice(Ye,1),this.updateResolver({source:1});return}}))),Qe.add(r.CommandsRegistry.registerCommand(Fe,$e)),this.updateResolver({source:1}),Qe}updateResolver(Fe){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(Fe)}_getResolver(){if(!this._cachedResolver){const Fe=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),We=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new L.KeybindingResolver(Fe,We,$e=>this._log($e))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Fe,We){const $e=[];let Ke=0;for(const Xe of Fe){const Qe=Xe.when||void 0,Ye=Xe.keybinding;if(!Ye)$e[Ke++]=new M.ResolvedKeybindingItem(void 0,Xe.command,Xe.commandArgs,Qe,We,null,!1);else{const it=k.USLayoutResolvedKeybinding.resolveUserBinding(Ye,C.OS);for(const at of it)$e[Ke++]=new M.ResolvedKeybindingItem(at,Xe.command,Xe.commandArgs,Qe,We,null,!1)}}return $e}resolveKeyboardEvent(Fe){const We=new S.SimpleKeybinding(Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey,Fe.keyCode).toChord();return new k.USLayoutResolvedKeybinding(We,C.OS)}};Ee=Be([me(0,f.IContextKeyService),me(1,r.ICommandService),me(2,T.ITelemetryService),me(3,F.INotificationService),me(4,x.ILogService),me(5,D.ICodeEditorService)],Ee),e.StandaloneKeybindingService=Ee;class Ie extends b.Disposable{constructor(Fe,We){super();this.domNode=Fe,this._register(We)}}function Re(ze){return ze&&typeof ze=="object"&&(!ze.overrideIdentifier||typeof ze.overrideIdentifier=="string")&&(!ze.resource||ze.resource instanceof g.URI)}class Ue{constructor(){this._onDidChangeConfiguration=new I.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new u.Configuration(new u.DefaultConfigurationModel,new u.ConfigurationModel)}getValue(Fe,We){const $e=typeof Fe=="string"?Fe:void 0,Ke=Re(Fe)?Fe:Re(We)?We:{};return this._configuration.getValue($e,Ke,void 0)}updateValues(Fe){const We={data:this._configuration.toData()},$e=[];for(const Ke of Fe){const[Xe,Qe]=Ke;this.getValue(Xe)!==Qe&&(this._configuration.updateValue(Xe,Qe),$e.push(Xe))}if($e.length>0){const Ke=new u.ConfigurationChangeEvent({keys:$e,overrides:[]},We,this._configuration);Ke.source=7,Ke.sourceConfig=null,this._onDidChangeConfiguration.fire(Ke)}return Promise.resolve()}updateValue(Fe,We,$e,Ke){return this.updateValues([[Fe,We]])}inspect(Fe,We={}){return this._configuration.inspect(Fe,We,void 0)}}e.StandaloneConfigurationService=Ue;let Ne=class{constructor(Fe){this.configurationService=Fe,this._onDidChangeConfiguration=new I.Emitter,this.configurationService.onDidChangeConfiguration(We=>{this._onDidChangeConfiguration.fire({affectedKeys:We.affectedKeys,affectsConfiguration:($e,Ke)=>We.affectsConfiguration(Ke)})})}getValue(Fe,We,$e){const Xe=(o.Position.isIPosition(We)?We:null)?typeof $e=="string"?$e:void 0:typeof We=="string"?We:void 0;return typeof Xe=="undefined"?this.configurationService.getValue():this.configurationService.getValue(Xe)}};Ne=Be([me(0,l.IConfigurationService)],Ne);let ke=class{constructor(Fe){this.configurationService=Fe}getEOL(Fe,We){const $e=this.configurationService.getValue("files.eol",{overrideIdentifier:We,resource:Fe});return $e&&typeof $e=="string"&&$e!=="auto"?$e:C.isLinux||C.isMacintosh?`
`:`\r
`}};ke=Be([me(0,l.IConfigurationService)],ke);class Te{publicLog(Fe,We){return Promise.resolve(void 0)}publicLog2(Fe,We){return this.publicLog(Fe,We)}}class pe{constructor(){const Fe=g.URI.from({scheme:pe.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new R.WorkspaceFolder({uri:Fe,name:"",index:0})]}}getWorkspace(){return this.workspace}}pe.SCHEME="inmemory";function Ce(ze,Fe,We){if(!Fe||!(ze instanceof Ue))return;const $e=[];Object.keys(Fe).forEach(Ke=>{(0,i.isEditorConfigurationKey)(Ke)&&$e.push([`editor.${Ke}`,Fe[Ke]]),We&&(0,i.isDiffEditorConfigurationKey)(Ke)&&$e.push([`diffEditor.${Ke}`,Fe[Ke]])}),$e.length>0&&ze.updateValues($e)}e.updateConfigurationService=Ce;let Le=class{constructor(Fe){this._modelService=Fe}hasPreviewHandler(){return!1}apply(Fe,We){return De(this,void 0,void 0,function*(){const $e=new Map;for(let Qe of Fe){if(!(Qe instanceof t.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const Ye=this._modelService.getModel(Qe.resource);if(!Ye)throw new Error("bad edit - model not found");if(typeof Qe.versionId=="number"&&Ye.getVersionId()!==Qe.versionId)throw new Error("bad state - model changed in the meantime");let it=$e.get(Ye);it||(it=[],$e.set(Ye,it)),it.push(n.EditOperation.replaceMove(d.Range.lift(Qe.textEdit.range),Qe.textEdit.text))}let Ke=0,Xe=0;for(const[Qe,Ye]of $e)Qe.pushStackElement(),Qe.pushEditOperations([],Ye,()=>[]),Qe.pushStackElement(),Xe+=1,Ke+=Ye.length;return{ariaSummary:y.format(P.StandaloneServicesNLS.bulkEditServiceSummary,Ke,Xe)}})}};Le=Be([me(0,c.IModelService)],Le);class we{getUriLabel(Fe,We){return Fe.scheme==="file"?Fe.fsPath:Fe.path}}let _e=class extends Q.ContextViewService{constructor(Fe,We){super(Fe);this._codeEditorService=We}showContextView(Fe,We,$e){if(!We){const Ke=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Ke&&(We=Ke.getContainerDomNode())}return super.showContextView(Fe,We,$e)}};_e=Be([me(0,O.ILayoutService),me(1,D.ICodeEditorService)],_e);class Pe{constructor(){this._neverEmitter=new I.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Ae extends G.LanguageService{constructor(){super()}}class xe extends x.LogService{constructor(){super(new x.ConsoleLogger)}}let je=class extends se.ContextMenuService{constructor(Fe,We,$e,Ke,Xe){super(Fe,We,$e,Ke,Xe);this.configure({blockMouse:!1})}};je=Be([me(0,T.ITelemetryService),me(1,F.INotificationService),me(2,j.IContextViewService),me(3,_.IKeybindingService),me(4,ne.IThemeService)],je),(0,Z.registerSingleton)(l.IConfigurationService,Ue),(0,Z.registerSingleton)(a.ITextResourceConfigurationService,Ne),(0,Z.registerSingleton)(a.ITextResourcePropertiesService,ke),(0,Z.registerSingleton)(R.IWorkspaceContextService,pe),(0,Z.registerSingleton)(A.ILabelService,we),(0,Z.registerSingleton)(T.ITelemetryService,Te),(0,Z.registerSingleton)(w.IDialogService,Je),(0,Z.registerSingleton)(F.INotificationService,Ze),(0,Z.registerSingleton)(re.IMarkerService,fe.MarkerService),(0,Z.registerSingleton)(Y.ILanguageService,Ae),(0,Z.registerSingleton)(z.IStandaloneThemeService,q.StandaloneThemeService),(0,Z.registerSingleton)(x.ILogService,xe),(0,Z.registerSingleton)(c.IModelService,J.ModelService),(0,Z.registerSingleton)(ae.IMarkerDecorationsService,X.MarkerDecorationsService),(0,Z.registerSingleton)(f.IContextKeyService,Se.ContextKeyService),(0,Z.registerSingleton)(B.IEditorProgressService,Ge),(0,Z.registerSingleton)(Oe.IStorageService,Oe.InMemoryStorageService),(0,Z.registerSingleton)(W.IEditorWorkerService,V.EditorWorkerService),(0,Z.registerSingleton)(t.IBulkEditService,Le),(0,Z.registerSingleton)(H.IWorkspaceTrustManagementService,Pe),(0,Z.registerSingleton)(s.ITextModelService,Ve),(0,Z.registerSingleton)(ie.IAccessibilityService,$.AccessibilityService),(0,Z.registerSingleton)(be.IListService,be.ListService),(0,Z.registerSingleton)(r.ICommandService,et),(0,Z.registerSingleton)(_.IKeybindingService,Ee),(0,Z.registerSingleton)(Me.IQuickInputService,de.StandaloneQuickInputService),(0,Z.registerSingleton)(j.IContextViewService,_e),(0,Z.registerSingleton)(ye.IOpenerService,U.OpenerService),(0,Z.registerSingleton)(ve.IClipboardService,he.BrowserClipboardService),(0,Z.registerSingleton)(j.IContextMenuService,je),(0,Z.registerSingleton)(ce.IMenuService,oe.MenuService);var qe;(function(ze){const Fe=new ue.ServiceCollection;for(const[Qe,Ye]of(0,Z.getSingletonServiceDescriptors)())Fe.set(Qe,Ye);const We=new ge.InstantiationService(Fe,!0);Fe.set(v.IInstantiationService,We);function $e(Qe){const Ye=Fe.get(Qe);if(!Ye)throw new Error("Missing service "+Qe);return Ye instanceof le.SyncDescriptor?We.invokeFunction(it=>it.get(Qe)):Ye}ze.get=$e;let Ke=!1;function Xe(Qe){if(Ke)return We;Ke=!0;for(const Ye in Qe)if(Qe.hasOwnProperty(Ye)){const it=(0,v.createDecorator)(Ye);Fe.get(it)instanceof le.SyncDescriptor&&Fe.set(it,Qe[Ye])}return We}ze.initialize=Xe})(qe=e.StandaloneServices||(e.StandaloneServices={}))}),define(ee[734],te([0,1,43,2,28,159,289,236,83,207,99,37,26,39,16,75,9,42,40,13,63,68,100,69,45,34,279,78,35]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let M=0,k=!1;function A(P){if(!P){if(k)return;k=!0}y.setARIAContainer(P||document.body)}let F=class extends I.CodeEditorWidget{constructor(D,x,H,j,Q,G,se,ne,Z,U,W){const V=Object.assign({},x);V.ariaLabel=V.ariaLabel||u.StandaloneCodeEditorNLS.editorViewAccessibleLabel,V.ariaLabel=V.ariaLabel+";"+u.StandaloneCodeEditorNLS.accessibilityHelpMessage;super(D,V,{},H,j,Q,G,ne,Z,U,W);se instanceof h.StandaloneKeybindingService?this._standaloneKeybindingService=se:this._standaloneKeybindingService=null,A(V.ariaContainerElement)}addCommand(D,x,H){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const j="DYNAMIC_"+ ++M,Q=o.ContextKeyExpr.deserialize(H);return this._standaloneKeybindingService.addDynamicKeybinding(j,D,x,Q),j}createContextKey(D,x){return this._contextKeyService.createKey(D,x)}addAction(D){if(typeof D.id!="string"||typeof D.label!="string"||typeof D.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.Disposable.None;const x=D.id,H=D.label,j=o.ContextKeyExpr.and(o.ContextKeyExpr.equals("editorId",this.getId()),o.ContextKeyExpr.deserialize(D.precondition)),Q=D.keybindings,G=o.ContextKeyExpr.and(j,o.ContextKeyExpr.deserialize(D.keybindingContext)),se=D.contextMenuGroupId||null,ne=D.contextMenuOrder||0,Z=(Y,...X)=>Promise.resolve(D.run(this,...X)),U=new m.DisposableStore,W=this.getId()+":"+x;if(U.add(i.CommandsRegistry.registerCommand(W,Z)),se){const Y={command:{id:W,title:H},when:j,group:se,order:ne};U.add(t.MenuRegistry.appendMenuItem(t.MenuId.EditorContext,Y))}if(Array.isArray(Q))for(const Y of Q)U.add(this._standaloneKeybindingService.addDynamicKeybinding(W,Y,Z,G));const V=new b.InternalEditorAction(W,H,H,j,Z,this._contextKeyService);return this._actions[x]=V,U.add((0,m.toDisposable)(()=>{delete this._actions[x]})),U}_triggerCommand(D,x){if(this._codeEditorService instanceof _.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(D,x)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(D,x)}};F=Be([me(2,c.IInstantiationService),me(3,N.ICodeEditorService),me(4,i.ICommandService),me(5,o.IContextKeyService),me(6,s.IKeybindingService),me(7,r.IThemeService),me(8,a.INotificationService),me(9,l.IAccessibilityService),me(10,E.ILanguageConfigurationService)],F),e.StandaloneCodeEditor=F;let B=class extends F{constructor(D,x,H,j,Q,G,se,ne,Z,U,W,V,Y,X){const ae=Object.assign({},x);(0,h.updateConfigurationService)(U,ae,!1);const J=ne.registerEditorContainer(D);typeof ae.theme=="string"&&ne.setTheme(ae.theme),typeof ae.autoDetectHighContrast!="undefined"&&ne.setAutoDetectHighContrast(Boolean(ae.autoDetectHighContrast));const de=ae.model;delete ae.model;super(D,ae,H,j,Q,G,se,ne,Z,W,X);this._configurationService=U,this._standaloneThemeService=ne,this._register(J);let q;if(typeof de=="undefined"){const z=Y.getLanguageIdByMimeType(ae.language)||ae.language||L.PLAINTEXT_LANGUAGE_ID;q=R(V,Y,ae.value||"",z,void 0),this._ownsModel=!0}else q=de,this._ownsModel=!1;if(this._attachModel(q),q){const z={oldModelUrl:null,newModelUrl:q.uri};this._onDidChangeModel.fire(z)}}dispose(){super.dispose()}updateOptions(D){(0,h.updateConfigurationService)(this._configurationService,D,!1),typeof D.theme=="string"&&this._standaloneThemeService.setTheme(D.theme),typeof D.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(D.autoDetectHighContrast)),super.updateOptions(D)}_postDetachModelCleanup(D){super._postDetachModelCleanup(D),D&&this._ownsModel&&(D.dispose(),this._ownsModel=!1)}};B=Be([me(2,c.IInstantiationService),me(3,N.ICodeEditorService),me(4,i.ICommandService),me(5,o.IContextKeyService),me(6,s.IKeybindingService),me(7,g.IStandaloneThemeService),me(8,a.INotificationService),me(9,n.IConfigurationService),me(10,l.IAccessibilityService),me(11,v.IModelService),me(12,p.ILanguageService),me(13,E.ILanguageConfigurationService)],B),e.StandaloneEditor=B;let T=class extends S.DiffEditorWidget{constructor(D,x,H,j,Q,G,se,ne,Z,U,W,V){const Y=Object.assign({},x);(0,h.updateConfigurationService)(Z,Y,!0);const X=se.registerEditorContainer(D);typeof Y.theme=="string"&&se.setTheme(Y.theme),typeof Y.autoDetectHighContrast!="undefined"&&se.setAutoDetectHighContrast(Boolean(Y.autoDetectHighContrast));super(D,Y,{},V,Q,j,H,G,se,ne,U,W);this._configurationService=Z,this._standaloneThemeService=se,this._register(X)}dispose(){super.dispose()}updateOptions(D){(0,h.updateConfigurationService)(this._configurationService,D,!0),typeof D.theme=="string"&&this._standaloneThemeService.setTheme(D.theme),typeof D.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(D.autoDetectHighContrast)),super.updateOptions(D)}_createInnerEditor(D,x,H){return D.createInstance(F,x,H)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(D,x,H){return this.getModifiedEditor().addCommand(D,x,H)}createContextKey(D,x){return this.getModifiedEditor().createContextKey(D,x)}addAction(D){return this.getModifiedEditor().addAction(D)}};T=Be([me(2,c.IInstantiationService),me(3,o.IContextKeyService),me(4,C.IEditorWorkerService),me(5,N.ICodeEditorService),me(6,g.IStandaloneThemeService),me(7,a.INotificationService),me(8,n.IConfigurationService),me(9,d.IContextMenuService),me(10,w.IEditorProgressService),me(11,f.IClipboardService)],T),e.StandaloneDiffEditor=T;function R(P,D,x,H,j){if(x=x||"",!H){const Q=x.indexOf(`
`);let G=x;return Q!==-1&&(G=x.substring(0,Q)),O(P,x,D.createByFilepathOrFirstLine(j||null,G),j)}return O(P,x,D.createById(H),j)}e.createTextModel=R;function O(P,D,x,H){return P.createModel(D,x,H)}}),define(ee[735],te([0,1,8,25,258,28,233,30,172,144,50,18,35,116,34,45,609,178,594,734,207,99,26,76,235,390]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=e.computeDirtyDiff=void 0;function p(X,ae,J){return De(this,void 0,void 0,function*(){const de=R(m.URI.parse(X)),q=R(m.URI.parse(ae));if(!de||!q)return null;const z=de.getLinesContent(),$=q.getLinesContent();return new v.DiffComputer(z,$,{shouldComputeCharChanges:!1,shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:J,shouldMakePrettyDiff:!0,maxComputationTime:1e3}).computeDiff().changes})}e.computeDirtyDiff=p;function _(X,ae,J){return l.StandaloneServices.initialize(J||{}).createInstance(r.StandaloneEditor,X,ae)}e.create=_;function L(X){return l.StandaloneServices.get(I.ICodeEditorService).onCodeEditorAdd(J=>{X(J)})}e.onDidCreateEditor=L;function E(X,ae,J){return l.StandaloneServices.initialize(J||{}).createInstance(r.StandaloneDiffEditor,X,ae)}e.createDiffEditor=E;function M(X,ae){return new S.DiffNavigator(X,ae)}e.createDiffNavigator=M;function k(X,ae,J){const de=l.StandaloneServices.get(o.ILanguageService),q=de.getLanguageIdByMimeType(ae)||ae;return(0,r.createTextModel)(l.StandaloneServices.get(d.IModelService),de,X,q,J)}e.createModel=k;function A(X,ae){const J=l.StandaloneServices.get(o.ILanguageService);l.StandaloneServices.get(d.IModelService).setMode(X,J.createById(ae))}e.setModelLanguage=A;function F(X,ae,J){X&&l.StandaloneServices.get(w.IMarkerService).changeOne(ae,X.uri,J)}e.setModelMarkers=F;function B(X){return l.StandaloneServices.get(w.IMarkerService).read(X)}e.getModelMarkers=B;function T(X){return l.StandaloneServices.get(w.IMarkerService).onMarkerChanged(X)}e.onDidChangeMarkers=T;function R(X){return l.StandaloneServices.get(d.IModelService).getModel(X)}e.getModel=R;function O(){return l.StandaloneServices.get(d.IModelService).getModels()}e.getModels=O;function P(X){return l.StandaloneServices.get(d.IModelService).onModelAdded(X)}e.onDidCreateModel=P;function D(X){return l.StandaloneServices.get(d.IModelService).onModelRemoved(X)}e.onWillDisposeModel=D;function x(X){return l.StandaloneServices.get(d.IModelService).onModelLanguageChanged(J=>{X({model:J.model,oldLanguage:J.oldLanguageId})})}e.onDidChangeModelLanguage=x;function H(X){return(0,c.createWebWorker)(l.StandaloneServices.get(d.IModelService),l.StandaloneServices.get(i.ILanguageConfigurationService),X)}e.createWebWorker=H;function j(X,ae){const J=l.StandaloneServices.get(o.ILanguageService),de=l.StandaloneServices.get(u.IStandaloneThemeService);return de.registerEditorContainer(X),a.Colorizer.colorizeElement(de,J,X,ae)}e.colorizeElement=j;function Q(X,ae,J){const de=l.StandaloneServices.get(o.ILanguageService);return l.StandaloneServices.get(u.IStandaloneThemeService).registerEditorContainer(document.body),a.Colorizer.colorize(de,X,ae,J)}e.colorize=Q;function G(X,ae,J=4){return l.StandaloneServices.get(u.IStandaloneThemeService).registerEditorContainer(document.body),a.Colorizer.colorizeModelLine(X,ae,J)}e.colorizeModelLine=G;function se(X){const ae=t.TokenizationRegistry.get(X);return ae||{getInitialState:()=>n.NullState,tokenize:(J,de,q)=>(0,n.nullTokenize)(X,q)}}function ne(X,ae){t.TokenizationRegistry.getOrCreate(ae);const J=se(ae),de=(0,y.splitLines)(X),q=[];let z=J.getInitialState();for(let $=0,ie=de.length;$<ie;$++){const ce=de[$],oe=J.tokenize(ce,!0,z);q[$]=oe.tokens,z=oe.endState}return q}e.tokenize=ne;function Z(X,ae){l.StandaloneServices.get(u.IStandaloneThemeService).defineTheme(X,ae)}e.defineTheme=Z;function U(X){l.StandaloneServices.get(u.IStandaloneThemeService).setTheme(X)}e.setTheme=U;function W(){N.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=W;function V(X,ae){return f.CommandsRegistry.registerCommand({id:X,handler:ae})}e.registerCommand=V;function Y(){return{computeDirtyDiff:p,create:_,onDidCreateEditor:L,createDiffEditor:E,createDiffNavigator:M,createModel:k,setModelLanguage:A,setModelMarkers:F,getModelMarkers:B,onDidChangeMarkers:T,getModels:O,getModel:R,onDidCreateModel:P,onWillDisposeModel:D,onDidChangeModelLanguage:x,createWebWorker:H,colorizeElement:j,colorize:Q,colorizeModelLine:G,tokenize:ne,defineTheme:Z,setTheme:U,remeasureFonts:W,registerCommand:V,AccessibilitySupport:s.AccessibilitySupport,ContentWidgetPositionPreference:s.ContentWidgetPositionPreference,CursorChangeReason:s.CursorChangeReason,DefaultEndOfLine:s.DefaultEndOfLine,EditorAutoIndentStrategy:s.EditorAutoIndentStrategy,EditorOption:s.EditorOption,EndOfLinePreference:s.EndOfLinePreference,EndOfLineSequence:s.EndOfLineSequence,MinimapPosition:s.MinimapPosition,MouseTargetType:s.MouseTargetType,OverlayWidgetPositionPreference:s.OverlayWidgetPositionPreference,OverviewRulerLane:s.OverviewRulerLane,RenderLineNumbersType:s.RenderLineNumbersType,RenderMinimap:s.RenderMinimap,ScrollbarVisibility:s.ScrollbarVisibility,ScrollType:s.ScrollType,TextEditorCursorBlinkingStyle:s.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:s.TextEditorCursorStyle,TrackedRangeStickiness:s.TrackedRangeStickiness,WrappingIndent:s.WrappingIndent,InjectedTextCursorStops:s.InjectedTextCursorStops,ConfigurationChangedEvent:b.ConfigurationChangedEvent,BareFontInfo:C.BareFontInfo,FontInfo:C.FontInfo,TextModelResolvedOptions:g.TextModelResolvedOptions,FindMatch:g.FindMatch,ApplyUpdateResult:b.ApplyUpdateResult,EditorType:h.EditorType,EditorOptions:b.EditorOptions}}e.createMonacoEditorAPI=Y}),define(ee[736],te([0,1,29,3,143,18,35,78,34,178,207,455,265,99,76]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function d(z){b.ModesRegistry.registerLanguage(z)}e.register=d;function c(){let z=[];return z=z.concat(b.ModesRegistry.getLanguages()),z}e.getLanguages=c;function s(z){return g.StandaloneServices.get(C.ILanguageService).languageIdCodec.encodeLanguageId(z)}e.getEncodedLanguageId=s;function a(z,$){const ce=g.StandaloneServices.get(C.ILanguageService).onDidEncounterLanguage(oe=>{oe===z&&(ce.dispose(),$())});return ce}e.onLanguage=a;function r(z,$){if(!g.StandaloneServices.get(C.ILanguageService).isRegisteredLanguageId(z))throw new Error(`Cannot set configuration for unknown language ${z}`);return S.LanguageConfigurationRegistry.register(z,$,100)}e.setLanguageConfiguration=r;class l{constructor($,ie){this._languageId=$,this._actual=ie}getInitialState(){return this._actual.getInitialState()}tokenize($,ie,ce){if(typeof this._actual.tokenize=="function")return u.adaptTokenize(this._languageId,this._actual,$,ce);throw new Error("Not supported!")}tokenizeEncoded($,ie,ce){const oe=this._actual.tokenizeEncoded($,ce);return new N.EncodedTokenizationResult(oe.tokens,oe.endState)}}e.EncodedTokenizationSupportAdapter=l;class u{constructor($,ie,ce,oe){this._languageId=$,this._actual=ie,this._languageService=ce,this._standaloneThemeService=oe}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens($,ie){const ce=[];let oe=0;for(let he=0,ve=$.length;he<ve;he++){const Se=$[he];let le=Se.startIndex;he===0?le=0:le<oe&&(le=oe),ce[he]=new N.Token(le,Se.scopes,ie),oe=le}return ce}static adaptTokenize($,ie,ce,oe){const he=ie.tokenize(ce,oe),ve=u._toClassicTokens(he.tokens,$);let Se;return he.endState.equals(oe)?Se=oe:Se=he.endState,new N.TokenizationResult(ve,Se)}tokenize($,ie,ce){return u.adaptTokenize(this._languageId,this._actual,$,ce)}_toBinaryTokens($,ie){const ce=$.encodeLanguageId(this._languageId),oe=this._standaloneThemeService.getColorTheme().tokenTheme,he=[];let ve=0,Se=0;for(let ge=0,ue=ie.length;ge<ue;ge++){const be=ie[ge],re=oe.match(ce,be.scopes);if(ve>0&&he[ve-1]===re)continue;let fe=be.startIndex;ge===0?fe=0:fe<Se&&(fe=Se),he[ve++]=fe,he[ve++]=re,Se=fe}const le=new Uint32Array(ve);for(let ge=0;ge<ve;ge++)le[ge]=he[ge];return le}tokenizeEncoded($,ie,ce){const oe=this._actual.tokenize($,ce),he=this._toBinaryTokens(this._languageService.languageIdCodec,oe.tokens);let ve;return oe.endState.equals(ce)?ve=ce:ve=oe.endState,new N.EncodedTokenizationResult(he,ve)}}e.TokenizationSupportAdapter=u;function f(z){return typeof z.getInitialState=="function"}function w(z){return"tokenizeEncoded"in z}function v(z){return z&&typeof z.then=="function"}function p(z){const $=g.StandaloneServices.get(n.IStandaloneThemeService);if(z){const ie=[null];for(let ce=1,oe=z.length;ce<oe;ce++)ie[ce]=y.Color.fromHex(z[ce]);$.setColorMapOverride(ie)}else $.setColorMapOverride(null)}e.setColorMap=p;function _(z,$){return w($)?new l(z,$):new u(z,$,g.StandaloneServices.get(C.ILanguageService),g.StandaloneServices.get(n.IStandaloneThemeService))}function L(z,$){const ie={createTokenizationSupport:()=>De(this,void 0,void 0,function*(){const ce=yield Promise.resolve($.create());return ce?f(ce)?_(z,ce):new i.MonarchTokenizer(g.StandaloneServices.get(C.ILanguageService),g.StandaloneServices.get(n.IStandaloneThemeService),z,(0,t.compile)(z,ce)):null})};return I.TokenizationRegistry.registerFactory(z,ie)}e.registerTokensProviderFactory=L;function E(z,$){if(!g.StandaloneServices.get(C.ILanguageService).isRegisteredLanguageId(z))throw new Error(`Cannot set tokens provider for unknown language ${z}`);return v($)?L(z,{create:()=>$}):I.TokenizationRegistry.register(z,_(z,$))}e.setTokensProvider=E;function M(z,$){const ie=ce=>new i.MonarchTokenizer(g.StandaloneServices.get(C.ILanguageService),g.StandaloneServices.get(n.IStandaloneThemeService),z,(0,t.compile)(z,ce));return v($)?L(z,{create:()=>$}):I.TokenizationRegistry.register(z,ie($))}e.setMonarchTokensProvider=M;function k(z,$){return I.ReferenceProviderRegistry.register(z,$)}e.registerReferenceProvider=k;function A(z,$){return I.RenameProviderRegistry.register(z,$)}e.registerRenameProvider=A;function F(z,$){return I.SignatureHelpProviderRegistry.register(z,$)}e.registerSignatureHelpProvider=F;function B(z,$){return I.HoverProviderRegistry.register(z,{provideHover:(ie,ce,oe)=>{const he=ie.getWordAtPosition(ce);return Promise.resolve($.provideHover(ie,ce,oe)).then(ve=>{if(!!ve)return!ve.range&&he&&(ve.range=new m.Range(ce.lineNumber,he.startColumn,ce.lineNumber,he.endColumn)),ve.range||(ve.range=new m.Range(ce.lineNumber,ce.column,ce.lineNumber,ce.column)),ve})}})}e.registerHoverProvider=B;function T(z,$){return I.DocumentSymbolProviderRegistry.register(z,$)}e.registerDocumentSymbolProvider=T;function R(z,$){return I.DocumentHighlightProviderRegistry.register(z,$)}e.registerDocumentHighlightProvider=R;function O(z,$){return I.LinkedEditingRangeProviderRegistry.register(z,$)}e.registerLinkedEditingRangeProvider=O;function P(z,$){return I.DefinitionProviderRegistry.register(z,$)}e.registerDefinitionProvider=P;function D(z,$){return I.ImplementationProviderRegistry.register(z,$)}e.registerImplementationProvider=D;function x(z,$){return I.TypeDefinitionProviderRegistry.register(z,$)}e.registerTypeDefinitionProvider=x;function H(z,$){return I.CodeLensProviderRegistry.register(z,$)}e.registerCodeLensProvider=H;function j(z,$,ie){return I.CodeActionProviderRegistry.register(z,{providedCodeActionKinds:ie==null?void 0:ie.providedCodeActionKinds,provideCodeActions:(ce,oe,he,ve)=>{const le=g.StandaloneServices.get(o.IMarkerService).read({resource:ce.uri}).filter(ge=>m.Range.areIntersectingOrTouching(ge,oe));return $.provideCodeActions(ce,oe,{markers:le,only:he.only},ve)},resolveCodeAction:$.resolveCodeAction})}e.registerCodeActionProvider=j;function Q(z,$){return I.DocumentFormattingEditProviderRegistry.register(z,$)}e.registerDocumentFormattingEditProvider=Q;function G(z,$){return I.DocumentRangeFormattingEditProviderRegistry.register(z,$)}e.registerDocumentRangeFormattingEditProvider=G;function se(z,$){return I.OnTypeFormattingEditProviderRegistry.register(z,$)}e.registerOnTypeFormattingEditProvider=se;function ne(z,$){return I.LinkProviderRegistry.register(z,$)}e.registerLinkProvider=ne;function Z(z,$){return I.CompletionProviderRegistry.register(z,$)}e.registerCompletionItemProvider=Z;function U(z,$){return I.ColorProviderRegistry.register(z,$)}e.registerColorProvider=U;function W(z,$){return I.FoldingRangeProviderRegistry.register(z,$)}e.registerFoldingRangeProvider=W;function V(z,$){return I.DeclarationProviderRegistry.register(z,$)}e.registerDeclarationProvider=V;function Y(z,$){return I.SelectionRangeRegistry.register(z,$)}e.registerSelectionRangeProvider=Y;function X(z,$){return I.DocumentSemanticTokensProviderRegistry.register(z,$)}e.registerDocumentSemanticTokensProvider=X;function ae(z,$){return I.DocumentRangeSemanticTokensProviderRegistry.register(z,$)}e.registerDocumentRangeSemanticTokensProvider=ae;function J(z,$){return I.InlineCompletionsProviderRegistry.register(z,$)}e.registerInlineCompletionsProvider=J;function de(z,$){return I.InlayHintsProviderRegistry.register(z,$)}e.registerInlayHintsProvider=de;function q(){return{register:d,getLanguages:c,onLanguage:a,getEncodedLanguageId:s,setLanguageConfiguration:r,setColorMap:p,registerTokensProviderFactory:L,setTokensProvider:E,setMonarchTokensProvider:M,registerReferenceProvider:k,registerRenameProvider:A,registerCompletionItemProvider:Z,registerSignatureHelpProvider:F,registerHoverProvider:B,registerDocumentSymbolProvider:T,registerDocumentHighlightProvider:R,registerLinkedEditingRangeProvider:O,registerDefinitionProvider:P,registerImplementationProvider:D,registerTypeDefinitionProvider:x,registerCodeLensProvider:H,registerCodeActionProvider:j,registerDocumentFormattingEditProvider:Q,registerDocumentRangeFormattingEditProvider:G,registerOnTypeFormattingEditProvider:se,registerLinkProvider:ne,registerColorProvider:U,registerFoldingRangeProvider:W,registerDeclarationProvider:V,registerSelectionRangeProvider:Y,registerDocumentSemanticTokensProvider:X,registerDocumentRangeSemanticTokensProvider:ae,registerInlineCompletionsProvider:J,registerInlayHintsProvider:de,DocumentHighlightKind:h.DocumentHighlightKind,CompletionItemKind:h.CompletionItemKind,CompletionItemTag:h.CompletionItemTag,CompletionItemInsertTextRule:h.CompletionItemInsertTextRule,SymbolKind:h.SymbolKind,SymbolTag:h.SymbolTag,IndentAction:h.IndentAction,CompletionTriggerKind:h.CompletionTriggerKind,SignatureHelpTriggerKind:h.SignatureHelpTriggerKind,InlayHintKind:h.InlayHintKind,InlineCompletionTriggerKind:h.InlineCompletionTriggerKind,FoldingRangeKind:I.FoldingRangeKind}}e.createMonacoLanguagesAPI=q}),define(ee[737],te([0,1,30,242,735,736,17,280]),function(K,e,y,m,N,I,S,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,y.EditorOptions.wrappingIndent.defaultValue=0,y.EditorOptions.glyphMargin.defaultValue=!1,y.EditorOptions.autoIndent.defaultValue=3,y.EditorOptions.overviewRulerLanes.defaultValue=2,b.FormattingConflicts.setFormatterSelector((g,t,i)=>Promise.resolve(g[0]));const h=(0,m.createMonacoBaseAPI)();h.editor=(0,N.createMonacoEditorAPI)(),h.languages=(0,I.createMonacoLanguagesAPI)(),e.CancellationTokenSource=h.CancellationTokenSource,e.Emitter=h.Emitter,e.KeyCode=h.KeyCode,e.KeyMod=h.KeyMod,e.Position=h.Position,e.Range=h.Range,e.Selection=h.Selection,e.SelectionDirection=h.SelectionDirection,e.MarkerSeverity=h.MarkerSeverity,e.MarkerTag=h.MarkerTag,e.Uri=h.Uri,e.Token=h.Token,e.editor=h.editor,e.languages=h.languages,(((C=S.globals.MonacoEnvironment)===null||C===void 0?void 0:C.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=h),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(ee[738],te([0,1,25,579]),function(K,e,y,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,m.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}];function N(S){const b=S;return typeof(b==null?void 0:b.id)=="string"&&y.URI.isUri(b.uri)}e.isSingleFolderWorkspaceIdentifier=N;function I(S){if(S.configuration)return{id:S.id,configPath:S.configuration};if(S.folders.length===1)return{id:S.id,uri:S.folders[0].uri}}e.toWorkspaceIdentifier=I}),define(ee[739],te([0,1,169,81,41,8,321,35,123,553,738]),function(K,e,y,m,N,I,S,b,C,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class t{constructor(l){this._delegates=l}resolve(l){for(const u of this._delegates){let f=u.resolve(l);if(f!==void 0)return f}}}e.CompositeSnippetVariableResolver=t;class i{constructor(l,u,f,w){this._model=l,this._selection=u,this._selectionIdx=f,this._overtypingCapturer=w}resolve(l){const{name:u}=l;if(u==="SELECTION"||u==="TM_SELECTED_TEXT"){let f=this._model.getValueInRange(this._selection)||void 0,w=this._selection.startLineNumber!==this._selection.endLineNumber;if(!f&&this._overtypingCapturer){const v=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);v&&(f=v.value,w=v.multiline)}if(f&&w&&l.snippet){const v=this._model.getLineContent(this._selection.startLineNumber),p=(0,I.getLeadingWhitespace)(v,0,this._selection.startColumn-1);let _=p;l.snippet.walk(E=>E===l?!1:(E instanceof C.Text&&(_=(0,I.getLeadingWhitespace)((0,I.splitLines)(E.value).pop())),!0));const L=(0,I.commonPrefixLength)(_,p);f=f.replace(/(\r\n|\r|\n)(.*)/g,(E,M,k)=>`${M}${_.substr(L)}${k}`)}return f}else{if(u==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(u==="TM_CURRENT_WORD"){const f=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return f&&f.word||void 0}else{if(u==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(u==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=i;class n{constructor(l,u){this._labelService=l,this._model=u}resolve(l){const{name:u}=l;if(u==="TM_FILENAME")return m.basename(this._model.uri.fsPath);if(u==="TM_FILENAME_BASE"){const f=m.basename(this._model.uri.fsPath),w=f.lastIndexOf(".");return w<=0?f:f.slice(0,w)}else{if(u==="TM_DIRECTORY")return m.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,N.dirname)(this._model.uri));if(u==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(u==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=n;class o{constructor(l,u,f,w){this._readClipboardText=l,this._selectionIdx=u,this._selectionCount=f,this._spread=w}resolve(l){if(l.name!=="CLIPBOARD")return;const u=this._readClipboardText();if(!!u){if(this._spread){const f=u.split(/\r\n|\n|\r/).filter(w=>!(0,I.isFalsyOrWhitespace)(w));if(f.length===this._selectionCount)return f[this._selectionIdx]}return u}}}e.ClipboardBasedVariableResolver=o;class d{constructor(l,u){this._model=l,this._selection=u}resolve(l){const{name:u}=l,f=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),w=b.LanguageConfigurationRegistry.getComments(f);if(!!w){if(u==="LINE_COMMENT")return w.lineCommentToken||void 0;if(u==="BLOCK_COMMENT_START")return w.blockCommentStartToken||void 0;if(u==="BLOCK_COMMENT_END")return w.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=d;class c{constructor(){this._date=new Date}resolve(l){const{name:u}=l;if(u==="CURRENT_YEAR")return String(this._date.getFullYear());if(u==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(u==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(u==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(u==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(u==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(u==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(u==="CURRENT_DAY_NAME")return c.dayNames[this._date.getDay()];if(u==="CURRENT_DAY_NAME_SHORT")return c.dayNamesShort[this._date.getDay()];if(u==="CURRENT_MONTH_NAME")return c.monthNames[this._date.getMonth()];if(u==="CURRENT_MONTH_NAME_SHORT")return c.monthNamesShort[this._date.getMonth()];if(u==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=c,c.dayNames=[h.localize(0,null),h.localize(1,null),h.localize(2,null),h.localize(3,null),h.localize(4,null),h.localize(5,null),h.localize(6,null)],c.dayNamesShort=[h.localize(7,null),h.localize(8,null),h.localize(9,null),h.localize(10,null),h.localize(11,null),h.localize(12,null),h.localize(13,null)],c.monthNames=[h.localize(14,null),h.localize(15,null),h.localize(16,null),h.localize(17,null),h.localize(18,null),h.localize(19,null),h.localize(20,null),h.localize(21,null),h.localize(22,null),h.localize(23,null),h.localize(24,null),h.localize(25,null)],c.monthNamesShort=[h.localize(26,null),h.localize(27,null),h.localize(28,null),h.localize(29,null),h.localize(30,null),h.localize(31,null),h.localize(32,null),h.localize(33,null),h.localize(34,null),h.localize(35,null),h.localize(36,null),h.localize(37,null)];class s{constructor(l){this._workspaceService=l}resolve(l){if(!this._workspaceService)return;const u=(0,g.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!u){if(l.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(u);if(l.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(u)}}_resolveWorkspaceName(l){if((0,g.isSingleFolderWorkspaceIdentifier)(l))return m.basename(l.uri.path);let u=m.basename(l.configPath.path);return u.endsWith(g.WORKSPACE_EXTENSION)&&(u=u.substr(0,u.length-g.WORKSPACE_EXTENSION.length-1)),u}_resoveWorkspacePath(l){if((0,g.isSingleFolderWorkspaceIdentifier)(l))return(0,y.normalizeDriveLetter)(l.uri.fsPath);let u=m.basename(l.configPath.path),f=l.configPath.fsPath;return f.endsWith(u)&&(f=f.substr(0,f.length-u.length-1)),f?(0,y.normalizeDriveLetter)(f):"/"}}e.WorkspaceBasedVariableResolver=s;class a{resolve(l){const{name:u}=l;if(u==="RANDOM")return Math.random().toString().slice(-6);if(u==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(u==="UUID")return(0,S.generateUuid)()}}e.RandomBasedVariableResolver=a}),define(ee[300],te([0,1,19,2,8,61,3,22,32,127,297,123,739,381]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class n{constructor(s,a,r,l){this._editor=s,this._snippet=a,this._offset=r,this._snippetLineLeadingWhitespace=l,this._nestingLevel=1,this._placeholderGroups=(0,y.groupBy)(a.placeholders,t.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const s=this._editor.getModel();this._editor.changeDecorations(a=>{for(const r of this._snippet.placeholders){const l=this._snippet.offset(r),u=this._snippet.fullLen(r),f=S.Range.fromPositions(s.getPositionAt(this._offset+l),s.getPositionAt(this._offset+l+u)),w=r.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,v=a.addDecoration(f,w);this._placeholderDecorations.set(r,v)}})}move(s){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let l=[];for(const u of this._placeholderGroups[this._placeholderGroupsIdx])if(u.transform){const f=this._placeholderDecorations.get(u),w=this._editor.getModel().getDecorationRange(f),v=this._editor.getModel().getValueInRange(w),p=u.transform.resolve(v).split(/\r\n|\r|\n/);for(let _=1;_<p.length;_++)p[_]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+p[_]);l.push(I.EditOperation.replace(w,p.join(this._editor.getModel().getEOL())))}l.length>0&&this._editor.executeEdits("snippet.placeholderTransform",l)}let a=!1;s===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,a=!0):s===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,a=!0);const r=this._editor.getModel().changeDecorations(l=>{const u=new Set,f=[];for(const w of this._placeholderGroups[this._placeholderGroupsIdx]){const v=this._placeholderDecorations.get(w),p=this._editor.getModel().getDecorationRange(v);f.push(new b.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn)),a=a&&this._hasPlaceholderBeenCollapsed(w),l.changeDecorationOptions(v,w.isFinalTabstop?n._decor.activeFinal:n._decor.active),u.add(w);for(const _ of this._snippet.enclosingPlaceholders(w)){const L=this._placeholderDecorations.get(_);l.changeDecorationOptions(L,_.isFinalTabstop?n._decor.activeFinal:n._decor.active),u.add(_)}}for(const[w,v]of this._placeholderDecorations)u.has(w)||l.changeDecorationOptions(v,w.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return f});return a?this.move(s):r??[]}_hasPlaceholderBeenCollapsed(s){let a=s;for(;a;){if(a instanceof t.Placeholder){const r=this._placeholderDecorations.get(a);if(this._editor.getModel().getDecorationRange(r).isEmpty()&&a.toString().length>0)return!0}a=a.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const s=new Map;for(const a of this._placeholderGroups){let r;for(const l of a){if(l.isFinalTabstop)break;r||(r=[],s.set(l.index,r));const u=this._placeholderDecorations.get(l),f=this._editor.getModel().getDecorationRange(u);if(!f){s.delete(l.index);break}r.push(f)}}return s}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(s){const a=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(r=>{for(const l of this._placeholderGroups[this._placeholderGroupsIdx]){const u=s.shift();console.assert(!u._placeholderDecorations);const f=u._snippet.placeholderInfo.last.index;for(const v of u._snippet.placeholderInfo.all)v.isFinalTabstop?v.index=l.index+(f+1)/this._nestingLevel:v.index=l.index+v.index/this._nestingLevel;this._snippet.replace(l,u._snippet.children);const w=this._placeholderDecorations.get(l);r.removeDecoration(w),this._placeholderDecorations.delete(l);for(const v of u._snippet.placeholders){const p=u._snippet.offset(v),_=u._snippet.fullLen(v),L=S.Range.fromPositions(a.getPositionAt(u._offset+p),a.getPositionAt(u._offset+p+_)),E=r.addDecoration(L,n._decor.inactive);this._placeholderDecorations.set(v,E)}}this._placeholderGroups=(0,y.groupBy)(this._snippet.placeholders,t.Placeholder.compareByIndex)})}}e.OneSnippet=n,n._decor={active:C.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:C.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:C.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:C.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const o={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class d{constructor(s,a,r=o){this._templateMerges=[],this._snippets=[],this._editor=s,this._template=a,this._options=r}static adjustWhitespace(s,a,r,l,u){const f=s.getLineContent(a.lineNumber),w=(0,N.getLeadingWhitespace)(f,0,a.column-1);let v;return r.walk(p=>{if(!(p instanceof t.Text)||p.parent instanceof t.Choice)return!0;const _=p.value.split(/\r\n|\r|\n/);if(l){const E=r.offset(p);if(E===0)_[0]=s.normalizeIndentation(_[0]);else{v=v??r.toString();let M=v.charCodeAt(E-1);(M===10||M===13)&&(_[0]=s.normalizeIndentation(w+_[0]))}for(let M=1;M<_.length;M++)_[M]=s.normalizeIndentation(w+_[M])}const L=_.join(s.getEOL());return L!==p.value&&(p.parent.replace(p,[new t.Text(L)]),v=void 0),!0}),w}static adjustSelection(s,a,r,l){if(r!==0||l!==0){const{positionLineNumber:u,positionColumn:f}=a,w=f-r,v=f+l,p=s.validateRange({startLineNumber:u,startColumn:w,endLineNumber:u,endColumn:v});a=b.Selection.createWithDirection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn,a.getDirection())}return a}static createEditsAndSnippets(s,a,r,l,u,f,w,v){const p=[],_=[];if(!s.hasModel())return{edits:p,snippets:_};const L=s.getModel(),E=s.invokeWithinContext(O=>O.get(g.IWorkspaceContextService)),M=s.invokeWithinContext(O=>new i.ModelBasedVariableResolver(O.get(h.ILabelService),L)),k=()=>w;let A=0,F=L.getValueInRange(d.adjustSelection(L,s.getSelection(),r,0)),B=L.getValueInRange(d.adjustSelection(L,s.getSelection(),0,l)),T=L.getLineFirstNonWhitespaceColumn(s.getSelection().positionLineNumber);const R=s.getSelections().map((O,P)=>({selection:O,idx:P})).sort((O,P)=>S.Range.compareRangesUsingStarts(O.selection,P.selection));for(const{selection:O,idx:P}of R){let D=d.adjustSelection(L,O,r,0),x=d.adjustSelection(L,O,0,l);F!==L.getValueInRange(D)&&(D=O),B!==L.getValueInRange(x)&&(x=O);const H=O.setStartPosition(D.startLineNumber,D.startColumn).setEndPosition(x.endLineNumber,x.endColumn),j=new t.SnippetParser().parse(a,!0,u),Q=H.getStartPosition(),G=d.adjustWhitespace(L,Q,j,f||P>0&&T!==L.getLineFirstNonWhitespaceColumn(O.positionLineNumber),!0);j.resolveVariables(new i.CompositeSnippetVariableResolver([M,new i.ClipboardBasedVariableResolver(k,P,R.length,s.getOption(71)==="spread"),new i.SelectionBasedVariableResolver(L,O,P,v),new i.CommentBasedVariableResolver(L,O),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(E),new i.RandomBasedVariableResolver]));const se=L.getOffsetAt(Q)+A;A+=j.toString().length-L.getValueLengthInRange(H),p[P]=I.EditOperation.replace(H,j.toString()),p[P].identifier={major:P,minor:0},_[P]=new n(s,j,se,G)}return{edits:p,snippets:_}}dispose(){(0,m.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:s,snippets:a}=d.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=a,this._editor.executeEdits("snippet",s,r=>this._snippets[0].hasPlaceholder?this._move(!0):r.filter(l=>!!l.identifier).map(l=>b.Selection.fromPositions(l.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(s,a=o){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,s]);const{edits:r,snippets:l}=d.createEditsAndSnippets(this._editor,s,a.overwriteBefore,a.overwriteAfter,!0,a.adjustWhitespace,a.clipboardText,a.overtypingCapturer);this._editor.executeEdits("snippet",r,u=>{for(const f of this._snippets)f.merge(l);return console.assert(l.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):u.filter(f=>!!f.identifier).map(f=>b.Selection.fromPositions(f.range.getEndPosition()))})}next(){const s=this._move(!0);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}prev(){const s=this._move(!1);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}_move(s){const a=[];for(const r of this._snippets){const l=r.move(s);a.push(...l)}return a}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const s=this._editor.getSelections();if(s.length<this._snippets.length)return!1;let a=new Map;for(const r of this._snippets){const l=r.computePossibleSelections();if(a.size===0)for(const[u,f]of l){f.sort(S.Range.compareRangesUsingStarts);for(const w of s)if(f[0].containsRange(w)){a.set(u,[]);break}}if(a.size===0)return!1;a.forEach((u,f)=>{u.push(...l.get(f))})}s.sort(S.Range.compareRangesUsingStarts);for(let[r,l]of a){if(l.length!==s.length){a.delete(r);continue}l.sort(S.Range.compareRangesUsingStarts);for(let u=0;u<l.length;u++)if(!l[u].containsRange(s[u])){a.delete(r);continue}}return a.size>0}}e.SnippetSession=d}),define(ee[208],te([0,1,2,15,3,22,24,104,552,16,64,300]),function(K,e,y,m,N,I,S,b,C,h,g,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const i={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let n=class Tt{constructor(c,s,a){this._editor=c,this._logService=s,this._snippetListener=new y.DisposableStore,this._modelVersionId=-1,this._inSnippet=Tt.InSnippetMode.bindTo(a),this._hasNextTabstop=Tt.HasNextTabstop.bindTo(a),this._hasPrevTabstop=Tt.HasPrevTabstop.bindTo(a)}static get(c){return c.getContribution(Tt.ID)}dispose(){var c;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(c=this._session)===null||c===void 0||c.dispose(),this._snippetListener.dispose()}insert(c,s){try{this._doInsert(c,typeof s=="undefined"?i:Object.assign(Object.assign({},i),s))}catch(a){this.cancel(),this._logService.error(a),this._logService.error("snippet_error"),this._logService.error("insert_template=",c),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(c,s){!this._editor.hasModel()||(this._snippetListener.clear(),s.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(c,s):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new t.SnippetSession(this._editor,c,s),this._session.insert()),s.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(a=>a.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:c}=this._session;if(!c){this._currentChoice=void 0;return}if(this._currentChoice!==c){this._currentChoice=c,this._editor.setSelections(this._editor.getSelections().map(a=>I.Selection.fromPositions(a.getStartPosition())));const[s]=c.options;(0,b.showSimpleSuggestions)(this._editor,c.options.map((a,r)=>({kind:13,label:a.value,insertText:a.value,sortText:"a".repeat(r+1),range:N.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,s.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(c=!1){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(s=this._session)===null||s===void 0||s.dispose(),this._session=void 0,this._modelVersionId=-1,c&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};n.ID="snippetController2",n.InSnippetMode=new h.RawContextKey("inSnippetMode",!1,(0,C.localize)(0,null)),n.HasNextTabstop=new h.RawContextKey("hasNextTabstop",!1,(0,C.localize)(1,null)),n.HasPrevTabstop=new h.RawContextKey("hasPrevTabstop",!1,(0,C.localize)(2,null)),n=Be([me(1,g.ILogService),me(2,h.IContextKeyService)],n),e.SnippetController2=n,(0,m.registerEditorContribution)(n.ID,n);const o=m.EditorCommand.bindToContribution(n.get);(0,m.registerEditorCommand)(new o({id:"jumpToNextSnippetPlaceholder",precondition:h.ContextKeyExpr.and(n.InSnippetMode,n.HasNextTabstop),handler:d=>d.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,m.registerEditorCommand)(new o({id:"jumpToPrevSnippetPlaceholder",precondition:h.ContextKeyExpr.and(n.InSnippetMode,n.HasPrevTabstop),handler:d=>d.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,m.registerEditorCommand)(new o({id:"leaveSnippet",precondition:n.InSnippetMode,handler:d=>d.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,m.registerEditorCommand)(new o({id:"acceptSnippet",precondition:n.InSnippetMode,handler:d=>d.finish()}))}),define(ee[740],te([0,1,10,21,14,4,2,8,22,18,83,208,454,100,39,16,64,85,451,104]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class l{constructor(_,L,E,M){this.leadingLineContent=_.getLineContent(L.lineNumber).substr(0,L.column-1),this.leadingWord=_.getWordUntilPosition(L),this.lineNumber=L.lineNumber,this.column=L.column,this.auto=E,this.shy=M}static shouldAutoTrigger(_){if(!_.hasModel())return!1;const L=_.getModel(),E=_.getPosition();L.tokenizeIfCheap(E.lineNumber);const M=L.getWordAtPosition(E);return!(!M||M.endColumn!==E.column||!isNaN(Number(M.word)))}}e.LineContext=l;function u(p){return p.getOption(106).preview}function f(p,_,L){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=L.getValue("editor.inlineSuggest.allowQuickSuggestions");return E!==void 0?Boolean(E):!1}function w(p,_,L){if(!Boolean(_.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=L.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return E!==void 0?Boolean(E):!1}let v=class Hi{constructor(_,L,E,M,k,A,F){this._editor=_,this._editorWorkerService=L,this._clipboardService=E,this._telemetryService=M,this._logService=k,this._contextKeyService=A,this._configurationService=F,this._toDispose=new S.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new S.DisposableStore,this._triggerQuickSuggest=new y.TimeoutTimer,this._state=0,this._completionDisposables=new S.DisposableStore,this._onDidCancel=new I.Emitter,this._onDidTrigger=new I.Emitter,this._onDidSuggest=new I.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new C.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(h.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let B=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{B=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{B=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(T=>{B||this._onCursorChange(T)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{B||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,S.dispose)(this._triggerCharacterListener),(0,S.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const _=new Map;for(const E of h.CompletionProviderRegistry.all(this._editor.getModel()))for(const M of E.triggerCharacters||[]){let k=_.get(M);k||(k=new Set,k.add((0,r.getSnippetSuggestSupport)()),_.set(M,k)),k.add(E)}const L=E=>{if(!w(this._editor,this._contextKeyService,this._configurationService)||l.shouldAutoTrigger(this._editor))return;if(!E){const A=this._editor.getPosition();E=this._editor.getModel().getLineContent(A.lineNumber).substr(0,A.column-1)}let M="";(0,b.isLowSurrogate)(E.charCodeAt(E.length-1))?(0,b.isHighSurrogate)(E.charCodeAt(E.length-2))&&(M=E.substr(E.length-2)):M=E.charAt(E.length-1);const k=_.get(M);if(k){const A=this._completionModel?{items:this._completionModel.adopt(k),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:M},Boolean(this._completionModel),k,A)}};this._triggerCharacterListener.add(this._editor.onDidType(L)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>L()))}get state(){return this._state}cancel(_=!1){var L;this._state!==0&&(this._triggerQuickSuggest.cancel(),(L=this._requestToken)===null||L===void 0||L.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:_}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!h.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(_){if(!this._editor.hasModel())return;const L=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!_.selection.isEmpty()||_.reason!==0&&_.reason!==3||_.source!=="keyboard"&&_.source!=="deleteLeft"){this.cancel();return}this._state===0&&_.reason===0?(L.containsRange(this._currentSelection)||L.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&_.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var _;this._editor.getOption(79)!==!1&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&((_=t.SnippetController2.get(this._editor))===null||_===void 0?void 0:_.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!l.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const L=this._editor.getModel(),E=this._editor.getPosition(),M=this._editor.getOption(79);if(M!==!1){if(M!==!0){L.tokenizeIfCheap(E.lineNumber);const k=L.getLineTokens(E.lineNumber),A=k.getStandardTokenType(k.findTokenIndexAtOffset(Math.max(E.column-1-1,0)));if(!(M.other&&A===0||M.comments&&A===1||M.strings&&A===2))return}!f(this._editor,this._contextKeyService,this._configurationService)||!h.CompletionProviderRegistry.has(L)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const _=this._editor.getModel(),L=this._editor.getPosition(),E=new l(_,L,this._state===2,!1);this._onNewContext(E)})}trigger(_,L=!1,E,M){var k;if(!this._editor.hasModel())return;const A=this._editor.getModel(),F=_.auto,B=new l(A,this._editor.getPosition(),F,_.shy);this.cancel(L),this._state=F?2:1,this._onDidTrigger.fire({auto:F,shy:_.shy,position:this._editor.getPosition()}),this._context=B;let T={triggerKind:(k=_.triggerKind)!==null&&k!==void 0?k:0};_.triggerCharacter&&(T={triggerKind:1,triggerCharacter:_.triggerCharacter}),this._requestToken=new m.CancellationTokenSource;const R=this._editor.getOption(101);let O=1;switch(R){case"top":O=0;break;case"bottom":O=2;break}const{itemKind:P,showDeprecated:D}=Hi._createSuggestFilter(this._editor),x=i.WordDistance.create(this._editorWorkerService,this._editor),H=(0,r.provideSuggestionItems)(A,this._editor.getPosition(),new r.CompletionOptions(O,P,E,D),T,this._requestToken.token);Promise.all([H,x]).then(([j,Q])=>De(this,void 0,void 0,function*(){var G;if((G=this._requestToken)===null||G===void 0||G.dispose(),!this._editor.hasModel())return;let se=M==null?void 0:M.clipboardText;if(!se&&j.needsClipboard&&(se=yield this._clipboardService.readText()),this._state===0)return;const ne=this._editor.getModel();let Z=j.items;if(M){const W=(0,r.getSuggestionComparator)(O);Z=Z.concat(M.items).sort(W)}const U=new l(ne,this._editor.getPosition(),F,_.shy);this._completionModel=new a.CompletionModel(Z,this._context.column,{leadingLineContent:U.leadingLineContent,characterCountDelta:U.column-this._context.column},Q,this._editor.getOption(106),this._editor.getOption(101),se),this._completionDisposables.add(j.disposable),this._onNewContext(U),this._reportDurationsTelemetry(j.durations)})).catch(N.onUnexpectedError)}_reportDurationsTelemetry(_){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(_)}),this._logService.debug("suggest.durations.json",_)})}static _createSuggestFilter(_){const L=new Set;_.getOption(101)==="none"&&L.add(27);const M=_.getOption(106);return M.showMethods||L.add(0),M.showFunctions||L.add(1),M.showConstructors||L.add(2),M.showFields||L.add(3),M.showVariables||L.add(4),M.showClasses||L.add(5),M.showStructs||L.add(6),M.showInterfaces||L.add(7),M.showModules||L.add(8),M.showProperties||L.add(9),M.showEvents||L.add(10),M.showOperators||L.add(11),M.showUnits||L.add(12),M.showValues||L.add(13),M.showConstants||L.add(14),M.showEnums||L.add(15),M.showEnumMembers||L.add(16),M.showKeywords||L.add(17),M.showWords||L.add(18),M.showColors||L.add(19),M.showFiles||L.add(20),M.showReferences||L.add(21),M.showColors||L.add(22),M.showFolders||L.add(23),M.showTypeParameters||L.add(24),M.showSnippets||L.add(27),M.showUsers||L.add(25),M.showIssues||L.add(26),{itemKind:L,showDeprecated:M.showDeprecated}}_onNewContext(_){if(!!this._context){if(_.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,b.getLeadingWhitespace)(_.leadingLineContent)!==(0,b.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(_.column<this._context.column){_.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(_.leadingWord.word.length!==0&&_.leadingWord.startColumn>this._context.leadingWord.startColumn){const L=new Set(h.CompletionProviderRegistry.all(this._editor.getModel()));for(let M of this._completionModel.allProvider)L.delete(M);const E=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,L,{items:E,clipboardText:this._completionModel.clipboardText});return}if(_.column>this._context.column&&this._completionModel.incomplete.size>0&&_.leadingWord.word.length!==0){const{incomplete:L}=this._completionModel,E=this._completionModel.adopt(L);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,L,{items:E,clipboardText:this._completionModel.clipboardText})}else{let L=this._completionModel.lineContext,E=!1;if(this._completionModel.lineContext={leadingLineContent:_.leadingLineContent,characterCountDelta:_.column-this._context.column},this._completionModel.items.length===0){if(l.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<_.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=L,E=this._completionModel.items.length>0,E&&_.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:E})}}}}};v=Be([me(1,g.IEditorWorkerService),me(2,n.IClipboardService),me(3,s.ITelemetryService),me(4,c.ILogService),me(5,d.IContextKeyService),me(6,o.IConfigurationService)],v),e.SuggestModel=v}),define(ee[301],te([0,1,43,19,10,21,14,4,93,2,17,87,20,70,15,61,11,3,24,208,123,627,599,555,37,26,16,9,84,64,104,598,452,740,453,722,85,41,109]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v,p,_,L,E,M,k,A,F,B,T,R,O,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let x=!1;class H{constructor(U,W){if(this._model=U,this._position=W,U.getLineMaxColumn(W.lineNumber)!==W.column){const Y=U.getOffsetAt(W),X=U.getPositionAt(Y+1);this._marker=U.deltaDecorations([],[{range:s.Range.fromPositions(W,X),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(U){if(this._model.isDisposed()||this._position.lineNumber!==U.lineNumber)return 0;if(this._marker){const W=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(W.getStartPosition())-this._model.getOffsetAt(U)}else return this._model.getLineMaxColumn(U.lineNumber)-U.column}}let j=class Ui{constructor(U,W,V,Y,X,ae,J){this._memoryService=W,this._commandService=V,this._contextKeyService=Y,this._instantiationService=X,this._logService=ae,this._telemetryService=J,this._lineSuffix=new h.MutableDisposable,this._toDispose=new h.DisposableStore,this._selectors=new Q($=>$.priority),this._telemetryGate=0,this.editor=U,this.model=X.createInstance(B.SuggestModel,this.editor);const de=k.Context.InsertMode.bindTo(Y);de.set(U.getOption(106).insertMode),this.model.onDidTrigger(()=>de.set(U.getOption(106).insertMode)),this.widget=this._toDispose.add(new N.IdleValue(()=>{const $=this._instantiationService.createInstance(R.SuggestWidget,this.editor);this._toDispose.add($),this._toDispose.add($.onDidSelect(ve=>this._insertSuggestion(ve,0),this));const ie=new F.CommitCharacterController(this.editor,$,ve=>this._insertSuggestion(ve,2));this._toDispose.add(ie),this._toDispose.add(this.model.onDidSuggest(ve=>{ve.completionModel.items.length===0&&ie.reset()}));const ce=k.Context.MakesTextEdit.bindTo(this._contextKeyService),oe=k.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),he=k.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,h.toDisposable)(()=>{ce.reset(),oe.reset(),he.reset()})),this._toDispose.add($.onDidFocus(({item:ve})=>{const Se=this.editor.getPosition(),le=ve.editStart.column,ge=Se.column;let ue=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ve.completion.additionalTextEdits&&!(ve.completion.insertTextRules&4)&&ge-le===ve.completion.insertText.length&&(ue=this.editor.getModel().getValueInRange({startLineNumber:Se.lineNumber,startColumn:le,endLineNumber:Se.lineNumber,endColumn:ge})!==ve.completion.insertText),ce.set(ue),oe.set(!c.Position.equals(ve.editInsertEnd,ve.editReplaceEnd)),he.set(Boolean(ve.provider.resolveCompletionItem)||Boolean(ve.completion.documentation)||ve.completion.detail!==ve.completion.label)})),this._toDispose.add($.onDetailsKeyDown(ve=>{if(ve.toKeybinding().equals(new C.SimpleKeybinding(!0,!1,!1,!1,33))||g.isMacintosh&&ve.toKeybinding().equals(new C.SimpleKeybinding(!1,!1,!1,!0,33))){ve.stopPropagation();return}ve.toKeybinding().isModifierKey()||this.editor.focus()})),$})),this._overtypingCapturer=this._toDispose.add(new N.IdleValue(()=>this._toDispose.add(new T.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new N.IdleValue(()=>this._toDispose.add(new A.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(X.createInstance(f.WordContextKey,U)),this._toDispose.add(this.model.onDidTrigger($=>{this.widget.value.showTriggered($.auto,$.shy?250:50),this._lineSuffix.value=new H(this.editor.getModel(),$.position)})),this._toDispose.add(this.model.onDidSuggest($=>{if(!$.shy){let ie=-1;for(const ce of this._selectors.itemsOrderedByPriorityDesc)if(ie=ce.select(this.editor.getModel(),this.editor.getPosition(),$.completionModel.items),ie!==-1)break;ie===-1&&(ie=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),$.completionModel.items)),this.widget.value.showSuggestions($.completionModel,ie,$.isFrozen,$.auto)}})),this._toDispose.add(this.model.onDidCancel($=>{$.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{x||(this.model.cancel(),this.model.clear())}));let q=k.Context.AcceptSuggestionsOnEnter.bindTo(Y),z=()=>{const $=this.editor.getOption(1);q.set($==="on"||$==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}static get(U){return U.getContribution(Ui.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(U,W){if(!U||!U.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const V=r.SnippetController2.get(this.editor);if(!V)return;const Y=this.editor.getModel(),X=Y.getAlternativeVersionId(),{item:ae}=U,J=[],de=new I.CancellationTokenSource;W&1||this.editor.pushUndoStop();const q=this.getOverwriteInfo(ae,Boolean(W&8));if(this._memoryService.memorize(Y,this.editor.getPosition(),ae),Array.isArray(ae.completion.additionalTextEdits)){const $=n.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ae.completion.additionalTextEdits.map(ie=>d.EditOperation.replace(s.Range.lift(ie.range),ie.text))),$.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ae.isResolved){const $=new t.StopWatch(!0);let ie;const ce=Y.onDidChangeContent(Se=>{if(Se.isFlush){de.cancel(),ce.dispose();return}for(let le of Se.changes){const ge=s.Range.getEndPosition(le.range);(!ie||c.Position.isBefore(ge,ie))&&(ie=ge)}});let oe=W;W|=2;let he=!1,ve=this.editor.onWillType(()=>{ve.dispose(),he=!0,oe&2||this.editor.pushUndoStop()});J.push(ae.resolve(de.token).then(()=>{if(!ae.completion.additionalTextEdits||de.token.isCancellationRequested||ie&&ae.completion.additionalTextEdits.some(le=>c.Position.isBefore(ie,s.Range.getStartPosition(le.range))))return!1;he&&this.editor.pushUndoStop();const Se=n.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ae.completion.additionalTextEdits.map(le=>d.EditOperation.replace(s.Range.lift(le.range),le.text))),Se.restoreRelativeVerticalPositionOfCursor(this.editor),(he||!(oe&2))&&this.editor.pushUndoStop(),!0}).then(Se=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",$.elapsed(),Se),ce.dispose(),ve.dispose()}))}let{insertText:z}=ae.completion;ae.completion.insertTextRules&4||(z=l.SnippetParser.escape(z)),V.insert(z,{overwriteBefore:q.overwriteBefore,overwriteAfter:q.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ae.completion.insertTextRules&1),clipboardText:U.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),W&2||this.editor.pushUndoStop(),ae.completion.command?ae.completion.command.id===G.id?this.model.trigger({auto:!0,shy:!1},!0):(J.push(this._commandService.executeCommand(ae.completion.command.id,...ae.completion.command.arguments?[...ae.completion.command.arguments]:[]).catch(S.onUnexpectedError)),this.model.cancel()):this.model.cancel(),W&4&&this._alternatives.value.set(U,$=>{for(de.cancel();Y.canUndo();){X!==Y.getAlternativeVersionId()&&Y.undo(),this._insertSuggestion($,1|2|(W&8?8:0));break}}),this._alertCompletionItem(ae),Promise.all(J).finally(()=>{this._reportSuggestionAcceptedTelemetry(Y,U),this.model.clear(),de.dispose()})}_reportSuggestionAcceptedTelemetry(U,W){var V;if(this._telemetryGate++%100!=0)return;const Y=((V=W.item.provider._debugDisplayName)!==null&&V!==void 0?V:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:Y,basenameHash:(0,D.hash)((0,P.basename)(U.uri)).toString(16),languageId:U.getLanguageId(),fileExtension:(0,P.extname)(U.uri)})}getOverwriteInfo(U,W){(0,i.assertType)(this.editor.hasModel());let V=this.editor.getOption(106).insertMode==="replace";W&&(V=!V);const Y=U.position.column-U.editStart.column,X=(V?U.editReplaceEnd.column:U.editInsertEnd.column)-U.position.column,ae=this.editor.getPosition().column-U.position.column,J=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Y+ae,overwriteAfter:X+J}}_alertCompletionItem(U){if((0,m.isNonEmptyArray)(U.completion.additionalTextEdits)){let W=w.localize(0,null,U.textLabel,U.completion.additionalTextEdits.length);(0,y.alert)(W)}}triggerSuggest(U,W){this.editor.hasModel()&&(this.model.trigger({auto:W??!1,shy:!1},!1,U),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(U){if(!this.editor.hasModel())return;const W=this.editor.getPosition(),V=()=>{W.equals(this.editor.getPosition())&&this._commandService.executeCommand(U.fallback)},Y=X=>{if(X.completion.insertTextRules&4||X.completion.additionalTextEdits)return!0;const ae=this.editor.getPosition(),J=X.editStart.column,de=ae.column;return de-J!==X.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ae.lineNumber,startColumn:J,endLineNumber:ae.lineNumber,endColumn:de})!==X.completion.insertText};b.Event.once(this.model.onDidTrigger)(X=>{let ae=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,h.dispose)(ae),V()},void 0,ae),this.model.onDidSuggest(({completionModel:J})=>{if((0,h.dispose)(ae),J.items.length===0){V();return}const de=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),J.items),q=J.items[de];if(!Y(q)){V();return}this.editor.pushUndoStop(),this._insertSuggestion({index:de,item:q,model:J},4|1|2)},void 0,ae)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(W,0),this.editor.focus()}acceptSelectedSuggestion(U,W){const V=this.widget.value.getFocusedItem();let Y=0;U&&(Y|=4),W&&(Y|=8),this._insertSuggestion(V,Y)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(U){return this._selectors.register(U)}};j.ID="editor.contrib.suggestController",j=Be([me(1,u.ISuggestMemoryService),me(2,p.ICommandService),me(3,_.IContextKeyService),me(4,L.IInstantiationService),me(5,M.ILogService),me(6,O.ITelemetryService)],j),e.SuggestController=j;class Q{constructor(U){this.prioritySelector=U,this._items=new Array}register(U){if(this._items.indexOf(U)!==-1)throw new Error("Value is already registered");return this._items.push(U),this._items.sort((W,V)=>this.prioritySelector(V)-this.prioritySelector(W)),{dispose:()=>{const W=this._items.indexOf(U);W>=0&&this._items.splice(W,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class G extends o.EditorAction{constructor(){super({id:G.id,label:w.localize(1,null),alias:"Trigger Suggest",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(U,W,V){const Y=j.get(W);if(!Y)return;let X;V&&typeof V=="object"&&V.auto===!0&&(X=!0),Y.triggerSuggest(void 0,X)}}e.TriggerSuggestAction=G,G.id="editor.action.triggerSuggest",(0,o.registerEditorContribution)(j.ID,j),(0,o.registerEditorAction)(G);const se=100+90,ne=o.EditorCommand.bindToContribution(j.get);(0,o.registerEditorCommand)(new ne({id:"acceptSelectedSuggestion",precondition:k.Context.Visible,handler(Z){Z.acceptSelectedSuggestion(!0,!1)}})),E.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:_.ContextKeyExpr.and(k.Context.Visible,a.EditorContextKeys.textInputFocus),primary:2,weight:se}),E.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:_.ContextKeyExpr.and(k.Context.Visible,a.EditorContextKeys.textInputFocus,k.Context.AcceptSuggestionsOnEnter,k.Context.MakesTextEdit),primary:3,weight:se}),v.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:w.localize(2,null)},group:"left",order:1,when:k.Context.HasInsertAndReplaceRange.toNegated()}),v.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:w.localize(3,null)},group:"left",order:1,when:_.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("insert"))}),v.MenuRegistry.appendMenuItem(k.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:w.localize(4,null)},group:"left",order:1,when:_.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("replace"))}),(0,o.registerEditorCommand)(new ne({id:"acceptAlternativeSelectedSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,a.EditorContextKeys.textInputFocus),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(Z){Z.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,group:"left",order:2,when:_.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("insert")),title:w.localize(5,null)},{menuId:k.suggestWidgetStatusbarMenu,group:"left",order:2,when:_.ContextKeyExpr.and(k.Context.HasInsertAndReplaceRange,k.Context.InsertMode.isEqualTo("replace")),title:w.localize(6,null)}]})),p.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,o.registerEditorCommand)(new ne({id:"hideSuggestWidget",precondition:k.Context.Visible,handler:Z=>Z.cancelSuggestWidget(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,o.registerEditorCommand)(new ne({id:"selectNextSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Z=>Z.selectNextSuggestion(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,o.registerEditorCommand)(new ne({id:"selectNextPageSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Z=>Z.selectNextPageSuggestion(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,o.registerEditorCommand)(new ne({id:"selectLastSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Z=>Z.selectLastSuggestion()})),(0,o.registerEditorCommand)(new ne({id:"selectPrevSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Z=>Z.selectPrevSuggestion(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,o.registerEditorCommand)(new ne({id:"selectPrevPageSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Z=>Z.selectPrevPageSuggestion(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,o.registerEditorCommand)(new ne({id:"selectFirstSuggestion",precondition:_.ContextKeyExpr.and(k.Context.Visible,k.Context.MultipleSuggestions),handler:Z=>Z.selectFirstSuggestion()})),(0,o.registerEditorCommand)(new ne({id:"toggleSuggestionDetails",precondition:k.Context.Visible,handler:Z=>Z.toggleSuggestionDetails(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:k.suggestWidgetStatusbarMenu,group:"right",order:1,when:_.ContextKeyExpr.and(k.Context.DetailsVisible,k.Context.CanResolve),title:w.localize(7,null)},{menuId:k.suggestWidgetStatusbarMenu,group:"right",order:1,when:_.ContextKeyExpr.and(k.Context.DetailsVisible.toNegated(),k.Context.CanResolve),title:w.localize(8,null)}]})),(0,o.registerEditorCommand)(new ne({id:"toggleExplainMode",precondition:k.Context.Visible,handler:Z=>Z.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,o.registerEditorCommand)(new ne({id:"toggleSuggestionFocus",precondition:k.Context.Visible,handler:Z=>Z.toggleSuggestionFocus(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,o.registerEditorCommand)(new ne({id:"insertBestCompletion",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),f.WordContextKey.AtEnd,k.Context.Visible.toNegated(),A.SuggestAlternatives.OtherSuggestions.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:(Z,U)=>{Z.triggerSuggestAndAcceptBest((0,i.isObject)(U)?Object.assign({fallback:"tab"},U):{fallback:"tab"})},kbOpts:{weight:se,primary:2}})),(0,o.registerEditorCommand)(new ne({id:"insertNextSuggestion",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),A.SuggestAlternatives.OtherSuggestions,k.Context.Visible.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:Z=>Z.acceptNextSuggestion(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:2}})),(0,o.registerEditorCommand)(new ne({id:"insertPrevSuggestion",precondition:_.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,_.ContextKeyExpr.equals("config.editor.tabCompletion","on"),A.SuggestAlternatives.OtherSuggestions,k.Context.Visible.toNegated(),r.SnippetController2.InSnippetMode.toNegated()),handler:Z=>Z.acceptPrevSuggestion(),kbOpts:{weight:se,kbExpr:a.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,o.registerEditorAction)(class extends o.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:w.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Z,U){var W;(W=j.get(U))===null||W===void 0||W.resetWidgetSize()}})}),define(ee[741],te([0,1,19,10,4,2,11,3,123,300,301,205,186]),function(K,e,y,m,N,I,S,b,C,h,g,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class n extends I.Disposable{constructor(a,r){super();this.editor=a,this.suggestControllerPreselector=r,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new N.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new m.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(a.onKeyDown(u=>{u.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(a.onKeyUp(u=>{u.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const l=g.SuggestController.get(this.editor);if(l){this._register(l.registerSelector({priority:100,select:(w,v,p)=>{const _=this.editor.getModel(),L=(0,t.minimizeInlineCompletion)(_,this.suggestControllerPreselector());if(!L)return-1;const E=S.Position.lift(v),M=p.map((A,F)=>{const B=c(l,E,A,this.isShiftKeyPressed),T=(0,t.minimizeInlineCompletion)(_,B==null?void 0:B.normalizedInlineCompletion);if(!T)return;const R=o(L.range,T.range)&&L.text.startsWith(T.text);return{index:F,valid:R,prefixLength:T.text.length,suggestItem:A}}).filter(A=>A&&A.valid),k=(0,y.findMaxBy)(M,(0,y.compareBy)(A=>A.prefixLength,y.numberComparator));return k?k.index:-1}}));let u=!1;const f=()=>{u||(u=!0,this._register(l.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(l.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(l.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(N.Event.once(l.model.onDidTrigger)(w=>{f()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(a){const r=this.getSuggestItemInfo();let l=!1;d(this._currentSuggestItemInfo,r)||(this._currentSuggestItemInfo=r,l=!0),this._isActive!==a&&(this._isActive=a,l=!0),l&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const a=g.SuggestController.get(this.editor);if(!a||!this.isSuggestWidgetVisible)return;const r=a.widget.value.getFocusedItem();if(!!r)return c(a,this.editor.getPosition(),r.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const a=g.SuggestController.get(this.editor);a&&a.stopForceRenderingAbove()}forceRenderingAbove(){const a=g.SuggestController.get(this.editor);a&&a.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=n;function o(s,a){return a.startLineNumber===s.startLineNumber&&a.startColumn===s.startColumn&&(a.endLineNumber<s.endLineNumber||a.endLineNumber===s.endLineNumber&&a.endColumn<=s.endColumn)}e.rangeStartsWith=o;function d(s,a){return s===a?!0:!s||!a?!1:s.completionItemKind===a.completionItemKind&&s.isSnippetText===a.isSnippetText&&(0,i.normalizedInlineCompletionsEquals)(s.normalizedInlineCompletion,a.normalizedInlineCompletion)}function c(s,a,r,l){if(Array.isArray(r.completion.additionalTextEdits)&&r.completion.additionalTextEdits.length>0)return{completionItemKind:r.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:b.Range.fromPositions(a,a),text:""}};let{insertText:u}=r.completion,f=!1;if(r.completion.insertTextRules&4){const v=new C.SnippetParser().parse(u),p=s.editor.getModel();if(v.children.length>100)return;h.SnippetSession.adjustWhitespace(p,a,v,!0,!0),u=v.toString(),f=!0}const w=s.getOverwriteInfo(r,l);return{isSnippetText:f,completionItemKind:r.completion.kind,normalizedInlineCompletion:{text:u,range:b.Range.fromPositions(a.delta(0,-w.overwriteBefore),a.delta(0,Math.max(w.overwriteAfter,0)))}}}}),define(ee[742],te([0,1,10,14,2,18,185,205,186,741]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;class g extends S.BaseGhostTextWidgetModel{constructor(n,o){super(n);this.cache=o,this.suggestionInlineCompletionSource=this._register(new h.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var d,c;return(c=(d=this.cache.value)===null||d===void 0?void 0:d.completions[0])===null||c===void 0?void 0:c.toLiveInlineCompletion()})),this.updateOperation=this._register(new N.MutableDisposable),this.updateCacheSoon=this._register(new y.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const c=this.ghostText;c&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,t(c.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(d=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,N.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return De(this,void 0,void 0,function*(){const n=this.suggestionInlineCompletionSource.state;if(!n||!n.selectedItem)return;const o={text:n.selectedItem.normalizedInlineCompletion.text,range:n.selectedItem.normalizedInlineCompletion.range,isSnippetText:n.selectedItem.isSnippetText,completionKind:n.selectedItem.completionItemKind},d=this.editor.getPosition(),c=(0,y.createCancelablePromise)(a=>De(this,void 0,void 0,function*(){let r;try{r=yield(0,b.provideInlineCompletions)(d,this.editor.getModel(),{triggerKind:I.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:o},a)}catch(l){(0,m.onUnexpectedError)(l);return}a.isCancellationRequested||(this.cache.setValue(this.editor,r,I.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire())})),s=new b.UpdateOperation(c,I.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=s,yield c,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var n,o,d;const c=this.isSuggestionPreviewEnabled(),s=(0,b.minimizeInlineCompletion)(this.editor.getModel(),(o=(n=this.cache.value)===null||n===void 0?void 0:n.completions[0])===null||o===void 0?void 0:o.toLiveInlineCompletion()),a=this.suggestionInlineCompletionSource.state,r=(0,b.minimizeInlineCompletion)(this.editor.getModel(),(d=a==null?void 0:a.selectedItem)===null||d===void 0?void 0:d.normalizedInlineCompletion),l=s&&r&&s.text.startsWith(r.text)&&s.range.equalsRange(r.range);if(!c&&!l)return;const u=l?s:r||s,f=l?u.text.length-r.text.length:0;return this.toGhostText(u,f)}toGhostText(n,o){const d=this.editor.getOptions().get(106).previewMode;return n?(0,C.inlineCompletionToGhostText)(n,this.editor.getModel(),d,this.editor.getPosition(),o)||new S.GhostText(n.range.endLineNumber,[],this.minReservedLineCount):void 0}}e.SuggestWidgetPreviewModel=g;function t(i){return i.reduce((n,o)=>n+o,0)}}),define(ee[743],te([0,1,4,2,11,18,205,742,447,26]),function(K,e,y,m,N,I,S,b,C,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class g extends m.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new m.MutableDisposable)}get targetModel(){var o;return(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object}setTargetModel(o){var d;((d=this.currentModelRef.value)===null||d===void 0?void 0:d.object)!==o&&(this.currentModelRef.clear(),this.currentModelRef.value=o?(0,C.createDisposableRef)(o,o.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var o,d;return this.hasCachedGhostText||(this.cachedGhostText=(d=(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object)===null||d===void 0?void 0:d.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(o){var d;(d=this.targetModel)===null||d===void 0||d.setExpanded(o)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=g;let t=class extends g{constructor(o,d){super();this.editor=o,this.commandService=d,this.sharedCache=this._register(new i),this.suggestWidgetAdapterModel=this._register(new b.SuggestWidgetPreviewModel(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new S.InlineCompletionsModel(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(o){var d;const c=(d=this.activeInlineCompletionsModel)===null||d===void 0?void 0:d.ghostText;return c?c.parts.some(s=>o.containsPosition(new N.Position(c.lineNumber,s.column))):!1}triggerInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.trigger(I.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.commitCurrentSuggestion()}hideInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.hide()}showNextInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showNext()}showPreviousInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showPrevious()}hasMultipleInlineCompletions(){var o;return De(this,void 0,void 0,function*(){const d=yield(o=this.activeInlineCompletionsModel)===null||o===void 0?void 0:o.hasMultipleInlineCompletions();return d!==void 0?d:!1})}};t=Be([me(1,h.ICommandService)],t),e.GhostTextModel=t;class i extends m.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new m.MutableDisposable)}get value(){return this.cache.value}setValue(o,d,c){this.cache.value=new S.SynchronizedInlineCompletionsCache(o,d,()=>this.onDidChangeEmitter.fire(),c)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=i}),define(ee[302],te([0,1,2,8,15,113,24,252,743,648,536,16,9,84]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let o=class Ki extends y.Disposable{constructor(f,w){super();this.editor=f,this.instantiationService=w,this.triggeredExplicitly=!1,this.activeController=this._register(new y.MutableDisposable),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(v=>{v.hasChanged(106)&&this.updateModelController(),v.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(f){return f.getContribution(Ki.ID)}get activeModel(){var f;return(f=this.activeController.value)===null||f===void 0?void 0:f.model}updateModelController(){const f=this.editor.getOption(106),w=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(f.preview||w.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(c,this.editor):void 0}shouldShowHoverAt(f){var w;return((w=this.activeModel)===null||w===void 0?void 0:w.shouldShowHoverAt(f))||!1}shouldShowHoverAtViewZone(f){var w,v;return((v=(w=this.activeController.value)===null||w===void 0?void 0:w.widget)===null||v===void 0?void 0:v.shouldShowHoverAtViewZone(f))||!1}trigger(){var f;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(f=this.activeModel)===null||f===void 0||f.triggerInlineCompletion()}commit(){var f;(f=this.activeModel)===null||f===void 0||f.commitInlineCompletion()}hide(){var f;(f=this.activeModel)===null||f===void 0||f.hideInlineCompletion()}showNextInlineCompletion(){var f;(f=this.activeModel)===null||f===void 0||f.showNextInlineCompletion()}showPreviousInlineCompletion(){var f;(f=this.activeModel)===null||f===void 0||f.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var f;return De(this,void 0,void 0,function*(){const w=yield(f=this.activeModel)===null||f===void 0?void 0:f.hasMultipleInlineCompletions();return w!==void 0?w:!1})}};o.inlineSuggestionVisible=new t.RawContextKey("inlineSuggestionVisible",!1,g.localize(0,null)),o.inlineSuggestionHasIndentation=new t.RawContextKey("inlineSuggestionHasIndentation",!1,g.localize(1,null)),o.inlineSuggestionHasIndentationLessThanTabSize=new t.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,g.localize(2,null)),o.ID="editor.contrib.ghostTextController",o=Be([me(1,i.IInstantiationService)],o),e.GhostTextController=o;class d{constructor(f){this.contextKeyService=f,this.inlineCompletionVisible=o.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=o.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=o.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let c=class extends y.Disposable{constructor(f,w,v){super();this.editor=f,this.instantiationService=w,this.contextKeyService=v,this.contextKeys=new d(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(C.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(h.GhostTextWidget,this.editor,this.model)),this._register((0,y.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var f;this.contextKeys.inlineCompletionVisible.set(((f=this.model.activeInlineCompletionsModel)===null||f===void 0?void 0:f.ghostText)!==void 0);let w=!1,v=!0;const p=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&p&&p.parts.length>0){const{column:_,lines:L}=p.parts[0],E=L[0],M=this.editor.getModel().getLineIndentColumn(p.lineNumber);if(_<=M){let A=(0,m.firstNonWhitespaceIndex)(E);A===-1&&(A=E.length-1),w=A>0;const F=this.editor.getModel().getOptions().tabSize;v=I.CursorColumns.visibleColumnFromColumn(E,A+1,F)<F}}this.contextKeys.inlineCompletionSuggestsIndentation.set(w),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(v)}};c=Be([me(1,i.IInstantiationService),me(2,t.IContextKeyService)],c),e.ActiveGhostTextController=c;const s=N.EditorCommand.bindToContribution(o.get);e.commitInlineSuggestionAction=new s({id:b.inlineSuggestCommitId,precondition:o.inlineSuggestionVisible,handler(u){u.commit(),u.editor.focus()}}),(0,N.registerEditorCommand)(e.commitInlineSuggestionAction),n.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:t.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,S.EditorContextKeys.tabMovesFocus.toNegated(),o.inlineSuggestionHasIndentationLessThanTabSize)}),(0,N.registerEditorCommand)(new s({id:"editor.action.inlineSuggest.hide",precondition:o.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(u){u.hide()}}));class a extends N.EditorAction{constructor(){super({id:a.ID,label:g.localize(3,null),alias:"Show Next Inline Suggestion",precondition:t.ContextKeyExpr.and(S.EditorContextKeys.writable,o.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(f,w){return De(this,void 0,void 0,function*(){const v=o.get(w);v&&(v.showNextInlineCompletion(),w.focus())})}}e.ShowNextInlineSuggestionAction=a,a.ID="editor.action.inlineSuggest.showNext";class r extends N.EditorAction{constructor(){super({id:r.ID,label:g.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:t.ContextKeyExpr.and(S.EditorContextKeys.writable,o.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(f,w){return De(this,void 0,void 0,function*(){const v=o.get(w);v&&(v.showPreviousInlineCompletion(),w.focus())})}}e.ShowPreviousInlineSuggestionAction=r,r.ID="editor.action.inlineSuggest.showPrevious";class l extends N.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g.localize(5,null),alias:"Trigger Inline Suggestion",precondition:S.EditorContextKeys.writable})}run(f,w){return De(this,void 0,void 0,function*(){const v=o.get(w);v&&v.trigger()})}}e.TriggerInlineSuggestionAction=l,(0,N.registerEditorContribution)(o.ID,o),(0,N.registerEditorAction)(l),(0,N.registerEditorAction)(a),(0,N.registerEditorAction)(r)}),define(ee[744],te([0,1,7,65,2,102,3,34,184,302,537,63,37,26,16,52]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class c{constructor(r,l,u){this.owner=r,this.range=l,this.controller=u}isValidForHoverAnchor(r){return r.type===1&&this.range.startColumn<=r.range.startColumn&&this.range.endColumn>=r.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}e.InlineCompletionsHover=c;let s=class{constructor(r,l,u,f,w,v,p){this._editor=r,this._commandService=l,this._menuService=u,this._contextKeyService=f,this._languageService=w,this._openerService=v,this.accessibilityService=p}suggestHoverAnchor(r){const l=h.GhostTextController.get(this._editor);if(!l)return null;const u=r.target;if(u.type===8){const f=u.detail;if(l.shouldShowHoverAtViewZone(f.viewZoneId))return new C.HoverForeignElementAnchor(1e3,this,S.Range.fromPositions(f.positionBefore||f.position,f.positionBefore||f.position))}return u.type===7&&l.shouldShowHoverAt(u.range)?new C.HoverForeignElementAnchor(1e3,this,u.range):u.type===6&&u.detail.mightBeForeignElement&&l.shouldShowHoverAt(u.range)?new C.HoverForeignElementAnchor(1e3,this,u.range):null}computeSync(r,l){const u=h.GhostTextController.get(this._editor);return u&&u.shouldShowHoverAt(r.range)?[new c(this,r.range,u)]:[]}renderHoverParts(r,l){const u=new N.DisposableStore,f=l[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(r,f,u);const w=u.add(this._menuService.createMenu(i.MenuId.InlineCompletionsActions,this._contextKeyService)),v=r.statusBar.addAction({label:g.localize(0,null),commandId:h.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(h.ShowNextInlineSuggestionAction.ID)}),p=r.statusBar.addAction({label:g.localize(1,null),commandId:h.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(h.ShowPreviousInlineSuggestionAction.ID)});r.statusBar.addAction({label:g.localize(2,null),commandId:h.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(h.commitInlineSuggestionAction.id)});const _=[v,p];for(const L of _)L.setEnabled(!1);f.hasMultipleSuggestions().then(L=>{for(const E of _)E.setEnabled(L)});for(const[L,E]of w.getActions())for(const M of E)M instanceof i.MenuItemAction&&r.statusBar.addAction({label:M.label,commandId:M.item.id,run:()=>this._commandService.executeCommand(M.item.id)});return u}renderScreenReaderText(r,l,u){var f,w;const v=y.$,p=v("div.hover-row.markdown-hover"),_=y.append(p,v("div.hover-contents")),L=u.add(new I.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),E=k=>{u.add(L.onDidRenderAsync(()=>{_.className="hover-contents code-hover-contents",r.onContentsChanged()}));const A=g.localize(3,null),F=u.add(L.render(new m.MarkdownString().appendText(A).appendCodeblock("text",k)));_.replaceChildren(F.element)},M=(w=(f=l.controller.activeModel)===null||f===void 0?void 0:f.inlineCompletionsModel)===null||w===void 0?void 0:w.ghostText;if(M){const k=this._editor.getModel().getLineContent(M.lineNumber);E(M.renderForScreenReader(k))}r.fragment.appendChild(p)}};s=Be([me(1,n.ICommandService),me(2,i.IMenuService),me(3,o.IContextKeyService),me(4,b.ILanguageService),me(5,d.IOpenerService),me(6,t.IAccessibilityService)],s),e.InlineCompletionsHoverParticipant=s}),define(ee[745],te([0,1,7,225,19,2,11,3,32,18,713,250,184,198,729,744,16,9,42,104,299,10,731,24,4]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c,s,a,r,l,u,f,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const p=y.$;let _=class ji extends I.Disposable{constructor(B,T,R){super();this._editor=B,this._instantiationService=T,this._keybindingService=R,this._participants=[this._instantiationService.createInstance(g.ColorHoverParticipant,this._editor),this._instantiationService.createInstance(n.MarkdownHoverParticipant,this._editor),this._instantiationService.createInstance(d.InlineCompletionsHoverParticipant,this._editor),this._instantiationService.createInstance(l.UnicodeHighlighterHoverParticipant,this._editor),this._instantiationService.createInstance(o.MarkerHoverParticipant,this._editor),this._instantiationService.createInstance(f.InlayHintsHover,this._editor)],this._widget=this._register(this._instantiationService.createInstance(M,this._editor)),this._decorationsChangerListener=this._register(new L(this._editor)),this._computer=new A(this._editor,this._participants),this._hoverOperation=this._register(new t.HoverOperation(this._editor,this._computer)),this._messages=[],this._messagesAreComplete=!1,this._register(this._hoverOperation.onResult(O=>{this._withResult(O.value,O.isComplete,O.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(y.addStandardDisposableListener(this._widget.getDomNode(),"keydown",O=>{O.equals(9)&&this.hide()})),this._register(h.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.colorPicker||this._hoverOperation.start(0))}maybeShowAt(B){const T=[];for(const O of this._participants)if(O.suggestHoverAnchor){const P=O.suggestHoverAnchor(B);P&&T.push(P)}const R=B.target;if(R.type===6&&T.push(new i.HoverRangeAnchor(0,R.range)),R.type===7){const O=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!R.detail.isAfterLines&&typeof R.detail.horizontalDistanceToText=="number"&&R.detail.horizontalDistanceToText<O&&T.push(new i.HoverRangeAnchor(0,R.range))}return T.length===0?!1:(T.sort((O,P)=>P.priority-O.priority),this._startShowingAt(T[0],0,!1),!0)}startShowingAtRange(B,T,R){this._startShowingAt(new i.HoverRangeAnchor(0,B),T,R)}_startShowingAt(B,T,R){if(!(this._computer.anchor&&this._computer.anchor.equals(B))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!B.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const O=this._messages.filter(P=>P.isValidForHoverAnchor(B));if(O.length===0)this.hide();else{if(O.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(B,O)}}this._computer.anchor=B,this._computer.shouldFocus=R,this._hoverOperation.start(T)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return!!this._widget.colorPicker}_addLoadingMessage(B){if(this._computer.anchor){for(const T of this._participants)if(T.createLoadingMessage){const R=T.createLoadingMessage(this._computer.anchor);if(R)return B.slice(0).concat([R])}}return B}_withResult(B,T,R){this._messages=R?this._addLoadingMessage(B):B,this._messagesAreComplete=T,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):T&&this.hide()}_renderMessages(B,T){let R=1073741824,O=T[0].range,P=null;for(const G of T)R=Math.min(R,G.range.startColumn),O=b.Range.plusRange(O,G.range),G.forceShowAtRange&&(P=G.range);const D=new I.DisposableStore,x=D.add(new k(this._keybindingService)),H=document.createDocumentFragment();let j=null;const Q={fragment:H,statusBar:x,setColorPicker:G=>j=G,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const G of this._participants){const se=T.filter(ne=>ne.owner===G);se.length>0&&D.add(G.renderHoverParts(Q,se))}if(x.hasContent&&H.appendChild(x.hoverElement),H.hasChildNodes()){if(O){const G=this._decorationsChangerListener.deltaDecorations([],[{range:O,options:ji._DECORATION_OPTIONS}]);D.add((0,I.toDisposable)(()=>{this._decorationsChangerListener.deltaDecorations(G,[])}))}this._widget.showAt(H,new E(j,P?P.getStartPosition():new S.Position(B.range.startLineNumber,R),P||O,this._editor.getOption(53).above,this._computer.shouldFocus,D))}else D.dispose()}};_._DECORATION_OPTIONS=C.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),_=Be([me(1,s.IInstantiationService),me(2,a.IKeybindingService)],_),e.ContentHoverController=_;class L extends I.Disposable{constructor(B){super();this._editor=B,this._onDidChangeModelDecorations=this._register(new v.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(T=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(T)}))}deltaDecorations(B,T){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(B,T)}finally{this._isChangingDecorations=!1}}}class E{constructor(B,T,R,O,P,D){this.colorPicker=B,this.showAtPosition=T,this.showAtRange=R,this.preferAbove=O,this.stoleFocus=P,this.disposables=D}}let M=class qi extends I.Disposable{constructor(B,T){super();this._editor=B,this._contextKeyService=T,this.allowEditorOverflow=!0,this._hoverVisibleKey=w.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new m.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(R=>{R.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var B,T;return(T=(B=this._visibleData)===null||B===void 0?void 0:B.showAtPosition)!==null&&T!==void 0?T:null}get colorPicker(){var B,T;return(T=(B=this._visibleData)===null||B===void 0?void 0:B.colorPicker)!==null&&T!==void 0?T:null}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return qi.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let B=this._visibleData.preferAbove;return!B&&this._contextKeyService.getContextKeyValue(r.Context.Visible.key)&&(B=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:B?[1,2]:[2,1]}}_setVisibleData(B){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=B,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const B=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:T,lineHeight:R}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${T}px`,this._hover.contentsDomNode.style.lineHeight=`${R/T}`,this._hover.contentsDomNode.style.maxHeight=`${B}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(T=>this._editor.applyFontInfo(T))}showAt(B,T){this._setVisibleData(T),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(B),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged(),T.stoleFocus&&this._hover.containerDomNode.focus(),T.colorPicker&&T.colorPicker.layout()}hide(){if(this._visibleData){const B=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),B&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged()}clear(){this._hover.contentsDomNode.textContent=""}};M.ID="editor.contrib.contentHoverWidget",M=Be([me(1,c.IContextKeyService)],M),e.ContentHoverWidget=M;let k=class extends I.Disposable{constructor(B){super();this._keybindingService=B,this._hasContent=!1,this.hoverElement=p("div.hover-row.status-bar"),this.actionsElement=y.append(this.hoverElement,p("div.actions"))}get hasContent(){return this._hasContent}addAction(B){const T=this._keybindingService.lookupKeybinding(B.commandId),R=T?T.getLabel():null;return this._hasContent=!0,this._register(m.HoverAction.render(this.actionsElement,B,R))}append(B){const T=y.append(this.actionsElement,B);return this._hasContent=!0,T}};k=Be([me(0,a.IKeybindingService)],k);class A{constructor(B,T){this._editor=B,this._participants=T,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(B){this._anchor=B}get shouldFocus(){return this._shouldFocus}set shouldFocus(B){this._shouldFocus=B}static _getLineDecorations(B,T){if(T.type!==1)return[];const R=B.getModel(),O=T.range.startLineNumber,P=R.getLineMaxColumn(O);return B.getLineDecorations(O).filter(D=>{if(D.options.isWholeLine)return!0;const x=D.range.startLineNumber===O?D.range.startColumn:1,H=D.range.endLineNumber===O?D.range.endColumn:P;if(D.options.showIfCollapsed){if(x>T.range.startColumn+1||T.range.endColumn-1>H)return!1}else if(x>T.range.startColumn||T.range.endColumn>H)return!1;return!0})}computeAsync(B){const T=this._anchor;if(!this._editor.hasModel()||!T)return u.AsyncIterableObject.EMPTY;const R=A._getLineDecorations(this._editor,T);return u.AsyncIterableObject.merge(this._participants.map(O=>O.computeAsync?O.computeAsync(T,R,B):u.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const B=A._getLineDecorations(this._editor,this._anchor);let T=[];for(const R of this._participants)T=T.concat(R.computeSync(this._anchor,B));return(0,N.coalesce)(T)}}}),define(ee[303],te([0,1,56,2,15,3,24,34,295,745,620,531,16,9,52,23,13]),function(K,e,y,m,N,I,S,b,C,h,g,t,i,n,o,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let s=class $i{constructor(u,f,w,v,p){this._editor=u,this._instantiationService=f,this._openerService=w,this._languageService=v,this._toUnhook=new m.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(_=>{_.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(u){return u.getContribution($i.ID)}_hookEvents(){const u=()=>this._hideWidgets(),f=this._editor.getOption(53);this._isHoverEnabled=f.enabled,this._isHoverSticky=f.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(w=>this._onEditorMouseDown(w))),this._toUnhook.add(this._editor.onMouseUp(w=>this._onEditorMouseUp(w))),this._toUnhook.add(this._editor.onMouseMove(w=>this._onEditorMouseMove(w))),this._toUnhook.add(this._editor.onKeyDown(w=>this._onKeyDown(w)))):(this._toUnhook.add(this._editor.onMouseMove(w=>this._onEditorMouseMove(w))),this._toUnhook.add(this._editor.onKeyDown(w=>this._onKeyDown(w)))),this._toUnhook.add(this._editor.onMouseLeave(u)),this._toUnhook.add(this._editor.onDidChangeModel(u)),this._toUnhook.add(this._editor.onDidScrollChange(w=>this._onEditorScrollChanged(w)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(u){(u.scrollTopChanged||u.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(u){this._isMouseDown=!0;const f=u.target;if(f.type===9&&f.detail===h.ContentHoverWidget.ID){this._hoverClicked=!0;return}f.type===12&&f.detail===g.MarginHoverWidget.ID||(f.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(u){this._isMouseDown=!1}_onEditorMouseMove(u){var f,w,v,p,_;const L=u.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&L.type===9&&L.detail===h.ContentHoverWidget.ID||this._isHoverSticky&&!((w=(f=u.event.browserEvent.view)===null||f===void 0?void 0:f.getSelection())===null||w===void 0?void 0:w.isCollapsed)||!this._isHoverSticky&&L.type===9&&L.detail===h.ContentHoverWidget.ID&&((v=this._contentWidget)===null||v===void 0?void 0:v.isColorPickerVisible())||this._isHoverSticky&&L.type===12&&L.detail===g.MarginHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(u)){(p=this._glyphWidget)===null||p===void 0||p.hide();return}if(L.type===2&&L.position){(_=this._contentWidget)===null||_===void 0||_.hide(),this._glyphWidget||(this._glyphWidget=new g.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(L.position.lineNumber);return}this._hideWidgets()}_onKeyDown(u){u.keyCode!==5&&u.keyCode!==6&&u.keyCode!==57&&u.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var u,f,w;this._isMouseDown&&this._hoverClicked&&((u=this._contentWidget)===null||u===void 0?void 0:u.isColorPickerVisible())||(this._hoverClicked=!1,(f=this._glyphWidget)===null||f===void 0||f.hide(),(w=this._contentWidget)===null||w===void 0||w.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(h.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var u;return((u=this._contentWidget)===null||u===void 0?void 0:u.isColorPickerVisible())||!1}showContentHover(u,f,w){this._getOrCreateContentWidget().startShowingAtRange(u,f,w)}dispose(){var u,f;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(u=this._glyphWidget)===null||u===void 0||u.dispose(),(f=this._contentWidget)===null||f===void 0||f.dispose()}};s.ID="editor.contrib.hover",s=Be([me(1,n.IInstantiationService),me(2,o.IOpenerService),me(3,b.ILanguageService),me(4,i.IContextKeyService)],s),e.ModesHoverController=s;class a extends N.EditorAction{constructor(){super({id:"editor.action.showHover",label:t.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2048|41,2048|39),weight:100}})}run(u,f){if(!f.hasModel())return;let w=s.get(f);if(!w)return;const v=f.getPosition(),p=new I.Range(v.lineNumber,v.column,v.lineNumber,v.column),_=f.getOption(2)===2;w.showContentHover(p,1,_)}}class r extends N.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:t.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(u,f){const w=s.get(f);if(!w)return;const v=f.getPosition();if(!v)return;const p=new I.Range(v.lineNumber,v.column,v.lineNumber,v.column),_=C.GotoDefinitionAtPositionEditorContribution.get(f);if(!_)return;_.startFindDefinitionFromCursor(v).then(()=>{w.showContentHover(p,1,!0)})}}(0,N.registerEditorContribution)(s.ID,s),(0,N.registerEditorAction)(a),(0,N.registerEditorAction)(r),(0,c.registerThemingParticipant)((l,u)=>{const f=l.getColor(d.editorHoverHighlight);f&&u.addRule(`.monaco-editor .hoverHighlight { background-color: ${f}; }`);const w=l.getColor(d.editorHoverBackground);w&&u.addRule(`.monaco-editor .monaco-hover { background-color: ${w}; }`);const v=l.getColor(d.editorHoverBorder);v&&(u.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${v}; }`),u.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${v.transparent(.5)}; }`),u.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${v.transparent(.5)}; }`),u.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${v.transparent(.5)}; }`));const p=l.getColor(d.textLinkForeground);p&&u.addRule(`.monaco-editor .monaco-hover a { color: ${p}; }`);const _=l.getColor(d.textLinkActiveForeground);_&&u.addRule(`.monaco-editor .monaco-hover a:hover { color: ${_}; }`);const L=l.getColor(d.editorHoverForeground);L&&u.addRule(`.monaco-editor .monaco-hover { color: ${L}; }`);const E=l.getColor(d.editorHoverStatusBarBackground);E&&u.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${E}; }`);const M=l.getColor(d.textCodeBlockBackground);M&&u.addRule(`.monaco-editor .monaco-hover code { background-color: ${M}; }`)})}),define(ee[746],te([0,1,2,15,3,290,303]),function(K,e,y,m,N,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class b extends y.Disposable{constructor(h){super();this._editor=h,this._register(h.onMouseDown(g=>this.onMouseDown(g)))}dispose(){super.dispose()}onMouseDown(h){const g=h.target;if(g.type!==6||!g.detail.injectedText||g.detail.injectedText.options.attachedData!==I.ColorDecorationInjectedTextMarker||!g.range)return;const t=this._editor.getContribution(S.ModesHoverController.ID);if(!!t&&!t.isColorPickerVisible()){const i=new N.Range(g.range.startLineNumber,g.range.startColumn+1,g.range.endLineNumber,g.range.endColumn+1);t.showContentHover(i,1,!1)}}}e.ColorContribution=b,b.ID="editor.contrib.colorContribution",(0,m.registerEditorContribution)(b.ID,b)}),define(ee[747],te([0,1,158,159,289,233,655,702,656,703,657,667,705,746,660,661,662,706,291,712,663,664,610,302,206,295,293,303,715,296,714,716,718,719,720,721,688,668,669,208,301,670,284,299,671,723,724,292,725,68,139]),function(K,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var $t=this&&this.__createBinding||(Object.create?function(K,e,y,m){m===void 0&&(m=y),Object.defineProperty(K,m,{enumerable:!0,get:function(){return e[y]}})}:function(K,e,y,m){m===void 0&&(m=y),K[m]=e[y]}),Gt=this&&this.__exportStar||function(K,e){for(var y in K)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&$t(e,K,y)};define(ee[750],te([0,1,737,747,672,673,674,624,676,677,675,732,678]),function(K,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Gt(y,e)})}).call(this);

//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map